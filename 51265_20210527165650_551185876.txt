{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2021-05-28 00:56:43","updatedTime":"2021-05-28 00:56:43","title":"用户旅程分析工具与应用思考","link":"https://www.biaodianfu.com/?p=3094","description":"<h2>什么是用户旅程分析？</h2>\n<p>客户旅程分析（Customer Journey Analytics）是指客户随着时间的推移与之交互的每个接触点的编织。用户旅程分析一开始主要由市场营销人员使用，主要分析的用户来源渠道间的变化。随后该方法被产品经理掌握，用于分析用户在平台上的交互行为。当前的用户旅程分析的应用场景主要是通过分析数百万个数据点发现最重要的客户旅程，并优先考虑那些显着影响业务目标的机会，如增加收入，减少客户流失和改善客户体验。</p>\n<p><img loading=\"lazy\" class=\"alignnone size-full wp-image-3095\" src=\"https://www.biaodianfu.com/wp-content/uploads/2021/05/Customer-Journey-Analytics.jpg\" alt=\"\" width=\"570\" height=\"536\" /></p>\n<p>客户旅行分析通常采用的呈现模式类似桑基图(Sankey Diagram)：</p>\n<p><img loading=\"lazy\" class=\"alignnone size-full wp-image-3096\" src=\"https://www.biaodianfu.com/wp-content/uploads/2021/05/cja.png\" alt=\"\" width=\"720\" height=\"359\" /></p>\n<p>上面展示了一个非常简单的用户旅程，实际上用户的操作点可能更多，具体的旅程可能更加复杂。通过用户旅程分析，可以帮助我们发现一些复杂问题的答案，例如：</p>\n<ul>\n<li>有多少百分比的用户使用这种路径？</li>\n<li>最终购买产品的用户采取了都做了些什么？</li>\n<li>未购买产品的用户都做了些什么？</li>\n<li>何时是与给定用户进行交互的最佳时间？</li>\n<li>与用户互动的最佳渠道是什么？</li>\n<li>客户还使用了哪些其他路径？</li>\n<li>每种用户采取的路径有什么不同？</li>\n<li>我们如何在给定的上下文中为增加每个用户价值？</li>\n</ul>\n<h2>用户旅程分析需要有的功能</h2>\n<p>想要进行用户旅程分析，除了使用第三方工具外，也可以自己搭建。不管采用哪种方式都需要确定你期望用户旅程分析帮助你解决什么样的问题。以下内容根据功能点进行展开。</p>\n<h3>旅程发现</h3>\n<p>用户旅程分析工具首先需要达到的目的是：</p>\n<ul>\n<li>了解用户的实际旅程</li>\n<li>发现行为细分</li>\n<li>衡量客户行为对KPI的影响</li>\n</ul>\n<p>旅程发现是客户旅程分析的一种定量方法，通过对客户行为数据在接触点和不同时间进行分析，发现有意义的行为细分以及他们为实现特定目标所采取的路径。借助旅程发现，我们可以发现并可视化频繁、费力、有问题或有前景的客户旅程，可以确定在特定旅程的每个步骤中参与的客户数量，并受特定问题的影响。此数据可帮助我们可视化特定行为，例如放弃、跳过步骤、重复步骤、持续时间、痛点和频道切换等。</p>\n<p><img loading=\"lazy\" class=\"alignnone size-full wp-image-3097\" src=\"https://www.biaodianfu.com/wp-content/uploads/2021/05/journey-discovery.png\" alt=\"\" width=\"720\" height=\"476\" /></p>\n<h3>旅程地图</h3>\n<p>旅程地图是一种在客户寻求实现特定目标时可视化和传达客户跨接触点和经验的体验的方式。通常创建客户旅程地图以可视化特定部分或角色的特定体验。主要目的：</p>\n<ul>\n<li>建立对用户当前体验的全面理解</li>\n<li>确定整个旅程中关键的“成就”或“破坏”时刻</li>\n<li>确定并优先考虑改善客户体验的机会</li>\n<li>围绕以客户为中心的模型进行沟通和调整策略</li>\n<li>充当用户体验变更管理和治理工具</li>\n</ul>\n<p><img loading=\"lazy\" class=\"alignnone size-full wp-image-3098\" src=\"https://www.biaodianfu.com/wp-content/uploads/2021/05/Customer-Journey-Map.png\" alt=\"\" width=\"720\" height=\"481\" /></p>\n<h3>旅程编排</h3>\n<p>在用户旅程的基础上，我们可以通过介入特定的用户旅程来提升用户体验：</p>\n<ul>\n<li>在特定旅程步骤中添加自动化交互</li>\n<li>协调跨渠道的互动</li>\n<li>使用有关客户的信息以及他们在旅程中的位置来个性化营销</li>\n</ul>\n<p>当前的营销主要是针对单个渠道或单个页面进行的，有了旅程工具，我们就可以为不同的跨渠道、跨页面的旅程拉进行优化。</p>\n<ul>\n<li>基于触发器：通过在旅程中的任何事件中嵌入触发器，在所有接触点上实时自动交互。</li>\n<li>实时个性化：通过对特定旅行用户的识别，针对性的调整图像、文本和内容。</li>\n</ul>\n<p><img loading=\"lazy\" class=\"alignnone size-full wp-image-3099\" src=\"https://www.biaodianfu.com/wp-content/uploads/2021/05/Journey-Orchestration.png\" alt=\"\" width=\"720\" height=\"250\" /></p>\n<h2>用户旅程分析的搭建</h2>\n<p>搭建用户旅程分析工具通常使用桑基图(Sankey diagram)来实现。桑基图即桑基能量分流图，也叫桑基能量平衡图。它是一种特定类型的流程图，图中延伸的分支的宽度对应数据流量的大小，通常应用于能源、材料成分、金融等数据的可视化分析。因1898年Matthew Henry Phineas Riall Sankey绘制的&#8221;蒸汽机的能源效率图&#8221;而闻名，此后便以其名字命名为&#8221;桑基图&#8221;。</p>\n<p>搭建用户旅程分析工具，个人认为最大的难点：</p>\n<ul>\n<li>数据埋点（符合流量分析的需求）</li>\n<li>使用埋点数据绘制桑基图</li>\n</ul>\n<p>数据埋点需要注意事项：</p>\n<ul>\n<li>按页面进行分析可能存在遗漏的情况</li>\n<li>按时间进行分析可能存在冗余的情况</li>\n</ul>\n<p>所以需要针对旅程分析确定哪些是重要的，哪些可以忽略的。</p>\n<p>绘制桑基图注意事项：</p>\n<ul>\n<li>用户交互存在反复问题（桑基图很难实现）</li>\n</ul>\n<p>可采取的方式，按照实践的先后顺序进行平铺</p>\n<p><img loading=\"lazy\" class=\"alignnone size-full wp-image-3108\" src=\"https://www.biaodianfu.com/wp-content/uploads/2021/05/sankey-diagram-page-flow.png\" alt=\"\" width=\"720\" height=\"458\" /></p>\n<h2>桑基图的Python实现</h2>\n<p><strong>使用plot.ly绘制桑基图</strong></p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"python\">import plotly\n\ndata = dict(\n    type='sankey',\n    node=dict(\n        label=[\"原料1\", \"原料2\", \"中间产物1\", \"中间产物2\", \"成果\", \"损耗\"],\n        color=[\"blue\", \"blue\", \"green\", \"green\", \"black\", \"red\"]\n    ),\n    link=dict(\n        source=[0, 1, 0, 2, 3, 3, 2],\n        target=[2, 3, 3, 4, 4, 5, 5],\n        value=[8, 4, 2, 6, 4, 2, 2]\n    ))\n\nlayout = dict(title=\"原料转化路径图\")\nfig = dict(data=[data], layout=layout)  # 注意这里的data被转化为数据，可以支持同时绘制多个图形\nplotly.offline.plot(fig, validate=False)\n</pre>\n<p><strong>使用Pyecharts绘制桑基图</strong></p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"python\">from pyecharts.charts import Sankey\nfrom pyecharts import options as opts\n\nsankey = (\n    Sankey().add(series_name='毕业生流向',\n                 nodes=[{'name': '北京'}, {'name': '湖南'}, {'name': '清华'}, {'name': '北大'}, {'name': '人大'}, {'name': '浙大'},\n                        {'name': '复旦'}, {'name': '中山'}, {'name': '厦大'}, {'name': '武大'}, {'name': '川大'}, {'name': '工作1'},\n                        {'name': '工作2'}, {'name': '工作3'}, {'name': '工作4'}\n                        ],\n                 links=[\n                     {'source': '北京', 'target': '清华', 'value': 50}\n                     , {'source': '北京', 'target': '北大', 'value': 60}\n                     , {'source': '北京', 'target': '人大', 'value': 40}\n                     , {'source': '北京', 'target': '复旦', 'value': 60}\n                     , {'source': '北京', 'target': '中山', 'value': 30}\n                     , {'source': '北京', 'target': '浙大', 'value': 33}\n                     , {'source': '北京', 'target': '厦大', 'value': 22}\n                     , {'source': '北京', 'target': '武大', 'value': 5}\n                     , {'source': '北京', 'target': '川大', 'value': 12}\n                     , {'source': '湖南', 'target': '清华', 'value': 30}\n                     , {'source': '湖南', 'target': '北大', 'value': 40}\n                     , {'source': '湖南', 'target': '人大', 'value': 20}\n                     , {'source': '湖南', 'target': '复旦', 'value': 40}\n                     , {'source': '湖南', 'target': '中山', 'value': 10}\n                     , {'source': '湖南', 'target': '浙大', 'value': 13}\n                     , {'source': '湖南', 'target': '厦大', 'value': 9}\n                     , {'source': '湖南', 'target': '武大', 'value': 30}\n                     , {'source': '湖南', 'target': '川大', 'value': 25}\n                     , {'source': '清华', 'target': '工作1', 'value': 80}\n                     , {'source': '北大', 'target': '工作3', 'value': 100}\n                     , {'source': '人大', 'target': '工作2', 'value': 60}\n                     , {'source': '复旦', 'target': '工作2', 'value': 100}\n                     , {'source': '中山', 'target': '工作4', 'value': 40}\n                     , {'source': '浙大', 'target': '工作3', 'value': 46}\n                     , {'source': '厦大', 'target': '工作4', 'value': 31}\n                     , {'source': '武大', 'target': '工作3', 'value': 35}\n                     , {'source': '川大', 'target': '工作2', 'value': 37}\n\n                 ],\n                 linestyle_opt=opts.LineStyleOpts(opacity=0.2, curve=0.5, color=\"source\"),\n                 label_opts=opts.LabelOpts(font_size=16, position='left'),\n                 levels=[opts.SankeyLevelsOpts(depth=0, itemstyle_opts=opts.ItemStyleOpts(color=\"#fbb4ae\"),\n                                               linestyle_opts=opts.LineStyleOpts(color=\"source\", opacity=0.2,\n                                                                                 curve=0.5)),\n                         opts.SankeyLevelsOpts(depth=1,\n                                               itemstyle_opts=opts.ItemStyleOpts(color=\"#b3cde3\"),  ##节点格式的配置\n                                               linestyle_opts=opts.LineStyleOpts(color=\"source\", opacity=0.2,\n                                                                                 curve=0.5)),\n                         opts.SankeyLevelsOpts(depth=2,\n                                               itemstyle_opts=opts.ItemStyleOpts(color=\"#ccebc5\"),  ##节点格式的配置\n                                               linestyle_opts=opts.LineStyleOpts(color=\"source\", opacity=0.2,\n                                                                                 curve=0.5))\n\n                         ]\n                 )\n)\n\nsankey.render('学生流向.html')\n</pre>\n<p>参考链接：</p>\n<ul>\n<li><a href=\"https://medium.com/swlh/how-to-understand-your-customer-journey-from-your-ecommerce-analytics-3f8925118f06\">How to Understand Your Customer Journey from your Ecommerce Analytics</a></li>\n<li><a href=\"https://medium.com/adobetech/cross-device-analysis-using-adobe-experience-platform-and-customer-journey-analytics-6e29a9f111ac\">Cross-Device Analysis Using Adobe Experience Platform and Customer Journey Analytics</a></li>\n<li><a href=\"https://echarts.apache.org/examples/zh/index.html#chart-type-sankey\">echart:sankey</a></li>\n</ul>\n<div class='yarpp-related-rss'>\n<h3>相关文章:</h3><ol>\n<li><a href=\"https://www.biaodianfu.com/arima.html\" rel=\"bookmark\" title=\"时间序列预测之ARIMA\">时间序列预测之ARIMA </a></li>\n<li><a href=\"https://www.biaodianfu.com/matplotlib-plot.html\" rel=\"bookmark\" title=\"Matplotlib 点、线形状及颜色\">Matplotlib 点、线形状及颜色 </a></li>\n<li><a href=\"https://www.biaodianfu.com/categorical-feature.html\" rel=\"bookmark\" title=\"机器学习之类别特征处理\">机器学习之类别特征处理 </a></li>\n</ol>\n</div>\n","descriptionType":"html","publishedDate":"Wed, 26 May 2021 11:42:46 +0000","feedId":51265,"bgimg":"https://www.biaodianfu.com/wp-content/uploads/2021/05/Customer-Journey-Analytics.jpg","linkMd5":"30cc32c20973ba8cc35a9fcd80756e5b","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn82@2020_6/2021/05/27/16-56-45-436_0867be837ed41688.webp","destWidth":570,"destHeight":536,"sourceBytes":41782,"destBytes":22964,"author":"钱魏Way","articleImgCdnMap":{"https://www.biaodianfu.com/wp-content/uploads/2021/05/Customer-Journey-Analytics.jpg":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn82@2020_6/2021/05/27/16-56-45-436_0867be837ed41688.webp","https://www.biaodianfu.com/wp-content/uploads/2021/05/cja.png":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn86@2020_3/2021/05/27/16-56-47-813_42afc229071da7f4.webp","https://www.biaodianfu.com/wp-content/uploads/2021/05/journey-discovery.png":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn93@2020_6/2021/05/27/16-56-50-333_ceaae3e53a543c0e.webp","https://www.biaodianfu.com/wp-content/uploads/2021/05/Customer-Journey-Map.png":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn1@2020_2/2021/05/27/16-56-47-757_013a19d1d3b60581.webp","https://www.biaodianfu.com/wp-content/uploads/2021/05/Journey-Orchestration.png":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn87@2020_5/2021/05/27/16-56-47-439_451256155b415599.webp","https://www.biaodianfu.com/wp-content/uploads/2021/05/sankey-diagram-page-flow.png":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn97@2020_3/2021/05/27/16-56-49-173_7fd86eadeb165f59.webp"},"publishedOrCreatedDate":1622134603727}],"record":{"createdTime":"2021-05-28 00:56:43","updatedTime":"2021-05-28 00:56:43","feedId":51265,"fetchDate":"Thu, 27 May 2021 16:56:43 +0000","fetchMs":5866,"handleMs":6,"totalMs":26942,"newArticles":0,"totalArticles":10,"status":1,"type":0,"ip":"af0629e1ae74a27744b4cbd27b40a78e","hostName":"us-012*","requestId":"1b17d9a5ec6f4302b2dba9217f164f01_51265","contentType":"text/xml;charset=UTF-8","totalBytes":210612,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":6,"articlesImgsGithubTotal":6,"successGithubMap":{"myreaderx27":1,"myreaderx10":1,"myreaderx11":1,"myreaderx24":1,"myreaderx18":1,"myreaderx19":1},"failGithubMap":{}},"feed":{"createdTime":"2020-09-07 03:59:47","updatedTime":"2020-11-12 14:59:26","id":51265,"name":"标点符","url":"https://www.biaodianfu.com/feed","subscriber":62,"website":null,"icon":"https://www.biaodianfu.com/favicon.ico","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx65/cdn25@2020_5/2020/11/12/06-59-23-963_42b20d4f8d4a0964.ico","description":"格物致知→知行合一","weekly":null,"link":null},"noPictureArticleList":[],"tmpCommonImgCdnBytes":22964,"tmpBodyImgCdnBytes":187648,"tmpBgImgCdnBytes":0,"extra4":{"start":1622134583878,"total":0,"statList":[{"spend":19843,"msg":"获取xml内容"},{"spend":6,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":5086,"msg":"正文链接上传到cdn"}]},"extra5":6,"extra6":6,"extra7ImgCdnFailResultVector":[],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://europe-25.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-001.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe64.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-030.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-52.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://www.biaodianfu.com/wp-content/uploads/2021/05/Customer-Journey-Analytics.jpg","sourceStatusCode":200,"destWidth":570,"destHeight":536,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn82@2020_6/2021/05/27/16-56-45-436_0867be837ed41688.webp","sourceBytes":41782,"destBytes":22964,"targetWebpQuality":75,"feedId":51265,"totalSpendMs":1977,"convertSpendMs":10,"createdTime":"2021-05-28 00:56:43","host":"us-026*","referer":"https://www.biaodianfu.com/?p=3094","linkMd5ListStr":"30cc32c20973ba8cc35a9fcd80756e5b,30cc32c20973ba8cc35a9fcd80756e5b","githubUser":"myreaderx11","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"40.8 KB","destSize":"22.4 KB","compressRate":"55%"},{"code":1,"isDone":false,"source":"https://www.biaodianfu.com/wp-content/uploads/2021/05/Journey-Orchestration.png","sourceStatusCode":200,"destWidth":720,"destHeight":250,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn87@2020_5/2021/05/27/16-56-47-439_451256155b415599.webp","sourceBytes":34708,"destBytes":8618,"targetWebpQuality":75,"feedId":51265,"totalSpendMs":2005,"convertSpendMs":7,"createdTime":"2021-05-28 00:56:45","host":"europe-25*","referer":"https://www.biaodianfu.com/?p=3094","linkMd5ListStr":"30cc32c20973ba8cc35a9fcd80756e5b","githubUser":"myreaderx10","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"33.9 KB","destSize":"8.4 KB","compressRate":"24.8%"},{"code":1,"isDone":false,"source":"https://www.biaodianfu.com/wp-content/uploads/2021/05/cja.png","sourceStatusCode":200,"destWidth":720,"destHeight":359,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn86@2020_3/2021/05/27/16-56-47-813_42afc229071da7f4.webp","sourceBytes":64675,"destBytes":13080,"targetWebpQuality":75,"feedId":51265,"totalSpendMs":2257,"convertSpendMs":12,"createdTime":"2021-05-28 00:56:45","host":"us-001*","referer":"https://www.biaodianfu.com/?p=3094","linkMd5ListStr":"30cc32c20973ba8cc35a9fcd80756e5b","githubUser":"myreaderx19","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"63.2 KB","destSize":"12.8 KB","compressRate":"20.2%"},{"code":1,"isDone":false,"source":"https://www.biaodianfu.com/wp-content/uploads/2021/05/Customer-Journey-Map.png","sourceStatusCode":200,"destWidth":720,"destHeight":481,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn1@2020_2/2021/05/27/16-56-47-757_013a19d1d3b60581.webp","sourceBytes":117136,"destBytes":31452,"targetWebpQuality":75,"feedId":51265,"totalSpendMs":2569,"convertSpendMs":14,"createdTime":"2021-05-28 00:56:45","host":"us-030*","referer":"https://www.biaodianfu.com/?p=3094","linkMd5ListStr":"30cc32c20973ba8cc35a9fcd80756e5b","githubUser":"myreaderx27","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"114.4 KB","destSize":"30.7 KB","compressRate":"26.9%"},{"code":1,"isDone":false,"source":"https://www.biaodianfu.com/wp-content/uploads/2021/05/sankey-diagram-page-flow.png","sourceStatusCode":200,"destWidth":720,"destHeight":458,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn97@2020_3/2021/05/27/16-56-49-173_7fd86eadeb165f59.webp","sourceBytes":307531,"destBytes":77584,"targetWebpQuality":75,"feedId":51265,"totalSpendMs":3687,"convertSpendMs":21,"createdTime":"2021-05-28 00:56:45","host":"us-52*","referer":"https://www.biaodianfu.com/?p=3094","linkMd5ListStr":"30cc32c20973ba8cc35a9fcd80756e5b","githubUser":"myreaderx24","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"300.3 KB","destSize":"75.8 KB","compressRate":"25.2%"},{"code":1,"isDone":false,"source":"https://www.biaodianfu.com/wp-content/uploads/2021/05/journey-discovery.png","sourceStatusCode":200,"destWidth":720,"destHeight":476,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn93@2020_6/2021/05/27/16-56-50-333_ceaae3e53a543c0e.webp","sourceBytes":589962,"destBytes":56914,"targetWebpQuality":75,"feedId":51265,"totalSpendMs":4927,"convertSpendMs":29,"createdTime":"2021-05-28 00:56:45","host":"europe64*","referer":"https://www.biaodianfu.com/?p=3094","linkMd5ListStr":"30cc32c20973ba8cc35a9fcd80756e5b","githubUser":"myreaderx18","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"576.1 KB","destSize":"55.6 KB","compressRate":"9.6%"}],"successGithubMap":{"myreaderx27":1,"myreaderx10":1,"myreaderx11":1,"myreaderx24":1,"myreaderx18":1,"myreaderx19":1},"failGithubMap":{}}