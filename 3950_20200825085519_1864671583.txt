{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-08-25 16:55:03","updatedTime":"2020-08-25 16:55:03","title":"使用CSS text-emphasis对文字进行强调装饰","link":"https://www.zhangxinxu.com/wordpress/?p=9469","description":"<p>by <a href=\"https://www.zhangxinxu.com/\">zhangxinxu</a> from <a href=\"https://www.zhangxinxu.com/wordpress/?p=9469\">https://www.zhangxinxu.com/wordpress/?p=9469</a><br /> 本文欢迎分享与聚合，全文转载就不必了，尊重版权，圈子就这么大，若急用可以联系授权。</p> \n<p><script>window.wxShareImgUrl = 'https://www.zhangxinxu.com/study/image/share/202006-text-emphasis.png';</script></p> \n<style>pre .green{color:green;}</style> \n<h3>一、引言</h3> \n<p>在过去，想要对某部分文字进行强调，通常的做法是加粗，或者使用一个高亮的颜色，现在有了新的选择，就是使用<code>text-emphasis</code>属性进行强调装饰。</p> \n<p><code>text-emphasis</code>家族总共有4个CSS属性，分别是：</p> \n<ul> \n <li>text-emphasis</li> \n <li>text-emphasis-color</li> \n <li>text-emphasis-style</li> \n <li>text-emphasis-position</li> \n</ul> \n<p>其中，<code>text-emphasis</code>是<code>text-emphasis-color</code>和<code>text-emphasis-style</code>这两个CSS属性的缩写，注意，并不包含<code>text-emphasis-position</code>属性，<code>text-emphasis-position</code>属性是独立的。</p> \n<h3>二、详细</h3> \n<h4>1. text-emphasis-color</h4> \n<p><code>text-emphasis-color</code>属性没什么好说的，表示用来强调的字符的颜色，初始值就是当前文字的颜色。</p> \n<h4>2. text-emphasis-style</h4> \n<p><code>text-emphasis-style</code>语法主要有下面3类：</p> \n<pre>text-emphasis-style: none\ntext-emphasis-style: [ filled | open ] || [ dot | circle | double-circle | triangle | sesame ]\ntext-emphasis-style: &lt;string&gt;</pre> \n<p>其中：</p> \n<p><code>text-emphasis-style:none</code>是默认声明，表示没有任何强调装饰。</p> \n<p><code>text-emphasis-style:&lt;string&gt;</code>表示使用任意的单个字符作为强调装饰符。例如使用爱心字符：</p> \n<pre>宝贝，&lt;span class=\"emphasis\"&gt;爱你&lt;/span&gt;，&lt;span class=\"emphasis\"&gt;比心&lt;/span&gt;！</pre> \n<pre>.emphasis {\n    -webkit-text-emphasis-style: '❤';\n    text-emphasis-style: '❤';\n}</pre> \n<p>效果如下图所示，可以看到对应的文字上面出现了爱心字符（因为应用了Emoji字体，所以呈现的是Emoji字符）。</p> \n<div class=\"figure\"> \n <img src=\"https://image.zhangxinxu.com/image/blog/202006/9-13_text-emphasis-heart.png\" loading=\"lazy\" width=\"245\" height=\"59\"> </img>\n</div> \n<p>这里有几个细节和大家讲下：</p> \n<ol> \n <li>显示的强调装饰符的字号是主文字内容字号的一半，例如假设文字是<code>16px</code>大小，则上方的强调字符的大小则是<code>8px</code>。因此，如果文字字号不是很大的时候，尽量不要使用造型复杂，字符区域较小的字符，例如星号“*”，井号“#”等，因为在普通的显示设备中会缩成一团，用户完全看不出来是什么字符。</li> \n <li>如果行高不是很高，则强调装饰符会自动增加当前这一行所占据的高度。</li> \n <li>强调装饰符和正文之间的距离是无法通过设置行高等属性进行调节的，距离的大小主要由字体决定。</li> \n <li>如果指定的是多个字符，则只会使用第1个字符作为强调装饰符。例如： <pre>text-emphasis-style: 'CSS新世界';</pre> <p>等同于：</p> <pre>text-emphasis-style: 'C';</pre> </li> \n</ol> \n<p>最后看下<code>text-emphasis-style</code>内置的几个装饰符效果，他们是<code>dot</code>（点）、<code>circle</code>（圆）、<code>double-circle</code>（双层圆）、<code>triangle</code>（三角）、<code>sesame</code>（芝麻点）。</p> \n<p>每一种装饰符都有实心和空心两种字符，是通过<code>filled</code>和<code>open</code>这两个关键字决定的。</p> \n<p>例如：</p> \n<pre><span class=\"green\">/* 实心的圆点 */</span>\ntext-emphasis: filled dot;\n<span class=\"green\">/* 空心的圆点 */</span>\ntext-emphasis: open dot;</pre> \n<p>由于内置字符默认都是使用实心的，因此，<code>text-emphasis:filled dot</code>的效果等同于<code>text-emphasis:dot</code>。</p> \n<p>如果<code>text-emphasis-style</code>的属性值只有<code>filled</code>或<code>open</code>，则会采用<code>dot</code>（点）作为强调装饰符。例如：</p> \n<pre><span class=\"green\">/* 等同于text-emphasis: filled dot */</span>\ntext-emphasis: filled;\n<span class=\"green\">/* 等同于text-emphasis: open dot */</span>\ntext-emphasis: open;</pre> \n<p>至于各个装饰符具体的效果，我<span class=\"hidden\">（张鑫旭）</span>特意制作了一个表方便大家常看，详见下表。</p> \n<table border=\"0\" width=\"100%\" class=\"params_table\" cellspacing=\"1\"> \n <caption>\n  <small>张鑫旭整理的内置装饰符的效果示意表</small>\n </caption> \n <thead> \n  <tr> \n   <th>关键字值</th> \n   <th>filled</th> \n   <th>open</th> \n   <th>微软雅黑效果</th> \n   <th>宋体效果</th> \n  </tr> \n </thead> \n <tbody> \n  <tr> \n   <td><code>dot</code></td> \n   <td><code>'•' (U+2022)</code></td> \n   <td><code>'◦' (U+25E6)</code></td> \n   <td><img src=\"https://image.zhangxinxu.com/image/blog/202006/dot-filled-open.png\" width=\"79\" height=\"31\" /></td> \n   <td><img src=\"https://image.zhangxinxu.com/image/blog/202006/dot-filled-open2.png\" width=\"77\" height=\"26\" /></td> \n  </tr> \n  <tr> \n   <td><code>circle</code></td> \n   <td><code>'●' (U+25CF)</code></td> \n   <td><code>'○' (U+25CB)</code></td> \n   <td><img src=\"https://image.zhangxinxu.com/image/blog/202006/circle-filled-open.png\" width=\"79\" height=\"31\" /></td> \n   <td><img src=\"https://image.zhangxinxu.com/image/blog/202006/circle-filled-open2.png\" width=\"77\" height=\"28\" /></td> \n  </tr> \n  <tr> \n   <td><code>double-circle</code></td> \n   <td><code>'◉' (U+25C9)</code></td> \n   <td><code>'◎' (U+25CE)</code></td> \n   <td><img src=\"https://image.zhangxinxu.com/image/blog/202006/double-circle-filled-open.png\" width=\"79\" height=\"32\" /></td> \n   <td><img src=\"https://image.zhangxinxu.com/image/blog/202006/double-circle-filled-open2.png\" width=\"77\" height=\"28\" /></td> \n  </tr> \n  <tr> \n   <td><code>triangle</code></td> \n   <td><code>'▲' (U+25B2)</code></td> \n   <td><code>'△' (U+25B3)</code></td> \n   <td><img src=\"https://image.zhangxinxu.com/image/blog/202006/tri-filled-open.png\" width=\"79\" height=\"33\" /></td> \n   <td><img src=\"https://image.zhangxinxu.com/image/blog/202006/tri-filled-open2.png\" width=\"77\" height=\"28\" /></td> \n  </tr> \n  <tr> \n   <td><code>sesame</code></td> \n   <td><code>'﹅' (U+FE45)</code></td> \n   <td><code>'﹆' (U+FE46)</code></td> \n   <td><img src=\"https://image.zhangxinxu.com/image/blog/202006/sesame-filled-open.png\" width=\"79\" height=\"31\" /></td> \n   <td><img src=\"https://image.zhangxinxu.com/image/blog/202006/sesame-filled-open2.png\" width=\"77\" height=\"26\" /></td> \n  </tr> \n </tbody> \n</table> \n<p>各个强调装饰符的字形大小受字体影响较大，大家根据实际场景选择使用合适的强调装饰符。</p> \n<h4>3. text-emphasis-position</h4> \n<p><code>text-emphasis-position</code>属性用来指定强调装饰符的位置，默认位置是在正文的上方，我们可以指定强调装饰符在正文的下方，也可以指定垂直排版的时候强调装饰符是左侧还是右侧。</p> \n<p>语法如下：</p> \n<pre>text-emphasis-position: [ over | under ] &amp;&amp; [ right | left ]</pre> \n<p>使用示意：</p> \n<pre>text-emphasis-position: over left;\ntext-emphasis-position: under right;\ntext-emphasis-position: under left;\n\ntext-emphasis-position: left over;\ntext-emphasis-position: right under;\ntext-emphasis-position: left under;</pre> \n<p><code>text-emphasis-position</code>的初始值是<code>over right</code>。<code>right</code>定位出现在文字垂直排版的时候，例如设置<code>writing-mode:vertical-rl</code>，此时就可以看到强调装饰符在右侧了，效果如下图所示。</p> \n<div class=\"figure\"> \n <img src=\"https://image.zhangxinxu.com/image/blog/202006/9-14_text-emphasis-right.png\" loading=\"lazy\" width=\"73\" height=\"170\"> </img>\n</div> \n<p><code>text-emphasis-position</code>属性在中文场景下还是很常用的，因为，中文习惯在底部设置表示强调的字符，有别于日文、韩文等东亚语言。</p> \n<p>因此，中文内容的强调，除了设置强调装饰符以外，还要设置强调装饰符的位置为底部，例如：</p> \n<pre>.chinese-emphasis {\n    -webkit-text-emphasis: dot;\n    text-emphasis: dot;\n    -webkit-text-emphasis-position: under right;\n    text-emphasis-position: under right;\n}</pre> \n<p>这里有个小细节，在Chrome浏览器下，<code>text-emphasis-position</code>属性可以只设置垂直方向的方位值，无需设置水平方向的方位值，例如下面的语法在Chrome浏览器下也是可以识别的：</p> \n<pre>-webkit-text-emphasis-position: under;</pre> \n<p>但是，请注意，Chrome浏览器的这个做法其实是不对的，是个规范的描述不相符合的，规范中要求<code>text-emphasis-position</code>属性值需要同时包含水平方位和垂直方位，因此，建议大家还是2个值同时设置。</p> \n<pre>-webkit-text-emphasis-position: under right;</pre> \n<h4>4. text-emphasis</h4> \n<p><code>text-emphasis</code>是<code>text-emphasis-color</code>和<code>text-emphasis-style</code>这两个CSS属性的缩写，使用示意：</p> \n<pre>text-emphasis: circle deepskyblue;</pre> \n<p>就语法和语义而言，<code>text-emphasis</code>属性比较单纯，没有隐藏细节。</p> \n<p>唯一值得一提的是<code>text-emphasis</code>是一个继承属性，也就是祖先元素设置了强调效果，子元素也会应用。这一点就和<code>text-decoration</code>属性完全不同，<a href=\"https://www.zhangxinxu.com/wordpress/2015/06/know-css-text-decoration-style-color-ship/\"><code>text-decoration</code>属性</a>是没有继承性的。</p> \n<p>另外一点小区别是，<code>text-emphasis</code>属性会影响文字占据的高度，而<code>text-decoration</code>属性不会。</p> \n<h3>三、小结</h3> \n<p>我回顾了下我所经历的这些项目，使用<code>text-emphasis</code>属性的地方，也就是JS API或者技术文档一些需要强调的文本之处了，还有公司产品对外的帮助文档之类。而普通的内容展示，似乎没有这样的需求。</p> \n<p>总之，CSS <code>text-emphasis</code>属性给了我们文字内容强调一个新的选择。</p> \n<p>最后，展示下<code>text-emphasis</code>属性的浏览器兼容性，如下图：</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202006/2020-06-16_222119.png\" width=\"745\" height=\"297\" alt=\"text-emphasis兼容性\" class=\"alignnone size-medium\" /></p> \n<p>以上就是本文内容，感谢阅读，欢迎分享！</p> \n<p><img src=\"https://image.zhangxinxu.com/image/emtion/emoji/1f609.svg\" width=\"20\" height=\"20\" align=\"absmiddle\" /></p> \n<p>本文为原创文章，欢迎分享，勿全文转载，如果实在喜欢，可收藏，永不过期，且会及时更新知识点及修正错误，阅读体验也更好。<br /> 本文地址：<a href=\"https://www.zhangxinxu.com/wordpress/?p=9469\">https://www.zhangxinxu.com/wordpress/?p=9469</a></p> \n<p>（本篇完）</p>","descriptionType":"html","publishedDate":"Tue, 16 Jun 2020 14:34:40 +0000","feedId":3950,"bgimg":"","linkMd5":"beb7235c6bb354384666e9cf431182e0","bgimgJsdelivr":"","metaImg":"","author":"张 鑫旭","articleImgCdnMap":{"https://image.zhangxinxu.com/image/blog/202006/9-13_text-emphasis-heart.png":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn57@2020_6/2020/08/25/08-55-16-327_680f572f8c055a43.webp","https://image.zhangxinxu.com/image/blog/202006/dot-filled-open.png":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn16@2020_4/2020/08/25/08-55-16-086_abb6eaa30d804bab.webp","https://image.zhangxinxu.com/image/blog/202006/dot-filled-open2.png":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn70@2020_5/2020/08/25/08-55-15-456_1c8adb58882fb1ca.webp","https://image.zhangxinxu.com/image/blog/202006/circle-filled-open.png":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn91@2020_1/2020/08/25/08-55-15-409_3604162abd1cc537.webp","https://image.zhangxinxu.com/image/blog/202006/circle-filled-open2.png":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn32@2020_1/2020/08/25/08-55-15-416_95b9dff445f0b261.webp","https://image.zhangxinxu.com/image/blog/202006/double-circle-filled-open.png":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn4@2020_3/2020/08/25/08-55-15-696_455a29d30b58ac47.webp","https://image.zhangxinxu.com/image/blog/202006/double-circle-filled-open2.png":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn37@2020_1/2020/08/25/08-55-15-357_458afdb6ce43ed91.webp","https://image.zhangxinxu.com/image/blog/202006/tri-filled-open.png":"https://cdn.jsdelivr.net/gh/myreaderx15/cdn45@2020_1/2020/08/25/08-55-14-957_563d4d47f6db692f.webp","https://image.zhangxinxu.com/image/blog/202006/tri-filled-open2.png":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn42@2020_1/2020/08/25/08-55-15-875_e9b4890aa56fe5d2.webp","https://image.zhangxinxu.com/image/blog/202006/sesame-filled-open.png":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn47@2020_6/2020/08/25/08-55-15-745_c63a756e2fb32b3a.webp","https://image.zhangxinxu.com/image/blog/202006/sesame-filled-open2.png":"https://cdn.jsdelivr.net/gh/myreaderx33/cdn26@2020_3/2020/08/25/08-55-15-142_3da193436de3812b.webp","https://image.zhangxinxu.com/image/blog/202006/9-14_text-emphasis-right.png":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn53@2020_6/2020/08/25/08-55-16-002_333465833506e7a6.webp","https://image.zhangxinxu.com/image/blog/202006/2020-06-16_222119.png":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn19@2020_6/2020/08/25/08-55-15-512_7f01d2d8e29c89e2.webp","https://image.zhangxinxu.com/image/emtion/emoji/1f609.svg":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn93@2020_4/2020/08/25/08-55-15-794_1d029dcc213ecbf6.svg"},"publishedOrCreatedDate":1598345703730},{"createdTime":"2020-08-25 16:55:03","updatedTime":"2020-08-25 16:55:03","title":"颠覆，原来background-image也是支持CSS动画的","link":"https://www.zhangxinxu.com/wordpress/?p=9515","description":"<p>by <a href=\"https://www.zhangxinxu.com/\">zhangxinxu</a> from <a href=\"https://www.zhangxinxu.com/wordpress/?p=9515\">https://www.zhangxinxu.com/wordpress/?p=9515</a><br /> 本文欢迎分享与聚合，全文转载就不必了，尊重版权，圈子就这么大，若急用可以联系授权。</p> \n<p><script>window.wxShareImgUrl = 'https://www.zhangxinxu.com/study/image/share/202008-bgimg-animate.jpg';</script></p> \n<h3>一、震惊的真相</h3> \n<p>今天偶然发现，原来CSS <code>background-image</code>属性也是可以有CSS <code>animation</code>动画效果，或者<code>transition</code>过渡效果的，颠覆了我的CSS观。</p> \n<p>当时，我是绝对不相信的，以为我的眼睛花了。</p> \n<p>背景图A到背景图B怎么可能有动画过渡效果呢？这和我这么多年的认识完全不符合啊！难道这么多年我学的是假的CSS。</p> \n<p>但是，事实就摆在眼前，不得不信啊。</p> \n<p>我一琢磨，莫非是Chrome浏览器自己加了什么私货，最近才支持的？</p> \n<p>于是我打开MDN文档一看，发现了一个特殊的名词——discrete，如下截图所示：</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202008/2020-08-06_194113.png\" width=\"702\" height=\"278\" alt=\"background-image动画状态是discrete\" class=\"alignnone size-medium\" /></p> \n<p>单词’discrete’表示分离的意思，也就是有些<code>background-image</code>属性也是可以有动画效果的！</p> \n<p>我整个人下巴都掉在地上了。</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202008/2020-08-06_224051.jpg\" width=\"200\" height=\"157\" alt=\"下巴掉到地上\" class=\"alignnone size-medium\" /></p> \n<h3>二、眼见为实</h3> \n<p>天不怕地不怕，就怕空口说白话。</p> \n<p>专门做了个在线demo给大家瞅瞅，您可以狠狠地点击这里：<a href=\"https://www.zhangxinxu.com/study/202008/css-background-image-transition.php\" rel=\"noopener\" target=\"_blank\">CSS background-image过渡效果demo</a></p> \n<p>由于不是所有浏览器都能有预期的效果，所以我截屏录了个Chrome下的示意GIF，如下图所示：</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202008/bgimg-switch.gif\" width=\"232\" height=\"246\" alt=\"背景图transition过渡效果示意\" class=\"alignnone size-medium\" /></p> \n<p>可以看到鼠标经过和移出的时候背景图的变化是由明显的淡入淡出的过渡效果的。</p> \n<p>相关的HTML和CSS代码如下：</p> \n<pre>&lt;button class=\"example\"&gt;&lt;/button&gt;</pre> \n<pre>.example {\n    width: 200px; height: 200px;\n    border: 0;\n    background: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emove-up%3C/title%3E%3Cpath d='M16.016 1.157l-15.015 15.015h9.009v16.016h12.012v-16.016h9.009z'%3E%3C/path%3E%3C/svg%3E\") no-repeat center / 100% 100%;\n    transition: background-image 1s;\n}\n.example:hover,\n.example:active {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emove-down%3C/title%3E%3Cpath d='M16.016 31.187l15.015-15.015h-9.009v-16.016h-12.012v16.016h-9.009z'%3E%3C/path%3E%3C/svg%3E\");\n</pre> \n<p>就是两个SVG背景图片，然后就有过渡效果了。</p> \n<p>是不是大开眼界！</p> \n<h3>三、位图、外链图都支持</h3> \n<p>我一开始以为之所以有过渡效果，是因为两个SVG图形路径的指令都是一样的。</p> \n<p>结果一测试发现，maya，除了CSS渐变没有淡入淡出的过渡效果，传统的PNG，JPG位图，<code>url()</code>外链的背景图之间也是会有过渡效果的。</p> \n<p>例如，上面例子CSS改成下面这样：</p> \n<pre>.example {\n    width: 200px; height: 200px;\n    border: 0;\n    background: url(icon-move-up.svg) no-repeat center / 100% 100%;\n    transition: background-image 1s;\n}\n.example:hover,\n.example:active {\n    background-image: url(img.jpg);\n}</pre> \n<p>也就是默认是外链的SVG图像，hover时候是外链的JPG图像，结果也有了过渡效果。</p> \n<p>如下图（点击播放144K）：</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202008/bgimg-switch2-s.png\" onclick=\"this.src=this.src.replace('.png', '.gif')\" width=\"232\" height=\"222\" alt=\"SVG和JPG位图之间的过渡效果\" class=\"alignnone size-medium\" /></p> \n<h3>四、唯独CSS渐变不支持</h3> \n<p>唯独CSS渐变背景不支持动画效果，例如：</p> \n<pre>.example {\n    width: 200px; height: 200px;\n    border: 0;\n    background: linear-gradient(blue, red) no-repeat center / 100% 100%;\n    transition: background-image 1s;\n}\n.example:hover,\n.example:active {\n    background-image: linear-gradient(red, blue);\n}</pre> \n<style>.example { width: 200px; height: 200px; border: 0; background: linear-gradient(blue, red) no-repeat center / 100% 100%; transition: background-image 1s; } .example:hover, .example:active { background-image: linear-gradient(red, blue); }</style> \n<p>结果只有硬邦邦的悬停或激活效果，实时效果如下，大家可以点击或悬停感受下有多硬。</p> \n<p><button class=\"example\"></button></p> \n<h3>五、莫非是个常识</h3> \n<p>写到这里，我觉得有些虚了，感觉好像<code>url()</code>图像函数都支持过渡效果，是一个非常普遍的现象，说不定其他CSS开发人员早就知道，早就当常识看了。</p> \n<p>我居然还在这里震惊，会不会被被人当傻子看啊？</p> \n<p>是我自己激动了。</p> \n<p>我一开始以为这个动画效果的出现是需要一些严格的条件的，没想到现在看来是个烂大街的触发条件，只要是图片都可以。</p> \n<p>没意思，真没意思~</p> \n<p>而且两个背景图片之间的效果也就是普通的淡入淡出，要是那种形变动画就牛逼了。</p> \n<p>而且，我测试下来，也就Chrome浏览器支持，Firefox浏览器下图像切换效果要多硬就有多硬。</p> \n<p>所以，<code>background-image</code>支持动画和过渡效果，除了让人兴奋一下，几乎没有锤子用。</p> \n<p><strong>更新于发布后5分钟</strong></p> \n<p>撒了泡尿，突然想到这个特性还是有用的。</p> \n<p>小图标按钮，从A图到B图，如果仅仅颜色不一样，那么Chrome浏览器下的这个特性，可以让图标按钮发生类似color颜色过渡的效果。</p> \n<p>也就是小图标动画变色效果。</p> \n<p>虽然说小图标变色最佳实践一定是<a href=\"https://www.zhangxinxu.com/wordpress/2017/11/css-css3-mask-masks/\">CSS mask遮罩</a>，但是如果项目需要兼容IE浏览器，那么成本就高了。</p> \n<p>因为遮罩的实现需要改变原始的背景图为背景色，如下所示：</p> \n<pre>.example {\n    width: 200px; height: 200px;\n    border: 0;\n    background: gray;\n    mask: url(icon-xxx.svg);\n    transition: background 1s;\n}\n.example:hover {\n    background: blue;\n}</pre> \n<p>你看，背景变成了背景色，IE浏览器下此时根本就是一坨纯色，根本没法使用，兼容成本就高。</p> \n<p>但是，如果是<code>background-image</code>过渡，那就不一样了，对吧，因为就算IE浏览器不支持，也只是生硬的从A颜色图标到B颜色图标，功能还是正常的，然后Chrome浏览器下还是棒棒哒效果。</p> \n<p>恩，可以的，如果是需要兼容IE浏览器的场景。Chrome浏览器这个<code>background-image</code>属性支持过渡效果的特性还是有点作用的。</p> \n<p>特此更正下。</p> \n<h3>六、现在的我很平静</h3> \n<p>所以，现在的我很平静，静如止水。</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202008/2020-08-06_234209.jpg\" width=\"232\" height=\"138\" alt=\"平静\" class=\"alignnone size-medium\" /></p> \n<p>再回过头看看自己那一惊一乍的表现，有些大惊小怪了。</p> \n<p>然后Chrome浏览器下的<code>background-image</code>属性有过渡效果，我觉得应该是后来才支持的，而不是CSS <code>animation</code>动画和<code>transition</code>过渡属性出现那会儿支持的。</p> \n<p>判断的理由是直觉，哈哈，其实是Firefox浏览器没有支持，既然规范中有描述，而Firefox浏览器没有支持，说明是新出的规范特性。</p> \n<p>恩，就这样吧。</p> \n<p><img src=\"https://image.zhangxinxu.com/image/emtion/emoji/1f343.svg\" width=\"20\" height=\"20\" align=\"absmiddle\" /></p> \n<p>本文为原创文章，欢迎分享，勿全文转载，如果实在喜欢，可收藏，永不过期，且会及时更新知识点及修正错误，阅读体验也更好。<br /> 本文地址：<a href=\"https://www.zhangxinxu.com/wordpress/?p=9515\">https://www.zhangxinxu.com/wordpress/?p=9515</a></p> \n<p>（本篇完）</p>","descriptionType":"html","publishedDate":"Thu, 06 Aug 2020 15:56:09 +0000","feedId":3950,"bgimg":"https://image.zhangxinxu.com/image/blog/202008/2020-08-06_194113.png","linkMd5":"ffc453482c1c6325e792f837082990a7","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn78@2020_5/2020/08/25/08-55-13-339_f283a19c0831ef1e.webp","destWidth":702,"destHeight":278,"sourceBytes":8486,"destBytes":13996,"author":"张 鑫旭","articleImgCdnMap":{"https://image.zhangxinxu.com/image/blog/202008/2020-08-06_194113.png":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn78@2020_5/2020/08/25/08-55-13-339_f283a19c0831ef1e.webp","https://image.zhangxinxu.com/image/blog/202008/2020-08-06_224051.jpg":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn64@2020_2/2020/08/25/08-55-16-995_6e9c16a896f6aae6.webp","https://image.zhangxinxu.com/image/blog/202008/bgimg-switch.gif":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn35@2020_3/2020/08/25/08-55-15-037_9a0989e10a72a63a.webp","https://image.zhangxinxu.com/image/blog/202008/bgimg-switch2-s.png":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn75@2020_1/2020/08/25/08-55-17-554_4b14dee5b7b56c26.webp","https://image.zhangxinxu.com/image/blog/202008/2020-08-06_234209.jpg":"https://cdn.jsdelivr.net/gh/myreaderx15/cdn59@2020_5/2020/08/25/08-55-16-080_0ad480d99ca448a0.webp","https://image.zhangxinxu.com/image/emtion/emoji/1f343.svg":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn3@2020_6/2020/08/25/08-55-16-079_955c0bca975c75bf.svg"},"publishedOrCreatedDate":1598345703727},{"createdTime":"2020-08-25 16:55:03","updatedTime":"2020-08-25 16:55:03","title":"JS纯前端实现audio音频剪裁剪切复制播放与上传","link":"https://www.zhangxinxu.com/wordpress/?p=9505","description":"<p>by <a href=\"https://www.zhangxinxu.com/\">zhangxinxu</a> from <a href=\"https://www.zhangxinxu.com/wordpress/?p=9505\">https://www.zhangxinxu.com/wordpress/?p=9505</a><br /> 本文欢迎分享与聚合，全文转载就不必了，尊重版权，圈子就这么大，若急用可以联系授权。</p> \n<p><script>window.wxShareImgUrl = 'https://www.zhangxinxu.com/study/image/share/20207-audio-clip.jpg';</script></p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202007/audio-clip-cover.jpg\" width=\"480\" height=\"310\" alt=\"音频在线剪辑与处理\" class=\"alignright clip thumb size-medium\" loading=\"lazy\" /></p> \n<p>背景是这样的，用户上传音频文件，可能只需要几十秒就够了，但是常规的音乐都要3~5分钟，80%的流量都是不需要的，要是就这么传上去，其实是流量的浪费，如果可以在前端就进行剪裁，也就是只取前面一段时间的音频，岂不是可以给公司省很多流量费用，前端的业务价值就体现了。</p> \n<p>关键如何实现呢？</p> \n<p>下面，就以“截取用户上传音频前3秒内容”的需求示意下如何借助Web Audio API实现音频的部分复制与播放功能。</p> \n<h3>一、不哔哔，直接正题</h3> \n<p>实现步骤如下。</p> \n<h4>1. File对象转ArrayBuffer</h4> \n<p>在Web网页中，用户选择的文件是个file对象，我们可以将这个文件对象转换成Blob、ArrayBuffer或者Base64。</p> \n<p>在音频处理这里，都是使用ArrayBuffer这个数据类型。</p> \n<p>代码如下所示，假设file类型的文件选择框的id是<code>'file'</code>。</p> \n<pre>file.onchange = function (event) {\n    var file = event.target.files[0];\n    <span style=\"color:green;\">// 开始识别</span>\n    var reader = new FileReader();\n    reader.onload = function (event) {\n        var arrBuffer = event.target.result;\n        <span style=\"color:green;\">// arrBuffer就是包含音频数据的ArrayBuffer对象</span>\n    });\n    reader.readAsArrayBuffer(file);\n};</pre> \n<p>使用的是<code>readAsArrayBuffer()</code>方法，无论是MP3格式、OGG格式还是WAV格式，都可以转换成ArrayBuffer类型。</p> \n<h4>2. ArrayBuffer转AudioBuffer</h4> \n<p>这里的ArrayBuffer相对于把音频文件数组化了，大家可以理解为把音频文件分解成一段一段的，塞进了一个一个有地址的小屋子里，在计算机领域称为“缓冲区”，就是单词Buffer的意思。</p> \n<p>所谓音频的剪裁，其实就是希望可以复制音频前面一段时间的内容。</p> \n<p>但是问题来了，ArrayBuffer里面的数据并没有分类，统一分解了，想要准确提取某一截音频数据，提取不出来。</p> \n<p>所以，才需要转换成AudioBuffer，纯粹的音频数据，方便提取。</p> \n<p>AudioBuffer是一个仅仅包含音频数据的数据对象，是Web Audio API中的一个概念。</p> \n<p>既然说到了Web Audio API，那我们就顺便……顺便……，想了想，还是不展开，因为太庞杂了，这Web Audio API至少比<a href=\"https://www.zhangxinxu.com/wordpress/2018/03/web-animations-api-dynamic-feature-animation/\">Web Animation API</a>复杂了10倍，API之多，体量之大，世间罕见，想要完全吃透了，没有三年五载，啃不下来。</p> \n<p>如果大家不是想要立志成为音视频处理专家，仅仅是临时解决一点小毛小病的问题，则不必深入，否则脑坑疼，使用MDN文档中的一些案例东拼西凑，基本的效果也能弄出来。</p> \n<p>扯远了，回到这里。</p> \n<p>AudioBuffer大家可以理解为音乐数据，那为什么叫AudioBuffer，不叫AudioData呢？</p> \n<p>因为Buffer是个专有名词，直译为缓冲区，大家可以理解为高速公路，AudioBuffer处理数据更快，而且还有很多延伸的API，就像是高速公路上的服务区，有吃有喝还有加油的地方。</p> \n<p>AudioData一看名字就是乡下土鳖，虽然接地气，但是，处理好几兆的数据的时候，就有些带不动了，就好像骑小电驴，在公速公路和乡道县道没多大区别，但是如果是开跑车，啧啧，乡下路就带不动了。</p> \n<p><strong>如何才能转换成AudioBuffer呢？</strong></p> \n<p>使用AudioContext对象的<code>decodeAudioData()</code>方法，代码如下：</p> \n<pre>var audioCtx = new AudioContext();\n\naudioCtx.decodeAudioData(arrBuffer, function(audioBuffer) {\n    <span style=\"color:green;\">// audioBuffer就是AudioBuffer</span>\n});</pre> \n<h4>3. 复制AudioBuffer前3秒数据</h4> \n<p>AudioBuffer对象是一个音频专用Buffer对象，包含很多音频信息，包括：</p> \n<ul> \n <li>音频时长 <code>duration</code></li> \n <li>声道数量 <code>numberOfChannels</code></li> \n <li>采样率 <code>sampleRate</code></li> \n</ul> \n<p>等。</p> \n<p>包括一些音频声道数据处理方法，例如：</p> \n<ul> \n <li>获取通道数据 <code>getChannelData()</code></li> \n <li>复制通道数据 <code>copyFromChannel()</code></li> \n <li>写入通道数据 <code>copyToChannel()</code></li> \n</ul> \n<p>文档见这里：<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/AudioBuffer\" rel=\"noopener\" target=\"_blank\">https://developer.mozilla.org/en-US/docs/Web/API/AudioBuffer</a> </p> \n<p>所以，实现的原理很简单，创建一个空的AudioBuffer，复制现有的通道数据前3秒的数据，然后复制的内容写入到这个空的AudioBuffer，于是我们就得到了一个剪裁后的音频Buffer数据了。</p> \n<p>代码如下：</p> \n<pre><span style=\"color:green;\">// 声道数量和采样率</span>\nvar channels = audioBuffer.numberOfChannels;\nvar rate = audioBuffer.sampleRate;\n\n<span style=\"color:green;\">// 截取前3秒</span>\nvar startOffset = 0;\nvar endOffset = rate * 3;\n<span style=\"color:green;\">// 3秒对应的帧数</span>\nvar frameCount = endOffset - startOffset;\n\n<span style=\"color:green;\">// 创建同样采用率、同样声道数量，长度是前3秒的空的AudioBuffer</span>\nvar newAudioBuffer = new AudioContext().createBuffer(channels, endOffset - startOffset, rate);\n<span style=\"color:green;\">// 创建临时的Array存放复制的buffer数据</span>\nvar anotherArray = new Float32Array(frameCount);\n<span style=\"color:green;\">// 声道的数据的复制和写入</span>\nvar offset = 0;\nfor (var channel = 0; channel &lt; channels; channel++) {\n    audioBuffer.copyFromChannel(anotherArray, channel, startOffset);\n    newAudioBuffer.copyToChannel(anotherArray, channel, offset);\n}\n\n<span style=\"color:green;\">// newAudioBuffer就是全新的复制的3秒长度的AudioBuffer对象</span></pre> \n<p>上面JavaScript代码中的变量<code>newAudioBuffer</code>就是全新的复制的3秒长度的AudioBuffer对象。</p> \n<h4>4. 使用newAudioBuffer做点什么？</h4> \n<p>其实应该是有了AudioBuffer对象后我们可以做点什么。</p> \n<p>能做很多事情。</p> \n<p><strong>1) 如果希望直接播放</strong></p> \n<p>我们可以直接把AudioBuffer的数据作为音频数据进行播放</p> \n<pre><span style=\"color:green;\">// 创建AudioBufferSourceNode对象</span>\nvar source = audioCtx.createBufferSource();\n<span style=\"color:green;\">// 设置AudioBufferSourceNode对象的buffer为复制的3秒AudioBuffer对象</span>\nsource.buffer = newAudioBuffer;\n<span style=\"color:green;\">// 这一句是必须的，表示结束，没有这一句没法播放，没有声音\n// 这里直接结束，实际上可以对结束做一些特效处理</span>\nsource.connect(audioCtx.destination);\n<span style=\"color:green;\">// 资源开始播放</span>\nsource.start();</pre> \n<p><strong>2) 如果希望在&lt;audio&gt;元素中播放</strong></p> \n<p>这个还挺麻烦的。</p> \n<p>从<code>&lt;audio&gt;</code>的src属性获取音频资源，再进行处理是简单的，网上的案例也很多。</p> \n<p>但是，想要处理后的AudioBuffer再变成src让<code>&lt;audio&gt;</code>元素播放，嘿嘿，就没那么容易了。</p> \n<p>我<span class=\"hidden\">（张鑫旭）</span>找了一圈，没有看到Web Audio API中有专门的“逆转录”方法。</p> \n<p>唯一可行的路数就是根据AudioBuffer数据，重新构建原始的音频数据。研究了一番，转成WAV格式相对容易，想要转换成MP3格式比较麻烦，这里有个项目：<a href=\"https://github.com/higuma/mp3-lame-encoder-js\" rel=\"noopener\" target=\"_blank\">https://github.com/higuma/mp3-lame-encoder-js</a> 不过自己没验证过，不过看代码量，还挺惊人的。</p> \n<p>因此，我们的目标还是转到WAV音频文件生成上吧，下面这段方法是从网上找的AudioBuffer转WAV文件的方法，以Blob数据格式返回。</p> \n<pre>// Convert AudioBuffer to a Blob using WAVE representation\nfunction bufferToWave(abuffer, len) {\n    var numOfChan = abuffer.numberOfChannels,\n    length = len * numOfChan * 2 + 44,\n    buffer = new ArrayBuffer(length),\n    view = new DataView(buffer),\n    channels = [], i, sample,\n    offset = 0,\n    pos = 0;\n\n    // write WAVE header\n    // \"RIFF\"\n    setUint32(0x46464952);\n    // file length - 8                      \n    setUint32(length - 8);\n    // \"WAVE\"                     \n    setUint32(0x45564157);\n    // \"fmt \" chunk\n    setUint32(0x20746d66);  \n    // length = 16                       \n    setUint32(16);  \n    // PCM (uncompressed)                               \n    setUint16(1); \n    setUint16(numOfChan);\n    setUint32(abuffer.sampleRate);\n    // avg. bytes/sec\n    setUint32(abuffer.sampleRate * 2 * numOfChan);\n    // block-align\n    setUint16(numOfChan * 2);\n    // 16-bit (hardcoded in this demo)\n    setUint16(16);                           \n    // \"data\" - chunk\n    setUint32(0x61746164); \n    // chunk length                   \n    setUint32(length - pos - 4);                   \n\n    // write interleaved data\n    for(i = 0; i &lt; abuffer.numberOfChannels; i++)\n        channels.push(abuffer.getChannelData(i));\n\n    while(pos &lt; length) {\n         // interleave channels\n        for(i = 0; i &lt; numOfChan; i++) {\n            // clamp\n            sample = Math.max(-1, Math.min(1, channels[i][offset])); \n            // scale to 16-bit signed int\n            sample = (0.5 + sample &lt; 0 ? sample * 32768 : sample * 32767)|0; \n            // write 16-bit sample\n            view.setInt16(pos, sample, true);          \n            pos += 2;\n        }\n        // next source sample\n        offset++                                     \n    }\n\n    // create Blob\n    return new Blob([buffer], {type: \"audio/wav\"});\n\n    function setUint16(data) {\n        view.setUint16(pos, data, true);\n        pos += 2;\n    }\n\n    function setUint32(data) {\n        view.setUint32(pos, data, true);\n        pos += 4;\n    }\n}</pre> \n<p>WAV格式的兼容性还是很6的，如下图所示：</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202007/2020-07-27_175434.png\" width=\"635\" height=\"350\" alt=\"wav兼容性\" class=\"alignnone size-medium\" /></p> \n<p>凡事支持Web Audio API的浏览器都支持WAV格式，所以，技术上完全可行。</p> \n<p>下面这段JS可以得到剪裁后的WAV音频的Blob数据格式：</p> \n<pre>var blob = bufferToWave(newAudioBuffer, frameCount);</pre> \n<p>有了Blob数据，接下来事情就简单了。</p> \n<p>我们可以直接把Blob数据转换成URL，可以使用<code>URL.createObjectURL()</code>生成一个Blob链接。</p> \n<p>假设页面上有如下HTML代码：</p> \n<pre>&lt;audio id=\"audio\" controls=\"\"&gt;&lt;/audio&gt;</pre> \n<p>则如下设置，就可以点击上面的<code>&lt;audio&gt;</code>元素进行播放了。</p> \n<pre>audio.src = URL.createObjectURL(blob);</pre> \n<p>如果要转换成Base64地址，可以这么处理：</p> \n<pre>var reader2 = new FileReader();\nreader2.onload = function(event){\n    audio.src = event.target.result;\n};\nreader2.readAsDataURL(blob);</pre> \n<p><strong>3） 如果希望上传剪裁的音频</strong></p> \n<p>有了Blob数据，上传还不是洒洒水的事情。</p> \n<p>可以使用FormData进行传输，例如：</p> \n<pre>var formData = new FormData();\nformData.append('audio', blob);\n<span style=\"color:green;\">// 请求走起</span>\nvar xhr = new XMLHttpRequest();\nxhr.open('POST', this.cgiGetImg, true);\n<span style=\"color:green;\">// 请求成功</span>\nxhr.onload = function () {\n};\n<span style=\"color:green;\">// 发送数据</span>\nxhr.send(formData);</pre> \n<p>有demo可以进行效果体验的，您可以狠狠地点击这里：<a href=\"https://www.zhangxinxu.com/study/202007/upload-audio-clip-play-demo.php\" rel=\"noopener\" target=\"_blank\">用户上传的MP3音频剪裁并播放demo</a></p> \n<p>使用截图示意如下：</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202007/2020-07-27_232335.png\" width=\"479\" height=\"225\" alt=\"声音检测与播放示意\" class=\"alignnone size-medium\" /></p> \n<h3>二、不哔哔，直接结语</h3> \n<p>本文内容在圈子里算是稀缺的，文章质量还是不错的。</p> \n<p>可惜，不太容易被用户发现。</p> \n<p>即使有分享，也都是短时间的。</p> \n<p>自己也没那么多精力去社交平台打理。</p> \n<p>有些可惜。</p> \n<p>可以找个人兼职打理自己的账号，做下类似运营的事情呢？<img src=\"https://image.zhangxinxu.com/image/emtion/emoji/1f914.svg\" width=\"20\" height=\"20\" align=\"absmiddle\" /></p> \n<p>总之，感谢阅读，如果本文内容正好可以解决你的需求，记得在心里面点个赞！</p> \n<p><img src=\"https://image.zhangxinxu.com/image/emtion/emoji/1f618.svg\" width=\"20\" height=\"20\" align=\"absmiddle\" /></p> \n<p>本文为原创文章，欢迎分享，勿全文转载，如果实在喜欢，可收藏，永不过期，且会及时更新知识点及修正错误，阅读体验也更好。<br /> 本文地址：<a href=\"https://www.zhangxinxu.com/wordpress/?p=9505\">https://www.zhangxinxu.com/wordpress/?p=9505</a></p> \n<p>（本篇完）</p>","descriptionType":"html","publishedDate":"Mon, 27 Jul 2020 15:51:11 +0000","feedId":3950,"bgimg":"https://image.zhangxinxu.com/image/blog/202007/audio-clip-cover.jpg","linkMd5":"6cc454a87a8d16468f7f9357ad598eb1","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn70@2020_4/2020/08/25/08-55-11-231_1f10144790b49864.webp","destWidth":480,"destHeight":310,"sourceBytes":29167,"destBytes":18728,"author":"张 鑫旭","articleImgCdnMap":{"https://image.zhangxinxu.com/image/blog/202007/audio-clip-cover.jpg":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn70@2020_4/2020/08/25/08-55-11-231_1f10144790b49864.webp","https://image.zhangxinxu.com/image/blog/202007/2020-07-27_175434.png":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn68@2020_1/2020/08/25/08-55-15-849_c5d4446cc8491875.webp","https://image.zhangxinxu.com/image/blog/202007/2020-07-27_232335.png":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn11@2020_3/2020/08/25/08-55-17-167_06c4980524785e7d.webp","https://image.zhangxinxu.com/image/emtion/emoji/1f914.svg":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn87@2020_3/2020/08/25/08-55-16-094_0f2fd6cd1cd49d4a.svg","https://image.zhangxinxu.com/image/emtion/emoji/1f618.svg":"https://cdn.jsdelivr.net/gh/myreaderx14/cdn19@2020_6/2020/08/25/08-55-16-615_ab0051cdab5c9258.svg"},"publishedOrCreatedDate":1598345703728},{"createdTime":"2020-08-25 16:55:03","updatedTime":"2020-08-25 16:55:03","title":"深入理解CSS background-blend-mode的作用机制","link":"https://www.zhangxinxu.com/wordpress/?p=9499","description":"<p>by <a href=\"https://www.zhangxinxu.com/\">zhangxinxu</a> from <a href=\"https://www.zhangxinxu.com/wordpress/?p=5474\">https://www.zhangxinxu.com/wordpress/?p=5474</a><br /> 本文欢迎分享与聚合，全文转载就不必了，尊重版权，圈子就这么大，若急用可以联系授权。</p> \n<p><script>window.wxShareImgUrl = 'https://www.zhangxinxu.com/study/image/share/202007-bg-mode.jpg';</script></p> \n<style>pre .green{color:green;}</style> \n<h3>一、可能都知道的</h3> \n<p>首先，讲两点大家可能都知道的知识点：</p> \n<ol> \n <li><code>background-blend-mode</code>本身就带有隔离特性，也就是一个元素应用<code>background-blend-mode</code>背景混合模式，最终的效果只会受当前元素的背景图像和背景颜色影响，不会受视觉上处于当前区域其他任意元素影响。</li> \n <li>应用<code>background-blend-mode</code>属性后，不仅各个图像之间要进行混合，同时还要和背景色进行混合。</li> \n</ol> \n<p>接下来，讲下大家可能并不知道的知识点，这也是很多人搞不清楚为什么<code>background-blend-mode</code>属性这么渲染的原因。</p> \n<h3>二、可能不知道的</h3> \n<h4>1. 背景顺序影响混合效果</h4> \n<p>混合效果和<code>background</code>属性中背景图像的顺序密切相关。在CSS多背景中，越是语法中靠后的背景图像的层级越是低，这也是为何<code>background-color</code>要写在最后语法才合法的原因，因为背景色的层级永远是最低的。</p> \n<p>例如下面2个元素：</p> \n<pre>&lt;div class=\"ball\"&gt;&lt;/div&gt;\n&lt;div class=\"ball2\"&gt;&lt;/div&gt;</pre> \n<p>设置背景混合模式为叠加，但是两个元素的背景图像的顺序是相反的，代码如下所示：</p> \n<pre>.ball {\n    width: 200px; height: 200px;\n    border-radius: 50%;\n    background: linear-gradient(deeppink, deeppink), linear-gradient(deepskyblue, deepskyblue);\n    <span class=\"green\">/* 应用叠加混合模式 */</span>\n    background-blend-mode: overlay;\n}\n.ball2 {\n    width: 200px; height: 200px;\n    border-radius: 50%;\n    background: linear-gradient(deepskyblue, deepskyblue), linear-gradient(deeppink, deeppink);\n    <span class=\"green\">/* 应用叠加混合模式 */</span>\n    background-blend-mode: overlay;\n}</pre> \n<p>结果下图所示，<code>.ball</code>元素表现为<code>deeppink</code>叠加后面的<code>deepskyblue</code>，最终混合颜色偏蓝；<code>.ball2</code>元素表现为<code>deepskyblue</code>叠加后面的<code>deeppink</code>，最终混合颜色偏紫。</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202007/11-67_background-blend-mode-sort.png\" loading=\"lazy\" width=\"455\" height=\"202\" /></p> \n<h4>2. 混合效果是多个混合属性同时作用的结果</h4> \n<p>很多开发人员并不清楚，<code>background-blend-mode</code>支持其实是可以设置多个混合模式值，分别对应不同的背景图像，这一点和仅仅支持一个混合模式值的<code>mix-blend-mode</code>属性是不一样的。例如：</p> \n<pre>.ball {\n    background: linear-gradient(deeppink, deeppink), \n        linear-gradient(deepskyblue, deepskyblue);\n    background-blend-mode: overlay;\n}</pre> \n<p>实际上等同于：</p> \n<pre>.ball {\n    background: linear-gradient(deeppink, deeppink), \n        linear-gradient(deepskyblue, deepskyblue);\n    background-blend-mode: overlay overlay;\n}</pre> \n<p>也就是，<code>deeppink</code>实际上叠加的是deepskyblue和背景色（此例是透明），<code>deepskyblue</code>叠加的是背景色（此例是透明）。</p> \n<p>换言之，实际上，每个背景图像都有一个自己的混合模式值，这是和<code>mix-blend-mode</code>属性有着巨大区别的！通常，在使用<code>mix-blend-mode</code>属性的场景中，我们只会把混合模式设置在顶层元素上，而不会每一层元素都设置，于是带来了一个由此及彼的严重的思维误区，以为背景混合模式设置的值也是作用在对顶层的背景图像上的，从而导致很多开发者想不通<code>background-blend-mode</code>属性的渲染表现和自己预期的不一样。</p> \n<p>我们通过一个案例演示下<code>background-blend-mode</code>属性的多个值是如何和背景图像一一对应的。</p> \n<pre>&lt;div class=\"box\"&gt;&lt;/div&gt;</pre> \n<pre>.box {\n    width: 200px; height: 200px;\n    background: linear-gradient(to right bottom, deeppink 50%, transparent 50%),\n        linear-gradient(to top right, deeppink 50%, transparent 50%), \n        darkblue;\n    background-blend-mode: multiply, screen;\n    position: relative;\n}\n<span class=\"green\">/* 中间原始的deeppink色值 */</span>\n.box::before {\n    content: '';\n    position: absolute;\n    width: 33%; height: 33%;\n    inset: 0;\n    margin: auto;\n    background-color: deeppink;\n}</pre> \n<p>此时<code>.box</code>元素总共呈现出了5种颜色，每种颜色的RGB色值和如何产生的如下图所示。</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202007/11-68_background-blend-mode-mark2.png\" loading=\"lazy\" width=\"632\" height=\"376\" /></p> \n<p>其中：</p> \n<ul> \n <li>中间标注了序号①的正方形区域没有应用任何混合模式，颜色就是<code>deeppink</code>，作用是方便大家和区域③、区域⑤处的颜色进行对比。</li> \n <li>区域②就是背景色<code>darkblue</code>，因为两个斜向渐变均没有覆盖到这个区域，直接暴露了设置的背景色。</li> \n <li>区域③和区域⑤是下层渐变，也就是<code>background</code>属性值中位置靠后的渐变，对应的混合模式也是<code>background-blend-mode</code>属性值靠后的那个，也就是<code>screen</code>，滤色模式，可以让颜色变亮。</li> \n <li>区域④和区域⑤是上层渐变，也就是<code>background</code>属性值中位置靠前的渐变，对应的混合模式也是<code>background-blend-mode</code>属性值靠前的那个，也就是<code>multiply</code>，正片叠底模式，可以让颜色变暗。</li> \n <li>区域③的颜色表现源自渐变色<code>deeppink</code>和背景色<code>darkblue</code>进行滤色混合的效果，可以看出最终呈现的颜色比<code>deeppink</code>更亮了，最终混合后的色值是<code>rgb(255,20,206)</code>。</li> \n <li>区域④的颜色表现源自渐变色<code>deeppink</code>和背景色<code>darkblue</code>进行正片叠底混合的效果，可以看出最终呈现的颜色比<code>darkblue</code>更深了，最终混合后的色值是<code>rgb(0,0,80)</code>。</li> \n <li>区域⑤最复杂，理解了这个，也就理解了大多数的<code>background-blend-mode</code>属性的渲染表现了。 <p>区域⑤总共有3层，分别是：上层的<code>deeppink</code>，混合模式是<code>multiply</code>；下层的<code>deeppink</code>，混合模式是<code>screen</code>；底层的背景色<code>darkblue</code>。</p> <p>于是，最终的色值表现是上层的<code>deeppink</code>使用<code>multiply</code>混合下层的<code>deeppink</code>和背景色<code>darkblue</code>使用<code>screen</code>混合后的色值。</p> <p>由于下层的<code>deeppink</code>和背景色<code>darkblue</code>使用<code>screen</code>混合后的色值就是区域③的颜色。因此，区域⑤的颜色就是<code>deeppink</code>和区域③的色值<code>rgb(255,20,206)</code>进行正片叠底混合后的色值，结果是<code>rgb(255,1,119)</code>。</p> </li> \n</ul> \n<p>以上就是<code>.box</code>元素5个颜色各自呈现的原理所在。</p> \n<h3>三、background-blend-mode与渐变图标的实现</h3> \n<p>最后再看看看，为何大多数人没办法使用<code>background-blend-mode</code>实现渐变图标的效果。</p> \n<p>例如，现在有1个颜色很深的删除小图标，理论上，我们可以使用<code>lighten</code>混合模式实现渐变效果，因为<code>lighten</code>的效果是哪个颜色浅使用哪个颜色，由于图标本身颜色很深，因此，一定会显示渐变色，只要给图标加一个白色底就可以，于是，按照这个思路，很多人就写了如下所示的CSS代码：</p> \n<pre>.icon-delete {\n    background: linear-gradient(deepskyblue, deeppink), \n        url(delete.png), white;\n    background-blend-mode: lighten;\n}</pre> \n<p>乍一看，似乎逻辑上无懈可击，渐变和白底黑色的图标进行变亮混合，怎么想黑色图标也应该变成渐变色啊，很遗憾，最终的渐变并不是渐变色，而是纯白色，为什么会有这样的结果呢？</p> \n<p>那是因为这里的<code>background-blend-mode:lighten</code>实际上是一个缩写，或者简写，实际上真实的计算值是<code>lighten lighten</code>，代码如下所示：</p> \n<pre>.icon-delete {\n    background: linear-gradient(deepskyblue, deeppink), \n        url(delete.png), white;\n    <span class=\"green\">/* 实际上的计算值 */</span>\n    background-blend-mode: lighten lighten;\n}</pre> \n<p>也就是删除图标<code>delete.png</code>也应用了混合模式<code>lighten</code>，和白色背景色进行了混合，于是变成了纯白色。</p> \n<p>知道了问题所在，也就知道了该如何解决了，很简单，让<code>delete.png</code>和白色背景色混合后还保持原始图标的模样即可，下面两种CSS方法均可以：</p> \n<pre>.icon-delete {\n    background: linear-gradient(deepskyblue, deeppink), \n        url(delete.png), white;\n    <span class=\"green\">/* PNG图标的混合模式单独设成darken */</span>\n    background-blend-mode: lighten darken;\n}</pre> \n<p>或者是：</p> \n<pre>.icon-delete {\n    background: linear-gradient(deepskyblue, deeppink), \n        url(delete.png), white;\n    <span class=\"green\">/* PNG图标的混合模式单独设成normal */</span>\n    background-blend-mode: lighten normal;\n}</pre> \n<p>推荐使用<code>normal</code>关键字，因为更巧妙，性能也更好一点。最终实现的效果如下图所示。</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202007/11-69_background-blend-mode-gradient-icon.png\" loading=\"lazy\" width=\"114\" height=\"51\" /></p> \n<p>当然，渐变图标效果最好的实现方法肯定是<a href=\"https://www.zhangxinxu.com/wordpress/2017/11/css-css3-mask-masks/\">CSS <code>mask</code>遮罩属性</a>，这里的使用混合模式实现的渐变图标会有白色的底，并不是完美的实现方法，主要目的还是让大家了解<code>background-blend-mode</code>属性的渲染细节。</p> \n<h3>四、background-blend-mode的补全规则</h3> \n<p>当<code>background-blend-mode</code>的属性值的数量和<code>background-image</code>不匹配的时候，遵循下面的应用规则：</p> \n<ul> \n <li> <p>如果<code>background-blend-mode</code>的值的数量大于<code>background-image</code>，则多出来的混合模式会被忽略，例如：</p> <pre>.example { \n    background: linear-gradient(deepskyblue, deeppink), white;\n    <span style=\"color:#cd0000;\">background-blend-mode: lighten, darken;</span>\n}</pre> <p>等同于：</p> <pre>.example { \n    background: linear-gradient(deepskyblue, deeppink), white;\n    <span style=\"color:#cd0000;\">background-blend-mode: lighten;</span>\n}</pre> </li> \n <li> <p>如果<code>background-blend-mode</code>的值的数量少于<code>background-image</code>，则会重复完整的<code>background-blend-mode</code>属性值进行补全，例如：</p> <pre>.example { \n    background: linear-gradient(deepskyblue, deeppink), \n        linear-gradient(deepskyblue, deeppink),\n        linear-gradient(deepskyblue, deeppink), white;\n    <span style=\"color:#cd0000;\">background-blend-mode: lighten, darken;</span>\n}</pre> <p>等同于：</p> <pre>.example { \n    background: linear-gradient(deepskyblue, deeppink), \n        linear-gradient(deepskyblue, deeppink),\n        linear-gradient(deepskyblue, deeppink), white;\n    <span style=\"color:#cd0000;\">background-blend-mode: lighten, darken, lighten;</span>\n}</pre> <p>也就是<code>lighten, darken</code>一起进行重复，而不是仅仅重复最后一个混合模式值。因此，补全的值的<code>lighten</code>。</p> </li> \n</ul> \n<h3>五、结语</h3> \n<p>CSS <code>background-blend-mode</code>属性可以让各个背景图像之间应用混合模式。</p> \n<p><code>background-blend-mode</code>属性的使用频率要明显低于<code>mix-blend-mode</code>属性。</p> \n<p>原因在于：</p> \n<ol> \n <li>真实世界的照片图像很少作为<code>background-image</code>背景图像呈现，因为不利于无障碍访问，而混合模式设计的初衷就是这类照片图像的处理；</li> \n <li><code>background-blend-mode</code>属性作用机制不像<code>mix-blend-mode</code>属性那么单纯，很多开发人员并不能很好地驾驭。例如请使用混合模式让透明背景的小图标变成渐变图标，使用<code>mix-blend-mode</code>属性实现的人有很多，但是能够使用<code>background-blend-mode</code>属性实现的人寥寥无几。</li> \n</ol> \n<p>因此，目前<code>background-blend-mode</code>属性更常见的应用是用来丰富CSS的背景纹理，例如：</p> \n<p><img width=\"407\" height=\"242\" alt=\"正片叠底纹理丰富的色彩\" class=\"alignnone size-medium\" src=\"https://image.zhangxinxu.com/image/blog/201906/2019-06-10_004010.png\" /></p> \n<p>具体就不展开，非本文主要内容。</p> \n<p>以上就是本文的全部内容，感谢阅读，如果你觉得内容还不错，欢迎分享。</p> \n<p><img src=\"https://image.zhangxinxu.com/image/emtion/emoji/1f609.svg\" width=\"20\" height=\"20\" align=\"absmiddle\" /></p> \n<p>本文为原创文章，欢迎分享，勿全文转载，如果实在喜欢，可收藏，永不过期，且会及时更新知识点及修正错误，阅读体验也更好。<br /> 本文地址：<a href=\"https://www.zhangxinxu.com/wordpress/?p=9499\">https://www.zhangxinxu.com/wordpress/?p=9499</a></p> \n<p>（本篇完）</p>","descriptionType":"html","publishedDate":"Tue, 21 Jul 2020 16:28:28 +0000","feedId":3950,"bgimg":"https://image.zhangxinxu.com/image/blog/202007/11-67_background-blend-mode-sort.png","linkMd5":"88a14fa4da399ee1ffb5122854a41c51","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn61@2020_1/2020/08/25/08-55-10-872_997366fce87bee25.webp","destWidth":455,"destHeight":202,"sourceBytes":11407,"destBytes":7812,"author":"张 鑫旭","articleImgCdnMap":{"https://image.zhangxinxu.com/image/blog/202007/11-67_background-blend-mode-sort.png":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn61@2020_1/2020/08/25/08-55-10-872_997366fce87bee25.webp","https://image.zhangxinxu.com/image/blog/202007/11-68_background-blend-mode-mark2.png":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn43@2020_3/2020/08/25/08-55-15-672_6c884841ca111dd9.webp","https://image.zhangxinxu.com/image/blog/202007/11-69_background-blend-mode-gradient-icon.png":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn71@2020_1/2020/08/25/08-55-15-154_e39ce196c68ac543.webp","https://image.zhangxinxu.com/image/blog/201906/2019-06-10_004010.png":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn13@2020_4/2020/08/25/08-55-16-992_d8d05680e4a93651.webp","https://image.zhangxinxu.com/image/emtion/emoji/1f609.svg":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn93@2020_4/2020/08/25/08-55-15-794_1d029dcc213ecbf6.svg"},"publishedOrCreatedDate":1598345703729},{"createdTime":"2020-08-25 16:55:03","updatedTime":"2020-08-25 16:55:03","title":"CSS变量对JS交互组件开发带来的提升与变革","link":"https://www.zhangxinxu.com/wordpress/?p=9477","description":"<p>by <a href=\"https://www.zhangxinxu.com/\">zhangxinxu</a> from <a href=\"https://www.zhangxinxu.com/wordpress/?p=9477\">https://www.zhangxinxu.com/wordpress/?p=9477</a><br /> 本文欢迎分享与聚合，全文转载就不必了，尊重版权，圈子就这么大，若急用可以联系授权。</p> \n<p><script>window.wxShareImgUrl = 'https://www.zhangxinxu.com/study/image/share/202004-love.png';</script></p> \n<h3>一、CSS变量带来的质变</h3> \n<p>CSS变量带来的提升绝不仅仅是节约点CSS代码，以及降低CSS开发和维护成本。</p> \n<p>更重要的是，把组件中众多的交互开发从原来的JS转移到了CSS代码中，让组件代码更简洁，同时让视觉表现实现更加灵活了。</p> \n<p>我们通过几个案例来说明这一变化。</p> \n<h3>二、简化了JS对DOM设置的介入</h3> \n<h4>案例1：loading进度效果</h4> \n<p>例如实现下图所示的变量效果：</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/201901/2019-01-26_003635.png\" width=\"440\" height=\"280\" alt=\"单标签与变量实现的上传进度条效果\" class=\"alignnone size-medium\" /></p> \n<p>外面有一层背景层，然后里面有进度条，还有进度值。</p> \n<p>在过去，会使用两层div元素，然后JS去改变里面有颜色条条的宽度，同时设置进度值。</p> \n<p>也就是，loading的进度效果和进度值全部都是JS直接设置的，JS同时对应多个HTML信息。</p> \n<p>现在，有了CSS变量，JS所做的工作就非常简单，仅仅在容器元素上设置loading进度值即可，其他什么都不需要做，至于样式表现，或者进度值如何显示，全部都是CSS的事情。</p> \n<p>相关代码如下：</p> \n<pre>&lt;label&gt;图片1：&lt;/label&gt;\n&lt;div class=\"bar\" style=\"--percent: 60;\"&gt;&lt;/div&gt;\n&lt;label&gt;图片2：&lt;/label&gt;\n&lt;div class=\"bar\" style=\"--percent: 40;\"&gt;&lt;/div&gt;\n&lt;label&gt;图片3：&lt;/label&gt;\n&lt;div class=\"bar\" style=\"--percent: 20;\"&gt;&lt;/div&gt;</pre> \n<pre>.bar {\n    height: 20px; width: 300px;\n    background-color: #f5f5f5;\n}\n.bar::before {\n    display: block;\n    <span style=\"color:#cd0000;\">counter-reset: progress var(--percent);\n    content: counter(progress) '%\\2002';\n    width: calc(1% * var(--percent));</span>\n    color: #fff;\n    background-color: #2486ff;\n    text-align: right;\n    white-space: nowrap;\n    overflow: hidden;\n}</pre> \n<p>可以看到，我们只需要一层div标签，DOM层级简单了，然后，需要修改的HTML变化项仅仅是一个<code>--percent</code>自定义属性而已。</p> \n<p>眼见为实，您可以狠狠地点击这里：<a href=\"https://www.zhangxinxu.com/study/201901/css-var-progress-bar-demo.php\" rel=\"noopener\" target=\"_blank\">CSS百分比变量与进度条demo</a></p> \n<h3>三、CSS变量成为了CSS API接口</h3> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202007/js-after-css-var.jpg\" width=\"728\" height=\"278\" alt=\"CSS变量与JS工具人\" class=\"alignright size-medium\" /></p> \n<p>过去点击提示，点击切换等效果都需要JS针对特定的元素进行样式设置，现在有了CSS变量，我们只需要一段非常简单的通用的全局JS就可以了，然后JS就可以玩耍自己应该玩耍的东西，其他效果，全部交给CSS处理。</p> \n<p>这段JS如下：</p> \n<pre><span style=\"color:green;\">/**\n * @author zhangxinxu(.com)\n * @description 点击页面任意位置，标记坐标位置\n */</span>\ndocument.addEventListener('mousedown', function (event) {\n    var target = event.target;\n    var body = document.body;\n    var html = document.documentElement;\n\n    <span style=\"color:green;\">// 设置自定义属性值</span>\n    body.style.setProperty('--pagex', event.pageX);\n    body.style.setProperty('--pagey', event.pageY);\n\n    html.style.setProperty('--clientx', event.clientX);\n    html.style.setProperty('--clienty', event.clientY);\n    html.style.setProperty('--scrolly', window.pageYOffset);\n\n    target.style.setProperty('--offsetx', event.offsetX);\n    target.style.setProperty('--offsety', event.offsetY);\n    target.parentElement.style.setProperty('--target-width', target.clientWidth);\n    target.parentElement.style.setProperty('--target-height', target.clientHeight);\n    target.parentElement.style.setProperty('--target-left', target.offsetLeft);\n    target.parentElement.style.setProperty('--target-top', target.offsetTop);\n});</pre> \n<p>可以看到，JavaScript代码再也不负责任何与交互行为相关的逻辑，直接变成了工具人，一个单纯地传递点击坐标位置，以及点击元素偏移和尺寸信息的工具人。</p> \n<p>CSS得到了什么呢？</p> \n<p>得到了一个巨大的宝藏，一个随时可以拿来使用的宝藏。</p> \n<p>我想要点击按钮的时候有什么花哨的反馈，或者点击页面空白也来个创意的交互提示，完全不成问题，随用随取，无比方便，无比自由。</p> \n<p>可以说，上面这段JS，或者类似的JS代码是未来web开发的标配。</p> \n<p>我们来看看上面的代码可以实现怎样的效果。</p> \n<h4>案例2：按钮点击圈圈效果</h4> \n<p>点击按钮的时候有个圈圈放大的效果，圈圈放大的中心点就是点击的位置。</p> \n<p>效果如下GIF所示：</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202006/button-click-piple.gif\" width=\"164\" height=\"62\" alt=\"点击按钮光波GIF\" class=\"alignnone size-medium\" /></p> \n<p>核心CSS代码如下：</p> \n<pre>.btn:not([disabled]):active::after {\n    transform: translate(-50%,-50%) scale(0);\n    opacity: .3;\n    transition: 0s;\n}\n.btn::after {\n    content: \"\";\n    display: block;\n    position: absolute;\n    width: 100%; height: 100%;\n    <span style=\"color:#cd0000;\">left: var(--x, 0); top: var(--y, 0);</span>\n    pointer-events: none;\n    background: radial-gradient(circle, currentColor 10%, transparent 10.01%) no-repeat 50%;\n    transform: translate(-50%,-50%) scale(10);\n    opacity: 0;\n    transition: transform .3s, opacity .8s;\n}</pre> \n<p><code>:active</code>时候隐藏，同时设置过渡时间为0。于是，点击释放的时候，就会有过渡效果。</p> \n<p>大家可以访问这个地址进行体验：<a href=\"https://xy-ui.codelabo.cn/docs/#/xy-button\" rel=\"noopener\" target=\"_blank\">https://xy-ui.codelabo.cn/docs/#/xy-button</a></p> \n<p><script src=\"/study/202006/var.js\"></script></p> \n<h4>案例3：点击页面出现文字效果</h4> \n<p>又例如，点击本文页面任意位置都会出现下图所示的提示信息。</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202006/body-click-popup.gif\" width=\"200\" height=\"83\" alt=\"点击页面位置出现zhangxinxu.com提示\" class=\"alignnone size-medium\" /></p> \n<style>body:active::after { transform: translate(-50%, -100%); opacity: 0.5; transition: 0s; left: -999px; } body::after { content: 'zhangxinxu.com'; position:fixed; z-index: 999; left: calc(var(--clientx, -999) * 1px); top: calc(var(--clienty, -999) * 1px); transform: translate(-50%, calc(-100% - 20px)); opacity: 0; transition: transform .3s, opacity .5s; } .yw-tab-tab { position: relative; display: flex; max-width: 414px; justify-content: space-between; border-bottom: 1px solid #717678; background-color: #fff; margin: 30px auto; } .yw-tab-tab::before, .yw-tab-tab::after { position: absolute; width: calc(var(--target-width, 0) * 1px); left: calc(var(--target-left, -299) * 1px); color: #2a80eb; } .yw-tab-tab[style]::before, .yw-tab-tab[style]::after { content: ''; } .yw-tab-tab::before { background-color: currentColor; height: calc(var(--target-height) * 1px); mix-blend-mode: overlay; } .yw-tab-tab::after { border-bottom: solid; bottom: -2px; transition: left .2s, width .2s; } .yw-tab-a { color: #717678; text-decoration: none; padding: 6px 0; } .yw-tab-a:hover { text-decoration: none; }</style> \n<p>就是下面上面那段万能工具人JS加下面这段CSS实现的：</p> \n<pre>body:active::after {\n    transform: translate(-50%, -100%);\n    opacity: 0.5;\n    transition: 0s;\n    left: -999px;\n}\nbody::after {\n    content: 'zhangxinxu.com';\n    position:fixed;\n    z-index: 999;\n    left: calc(var(--clientx, -999) * 1px);\n    top: calc(var(--clienty, -999) * 1px);\n    transform: translate(-50%, calc(-100% - 20px));\n    opacity: 0;\n    transition: transform .3s, opacity .5s;\n}</pre> \n<h4>案例4：两个按钮下划线滑来滑去效果</h4> \n<p>以前，下图这种点击选项卡按钮，然后下划线滑来滑去，尺寸还变化效果，使用纯CSS实现很考验功力，几乎99.99%的开发都是借助JS去查询对应DOM元素，然后设置宽高和位置实现的交互效果。</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202007/tab-switch.gif\" width=\"241\" height=\"63\" alt=\"选项卡滑来滑去效果\" class=\"alignnone size-medium\" /></p> \n<p>现在，有了工具人JS，只需要一段CSS就可以搞定了，甚至文字的高亮切换都可以纯CSS搞定，就是这么神奇。</p> \n<p>下面这里的效果就是实现的实时效果（若没有效果，请访问原文<span class=\"hidden\">张鑫旭 https://www.zhangxinxu.com/wordpress/?p=9477</span>）：</p> \n<p>点击任意的选项卡元素，就可以看到下划线滑到对应位置，同时文字有高亮的效果。</p> \n<div class=\"yw-tab-tab\"> \n <a href=\"https://www.zhangxinxu.com/wordpress/javascript:\" class=\"yw-tab-a\">QQ阅读</a> \n <a href=\"https://www.zhangxinxu.com/wordpress/javascript:\" class=\"yw-tab-a\">起点读书</a> \n <a href=\"https://www.zhangxinxu.com/wordpress/javascript:\" class=\"yw-tab-a\">红袖读书</a> \n <a href=\"https://www.zhangxinxu.com/wordpress/javascript:\" class=\"yw-tab-a\">飞读免费小说</a> \n</div> \n<p>相关代码如下：</p> \n<pre>&lt;div class=\"yw-tab-tab\"&gt; \n  &lt;a href=\"javascript:\" class=\"yw-tab-a\"&gt;QQ阅读&lt;/a&gt;\n  &lt;a href=\"javascript:\" class=\"yw-tab-a\"&gt;起点读书&lt;/a&gt;\n  &lt;a href=\"javascript:\" class=\"yw-tab-a\"&gt;红袖读书&lt;/a&gt;\n  &lt;a href=\"javascript:\" class=\"yw-tab-a\"&gt;飞读免费小说&lt;/a&gt;\n&lt;/div&gt;</pre> \n<pre>.yw-tab-tab {\n    position: relative;\n    display: flex;\n    max-width: 414px;\n    justify-content: space-between;\n    border-bottom: 1px solid #717678;\n    background-color: #fff;\n    margin: 30px auto;\n}\n.yw-tab-tab::before,\n.yw-tab-tab::after {\n    position: absolute;\n    width: calc(var(--target-width, 0) * 1px);\n    left: calc(var(--target-left, -299) * 1px);\n    color: #2a80eb;\n}\n.yw-tab-tab[style]::before,\n.yw-tab-tab[style]::after  {\n    content: '';\n}\n.yw-tab-tab::before {\n    background-color: currentColor;\n    height: calc(var(--target-height) * 1px);\n    mix-blend-mode: overlay;\n}\n.yw-tab-tab::after {\n    border-bottom: solid;    \n    bottom: -2px;\n    transition: left .2s, width .2s;\n}\n.yw-tab-a {\n    color: #717678;\n    padding: 10px 0;\n}</pre> \n<p>如果是移动端访问，需要<code>mousedown</code>事件修改成<code>touchstart</code>，我就懒得调整了。</p> \n<h3>四、web组件的很多API接口可以拜拜了</h3> \n<p>以前web组件有一个什么功能，就新增一个API接口，看上去很厉害，实际上，加着加着，API越来越多，组件也越来越重，学习成本也越来越高，最后走向了死胡同，变得笨重，迎来了灭亡。</p> \n<p>现在，可以改变思路了。</p> \n<p>那些与交互表现密切相关的功能，事实上仅仅在组件容器元素上传递CSS自定义属性就可以了，无需负责具体的定位，显隐，或者样式变化，全部交给CSS。</p> \n<p>因为设计表现的东西是上层的，灵活的，个性的，应该在CSS层面进行驾驭才是合理的，匹配的。</p> \n<p>例如上面提到的loading组件，无论是条状的还是饼状的都是这样的处理逻辑，只负责传递进度值，样式无需关心。</p> \n<p>又例如滑条框（如下图Ant Design中的滑条的位置和提示效果）、popup提示框等都可以通过一个CSS自定义属性完成，JS仅需要把CSS无法获取的数据传递到祖先元素上，不需要负责UI样式。</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202007/2020-07-01_005628.png\" width=\"303\" height=\"151\" alt=\"滑条框效果示意\" class=\"alignnone size-medium\" /></p> \n<p>实在太晚了，已经0:56了，我就不出demo演示了，大家领会去精神即可。</p> \n<h3>五、结语</h3> \n<p>结语个鬼大头啊，眼睛都睁不开了。</p> \n<p>总之，交互开发实现的思路可以发展转变了，CSS变量，真香！</p> \n<p>感谢阅读，欢迎分享！</p> \n<p>然后行文匆忙，迷迷糊糊下码的字，如有错误，欢迎指正。</p> \n<p><img src=\"https://image.zhangxinxu.com/image/emtion/emoji/1f61d.svg\" width=\"20\" height=\"20\" align=\"absmiddle\" /></p> \n<p>本文为原创文章，欢迎分享，勿全文转载，如果实在喜欢，可收藏，永不过期，且会及时更新知识点及修正错误，阅读体验也更好。<br /> 本文地址：<a href=\"https://www.zhangxinxu.com/wordpress/?p=9477\">https://www.zhangxinxu.com/wordpress/?p=9477</a></p> \n<p>（本篇完）</p>","descriptionType":"html","publishedDate":"Tue, 30 Jun 2020 17:11:27 +0000","feedId":3950,"bgimg":"https://image.zhangxinxu.com/image/blog/201901/2019-01-26_003635.png","linkMd5":"0cf4347994157ad68c4794351ea290d4","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn81@2020_4/2020/08/25/08-55-12-662_f1a50094fd311d30.webp","destWidth":440,"destHeight":280,"sourceBytes":4217,"destBytes":6826,"author":"张 鑫旭","articleImgCdnMap":{"https://image.zhangxinxu.com/image/blog/201901/2019-01-26_003635.png":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn81@2020_4/2020/08/25/08-55-12-662_f1a50094fd311d30.webp","https://image.zhangxinxu.com/image/blog/202007/js-after-css-var.jpg":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn11@2020_1/2020/08/25/08-55-17-519_1cb3747f852c1fe9.webp","https://image.zhangxinxu.com/image/blog/202006/button-click-piple.gif":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn53@2020_1/2020/08/25/08-55-15-948_4a53d91f521f37f3.webp","https://image.zhangxinxu.com/image/blog/202006/body-click-popup.gif":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn55@2020_5/2020/08/25/08-55-18-502_96fdcac61133bb7d.webp","https://image.zhangxinxu.com/image/blog/202007/tab-switch.gif":"https://cdn.jsdelivr.net/gh/myreaderx/cdn51@2020_4/2020/08/25/08-55-17-341_b4e5470ae44aafb3.webp","https://image.zhangxinxu.com/image/blog/202007/2020-07-01_005628.png":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn67@2020_5/2020/08/25/08-55-15-807_b27ed7fddff64d2c.webp","https://image.zhangxinxu.com/image/emtion/emoji/1f61d.svg":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn23@2020_2/2020/08/25/08-55-18-325_1697b6bb26f12b14.svg"},"publishedOrCreatedDate":1598345703729},{"createdTime":"2020-08-25 16:55:03","updatedTime":"2020-08-25 16:55:03","title":"JS CustomEvent自定义事件传参小技巧","link":"https://www.zhangxinxu.com/wordpress/?p=9533","description":"<p>by <a href=\"https://www.zhangxinxu.com/\">zhangxinxu</a> from <a href=\"https://www.zhangxinxu.com/wordpress/?p=9533\">https://www.zhangxinxu.com/wordpress/?p=9533</a><br /> 本文欢迎分享与聚合，全文转载就不必了，尊重版权，圈子就这么大，若急用可以联系授权。</p> \n<p><script>window.wxShareImgUrl = 'https://www.zhangxinxu.com/study/image/share/202008-custom-event-params.png';</script></p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202008/custom-event-params.png\" width=\"415\" height=\"277\" alt=\"CustomEvent自定义事件传参\" class=\"alignright clip size-medium\" /></p> \n<p>自定义事件的传参主要是通过<code>CustomEvent.detail</code>进行的。</p> \n<h3>一、addEventListener事件触发</h3> \n<p>例如，给输入框元素（假设DOM对象变量名称是<code>input</code>）绑定了一个<code>'input'</code>事件，如下：</p> \n<pre>input.addEventListener('input', function () {\n    <span class=\"green\">// write by zhangxinxu</span>\n});</pre> \n<p>此时，点击下拉框希望触发输入框元素的<code>'input'</code>事件，就可以使用<code>dispatchEvent</code>方法和<code>CustomEvent</code>对象。</p> \n<p>JS代码如下示意：</p> \n<pre>var myEvent = new CustomEvent('input');\ninput.dispatchEvent(myEvent);</pre> \n<p>也可以合在一起书写，JS代码如下：</p> \n<pre>input.dispatchEvent(new CustomEvent('input'));</pre> \n<p>如果希望触发<code>'input'</code>事件的同时传递下拉列表对应的参数对象给<code>'input'</code>事件，则可以使用<code>CustomEvent.detail</code>。</p> \n<p>语法示意如下：</p> \n<pre>var myEvent = new CustomEvent('input', {\n    <span class=\"green\">// zhangxinxu:\n    // objParams就是需要传递的参数，\n    // 可以是任意的类型</span>\n    detail: objParams\n});\ninput.dispatchEvent(myEvent);</pre> \n<p><span class=\"hidden\">//zxx: 如果你看到这段文字，说明你现在访问是体验糟糕的垃圾盗版网站，你可以访问原文获得很好的体验：https://www.zhangxinxu.com/wordpress/?p=9533（作者张鑫旭）</span></p> \n<h3>二、支持任意的自定义事件名称</h3> \n<p>不仅是浏览器原生的事件，如<code>'click'</code>，<code>'mousedown'</code>，<code>'change'</code>，<code>'mouseover'</code>，<code>'mouseenter'</code>等可以触发，任意的自定义名称的事件也是可以触发的。</p> \n<p>例如：</p> \n<pre>document.body.addEventListener('文章勿盗', () =&gt; { console.log('文明、公正、法治、诚信'); });\n// 触发\ndocument.body.dispatchEvent(new CustomEvent('文章勿盗'));\n</pre> \n<p>结果如下图所示：</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202008/2020-08-20_150323.png\" width=\"662\" height=\"131\" alt=\"任意的自定义事件执行效果示意\" /></p> \n<p>传参也是一样的，例如：</p> \n<pre>document.body.addEventListener('show', (event) =&gt; { console.log(event.detail); });\n// 触发\nlet myEvent = new CustomEvent('show', {\n    detail: {\n        username: 'zhangxinxu.com',\n        userid: '20200820'\n    }\n});\ndocument.body.dispatchEvent(myEvent);</pre> \n<p>运行后的结果参见下图：</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202008/2020-08-20_152108.png\" width=\"583\" height=\"210\" alt=\"自定义事件传参截图效果\" /></p> \n<h3>三、IE浏览器不支持怎么办？</h3> \n<p>IE浏览器是不支持<code>CustomEvent.detail</code>的，Edge 14+才开始支持，怎么办，难道IE浏览器就不能使用的吗？</p> \n<p>不急，可以用，增加一段Polyfill脚本就可以了，如下所示：</p> \n<pre><span class=\"green\">/**\n * CustomEvent constructor polyfill for IE\n */</span>\n(function () {\n    if (typeof window.CustomEvent === 'function') {\n        <span class=\"green\">// 如果不是IE</span>\n        return false;\n    }\n\n    var CustomEvent = function (event, params) {\n        params = params || {\n            bubbles: false,\n            cancelable: false,\n            detail: undefined\n        };\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n        return evt;\n    };\n\n    CustomEvent.prototype = window.Event.prototype;\n\n    window.CustomEvent = CustomEvent;\n})();</pre> \n<p>这段代码复制到页面中，放在具体的业务JavaScript代码的前面，否则可能会因为执行时机先后的问题导致出bug。</p> \n<h3>四、结语</h3> \n<p>最近没事搜自己写的文章，结果发现每一篇文章都被采集站收集了，没有原出处，也不留我姓名，搜索引擎排名比我还高，甚至有些文章某国产垃圾搜索引擎都没有我的名字。</p> \n<p>这些网站居然还活着，还活得很好，居然排名还那么高，例如某某之家之类的网站，真的是很神奇，这种匪夷所思的现象自然离不开同样神奇的某度。</p> \n<p>2021年元旦之后，新的民法典执行，对于知识产权侵犯已经允许惩罚性赔偿了，到时候，我一定直接律师函发过去，我在这里立贴为证！</p> \n<p><img src=\"https://image.zhangxinxu.com/image/emtion/emoji/1f4aa.svg\" width=\"20\" height=\"20\" align=\"absmiddle\" /></p> \n<p>本文为原创文章，欢迎分享，勿全文转载，如果实在喜欢，可收藏，永不过期，且会及时更新知识点及修正错误，阅读体验也更好。<br /> 本文地址：<a href=\"https://www.zhangxinxu.com/wordpress/?p=9533\">https://www.zhangxinxu.com/wordpress/?p=9533</a></p> \n<p>（本篇完）</p>","descriptionType":"html","publishedDate":"Thu, 20 Aug 2020 13:46:56 +0000","feedId":3950,"bgimg":"https://image.zhangxinxu.com/image/blog/202008/custom-event-params.png","linkMd5":"099fb4fe3a19d9b2d8173ae4b83a04f0","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn72@2020_3/2020/08/25/08-55-11-959_0260b1ae12de1f8a.webp","destWidth":415,"destHeight":277,"sourceBytes":12950,"destBytes":9288,"author":"张 鑫旭","articleImgCdnMap":{"https://image.zhangxinxu.com/image/blog/202008/custom-event-params.png":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn72@2020_3/2020/08/25/08-55-11-959_0260b1ae12de1f8a.webp","https://image.zhangxinxu.com/image/blog/202008/2020-08-20_150323.png":"https://cdn.jsdelivr.net/gh/myreaderx25/cdn75@2020_1/2020/08/25/08-55-16-014_275827ee4d46b3b4.webp","https://image.zhangxinxu.com/image/blog/202008/2020-08-20_152108.png":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn79@2020_4/2020/08/25/08-55-15-884_7dfb2d4205ee538e.webp","https://image.zhangxinxu.com/image/emtion/emoji/1f4aa.svg":"https://cdn.jsdelivr.net/gh/myreaderx23/cdn97@2020_1/2020/08/25/08-55-16-333_9886e8f5c861adc2.svg"},"publishedOrCreatedDate":1598345703727},{"createdTime":"2020-08-25 16:55:03","updatedTime":"2020-08-25 16:55:03","title":"CSS overflow-anchor属性与滚动锚定","link":"https://www.zhangxinxu.com/wordpress/?p=9544","description":"<p>by <a href=\"https://www.zhangxinxu.com/\">zhangxinxu</a> from <a href=\"https://www.zhangxinxu.com/wordpress/?p=9544\">https://www.zhangxinxu.com/wordpress/?p=9544</a><br /> 本文欢迎分享与聚合，全文转载就不必了，尊重版权，圈子就这么大，若急用可以联系授权。</p> \n<p><script>window.wxShareImgUrl = 'https://www.zhangxinxu.com/study/image/share/202004-love.png';</script></p> \n<h3>一、滚动锚定是什么？</h3> \n<p>大家可能有过这样的浏览体验，就是图片很多的时候，例如漫画网站，尤其是条漫，在手机端，垂直布局这种，如果上方的图片加载慢，那么下方的图片看着看着就会被推下来，然后自己又要重新去滚动定位。</p> \n<p>这是一个不太友好的浏览器体验行为。</p> \n<p>于是，Chrome 56（2017年）和Firefox 66（2019年）开始最浏览器原来的这些滚动行为进行了优化，实现了一种“滚动锚定”的交互行为。</p> \n<p>具体描述为：当前视区上面的内容突然出现的时候，浏览器自动改变滚动高度，让视区窗口区域内容固定，就像滚动效果被锚定一样。</p> \n<p>因此，在PC端，在Chrome浏览器下和Firefox浏览器下，当你阅读文章或者看条漫的时候，是感觉不到页面跳动的，就是滚动锚定在其作用。</p> \n<h3>二、overflow-anchor属性出现的背景</h3> \n<p>但是，浏览器自认为正确的事情对于用户而言并一定是想要的。</p> \n<p>例如点击下方的一个按钮，会在上方append一些数据，此时，用户希望的是append的数据内容吧下方的按钮推开，优先展示内容，此时，滚动锚定反而拖了后腿，禁止滚动锚定反而是更好的做法。</p> \n<p>如何禁止呢？</p> \n<p>就是使用CSS <code>overflow-anchor</code>属性。</p> \n<h4>语法</h4> \n<p>CSS <code>overflow-anchor</code>属性语法比较简单：</p> \n<pre>overflow-anchor: auto | none</pre> \n<p>其中<code>overflow-anchor:auto</code>是初始声明，表示浏览器自己决定滚动锚定的行为，通常表现为执行滚动锚定；<code>overflow-anchor:none</code>则表示禁止滚动锚定的行为。</p> \n<h4>案例</h4> \n<p>这个案例是实时效果，大家可以直接滚动操作，左边是默认的<code>overflow-anchor:auto</code>，右边设置的是<code>overflow-anchor:none</code>。</p> \n<p><span class=\"s\">//zxx:如果看不到效果，多盗版文章，请前往原文 <a href=\"https://www.zhangxinxu.com/wordpress/?p=9544\" class=\"clip\" style=\"position:absolute;clip:rect(0 0 0 0);left:0;\">https://www.zhangxinxu.com/wordpress/?p=9544</a> 进行体验。</span></p> \n<p><iframe width=\"300\" height=\"400\" src=\"https://www.zhangxinxu.com/study/202008/scroll-anchor.php\" frameborder=\"0\"></iframe> <iframe width=\"300\" height=\"400\" src=\"https://www.zhangxinxu.com/study/202008/scroll-anchor.php?none=true\" frameborder=\"0\"></iframe></p> \n<p>可以看到，左侧的内容滚动后，append了很多div，但是视窗内容纹丝不动，就滚动条的位置变了下；而右侧的内容滚动后，append的内容出现在了视野，滚动条位置保持不变。</p> \n<p>这就是<code>overflow-anchor</code>属性的应用场景示意。</p> \n<h3>三、结语而已</h3> \n<p>通常滚动锚定行为是我们需要的，而<code>overflow-anchor</code>属性的默认值就表现为滚动锚定，因此，<code>overflow-anchor</code>属性平常需要使用的场景比较少，还是那句话，类似<code>overflow-anchor</code>这样的属性，平时觉得没什么，但是一旦遇到合适的场景，那用起来的感觉就是爽歪歪了，这个世界，没有没有用的CSS，只有你不知道的或者不会用的CSS。</p> \n<p>最后，<code>overflow-anchor</code>属性Safari浏览器并不支持，因为，iPhone浏览器下，上面案例两个滚动效果是一样的。</p> \n<p>兼容性如下图所示。</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202008/2020-08-12_232028.png\" width=\"644\" height=\"227\" alt=\"overflow-anchor属性的兼容性\" class=\"alignnone size-medium\" /></p> \n<p>以上就是本文内容，感谢阅读，欢迎分享！</p> \n<p><img src=\"https://image.zhangxinxu.com/image/emtion/emoji/1f618.svg\" width=\"20\" height=\"20\" align=\"absmiddle\" /></p> \n<p>本文为原创文章，欢迎分享，勿全文转载，如果实在喜欢，可收藏，永不过期，且会及时更新知识点及修正错误，阅读体验也更好。<br /> 本文地址：<a href=\"https://www.zhangxinxu.com/wordpress/?p=9544\">https://www.zhangxinxu.com/wordpress/?p=9544</a></p> \n<p>（本篇完）</p>","descriptionType":"html","publishedDate":"Wed, 12 Aug 2020 15:27:50 +0000","feedId":3950,"bgimg":"https://image.zhangxinxu.com/image/blog/202008/2020-08-12_232028.png","linkMd5":"386caa369389b1c55d34165b1a694a2b","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn58@2020_3/2020/08/25/08-55-11-558_6f293f14aaea3472.webp","destWidth":644,"destHeight":227,"sourceBytes":7991,"destBytes":19584,"author":"张 鑫旭","articleImgCdnMap":{"https://image.zhangxinxu.com/image/blog/202008/2020-08-12_232028.png":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn58@2020_3/2020/08/25/08-55-11-558_6f293f14aaea3472.webp","https://image.zhangxinxu.com/image/emtion/emoji/1f618.svg":"https://cdn.jsdelivr.net/gh/myreaderx14/cdn19@2020_6/2020/08/25/08-55-16-615_ab0051cdab5c9258.svg"},"publishedOrCreatedDate":1598345703728},{"createdTime":"2020-08-25 16:55:03","updatedTime":"2020-08-25 16:55:03","title":"巧用CSS cross-fade()实现背景图像半透明效果","link":"https://www.zhangxinxu.com/wordpress/?p=9489","description":"<p>by <a href=\"https://www.zhangxinxu.com/\">zhangxinxu</a> from <a href=\"https://www.zhangxinxu.com/wordpress/?p=9489\">https://www.zhangxinxu.com/wordpress/?p=9489</a><br /> 本文欢迎分享与聚合，全文转载就不必了，尊重版权，圈子就这么大，若急用可以联系授权。</p> \n<p><script>window.wxShareImgUrl = 'https://www.zhangxinxu.com/study/image/share/202007-cross-fade.jpg';</script></p> \n<h3>一、需求描述</h3> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202007/cross-fade-cover.jpg\" width=\"440\" height=\"291\" alt=\"cross-fade背景图透明度降低\" class=\"alignright clip thumb size-medium\" /></p> \n<p>某元素，希望<code>background-image</code>背景图片是半透明的，但是，元素里面的其他内容，例如文字，图标之类的还是不透明。</p> \n<p>如果是纯色背景或者是CSS渐变背景，很好处理，使用<code>rgba</code>或者<code>hsla</code>颜色色值即可。</p> \n<p>但是，如果是<code>url()</code>背景图像，似乎就无能为力了。</p> \n<p>如果是个内联的<code>&lt;img&gt;</code>图像那很好处理，无论是<a href=\"https://www.zhangxinxu.com/wordpress/2019/06/fdcon2019-css-share/\">filter滤镜</a>、<a href=\"https://www.zhangxinxu.com/wordpress/2017/11/css-css3-mask-masks/\">mask遮罩</a>还是<code>opacity</code>透明度设置都可以实现我们的效果，但是偏偏这里是背景图像，所有前面提到的这些方法都会影响文字的正常显示。</p> \n<p>我估计很多人会想到使用<code>::before</code>/<code>::after</code>伪元素实现，例如：</p> \n<pre>.box {\n   position: relative;\n   z-index: 0;\n}\n.box::before {\n   content: '';\n   position: absolute;\n   left: 0; right: 0; top: 0; bottom: 0;\n   background: url(xxx.jpg) no-repeat center / contain;\n   z-index: -1;\n   opacity: .5;\n}</pre> \n<p>实时效果如下（如果没有效果请访问<a href=\"https://www.zhangxinxu.com/wordpress/?p=9489\">原文</a> <span class=\"hidden\">作者张鑫旭</span>）：</p> \n<div class=\"box-by\">\n by-zhangxinxu\n</div> \n<style>.box-by { width: 300px; height: 240px; position: relative; z-index: 0; display: flex; align-items: center; justify-content: center; font-size: 2rem; } .box-by::before { content: ''; position: absolute; left: 0; right: 0; top: 0; bottom: 0; background: url(https://image.zhangxinxu.com/image/study/s/s512/mm.jpg) no-repeat center / contain; z-index: -1; opacity: 0.5; }</style> \n<p>但是这个方法太啰嗦，成本太高（创建了大量的<a href=\"https://www.zhangxinxu.com/wordpress/?p=5115\">层叠上下文</a>、尺寸是不是需要调整），无法大规模使用。</p> \n<p>有没有什么好的实现方法呢？</p> \n<p>试试使用<code>cross-fade()</code>图像函数。</p> \n<h3>二、cross-fade()实现背景图像半透明</h3> \n<p><code>cross-fade()</code>函数可以让两张图像半透明混合。</p> \n<p>例如：</p> \n<pre>&lt;div class=\"cross-fade-image\"&gt;&lt;/div&gt;</pre> \n<pre>.cross-fade-image {\n    width: 300px; height: 300px;\n    background: no-repeat center / contain;\n    background-image: -webkit-cross-fade(url(1.jpg), url(2.jpg), 50%);\n    background-image: cross-fade(url(1.jpg), url(2.jpg), 50%);   \n}</pre> \n<p>就会有下图所示的效果。</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202007/10_12-cross-fade.png\" loading=\"lazy\" width=\"701\" height=\"286\" /></p> \n<p><code>2.jpg</code>这张图以50%的透明度和<code>1.jpg</code>进行了混合渲染。</p> \n<p>上面案例使用的是<code>cross-fade()</code>函数的传统语法，具体如下：</p> \n<pre><dfn id=\"ltimage-combination\">&lt;image-combination&gt;</dfn> = cross-fade( &lt;image&gt;, &lt;image&gt;, &lt;percentage&gt; )</pre> \n<p>其中<code>&lt;percentage&gt;</code>指的是透明度，只会改变第2个图像的透明度，最终的效果是第1个图像完全不透明和第2个图像半透明叠加的效果。</p> \n<p>关于<code>cross-fade()</code>图像函数中的百分比值改变的仅仅是后面一个图像的透明度，我很久以前做过一个demo页面进行过测试，您可以狠狠地点击这里：<a class=\"a_link\" target=\"_blank\" href=\"http://www.zhangxinxu.com/study/201209/css3-background-image-cross-fade.html\">CSS3 cross-fade属性透明度作用对象测试</a></p> \n<p>示意截图如下：</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/201801/2018-01-02_020153.jpg\" width=\"300\" height=\"523\" alt=\"cross-fade与opacity作用对比效果测试\" class=\"alignnone\" /></p> \n<hr> \n <p>虽然<code>cross-fade()</code>函数设计的初衷是多个图像半透明叠加，但是，这样的场景实际开发很少遇到，因此，<code>cross-fade()</code>反而更适合控制单个背景图像的半透明效果。</p> \n <p>实现原理很简单，第1张图使用透明图片，第2张图使用目标图片就可以了。</p> \n <p><strong>举个例子：</strong></p> \n <p>某背景图在黑暗模式下太亮了，希望调整下背景图的明暗度，使用<code>cross-fade()</code>函数实现就是下面这段CSS代码（宽高设置的CSS略）：</p> \n <pre>.dark {\n    <span style=\"color:green;\">/* 兜底，IE和Firefox浏览器 */</span>\n    background-image: url(2.jpg);\n    --transparent: url(data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==);\n    <span style=\"color:green;\">/* Safari最近版本已经不需要私有前缀了 */</span>\n    background-image: cross-fade(var(--transparent), url(2.jpg), 40%);\n    <span style=\"color:green;\">/* 如使用自定义属性，-webkit-语句需要放在没有私有前缀语句的下面 */</span>\n    background-image: -webkit-cross-fade(var(--transparent), url(2.jpg), 40%);\n\n    background-size: cover;\n}</pre> \n <p>效果如下：</p> \n <p><img src=\"https://image.zhangxinxu.com/image/blog/202007/10_13-cross-fade-bgimg-opacity.png\" loading=\"lazy\" width=\"585\" height=\"390\" /></p> \n <p>是不是很简单，是不是比伪元素实现要靠谱的多，对应的demo访问<a href=\"https://demo.cssworld.cn/new/10/4-2.php\" rel=\"noopener\" target=\"_blank\">这里</a>。</p> \n <p><code>cross-fade()</code>本质上就是个<code>&lt;image&gt;</code>图像数据类型，和<code>url()</code>图像，gradient渐变图像，<a href=\"https://www.zhangxinxu.com/wordpress/2019/11/css-image-set/\">image-set()函数</a>是一个性质，可以用在<code>border-image</code>, <code>mask-image</code>等属性中。</p> \n <p>因此，使用<code>cross-fade()</code>函数替换<code>url()</code>函数实现背景图片的半透明效果决定是成本最低，效果最好的方法。</p> \n <h3>三、移动端兼容性极佳</h3> \n <p><code>cross-fade()</code>函数webkit浏览器支持的非常早，iOS 5，Android 4.4均支持，只不过需要设置私有前缀，具体如下图所示：</p> \n <p><img src=\"https://image.zhangxinxu.com/image/blog/202007/2020-07-06_212602.png\" width=\"648\" height=\"404\" alt=\"cross-fade()兼容性\" class=\"alignnone size-medium\" /></p> \n <p>因此，在移动端可以放心使用，至于PC端，不需要考虑IE浏览器的项目也是可以放心使用的，就算需要考虑IE也没毛病，不过就是背景图还是完全不透明而已，视觉体验稍微低了一点而已。</p> \n <p>这世界上没有所谓的没有用的CSS属性，只是没有遇到合适的场景而已；就像依然单身的诸位，只是还没有遇到合适的那个他/她而已。</p> \n <p>另外，<code>cross-fade()</code>函数加入CSS规范后有了新的语法，更灵活更强大，但是目前没有任何浏览器支持，因此本文没有做相关介绍。</p> \n <p>以上就是本文内容，感谢阅读，如果你觉得内容还不错，欢迎分享，分享与分享。</p> \n <p>让有用的知识惠及更多的人。</p> \n <p><img src=\"https://image.zhangxinxu.com/image/emtion/emoji/2764.svg\" width=\"20\" height=\"20\" align=\"absmiddle\" /></p> \n <p>本文为原创文章，欢迎分享，勿全文转载，如果实在喜欢，可收藏，永不过期，且会及时更新知识点及修正错误，阅读体验也更好。<br /> 本文地址：<a href=\"https://www.zhangxinxu.com/wordpress/?p=9489\">https://www.zhangxinxu.com/wordpress/?p=9489</a></p> \n <p>（本篇完）</p> \n</hr>","descriptionType":"html","publishedDate":"Mon, 06 Jul 2020 13:55:19 +0000","feedId":3950,"bgimg":"https://image.zhangxinxu.com/image/blog/202007/cross-fade-cover.jpg","linkMd5":"779846e63ba5a24462ba1e805aac1a57","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn54@2020_1/2020/08/25/08-55-10-956_54efcbc857fc939b.webp","destWidth":440,"destHeight":291,"sourceBytes":24346,"destBytes":13760,"author":"张 鑫旭","articleImgCdnMap":{"https://image.zhangxinxu.com/image/blog/202007/cross-fade-cover.jpg":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn54@2020_1/2020/08/25/08-55-10-956_54efcbc857fc939b.webp","https://image.zhangxinxu.com/image/blog/202007/10_12-cross-fade.png":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn96@2020_2/2020/08/25/08-55-15-523_ec250d34a7da4632.webp","https://image.zhangxinxu.com/image/blog/201801/2018-01-02_020153.jpg":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn100@2020_3/2020/08/25/08-55-15-611_0d6f4ee57a6d8542.webp","https://image.zhangxinxu.com/image/blog/202007/10_13-cross-fade-bgimg-opacity.png":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn52@2020_4/2020/08/25/08-55-15-445_b171ef68ef71bb1c.webp","https://image.zhangxinxu.com/image/blog/202007/2020-07-06_212602.png":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn92@2020_5/2020/08/25/08-55-16-897_54930e53b97adcb8.webp","https://image.zhangxinxu.com/image/emtion/emoji/2764.svg":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn84@2020_5/2020/08/25/08-55-14-655_345d3ecc932d1a40.svg"},"publishedOrCreatedDate":1598345703729},{"createdTime":"2020-08-25 16:55:03","updatedTime":"2020-08-25 16:55:03","title":"移动端双指缩放图片JS事件的实践心得","link":"https://www.zhangxinxu.com/wordpress/?p=9461","description":"<p>by <a href=\"https://www.zhangxinxu.com/\">zhangxinxu</a> from <a href=\"https://www.zhangxinxu.com/wordpress/?p=9461\">https://www.zhangxinxu.com/wordpress/?p=9461</a><br /> 本文欢迎分享与聚合，全文转载就不必了，尊重版权，圈子就这么大，若急用可以联系授权。</p> \n<p><script>window.wxShareImgUrl = 'https://www.zhangxinxu.com/study/image/share/202006-pinch-spread.png';</script></p> \n<h3>一、Chrome浏览器双指触摸的模拟</h3> \n<p>结果是模拟不了。</p> \n<p>页面整体缩放行为是可以通过按住Shift键+页面左键模拟的，但是，实际上，还是一个触摸点，因此无法模拟双指缩放行为。</p> \n<p>除非是有触摸板，或者屏幕就是触摸屏。</p> \n<p>否则，只能连手机进行调试了。</p> \n<h3>二、触摸屏与event.touches</h3> \n<p>在触屏设备下，要判断是单指还是多指操作，可以通过<code>event.touches</code>数组对象的长度判断。</p> \n<p>例如：</p> \n<pre>document.addEventListener('touchstart', function (event) {\n    var touches = event.touches;\n    if (touches.length == 1) {\n        console.log('单指');\n    } else if (touches.length &gt;= 2) {\n        console.log('多指');\n    }\n});</pre> \n<p>按照我们的理解，上面的逻辑应该是无懈可击的。</p> \n<p>实际上并不是。</p> \n<p>我一开始也是在<code>'touchstart'</code>事件中判断是单指还是双指，结果发现了奇怪的现象，有时候是单指，有时候是双指，双指复现的概率可能不到1成。</p> \n<p>这可真是奇怪了。</p> \n<p>后来一番测试，终于弄清楚原因了。</p> \n<p>只有当两个指头同时触摸屏幕的时候，才能在touchstart事件中被识别为双指操作。</p> \n<p>这太难了，没有谁的两个指头是一样长的，很难同一时间戳中屏幕的。</p> \n<p>因此，双指事件的判断需要在<code>touchmove</code>事件中才行。</p> \n<h3>三、双指行为的判断</h3> \n<p>代码如下：</p> \n<pre>document.addEventListener('touchmove', function (event) {\n    if (event.touches &amp;&amp; event.touches.length == 2) {\n        console.log('双指在移动');\n    }\n});</pre> \n<h3>四、双指缩放功能的实现</h3> \n<p>双指缩放功能的实现的难点就是缩放比例的计算。</p> \n<p><code>event.touches</code>中的每一项都是触摸点对象，包含了触碰的元素以及触摸点的坐标。</p> \n<p>其中，触摸点的坐标就可以用来计算缩放比例。</p> \n<p>我们记录下第一次双指行为发生时候的两个手指点的坐标值，于是就可以计算出这两个指头之间的距离；</p> \n<p>然后继续<code>touchmove</code>的时候，实时计算出新的两个手指的坐标距离。</p> \n<p>一开始的距离/现在的距离 = 应该缩放的比例。</p> \n<p>如下图所示：</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202006/pinch-spread.png\" width=\"543\" height=\"177\" alt=\"双指操作示意\" class=\"alignnone size-medium\" /></p> \n<h4>实例演示</h4> \n<p>假设页面上有一张图片元素，要实现这种图片的双指缩放预览效果：</p> \n<pre>&lt;img id=\"image\" src=\"1.png\"&gt;</pre> \n<p>则可以试试使用下面所示的JS代码：</p> \n<pre>var eleImg = document.querySelector('#image');\nvar store = {\n    scale: 1\n};\n<span style=\"color:green;\">// 缩放事件的处理</span>\neleImg.addEventListener('touchstart', function (event) {\n    var touches = event.touches;\n    var events = touches[0];\n    var events2 = touches[1];\n\n    event.preventDefault();\n\n    <span style=\"color:green;\">// 第一个触摸点的坐标</span>\n    store.pageX = events.pageX;\n    store.pageY = events.pageY;\n\n    store.moveable = true;\n\n    if (events2) {\n        store.pageX2 = events2.pageX;\n        store.pageY2 = events2.pageY;\n    }\n\n    store.originScale = store.scale || 1;\n});\ndocument.addEventListener('touchmove', function (event) {\n    if (!store.moveable) {\n        return;\n    }\n\n    event.preventDefault();\n\n    var touches = event.touches;\n    var events = touches[0];\n    var events2 = touches[1];\n    <span style=\"color:green;\">// 双指移动</span>\n    if (events2) {\n        <span style=\"color:green;\">// 第2个指头坐标在touchmove时候获取</span>\n        if (!store.pageX2) {\n            store.pageX2 = events2.pageX;\n        }\n        if (!store.pageY2) {\n            store.pageY2 = events2.pageY;\n        }\n\n        <span style=\"color:green;\">// 获取坐标之间的举例</span>\n        var getDistance = function (start, stop) {\n            return Math.hypot(stop.x - start.x, stop.y - start.y);\n        };\n        <span style=\"color:green;\">// 双指缩放比例计算</span>\n        var zoom = getDistance({\n            x: events.pageX,\n            y: events.pageY\n        }, {\n            x: events2.pageX,\n            y: events2.pageY\n        }) /\n        getDistance({\n            x: store.pageX,\n            y: store.pageY\n        }, {\n            x: store.pageX2,\n            y: store.pageY2\n        });\n        <span style=\"color:green;\">// 应用在元素上的缩放比例</span>\n        var newScale = store.originScale * zoom;\n        <span style=\"color:green;\">// 最大缩放比例限制</span>\n        if (newScale &gt; 3) {\n            newScale = 3;\n        }\n        <span style=\"color:green;\">// 记住使用的缩放值</span>\n        store.scale = newScale;\n        <span style=\"color:green;\">// 图像应用缩放效果</span>\n        eleImg.style.transform = 'scale('+ newScale +')';\n    }\n});\n\ndocument.addEventListener('touchend', function () {\n    store.moveable = false;\n\n    delete store.pageX2;\n    delete store.pageY2;\n});\ndocument.addEventListener('touchcancel', function () {\n    store.moveable = false;\n\n    delete store.pageX2;\n    delete store.pageY2;\n});</pre> \n<p>大家可以访问这个地址（如果手机访问本文）：<a href=\"https://www.zhangxinxu.com/study/202006/resize.html\" rel=\"noopener\" target=\"_blank\">https://www.zhangxinxu.com/study/202006/resize.html</a></p> \n<p>或者扫下面的码进行体验（如果是PC浏览器访问）：</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202006/qrcode-touch-scale.png\" width=\"150\" height=\"150\" alt=\"二维码\" class=\"alignnone size-medium\" /></p> \n<p>双指缩放效果就可以体验了，最大比例做了限制，最小比例没有做限制。</p> \n<h3>五、结语以及其他</h3> \n<p>demo页面的<code>touchmove</code>没有设置<code>passive:false</code>也没有报错，是因为<code>html</code>标签设置了如下CSS：</p> \n<pre>html { touch-action: none; }</pre> \n<p>如果有兴趣了解背后原理，可以访问这篇文章：<a href=\"https://www.zhangxinxu.com/wordpress/?p=7765\">touch-action简介与treated as passive错误解决</a></p> \n<p>本文是自己实际工作实践中的一点手机中双指缩放图片的经验分享，考虑到自己以后遇到类似需求可能还会用到，所以记录下，希望可以帮到有类似需求的小伙伴。</p> \n<p>以上~感谢阅读，欢迎share~</p> \n<p><img src=\"https://image.zhangxinxu.com/image/emtion/emoji/1f618.svg\" width=\"20\" height=\"20\" align=\"absmiddle\" /></p> \n<p>本文为原创文章，欢迎分享，勿全文转载，如果实在喜欢，可收藏，永不过期，且会及时更新知识点及修正错误，阅读体验也更好。<br /> 本文地址：<a href=\"https://www.zhangxinxu.com/wordpress/?p=9461\">https://www.zhangxinxu.com/wordpress/?p=9461</a></p> \n<p>（本篇完）</p>","descriptionType":"html","publishedDate":"Fri, 12 Jun 2020 15:09:40 +0000","feedId":3950,"bgimg":"https://image.zhangxinxu.com/image/blog/202006/pinch-spread.png","linkMd5":"ca1ef772d8923a5b34d5bedd6d664383","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn63@2020_4/2020/08/25/08-55-12-523_ce42379b525f0143.webp","destWidth":543,"destHeight":177,"sourceBytes":12400,"destBytes":8270,"author":"张 鑫旭","articleImgCdnMap":{"https://image.zhangxinxu.com/image/blog/202006/pinch-spread.png":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn63@2020_4/2020/08/25/08-55-12-523_ce42379b525f0143.webp","https://image.zhangxinxu.com/image/blog/202006/qrcode-touch-scale.png":"https://cdn.jsdelivr.net/gh/myreaderx23/cdn7@2020_1/2020/08/25/08-55-18-375_70698beb7c5b0a51.webp","https://image.zhangxinxu.com/image/emtion/emoji/1f618.svg":"https://cdn.jsdelivr.net/gh/myreaderx14/cdn19@2020_6/2020/08/25/08-55-16-615_ab0051cdab5c9258.svg"},"publishedOrCreatedDate":1598345703728},{"createdTime":"2020-08-25 16:55:03","updatedTime":"2020-08-25 16:55:03","title":"CSS gap属性进化史","link":"https://www.zhangxinxu.com/wordpress/?p=9453","description":"<p>by <a href=\"https://www.zhangxinxu.com/\">zhangxinxu</a> from <a href=\"https://www.zhangxinxu.com/wordpress/?p=9453\">https://www.zhangxinxu.com/wordpress/?p=9453</a><br /> 本文欢迎分享与聚合，全文转载就不必了，尊重版权，圈子就这么大，若急用可以联系授权。</p> \n<p><script>window.wxShareImgUrl = 'https://www.zhangxinxu.com/study/image/share/202006-gap.png';</script></p> \n<h3>一、CSS规范走模块的后遗症</h3> \n<p>以前的CSS规范，都是整在一起的。按照版本走的。也就是说，CSS要想发一个新的版必须所有的属性全都通过。就带来一个问题，那就是CSS规范非常难产。只要有一个CSS属性有争议，无法达成一致，那么这个版本的CSS规范就无法发布。从CSS2.1到CSS3，中间经历了差不多有十年的时间就是因为这样的原因。</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202006/gap-cover.png\" width=\"161\" height=\"100\" alt=\"蜜瓜占位\" class=\"alignleft size-medium\" /></p> \n<p>于是后来，CSS3规范之后，就开始做了调整，新的CSS特性再也不按照一个大的版本进行迭代，而是按照一个一个具体的模块进行制定。</p> \n<p>于是大家可以发现，在很短的时间内，各种各样的CSS新特性都出现了。浏览器支持这些特性，不需要等待一个完整的发版过程，只需要浏览器厂商觉得这个模块里这个东西很合适，那我就去支持他，哪怕他现在还不稳定，还在实验阶段。</p> \n<p>典型的案例就是<code>env()</code>环境变量，以及黑暗模式的媒体特性支持。</p> \n<p>这样一个CSS规范策略确实繁荣了CSS，但是也带来了一个后遗症，什么后遗症呢？就是由于各个模块独立发展，导致原本很多类似的属性并没有大统一，各走各的，带来了一些内耗，也就是无谓的学习成本。</p> \n<p>很典型的例子就是对齐属性。</p> \n<p>Flex布局中的对齐和Grid对齐明明属性和作用是一样的，但是属性值却不一样。</p> \n<p>例如Flex布局中<code>justify-content</code>属性支持的是<code>flex-start</code>和<code>flex-end</code>，不支持<code>start</code>和<code>end</code>（以后可能会支持）；Grid布局中<code>justify-content</code>属性支持的<code>start</code>和<code>end</code>，同时也支持<code>flex-start</code>和<code>flex-end</code>！【费解的】<img src=\"https://image.zhangxinxu.com/image/emtion/emoji/1f914.svg\" width=\"20\" height=\"20\" align=\"absmiddle\" /></p> \n<p>就是因为Flex布局模块和Grid布局模块是两个独立的CSS模块，估计是怕冲突，Grid布局模块是后出来的，所以支持的值更多一些。</p> \n<p>同样的，我们来看下gap属性的发展史，也会看到类似的“后遗症”。</p> \n<h3>二、gap从单个模块属性走向整个CSS世界</h3> \n<p>其实一开始的时候是没有<code>gap</code>属性的。最开始出现的类似的CSS属性是在Grid布局中，那个时候还叫做<code>grid-gap</code>，是CSS <code>grid-row-gap</code>和<code>grid-column-gap</code>属性的缩写。</p> \n<p>后来为什么改变了呢？</p> \n<p>因为Grid规范的制定者们一抬头，发现，在Multi-column布局中，也有一个间隙的概念，对应的CSS属性叫做<code>column-gap</code>，IE10浏览器也支持。如下图所示，大好河山一片绿：</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202006/2020-06-07_223001.png\" width=\"804\" height=\"319\" alt=\"多栏布局中column-gap兼容性\" class=\"alignnone size-medium\" /></p> \n<p>诶，你看！内耗不就来了吗？</p> \n<p>Multi-column布局制定的非常非常的早，在CSS2.0时期规范就已经开始制定了，不过最后到了CSS3时代才落地的。</p> \n<p>也就是说，整个CSS世界中，<code>column-gap</code>属性第1个规范的间隙属性。</p> \n<p>但是，在Grid布局那里，由于一开始过分看重独立性，模块化，并没有大同思想，于是，出现了<code>grid-column-gap</code>属性。</p> \n<p>然后，没多久，Grid布局规范意识到了同时存在<code>grid-column-gap</code>和<code>column-gap</code>对于开发者的学习而言，是不友好的，一样的作用，一样的语义，使用不同的名称，这不就像网络上那些故意和主流观点唱反调标新立异刷存在感自以为是的键盘侠吗？</p> \n<p>知错能改善莫大焉。</p> \n<p>于是，很快，<code>grid-gap</code>属性从Grid规范中去除了。</p> \n<p>因此，虽然显然Grid布局还是支持<code>grid-gap</code>属性，但是，请不要再使用了，请使用<code>gap</code>、<code>row-gap</code>和<code>column-gap</code>属性代替，这才是新的标准。</p> \n<p>目前gap属性在Grid布局中的兼容性如下图，是从2018年开始支持的，下图带有上标①的均是老的<code>grid-gap</code>语法支持时间：</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202006/2020-06-07_221840.png\" width=\"645\" height=\"320\" alt=\"gap属性在Grid布局中的兼容性\" class=\"alignnone size-medium\" /></p> \n<h4>原来的Multi-column布局怎么办？</h4> \n<p>只这样的，CSS世界所有的间隙属性使用<code>gap</code>属性大统一之后，Multi-column布局也迎来了对<code>gap</code>属性的支持，或者说丰富了间隙的概念。</p> \n<p>在CSS世界中，间隙分为列间隙和行间隙，Multi-column布局是多栏布局，只有列间隙，因此，只有<code>column-gap</code>属性有作用，而<code>row-gap</code>属性虽然语法正确，但是却没有布局上的表现，因为没有行间隙的概念。</p> \n<p>同样的，<code>gap</code>属性也可以用在Multi-column布局中，用来设置列间隙，实际上，起作用的是<code>column-gap</code>属性。</p> \n<p>兼容性如下图（Safari浏览器支持的，有错误）。</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202006/2020-06-07_222604.png\" width=\"724\" height=\"262\" alt=\"gap属性在columns布局中的兼容性\" class=\"alignnone size-medium\" /></p> \n<h4>Flex布局怎么办？</h4> \n<p>Flex布局作为1维布局，也是有间隙的概念的，于是，很快，Flex布局规范也吸纳了<code>gap</code>属性，也就是flex子项之间的各个间隙也可以使用<code>gap</code>属性进行设置了。</p> \n<p>只是，<code>gap</code>属进化到Flex布局的时间有点晚，不过，可以看到最新的Chrome浏览器已经支持了，如下图所示：</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202006/2020-06-07_223532.png\" width=\"572\" height=\"345\" alt=\"gap属性在flex布局中的兼容性\" class=\"alignnone size-medium\" /></p> \n<p>假以时日就可以使用了。</p> \n<h3>三、gap属性进化史回顾</h3> \n<p>如下：</p> \n<ol> \n <li>Multi-column布局首先支持了<code>column-gap</code>属性。</li> \n <li>Grid布局规范模块独立发展，出现了grid布局独有的间隙属性<code>grid-gap</code>，<code>grid-row-gap</code>和<code>grid-column-gap</code>。</li> \n <li>站在CSS世界整体视角，CSS间隙属性出现了内耗。于是，规范调整，保留列间隙和行间隙的概念，但是CSS属性向已经存在的<code>column-gap</code>属性靠拢。于是，<code>gap</code>，<code>row-gap</code>和<code>column-gap</code>属性诞生，成为CSS世界中统一的间隙属性。</li> \n <li>Multi-column布局也额外支持了<code>gap</code>和<code>row-gap</code>属性，只是多栏布局没有行间隙概念，因此<code>row-gap</code>属性并无渲染效果。</li> \n <li>Flex布局也采用间隙的概念，支持了统一的<code>gap</code>属性，只是刚支持不久。</li> \n</ol> \n<p>以后，希望CSS对齐属性们也能一统江湖，不要弄出那么多不同的值出来。</p> \n<p>好，本文内容就这么多，带大家了解下<code>gap</code>属性的前世今生。</p> \n<p>感谢阅读，行文仓促，错误在所难免，欢迎指正，也欢迎分享本文。</p> \n<p><img src=\"https://image.zhangxinxu.com/image/emtion/emoji/1f60f.svg\" width=\"20\" height=\"20\" align=\"absmiddle\" /></p> \n<p>本文为原创文章，欢迎分享，勿全文转载，如果实在喜欢，可收藏，永不过期，且会及时更新知识点及修正错误，阅读体验也更好。<br /> 本文地址：<a href=\"https://www.zhangxinxu.com/wordpress/?p=9453\">https://www.zhangxinxu.com/wordpress/?p=9453</a></p> \n<p>（本篇完）</p>","descriptionType":"html","publishedDate":"Sun, 07 Jun 2020 14:57:30 +0000","feedId":3950,"bgimg":"","linkMd5":"e9835cf862ce7b112b34212b3c42026e","bgimgJsdelivr":"","metaImg":"","author":"张 鑫旭","articleImgCdnMap":{"https://image.zhangxinxu.com/image/blog/202006/gap-cover.png":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn51@2020_5/2020/08/25/08-55-18-485_9a426608bd472cf2.webp","https://image.zhangxinxu.com/image/emtion/emoji/1f914.svg":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn87@2020_3/2020/08/25/08-55-16-094_0f2fd6cd1cd49d4a.svg","https://image.zhangxinxu.com/image/blog/202006/2020-06-07_223001.png":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn84@2020_1/2020/08/25/08-55-18-519_e3f898528c588b1a.webp","https://image.zhangxinxu.com/image/blog/202006/2020-06-07_221840.png":"https://cdn.jsdelivr.net/gh/myreaderx14/cdn7@2020_2/2020/08/25/08-55-14-310_9e90112027f752f0.webp","https://image.zhangxinxu.com/image/blog/202006/2020-06-07_222604.png":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn86@2020_6/2020/08/25/08-55-16-966_5db2a2057cd9bdab.webp","https://image.zhangxinxu.com/image/blog/202006/2020-06-07_223532.png":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn80@2020_1/2020/08/25/08-55-15-521_d145263baafa0675.webp","https://image.zhangxinxu.com/image/emtion/emoji/1f60f.svg":"https://cdn.jsdelivr.net/gh/myreaderx25/cdn63@2020_5/2020/08/25/08-55-16-061_3cf34eb6f69085cb.svg"},"publishedOrCreatedDate":1598345703730}],"record":{"createdTime":"2020-08-25 16:55:03","updatedTime":"2020-08-25 16:55:03","feedId":3950,"fetchDate":"Tue, 25 Aug 2020 08:55:03 +0000","fetchMs":6907,"handleMs":3811,"totalMs":27098,"newArticles":0,"totalArticles":10,"status":1,"type":0,"ip":"dccee34bd0b1e1e51aa26d54e37db631","hostName":"us-023*","requestId":"c66dbb6f65094ef791049b93e2bd75eb_3950","contentType":"application/rss+xml; charset=UTF-8","totalBytes":626943,"bgimgsTotal":8,"bgimgsGithubTotal":8,"articlesImgsTotal":55,"articlesImgsGithubTotal":55,"successGithubMap":{"myreaderx14":2,"myreaderx8":1,"myreaderx15":2,"myreaderx7":1,"myreaderx6":1,"myreaderx16":2,"myreaderx4":3,"myreaderx10":3,"myreaderx32":1,"myreaderx3":2,"myreaderx33":1,"myreaderx11":1,"myreaderx2":2,"myreaderx12":3,"myreaderx13":2,"myreaderx1":3,"myreaderx30":2,"myreaderx31":1,"myreaderx18":1,"myreaderx19":1,"myreaderx":1,"myreaderx25":2,"myreaderx27":3,"myreaderx21":3,"myreaderx22":3,"myreaderx23":2,"myreaderx24":2,"myreaderx5oss":2,"myreaderx29":2},"failGithubMap":{}},"feed":{"createdTime":"2020-08-25 04:29:34","updatedTime":"2020-08-25 04:29:34","id":3950,"name":"张鑫旭-鑫空间-鑫生活","url":"http://www.zhangxinxu.com/wordpress/?feed=rss2","subscriber":null,"website":null,"icon":"https://www.zhangxinxu.com/favicon.ico","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx65/cdn37@2020_6/2020/08/25/08-55-02-901_9a339309f46b07b8.ico","description":"提高前端技术，先从使用谷歌搜索做起","weekly":null,"link":"https://www.zhangxinxu.com"},"noPictureArticleList":[],"tmpCommonImgCdnBytes":98264,"tmpBodyImgCdnBytes":528679,"tmpBgImgCdnBytes":0,"extra4":{"start":1598345692514,"total":0,"statList":[{"spend":7405,"msg":"获取xml内容"},{"spend":3811,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":5488,"msg":"正文链接上传到cdn"}]},"extra5":55,"extra6":55,"extra7ImgCdnFailResultVector":[{"code":500,"msg":"Cannot run program \"/tmp/bin/cwebp\": error=13, Permission denied","isDone":false,"sourceBytes":0,"destBytes":0,"totalSpendMs":0,"convertSpendMs":0,"createdTime":"2020-08-25 16:55:12","sourceSize":"0","destSize":"0"}],"extra10_invalidATagHrefValue":{"https://www.zhangxinxu.com/wordpress/?p=9477_javascript:":"https://www.zhangxinxu.com/wordpress/javascript:"},"extra111_proxyServerAndStatMap":{"http://us-53.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://europe68.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-002.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://europe-60.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-038.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-020.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-23.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://europe69.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-017.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe64.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-57.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://europe-22.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-008.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-013.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-018.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-039.herokuapp.com/":{"failCount":0,"successCount":3,"resultList":[200,200,200]},"http://europe65.herokuapp.com/":{"failCount":0,"successCount":3,"resultList":[200,200,200]},"http://us-021.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-005.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-035.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://europe61.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-022.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-030.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-009.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-006.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-001.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-031.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-010.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-014.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-027.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202007/cross-fade-cover.jpg","sourceStatusCode":200,"destWidth":440,"destHeight":291,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn54@2020_1/2020/08/25/08-55-10-956_54efcbc857fc939b.webp","sourceBytes":24346,"destBytes":13760,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":1351,"convertSpendMs":10,"createdTime":"2020-08-25 16:55:10","host":"us-52*","referer":"https://www.zhangxinxu.com/wordpress/?p=9489","linkMd5ListStr":"779846e63ba5a24462ba1e805aac1a57,779846e63ba5a24462ba1e805aac1a57","githubUser":"myreaderx22","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"23.8 KB","destSize":"13.4 KB","compressRate":"56.5%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202007/audio-clip-cover.jpg","sourceStatusCode":200,"destWidth":480,"destHeight":310,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn70@2020_4/2020/08/25/08-55-11-231_1f10144790b49864.webp","sourceBytes":29167,"destBytes":18728,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":1609,"convertSpendMs":9,"createdTime":"2020-08-25 16:55:10","host":"us-55*","referer":"https://www.zhangxinxu.com/wordpress/?p=9505","linkMd5ListStr":"6cc454a87a8d16468f7f9357ad598eb1,6cc454a87a8d16468f7f9357ad598eb1","githubUser":"myreaderx1","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"28.5 KB","destSize":"18.3 KB","compressRate":"64.2%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202008/2020-08-12_232028.png","sourceStatusCode":200,"destWidth":644,"destHeight":227,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn58@2020_3/2020/08/25/08-55-11-558_6f293f14aaea3472.webp","sourceBytes":7991,"destBytes":19584,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":1965,"convertSpendMs":13,"createdTime":"2020-08-25 16:55:10","host":"us-030*","referer":"https://www.zhangxinxu.com/wordpress/?p=9544","linkMd5ListStr":"386caa369389b1c55d34165b1a694a2b,386caa369389b1c55d34165b1a694a2b","githubUser":"myreaderx10","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"7.8 KB","destSize":"19.1 KB","compressRate":"245.1%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202007/11-67_background-blend-mode-sort.png","sourceStatusCode":200,"destWidth":455,"destHeight":202,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn61@2020_1/2020/08/25/08-55-10-872_997366fce87bee25.webp","sourceBytes":11407,"destBytes":7812,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":1322,"convertSpendMs":6,"createdTime":"2020-08-25 16:55:10","host":"us-004*","referer":"https://www.zhangxinxu.com/wordpress/?p=9499","linkMd5ListStr":"88a14fa4da399ee1ffb5122854a41c51,88a14fa4da399ee1ffb5122854a41c51","githubUser":"myreaderx4","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"11.1 KB","destSize":"7.6 KB","compressRate":"68.5%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202008/custom-event-params.png","sourceStatusCode":200,"destWidth":415,"destHeight":277,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn72@2020_3/2020/08/25/08-55-11-959_0260b1ae12de1f8a.webp","sourceBytes":12950,"destBytes":9288,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":2307,"convertSpendMs":6,"createdTime":"2020-08-25 16:55:10","host":"europe-56*","referer":"https://www.zhangxinxu.com/wordpress/?p=9533","linkMd5ListStr":"099fb4fe3a19d9b2d8173ae4b83a04f0,099fb4fe3a19d9b2d8173ae4b83a04f0","githubUser":"myreaderx21","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"12.6 KB","destSize":"9.1 KB","compressRate":"71.7%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202006/pinch-spread.png","sourceStatusCode":200,"destWidth":543,"destHeight":177,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn63@2020_4/2020/08/25/08-55-12-523_ce42379b525f0143.webp","sourceBytes":12400,"destBytes":8270,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":2889,"convertSpendMs":10,"createdTime":"2020-08-25 16:55:10","host":"us-005*","referer":"https://www.zhangxinxu.com/wordpress/?p=9461","linkMd5ListStr":"ca1ef772d8923a5b34d5bedd6d664383,ca1ef772d8923a5b34d5bedd6d664383","githubUser":"myreaderx12","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"12.1 KB","destSize":"8.1 KB","compressRate":"66.7%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/201901/2019-01-26_003635.png","sourceStatusCode":200,"destWidth":440,"destHeight":280,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn81@2020_4/2020/08/25/08-55-12-662_f1a50094fd311d30.webp","sourceBytes":4217,"destBytes":6826,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":3023,"convertSpendMs":8,"createdTime":"2020-08-25 16:55:10","host":"us-021*","referer":"https://www.zhangxinxu.com/wordpress/?p=9477","linkMd5ListStr":"0cf4347994157ad68c4794351ea290d4,0cf4347994157ad68c4794351ea290d4","githubUser":"myreaderx27","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"4.1 KB","destSize":"6.7 KB","compressRate":"161.9%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202008/2020-08-06_194113.png","sourceStatusCode":200,"destWidth":702,"destHeight":278,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn78@2020_5/2020/08/25/08-55-13-339_f283a19c0831ef1e.webp","sourceBytes":8486,"destBytes":13996,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":1847,"convertSpendMs":9,"createdTime":"2020-08-25 16:55:12","host":"us-55*","referer":"https://www.zhangxinxu.com/wordpress/?p=9515","linkMd5ListStr":"ffc453482c1c6325e792f837082990a7,ffc453482c1c6325e792f837082990a7","githubUser":"myreaderx13","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"8.3 KB","destSize":"13.7 KB","compressRate":"164.9%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202006/2020-06-07_221840.png","sourceStatusCode":200,"destWidth":645,"destHeight":320,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx14/cdn7@2020_2/2020/08/25/08-55-14-310_9e90112027f752f0.webp","sourceBytes":11067,"destBytes":26902,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":1195,"convertSpendMs":20,"createdTime":"2020-08-25 16:55:14","host":"us-035*","referer":"https://www.zhangxinxu.com/wordpress/?p=9453","linkMd5ListStr":"e9835cf862ce7b112b34212b3c42026e","githubUser":"myreaderx14","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"10.8 KB","destSize":"26.3 KB","compressRate":"243.1%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/emtion/emoji/2764.svg","sourceStatusCode":200,"destWidth":0,"destHeight":0,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn84@2020_5/2020/08/25/08-55-14-655_345d3ecc932d1a40.svg","sourceBytes":391,"destBytes":391,"feedId":3950,"totalSpendMs":1283,"convertSpendMs":0,"createdTime":"2020-08-25 16:55:14","host":"us-030*","referer":"https://www.zhangxinxu.com/wordpress/?p=9489","linkMd5ListStr":"779846e63ba5a24462ba1e805aac1a57","githubUser":"myreaderx1","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"391 B","destSize":"391 B","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202006/tri-filled-open.png","sourceStatusCode":200,"destWidth":158,"destHeight":66,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx15/cdn45@2020_1/2020/08/25/08-55-14-957_563d4d47f6db692f.webp","sourceBytes":1424,"destBytes":2840,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":1612,"convertSpendMs":8,"createdTime":"2020-08-25 16:55:14","host":"us-021*","referer":"https://www.zhangxinxu.com/wordpress/?p=9469","linkMd5ListStr":"beb7235c6bb354384666e9cf431182e0","githubUser":"myreaderx15","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.4 KB","destSize":"2.8 KB","compressRate":"199.4%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202008/bgimg-switch.gif","sourceStatusCode":200,"destWidth":232,"destHeight":246,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn35@2020_3/2020/08/25/08-55-15-037_9a0989e10a72a63a.webp","sourceBytes":54990,"destBytes":25258,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":1800,"convertSpendMs":209,"createdTime":"2020-08-25 16:55:14","host":"us-001*","referer":"https://www.zhangxinxu.com/wordpress/?p=9515","linkMd5ListStr":"ffc453482c1c6325e792f837082990a7","githubUser":"myreaderx8","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"53.7 KB","destSize":"24.7 KB","compressRate":"45.9%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202007/11-69_background-blend-mode-gradient-icon.png","sourceStatusCode":200,"destWidth":114,"destHeight":51,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn71@2020_1/2020/08/25/08-55-15-154_e39ce196c68ac543.webp","sourceBytes":1624,"destBytes":1656,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":972,"convertSpendMs":9,"createdTime":"2020-08-25 16:55:15","host":"us-035*","referer":"https://www.zhangxinxu.com/wordpress/?p=9499","linkMd5ListStr":"88a14fa4da399ee1ffb5122854a41c51","githubUser":"myreaderx24","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.6 KB","destSize":"1.6 KB","compressRate":"102%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202006/sesame-filled-open2.png","sourceStatusCode":200,"destWidth":154,"destHeight":52,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx33/cdn26@2020_3/2020/08/25/08-55-15-142_3da193436de3812b.webp","sourceBytes":1390,"destBytes":2374,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":1868,"convertSpendMs":6,"createdTime":"2020-08-25 16:55:14","host":"us-039*","referer":"https://www.zhangxinxu.com/wordpress/?p=9469","linkMd5ListStr":"beb7235c6bb354384666e9cf431182e0","githubUser":"myreaderx33","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.4 KB","destSize":"2.3 KB","compressRate":"170.8%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202006/circle-filled-open2.png","sourceStatusCode":200,"destWidth":154,"destHeight":56,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn32@2020_1/2020/08/25/08-55-15-416_95b9dff445f0b261.webp","sourceBytes":1622,"destBytes":2838,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":2054,"convertSpendMs":9,"createdTime":"2020-08-25 16:55:14","host":"us-027*","referer":"https://www.zhangxinxu.com/wordpress/?p=9469","linkMd5ListStr":"beb7235c6bb354384666e9cf431182e0","githubUser":"myreaderx19","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.6 KB","destSize":"2.8 KB","compressRate":"175%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202006/dot-filled-open2.png","sourceStatusCode":200,"destWidth":154,"destHeight":52,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn70@2020_5/2020/08/25/08-55-15-456_1c8adb58882fb1ca.webp","sourceBytes":1459,"destBytes":2398,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":2093,"convertSpendMs":3,"createdTime":"2020-08-25 16:55:14","host":"us-014*","referer":"https://www.zhangxinxu.com/wordpress/?p=9469","linkMd5ListStr":"beb7235c6bb354384666e9cf431182e0","githubUser":"myreaderx10","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.4 KB","destSize":"2.3 KB","compressRate":"164.4%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202006/circle-filled-open.png","sourceStatusCode":200,"destWidth":158,"destHeight":62,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn91@2020_1/2020/08/25/08-55-15-409_3604162abd1cc537.webp","sourceBytes":1349,"destBytes":2834,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":906,"convertSpendMs":5,"createdTime":"2020-08-25 16:55:15","host":"us-039*","referer":"https://www.zhangxinxu.com/wordpress/?p=9469","linkMd5ListStr":"beb7235c6bb354384666e9cf431182e0","githubUser":"myreaderx12","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.3 KB","destSize":"2.8 KB","compressRate":"210.1%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202006/double-circle-filled-open2.png","sourceStatusCode":200,"destWidth":154,"destHeight":56,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn37@2020_1/2020/08/25/08-55-15-357_458afdb6ce43ed91.webp","sourceBytes":1793,"destBytes":3004,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":2061,"convertSpendMs":3,"createdTime":"2020-08-25 16:55:14","host":"europe64*","referer":"https://www.zhangxinxu.com/wordpress/?p=9469","linkMd5ListStr":"beb7235c6bb354384666e9cf431182e0","githubUser":"myreaderx11","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.8 KB","destSize":"2.9 KB","compressRate":"167.5%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202006/2020-06-07_223532.png","sourceStatusCode":200,"destWidth":572,"destHeight":345,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn80@2020_1/2020/08/25/08-55-15-521_d145263baafa0675.webp","sourceBytes":9658,"destBytes":21500,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":1242,"convertSpendMs":9,"createdTime":"2020-08-25 16:55:15","host":"us-010*","referer":"https://www.zhangxinxu.com/wordpress/?p=9453","linkMd5ListStr":"e9835cf862ce7b112b34212b3c42026e","githubUser":"myreaderx22","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"9.4 KB","destSize":"21 KB","compressRate":"222.6%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202007/11-68_background-blend-mode-mark2.png","sourceStatusCode":200,"destWidth":632,"destHeight":376,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn43@2020_3/2020/08/25/08-55-15-672_6c884841ca111dd9.webp","sourceBytes":18387,"destBytes":16316,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":2368,"convertSpendMs":10,"createdTime":"2020-08-25 16:55:14","host":"us-022*","referer":"https://www.zhangxinxu.com/wordpress/?p=9499","linkMd5ListStr":"88a14fa4da399ee1ffb5122854a41c51","githubUser":"myreaderx30","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"18 KB","destSize":"15.9 KB","compressRate":"88.7%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/201801/2018-01-02_020153.jpg","sourceStatusCode":200,"destWidth":300,"destHeight":523,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn100@2020_3/2020/08/25/08-55-15-611_0d6f4ee57a6d8542.webp","sourceBytes":27290,"destBytes":18960,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":1035,"convertSpendMs":9,"createdTime":"2020-08-25 16:55:15","host":"us-014*","referer":"https://www.zhangxinxu.com/wordpress/?p=9489","linkMd5ListStr":"779846e63ba5a24462ba1e805aac1a57","githubUser":"myreaderx21","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"26.7 KB","destSize":"18.5 KB","compressRate":"69.5%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202006/sesame-filled-open.png","sourceStatusCode":200,"destWidth":158,"destHeight":62,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn47@2020_6/2020/08/25/08-55-15-745_c63a756e2fb32b3a.webp","sourceBytes":1325,"destBytes":2610,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":1705,"convertSpendMs":3,"createdTime":"2020-08-25 16:55:14","host":"us-53*","referer":"https://www.zhangxinxu.com/wordpress/?p=9469","linkMd5ListStr":"beb7235c6bb354384666e9cf431182e0","githubUser":"myreaderx6","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.3 KB","destSize":"2.5 KB","compressRate":"197%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202006/double-circle-filled-open.png","sourceStatusCode":200,"destWidth":158,"destHeight":64,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn4@2020_3/2020/08/25/08-55-15-696_455a29d30b58ac47.webp","sourceBytes":1519,"destBytes":2822,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":2319,"convertSpendMs":3,"createdTime":"2020-08-25 16:55:14","host":"europe-57*","referer":"https://www.zhangxinxu.com/wordpress/?p=9469","linkMd5ListStr":"beb7235c6bb354384666e9cf431182e0","githubUser":"myreaderx3","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.5 KB","destSize":"2.8 KB","compressRate":"185.8%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202006/2020-06-16_222119.png","sourceStatusCode":200,"destWidth":745,"destHeight":297,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn19@2020_6/2020/08/25/08-55-15-512_7f01d2d8e29c89e2.webp","sourceBytes":12505,"destBytes":26318,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":2329,"convertSpendMs":12,"createdTime":"2020-08-25 16:55:14","host":"europe-23*","referer":"https://www.zhangxinxu.com/wordpress/?p=9469","linkMd5ListStr":"beb7235c6bb354384666e9cf431182e0","githubUser":"myreaderx18","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"12.2 KB","destSize":"25.7 KB","compressRate":"210.5%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202007/10_12-cross-fade.png","sourceStatusCode":200,"destWidth":701,"destHeight":286,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn96@2020_2/2020/08/25/08-55-15-523_ec250d34a7da4632.webp","sourceBytes":320594,"destBytes":31246,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":1215,"convertSpendMs":19,"createdTime":"2020-08-25 16:55:15","host":"us-027*","referer":"https://www.zhangxinxu.com/wordpress/?p=9489","linkMd5ListStr":"779846e63ba5a24462ba1e805aac1a57","githubUser":"myreaderx1","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"313.1 KB","destSize":"30.5 KB","compressRate":"9.7%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202007/10_13-cross-fade-bgimg-opacity.png","sourceStatusCode":200,"destWidth":585,"destHeight":390,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn52@2020_4/2020/08/25/08-55-15-445_b171ef68ef71bb1c.webp","sourceBytes":70544,"destBytes":16302,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":2386,"convertSpendMs":16,"createdTime":"2020-08-25 16:55:14","host":"europe-22*","referer":"https://www.zhangxinxu.com/wordpress/?p=9489","linkMd5ListStr":"779846e63ba5a24462ba1e805aac1a57","githubUser":"myreaderx5oss","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"68.9 KB","destSize":"15.9 KB","compressRate":"23.1%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202008/2020-08-20_150323.png","sourceStatusCode":200,"destWidth":662,"destHeight":131,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx25/cdn75@2020_1/2020/08/25/08-55-16-014_275827ee4d46b3b4.webp","sourceBytes":5816,"destBytes":11706,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":1665,"convertSpendMs":5,"createdTime":"2020-08-25 16:55:15","host":"us-022*","referer":"https://www.zhangxinxu.com/wordpress/?p=9533","linkMd5ListStr":"099fb4fe3a19d9b2d8173ae4b83a04f0","githubUser":"myreaderx25","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"5.7 KB","destSize":"11.4 KB","compressRate":"201.3%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202006/tri-filled-open2.png","sourceStatusCode":200,"destWidth":154,"destHeight":56,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn42@2020_1/2020/08/25/08-55-15-875_e9b4890aa56fe5d2.webp","sourceBytes":1613,"destBytes":2764,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":2500,"convertSpendMs":3,"createdTime":"2020-08-25 16:55:14","host":"europe65*","referer":"https://www.zhangxinxu.com/wordpress/?p=9469","linkMd5ListStr":"beb7235c6bb354384666e9cf431182e0","githubUser":"myreaderx32","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.6 KB","destSize":"2.7 KB","compressRate":"171.4%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/emtion/emoji/1f343.svg","sourceStatusCode":200,"destWidth":0,"destHeight":0,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn3@2020_6/2020/08/25/08-55-16-079_955c0bca975c75bf.svg","sourceBytes":1747,"destBytes":1747,"feedId":3950,"totalSpendMs":1234,"convertSpendMs":0,"createdTime":"2020-08-25 16:55:15","host":"us-002*","referer":"https://www.zhangxinxu.com/wordpress/?p=9515","linkMd5ListStr":"ffc453482c1c6325e792f837082990a7","githubUser":"myreaderx27","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.7 KB","destSize":"1.7 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202006/button-click-piple.gif","sourceStatusCode":200,"destWidth":164,"destHeight":62,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn53@2020_1/2020/08/25/08-55-15-948_4a53d91f521f37f3.webp","sourceBytes":34717,"destBytes":25808,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":1969,"convertSpendMs":176,"createdTime":"2020-08-25 16:55:14","host":"us-017*","referer":"https://www.zhangxinxu.com/wordpress/?p=9477","linkMd5ListStr":"0cf4347994157ad68c4794351ea290d4","githubUser":"myreaderx30","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"33.9 KB","destSize":"25.2 KB","compressRate":"74.3%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202007/2020-07-27_175434.png","sourceStatusCode":200,"destWidth":635,"destHeight":350,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn68@2020_1/2020/08/25/08-55-15-849_c5d4446cc8491875.webp","sourceBytes":11422,"destBytes":27204,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":2675,"convertSpendMs":72,"createdTime":"2020-08-25 16:55:14","host":"us-013*","referer":"https://www.zhangxinxu.com/wordpress/?p=9505","linkMd5ListStr":"6cc454a87a8d16468f7f9357ad598eb1","githubUser":"myreaderx22","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"11.2 KB","destSize":"26.6 KB","compressRate":"238.2%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202008/2020-08-06_234209.jpg","sourceStatusCode":200,"destWidth":465,"destHeight":276,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx15/cdn59@2020_5/2020/08/25/08-55-16-080_0ad480d99ca448a0.webp","sourceBytes":16765,"destBytes":11978,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":1942,"convertSpendMs":7,"createdTime":"2020-08-25 16:55:14","host":"us-006*","referer":"https://www.zhangxinxu.com/wordpress/?p=9515","linkMd5ListStr":"ffc453482c1c6325e792f837082990a7","githubUser":"myreaderx15","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"16.4 KB","destSize":"11.7 KB","compressRate":"71.4%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/emtion/emoji/1f609.svg","sourceStatusCode":200,"destWidth":0,"destHeight":0,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn93@2020_4/2020/08/25/08-55-15-794_1d029dcc213ecbf6.svg","sourceBytes":1206,"destBytes":1206,"feedId":3950,"totalSpendMs":2574,"convertSpendMs":0,"createdTime":"2020-08-25 16:55:14","host":"europe68*","referer":"https://www.zhangxinxu.com/wordpress/?p=9499","linkMd5ListStr":"beb7235c6bb354384666e9cf431182e0,88a14fa4da399ee1ffb5122854a41c51","githubUser":"myreaderx27","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.2 KB","destSize":"1.2 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/emtion/emoji/1f60f.svg","sourceStatusCode":200,"destWidth":0,"destHeight":0,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx25/cdn63@2020_5/2020/08/25/08-55-16-061_3cf34eb6f69085cb.svg","sourceBytes":1412,"destBytes":1412,"feedId":3950,"totalSpendMs":2770,"convertSpendMs":0,"createdTime":"2020-08-25 16:55:14","host":"us-039*","referer":"https://www.zhangxinxu.com/wordpress/?p=9453","linkMd5ListStr":"e9835cf862ce7b112b34212b3c42026e","githubUser":"myreaderx25","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.4 KB","destSize":"1.4 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202007/2020-07-01_005628.png","sourceStatusCode":200,"destWidth":303,"destHeight":151,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn67@2020_5/2020/08/25/08-55-15-807_b27ed7fddff64d2c.webp","sourceBytes":1945,"destBytes":1450,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":1826,"convertSpendMs":4,"createdTime":"2020-08-25 16:55:15","host":"europe-57*","referer":"https://www.zhangxinxu.com/wordpress/?p=9477","linkMd5ListStr":"0cf4347994157ad68c4794351ea290d4","githubUser":"myreaderx29","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.9 KB","destSize":"1.4 KB","compressRate":"74.6%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202008/2020-08-20_152108.png","sourceStatusCode":200,"destWidth":583,"destHeight":210,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn79@2020_4/2020/08/25/08-55-15-884_7dfb2d4205ee538e.webp","sourceBytes":8392,"destBytes":13486,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":2672,"convertSpendMs":8,"createdTime":"2020-08-25 16:55:14","host":"europe65*","referer":"https://www.zhangxinxu.com/wordpress/?p=9533","linkMd5ListStr":"099fb4fe3a19d9b2d8173ae4b83a04f0","githubUser":"myreaderx12","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"8.2 KB","destSize":"13.2 KB","compressRate":"160.7%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202006/dot-filled-open.png","sourceStatusCode":200,"destWidth":158,"destHeight":62,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn16@2020_4/2020/08/25/08-55-16-086_abb6eaa30d804bab.webp","sourceBytes":1302,"destBytes":2658,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":968,"convertSpendMs":7,"createdTime":"2020-08-25 16:55:15","host":"us-031*","referer":"https://www.zhangxinxu.com/wordpress/?p=9469","linkMd5ListStr":"beb7235c6bb354384666e9cf431182e0","githubUser":"myreaderx3","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.3 KB","destSize":"2.6 KB","compressRate":"204.1%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/emtion/emoji/1f914.svg","sourceStatusCode":200,"destWidth":0,"destHeight":0,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn87@2020_3/2020/08/25/08-55-16-094_0f2fd6cd1cd49d4a.svg","sourceBytes":1596,"destBytes":1596,"feedId":3950,"totalSpendMs":1675,"convertSpendMs":0,"createdTime":"2020-08-25 16:55:15","host":"europe61*","referer":"https://www.zhangxinxu.com/wordpress/?p=9453","linkMd5ListStr":"6cc454a87a8d16468f7f9357ad598eb1,e9835cf862ce7b112b34212b3c42026e","githubUser":"myreaderx4","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.6 KB","destSize":"1.6 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202006/9-14_text-emphasis-right.png","sourceStatusCode":200,"destWidth":73,"destHeight":170,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn53@2020_6/2020/08/25/08-55-16-002_333465833506e7a6.webp","sourceBytes":1396,"destBytes":2832,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":2761,"convertSpendMs":3,"createdTime":"2020-08-25 16:55:14","host":"europe-60*","referer":"https://www.zhangxinxu.com/wordpress/?p=9469","linkMd5ListStr":"beb7235c6bb354384666e9cf431182e0","githubUser":"myreaderx29","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.4 KB","destSize":"2.8 KB","compressRate":"202.9%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202006/9-13_text-emphasis-heart.png","sourceStatusCode":200,"destWidth":245,"destHeight":59,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn57@2020_6/2020/08/25/08-55-16-327_680f572f8c055a43.webp","sourceBytes":2586,"destBytes":3762,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":3017,"convertSpendMs":3,"createdTime":"2020-08-25 16:55:14","host":"europe61*","referer":"https://www.zhangxinxu.com/wordpress/?p=9469","linkMd5ListStr":"beb7235c6bb354384666e9cf431182e0","githubUser":"myreaderx24","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"2.5 KB","destSize":"3.7 KB","compressRate":"145.5%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/emtion/emoji/1f618.svg","sourceStatusCode":200,"destWidth":0,"destHeight":0,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx14/cdn19@2020_6/2020/08/25/08-55-16-615_ab0051cdab5c9258.svg","sourceBytes":2020,"destBytes":2020,"feedId":3950,"totalSpendMs":1365,"convertSpendMs":0,"createdTime":"2020-08-25 16:55:16","host":"us-018*","referer":"https://www.zhangxinxu.com/wordpress/?p=9461","linkMd5ListStr":"6cc454a87a8d16468f7f9357ad598eb1,386caa369389b1c55d34165b1a694a2b,ca1ef772d8923a5b34d5bedd6d664383","githubUser":"myreaderx14","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"2 KB","destSize":"2 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/emtion/emoji/1f4aa.svg","sourceStatusCode":200,"destWidth":0,"destHeight":0,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx23/cdn97@2020_1/2020/08/25/08-55-16-333_9886e8f5c861adc2.svg","sourceBytes":641,"destBytes":641,"feedId":3950,"totalSpendMs":3130,"convertSpendMs":0,"createdTime":"2020-08-25 16:55:14","host":"europe69*","referer":"https://www.zhangxinxu.com/wordpress/?p=9533","linkMd5ListStr":"099fb4fe3a19d9b2d8173ae4b83a04f0","githubUser":"myreaderx23","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"641 B","destSize":"641 B","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202007/2020-07-06_212602.png","sourceStatusCode":200,"destWidth":648,"destHeight":404,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn92@2020_5/2020/08/25/08-55-16-897_54930e53b97adcb8.webp","sourceBytes":13051,"destBytes":32038,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":3614,"convertSpendMs":70,"createdTime":"2020-08-25 16:55:14","host":"us-005*","referer":"https://www.zhangxinxu.com/wordpress/?p=9489","linkMd5ListStr":"779846e63ba5a24462ba1e805aac1a57","githubUser":"myreaderx13","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"12.7 KB","destSize":"31.3 KB","compressRate":"245.5%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202006/2020-06-07_222604.png","sourceStatusCode":200,"destWidth":724,"destHeight":262,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn86@2020_6/2020/08/25/08-55-16-966_5db2a2057cd9bdab.webp","sourceBytes":13194,"destBytes":28836,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":2858,"convertSpendMs":13,"createdTime":"2020-08-25 16:55:15","host":"us-031*","referer":"https://www.zhangxinxu.com/wordpress/?p=9453","linkMd5ListStr":"e9835cf862ce7b112b34212b3c42026e","githubUser":"myreaderx21","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"12.9 KB","destSize":"28.2 KB","compressRate":"218.6%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202007/2020-07-27_232335.png","sourceStatusCode":200,"destWidth":479,"destHeight":225,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn11@2020_3/2020/08/25/08-55-17-167_06c4980524785e7d.webp","sourceBytes":7336,"destBytes":10504,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":1975,"convertSpendMs":7,"createdTime":"2020-08-25 16:55:15","host":"us-53*","referer":"https://www.zhangxinxu.com/wordpress/?p=9505","linkMd5ListStr":"6cc454a87a8d16468f7f9357ad598eb1","githubUser":"myreaderx7","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"7.2 KB","destSize":"10.3 KB","compressRate":"143.2%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/201906/2019-06-10_004010.png","sourceStatusCode":200,"destWidth":407,"destHeight":242,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn13@2020_4/2020/08/25/08-55-16-992_d8d05680e4a93651.webp","sourceBytes":24892,"destBytes":27408,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":3830,"convertSpendMs":9,"createdTime":"2020-08-25 16:55:14","host":"us-010*","referer":"https://www.zhangxinxu.com/wordpress/?p=9499","linkMd5ListStr":"88a14fa4da399ee1ffb5122854a41c51","githubUser":"myreaderx16","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"24.3 KB","destSize":"26.8 KB","compressRate":"110.1%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202008/2020-08-06_224051.jpg","sourceStatusCode":200,"destWidth":200,"destHeight":157,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn64@2020_2/2020/08/25/08-55-16-995_6e9c16a896f6aae6.webp","sourceBytes":12886,"destBytes":8710,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":2888,"convertSpendMs":4,"createdTime":"2020-08-25 16:55:15","host":"europe69*","referer":"https://www.zhangxinxu.com/wordpress/?p=9515","linkMd5ListStr":"ffc453482c1c6325e792f837082990a7","githubUser":"myreaderx5oss","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"12.6 KB","destSize":"8.5 KB","compressRate":"67.6%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202007/tab-switch.gif","sourceStatusCode":200,"destWidth":241,"destHeight":63,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx/cdn51@2020_4/2020/08/25/08-55-17-341_b4e5470ae44aafb3.webp","sourceBytes":26119,"destBytes":14228,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":3343,"convertSpendMs":49,"createdTime":"2020-08-25 16:55:14","host":"us-018*","referer":"https://www.zhangxinxu.com/wordpress/?p=9477","linkMd5ListStr":"0cf4347994157ad68c4794351ea290d4","githubUser":"myreaderx","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"25.5 KB","destSize":"13.9 KB","compressRate":"54.5%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202008/bgimg-switch2-s.png","sourceStatusCode":200,"destWidth":232,"destHeight":222,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn75@2020_1/2020/08/25/08-55-17-554_4b14dee5b7b56c26.webp","sourceBytes":17501,"destBytes":6300,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":4183,"convertSpendMs":8,"createdTime":"2020-08-25 16:55:14","host":"us-002*","referer":"https://www.zhangxinxu.com/wordpress/?p=9515","linkMd5ListStr":"ffc453482c1c6325e792f837082990a7","githubUser":"myreaderx4","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"17.1 KB","destSize":"6.2 KB","compressRate":"36%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202007/js-after-css-var.jpg","sourceStatusCode":200,"destWidth":728,"destHeight":278,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn11@2020_1/2020/08/25/08-55-17-519_1cb3747f852c1fe9.webp","sourceBytes":33202,"destBytes":23668,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":3423,"convertSpendMs":13,"createdTime":"2020-08-25 16:55:14","host":"us-009*","referer":"https://www.zhangxinxu.com/wordpress/?p=9477","linkMd5ListStr":"0cf4347994157ad68c4794351ea290d4","githubUser":"myreaderx2","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"32.4 KB","destSize":"23.1 KB","compressRate":"71.3%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/emtion/emoji/1f61d.svg","sourceStatusCode":200,"destWidth":0,"destHeight":0,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn23@2020_2/2020/08/25/08-55-18-325_1697b6bb26f12b14.svg","sourceBytes":1288,"destBytes":1288,"feedId":3950,"totalSpendMs":4945,"convertSpendMs":0,"createdTime":"2020-08-25 16:55:14","host":"us-038*","referer":"https://www.zhangxinxu.com/wordpress/?p=9477","linkMd5ListStr":"0cf4347994157ad68c4794351ea290d4","githubUser":"myreaderx31","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.3 KB","destSize":"1.3 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202006/gap-cover.png","sourceStatusCode":200,"destWidth":484,"destHeight":300,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn51@2020_5/2020/08/25/08-55-18-485_9a426608bd472cf2.webp","sourceBytes":11045,"destBytes":7796,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":3249,"convertSpendMs":7,"createdTime":"2020-08-25 16:55:16","host":"us-020*","referer":"https://www.zhangxinxu.com/wordpress/?p=9453","linkMd5ListStr":"e9835cf862ce7b112b34212b3c42026e","githubUser":"myreaderx2","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"10.8 KB","destSize":"7.6 KB","compressRate":"70.6%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202006/qrcode-touch-scale.png","sourceStatusCode":200,"destWidth":150,"destHeight":150,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx23/cdn7@2020_1/2020/08/25/08-55-18-375_70698beb7c5b0a51.webp","sourceBytes":2938,"destBytes":7950,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":3386,"convertSpendMs":5,"createdTime":"2020-08-25 16:55:15","host":"europe65*","referer":"https://www.zhangxinxu.com/wordpress/?p=9461","linkMd5ListStr":"ca1ef772d8923a5b34d5bedd6d664383","githubUser":"myreaderx23","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"2.9 KB","destSize":"7.8 KB","compressRate":"270.6%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202006/body-click-popup.gif","sourceStatusCode":200,"destWidth":200,"destHeight":83,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn55@2020_5/2020/08/25/08-55-18-502_96fdcac61133bb7d.webp","sourceBytes":43756,"destBytes":14520,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":3227,"convertSpendMs":55,"createdTime":"2020-08-25 16:55:16","host":"us-008*","referer":"https://www.zhangxinxu.com/wordpress/?p=9477","linkMd5ListStr":"0cf4347994157ad68c4794351ea290d4","githubUser":"myreaderx16","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"42.7 KB","destSize":"14.2 KB","compressRate":"33.2%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202006/2020-06-07_223001.png","sourceStatusCode":200,"destWidth":804,"destHeight":319,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn84@2020_1/2020/08/25/08-55-18-519_e3f898528c588b1a.webp","sourceBytes":11361,"destBytes":26594,"targetWebpQuality":75,"feedId":3950,"totalSpendMs":4298,"convertSpendMs":12,"createdTime":"2020-08-25 16:55:15","host":"europe-23*","referer":"https://www.zhangxinxu.com/wordpress/?p=9453","linkMd5ListStr":"e9835cf862ce7b112b34212b3c42026e","githubUser":"myreaderx10","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"11.1 KB","destSize":"26 KB","compressRate":"234.1%"}],"successGithubMap":{"myreaderx14":2,"myreaderx8":1,"myreaderx15":2,"myreaderx7":1,"myreaderx6":1,"myreaderx16":2,"myreaderx4":3,"myreaderx10":3,"myreaderx32":1,"myreaderx3":2,"myreaderx33":1,"myreaderx11":1,"myreaderx2":2,"myreaderx12":3,"myreaderx13":2,"myreaderx1":3,"myreaderx30":2,"myreaderx31":1,"myreaderx18":1,"myreaderx19":1,"myreaderx":1,"myreaderx25":2,"myreaderx27":3,"myreaderx21":3,"myreaderx22":3,"myreaderx23":2,"myreaderx24":2,"myreaderx5oss":2,"myreaderx29":2},"failGithubMap":{}}