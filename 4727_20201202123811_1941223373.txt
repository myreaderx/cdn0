{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-12-02 20:38:01","updatedTime":"2020-12-02 20:38:01","title":"谈谈 Apple M1 芯片、ARM 以及 ARM Mac","link":"https://www.waerfa.com/?p=107846","description":"<p><img class=\"size-full wp-image-107847 aligncenter\" src=\"https://www.waerfa.com/wp-content/uploads/2020/11/talk-about-arm-m1-mac.jpg\"  width=\"1500\" height=\"750\" title=\"谈谈 Apple M1 芯片、ARM 以及 ARM Mac插图\" alt=\"谈谈 Apple M1 芯片、ARM 以及 ARM Mac插图\" /></p>\n\n<p>2020 年 11 月 11 日，苹果在本年度最后一次 <a target=\"_blank\" href=\"https://www.waerfa.com/tag/ios\" title=\"View all posts in Apple\">Apple</a> Events 上发布了全新的 <a target=\"_blank\" href=\"https://www.waerfa.com/tag/arm\" title=\"View all posts in ARM\">ARM</a> <a target=\"_blank\" href=\"https://www.waerfa.com/tag/%e8%8a%af%e7%89%87\" title=\"View all posts in 芯片\">芯片</a> M1、以及三款搭载了 M1 的 Mac：MacBook Air、MacBook Pro 13&#8242; 和 Mac Mini。在 WWDC 2020 库克宣布 Apple Silicon 后，这次 Apple Events 再一次掀起了热潮，不少 KOL 都把 M1 奉若神明，不少人也不以为然。本文通过 8 个问题来简单聊聊 M1 和 ARM Mac。</p>\n\n<h2>M1 芯片的性能如何？</h2>\n\n<p>本文写就时，搭载 M1 的 Mac 尚未开始发货，我们能看到的只有 GeekBench 上流出的跑分。所以，让我们先从跑分开始看起？</p>\n\n<p><img src=\"https://cdn.jsdelivr.net/npm/sks@0.5.1/3.jpg\" alt=\"3\" title=\"谈谈 Apple M1 芯片、ARM 以及 ARM Mac插图1\" /></p>\n\n<p>哇！<a target=\"_blank\" href=\"https://www.waerfa.com/tag/geekbench\" title=\"View all posts in Geekbench\">Geekbench</a> 跑分数据告诉我们，M1 和 A14X 可以直接打败 5950X、直接把 Tiger Lake 摁在地上摩擦？这已经不是踩爆 Intel 的牙膏了好伐，这是已经快进到 AMD 原地倒闭了好伐！给 Apple 倒一杯卡布奇诺好吗，快给 Apple 倒一杯卡布奇诺！</p>\n\n<p><img src=\"https://cdn.jsdelivr.net/npm/sks@0.5.1/4.jpg\" alt=\"4\" title=\"谈谈 Apple M1 芯片、ARM 以及 ARM Mac插图2\" /></p>\n\n<p>啊，什么？这 Geekbench 还说 Intel 的 Tiger Lake 可以吊打 4700U？嗯？嗯~？</p>\n\n<p><img src=\"https://cdn.jsdelivr.net/npm/sks@0.5.1/1.jpg\" alt=\"1\" title=\"谈谈 Apple M1 芯片、ARM 以及 ARM Mac插图3\" /></p>\n\n<p>过了一个小时 Geekbench 就更新了排名数据，所以，现在 5950X 和 5900X 的分数又高过 M1 和 A14X 了？</p>\n\n<p>看了上面这三张图，你应该大致知道像 Geekbench 这样的跑分纯属娱乐了吧。「众所周知」跑分不代表真实体验。所以我们还是看看苹果发布会上给的图表吧：</p>\n\n<p><img src=\"https://cdn.jsdelivr.net/npm/sks@0.5.1/2.png\" alt=\"2\" title=\"谈谈 Apple M1 芯片、ARM 以及 ARM Mac插图4\" /></p>\n\n<p>什么，苹果竟然敢说自己的 M1 比最先进的 PC 芯片的性能还要强大 …… 哦，我眼睛业障重啊，这图表的标题后面、还跟着一个「Per Watt（每瓦）」啊。</p>\n\n<p><img src=\"https://cdn.jsdelivr.net/npm/sks@0.5.1/5.jpg\" alt=\"5\" title=\"谈谈 Apple M1 芯片、ARM 以及 ARM Mac插图5\" /></p>\n\n<p>苹果的意思是，自从 Mac 实装了 M1、Mac 的功耗比直接大幅提升，苹果并没有直接说 M1 性能有多好嘛！你看看苏妈在 AMD 发布会上晒的性能图表、条形图都快超到会场外面去了，苹果你在发布会上搞这么含蓄干什么嘛！</p>\n\n<p>如果苹果在发布会上只强调能耗比有多么高、功耗有多么低，丝毫不提 M1 的绝对性能，甚至没有透露 M1 的频率，对于 M1 芯片的能耐和优势相信读者也有大概的猜测了。至于苹果在发布会上展示搭载了 M1 的 Mac 比往年的同系列 Mac、CPU 性能提升超过 2.8 倍乃至 3.5 倍、GPU 性能提升则有 5 至 6 倍，我会留给后面「如何评价这率先搭载 M1 的三款 Mac？」问题再谈。</p>\n\n<h2>对 ARM 架构的处理器性能的一瞥</h2>\n\n<p>从一开始我就没有怀疑苹果是否能实现用于桌面端的 ARM 芯片。苹果操刀数款移动 CPU 的经历，驾驭 ARM 自然是轻车熟路的。</p>\n\n<p>那么 ARM 有什么优势呢？在手机和平板上 ARM 大放异彩，近几年几乎再没有看到搭载 X86 的智能手机了；不少 IoT 设备、单片机也开始积极使用 ARM 架构；而桌面端 PC 使用 ARM 的却少之又少。从市场上来看，ARM 架构似乎更适用于低功耗、不强调性能和 CPU 密集型计算的平台，但这并不是意味着 ARM 架构本身没有用于 CPU 密集型计算的潜力。今年 6 月 22 日刷新了全球超级计算机的「TOP500」榜单、成为第一的是来自日本理化学研究所（RIKEN）的「Fugaku」（富岳）超级计算机，峰值计算速度达到 513.9 PFlops。而 Fugaku 搭载的富士通的 7nm 48C SoC 正是 ARM 架构。</p>\n\n<p>作为半导体行业的门外汉，我没有资格谈论 X86 的 CISC 和 ARM、MIPS 等的 RISC 之间孰优孰劣。但从历史的长河里，我们还是能从 ARM 代替 X86 的企图中略窥一二的，其中最接近成功的一次来自 Cloudflare。2017 年 8 月，Cloudflare 尝试从 Intel Skylake 的处理器（E5-2630 v4）切换到由高通提供的 Centriq 平台。从数据上来看，高通提供的平台在当时非常有吸引力：相比 Intel Skylake 的 的 12C24T 2.1GHz，高通 Centriq 平台搭载的 Falkor 核心达到了 46C46T 2.5GHz；相比 Intel 的 170W 的 TDP、高通 Falkor 的 TDP 只有 120W；与 Intel 的 AVX512 指令集对应的，高通也有自己的 NEON 指令集。</p>\n\n<p>虽然众多 Linux 发行版和依赖库都提供有 ARM64 版本，但是当软件时，Cloudflare 犯了难。Cloudflare 高度依赖基于 NGINX 开发的 Web Server。虽然 NGINX 本身支持 ARM64，但是 NGINX 同时使用了大量的库如用于 gzip 压缩的 zlib 和用于 TLS 的 BoringSSL；而且 Cloudflare 自身还高度依赖来自 OpenResty 的 lua-nginx-module，以及与之对应的 LuauJIT，但不幸的是 LuaJIT 在当时并不支持 ARM64；除此以外，Cloudflare 许多技术还基于用 Go 编写的 RRDNS，在当时也没有 ARM64 的版本。</p>\n\n<p>除此以外，Cloudflare 在使用 Intel 和 Falkor 进行 OpenSSL 性能基准测试中发现，OpenSSL 公钥交换的性能高度依赖单核 CPU 频率，因此在测试中 Broadwell 竟超过 Skylake 胜出、而 Falkor 排在了垫底的位置；在对称密钥性能方面，Skylake 由于 AVX512 而遥遥领先（期间 CPU 频率甚至维持在 1.4GHz），Broadwell 由于只有 AVX2 落后于第二，而 NEON 使高通再次垫了底。而在 Cloudflare 展开的其它性能测试，如 gzip 压缩性能测试、brotli 压缩性能测试、LUAJIT 性能测试，以及 Go 的 Crypto 库、gzip 库、Go 正则表达式与字符串操作性能测试中，高通的 Falkor 都远远落后，在不少测试中性能甚至只有 Skylake 和 Broadwell 的百分之一。你可以在 <a href=\"https://blog.cloudflare.com/arm-takes-wing/\">Cloudflare 博客中找到他们的性能测试结果</a>。随后，Cloudflare 的数据中心仍旧采用基于 Intel X86 的服务器，直到今年三月，<a href=\"https://blog.cloudflare.com/technical-details-of-why-cloudflare-chose-amd-epyc-for-gen-x-servers/\">Cloudflare 将 AMD EPYC 引入了他们的新一代服务器</a>，虽然 Cloudflare 对 ARM64 满怀信心，但是他们的基础设施依然是基于 X86 的。</p>\n\n<p>这并不是说 ARM 具有天生的性能劣势（再看看「Fugaku」超算），而是绝大部分行业的程序、甚至是一些编程语言都不是为 ARM 设计、针对 ARM 优化的。优化软件使其能够让 ARM 的硬件完整发挥出完整的性能，还有非常漫长的一段路要走。</p>\n\n<h2>搭载了 M1 的 Mac 能否运行 Windows？</h2>\n\n<p>相比之前的长篇大论，这个问题的答案就简单多了 —— 「几乎不可能」，或者就是「不可能」。</p>\n\n<p>ACPI（Advanced Configuration and Power Interface，高级配置与电源接口）最早早期 1997 年由 Intel、微软、东芝共同提出，后来凤凰科技（做 BIOS 那个）和惠普先后加入规范制定中，自 2006 年起规范制定的工作被交给了 <a href=\"https://uefi.org/\">UEFI 社区</a>。Windows 98 是第一个支持 ACPI 的操作系统，Windows Vista 以后的 Windows 则要求电脑 <strong>必须支持 ACPI</strong>；Linux 虽然不需要 ACPI 也可以运行，但是在现代设备上禁用 ACPI 将会导致绝大部分硬件无法运行；就连 Android 智能设备中也内置了一个精简的 ACPI；2005 年苹果将 Mac 从 PowerPC 架构迁移到 Intel 架构（相关的故事我在另一篇文章「<a href=\"https://blog.skk.moe/post/history-osx86/\">黑苹果的历史</a>」中有详细介绍），Mac 也开始采用 ACPI。但是搭载了 iOS 的 iPhone、iPad 并没有 ACPI，苹果的智能移动设备完全使用自己的私有架构，使用名为「iBoot」的 Bootloader。</p>\n\n<p>从 WWDC 2020 上发布的 ARM DTK 上，通过 IORegistryExplorer 上我们可以发现运行 macOS Big Sur for ARM 的 DTK 上完全没有 ACPI。我们因此可以猜测，搭载 M1 的 Mac 也一样不存在 ACPI、使用和 iPhone、iPad 一样的 IBoot 作为 Bootloader。如果是这样的话，搭载 M1 的 Mac 上是 <strong>几乎没有可能</strong> 运行 Windows 的，甚至运行 Linux 都将非常受限。虽然不排除苹果为 ARM Mac 增加 ACPI 兼容层的可能，但是考虑到 WWDC 2020 和本次 Apple Events 上都对 BootCamp 缄口不言，基本上已经确定了本次发布的这三款搭载 M1 的 Mac 是绝无可能再运行 Windows 了。</p>\n\n<h2>如果搭载 M1 的 Mac 几乎没有可能直接运行 Windows，那么虚拟机呢？</h2>\n\n<p>相比在 X86 上提供的虚拟机增强 Feature Flag，为 ARM 提供虚拟化技术要有趣一些。ARM 虚拟化需要将 Hypervisor 插入到 Exception Level 2，然后再在 TrustZone 上提供虚拟化的功能，说人话就是 ARM 的虚拟化是在架构层面上实现的，因此苹果的 M1 如果要实现虚拟化并不难。但是考虑到苹果现在从硬件到系统都实现了完整的控制，是否提供虚拟化功能完全由苹果控制，如果苹果不启用，谁都无法绕过限制。</p>\n\n<p>截止到本文写就，<a href=\"https://www.parallels.com/blogs/parallels-desktop-apple-silicon-mac/\">Parallels Desktop 完全无法在 ARM Mac 上运行虚拟机</a>，但是 Parallels Desktop 已经着手对新版本的活跃开发了。考虑到虚拟机的 ACPI 实现和宿主机是完全独立的，只要苹果开放虚拟化，在 ARM Mac 上运行虚拟机是完全可行的。但是，苹果是否会选择开放虚拟化，又和苹果的目标用户战略、M1 本身的性能是相关的。</p>\n\n<h2>搭载了 M1 的 Mac 能否运行 PhotoShop？</h2>\n\n<p>这个问题的答案在发布会上有了明确的解答，我们完全无需猜测：「现在不行，不过明年就会有了」。</p>\n\n<p>在 WWDC 2020 上，库克就在 ARM DTK 上演示了玛雅的运行，但是对 Adobe Photoshop 却一笔带过、表示「仍在适配中」。而在这次 Apple Events 上，苹果软件部门的 SVP 克雷格·费德里吉是这么介绍的：</p>\n\n<pre>And Adobe is bringing universal version of their Apps, staring with Lightroom next month, and other collection of apps including Photoshop early next year.</pre>\n\n<p>而且 Adobe 也开始带来他们的通用应用，将从下个月的 Lightroom 开始，而包括 Photoshop 在内的其它应用（的 ARM 版本）则会在明年年初到来。</p>\n\n<p><img src=\"https://cdn.jsdelivr.net/npm/sks@0.5.1/7.jpg\" alt=\"7\" title=\"谈谈 Apple M1 芯片、ARM 以及 ARM Mac插图6\" /></p>\n\n<p>那么，为什么大部分应用都可以很快地发布 Intel、ARM 通用版本，而 Adobe 全家桶却需要再等好几个月？因为 Adobe 从 2019 年开始大部分应用都高度依赖基于 Intel 特殊数学函数库 —— Intel Math Kernel Library（intel-mkl），以及其它一些 Intel 特殊指令集用于硬件加速（涉及到的有 MXMCore、FastCore、CameraRAW 等）。因此即使在搭载了同为 X86 的 AMD 处理器上安装黑苹果，使用 Photoshop 的某些功能也会导致闪退甚至 Kernel Panic；同理，AMD 黑苹果无法运行 MatLab，或者即使能够运行、运算速度也非常缓慢，也是由于缺乏 intel-mkl 导致的。搭载了 M1 芯片的 Mac 自然也无法调用 intel-mkl 库，因此 Adobe 需要几乎重写所有的功能实现，才能让他们的软件在 ARM Mac 上流畅运行。</p>\n\n<h2>如何评价率先搭载 M1 的三款 Mac？</h2>\n\n<p>在 Apple Events 上，苹果率先发布了三款搭载了 M1 的 Mac，其中搭载了 M1 的 MacBook Air 相比上一代搭载了 Intel i7 处理器的 MacBook Air（2020 年 3 月推出），CPU 性能提升了 3.5 倍、GPU 图形性能提升了 5 倍。但是，这是和哪一款 Intel i7 对比的呢？上市于 Q2&#8217;20 的 i7-1060NG7、Ice Lake、10nm、基础频率 1.20GHz、搭载的是 Iris Plus 核显、TDP 10W。</p>\n\n<p><img src=\"https://cdn.jsdelivr.net/npm/sks@0.5.1/8.png\" alt=\"8\" title=\"谈谈 Apple M1 芯片、ARM 以及 ARM Mac插图7\" /></p>\n\n<p>那 Mac Mini 呢？苹果比表示搭载了 M1 的 Mac Mini 相比上一代搭载了 Intel 处理器的 Mac Mini，CPU 性能提升了 3 倍、GPU 图形性能提升了 6 倍。那么在苹果官网的脚注里写的是和哪一款 Mac Mini 进行的对比呢？对比的是于 2018 年发布的 Mac Mini，搭载了上市于 Q3&#8217;18 的 i3-8100B、Coffee Lake、14nm 、基础频率 3.6GHz（无睿频）、搭载的是臭名昭著的 UHD 630 核显，TDP 65W。</p>\n\n<p><img src=\"https://cdn.jsdelivr.net/npm/sks@0.5.1/9.png\" alt=\"9\" title=\"谈谈 Apple M1 芯片、ARM 以及 ARM Mac插图8\" /></p>\n\n<p>苹果发布的第三款搭载 M1 的 Mac 是 MacBook Pro 13&#8217;，相比上一代搭载了 Intel i7 的 MacBook Pro 13&#8217;，CPU 性能提升 2.8 倍、GPU 图形性能提升了 5 倍，而这一性能提升是和 i7-8557U 对比出来的，上市于 Q3&#8217;19、Coffee Lake、14nm 、基础频率 1.7GHz、搭载 Iris Plus 645 核显、TDP 15W。</p>\n\n<p><img src=\"https://cdn.jsdelivr.net/npm/sks@0.5.1/10.png\" alt=\"10\" title=\"谈谈 Apple M1 芯片、ARM 以及 ARM Mac插图9\" /></p>\n\n<p>注意到没有，苹果在发布会上对比性能提升时，一直都使用的「best in class」（同类别）、「We have ever created」（我们制造过的）、「better than previous generation」（比上一代更好）的说辞。而当我们真正去注意苹果官网产品页面的脚注，才会发现苹果对比的产品并不是加强了 ML 的 Tiger Lake、并不是 Xe 核显或是 VEGA 显卡，而是 CoffeeLake 的降压 U 和孱弱的 Ice Lake、以及臭名昭著的 UHD 630、和上一代的 Iris Plus。</p>\n\n<p>而且，让我们再做一道数学题，如果 M1 比 i7-8557U（MBP 13&#8242; 2019）快 2.8 倍、又比 Ice Lake（MBA 2020）快 3.5 倍，那么是不是可以说 i7-8557U 比 Ice Lake 的 i7-1067NG7 快 25% 呢？可以看出，苹果对比的显然是限制功耗和锁频后的性能，因此结论也就很明显了：ARM 凭借着高能耗比、低功耗，在轻薄本上大杀四方，吊打前款，但是绝对性能在普通 PC、笔记本上搭载的 Ice Lake 和 Tiger Lake 面前其实毫无优势、更不可能和 AMD 同台竞技。</p>\n\n<p>另外，M1 芯片为了追求超小体积和超低功耗，只在 SoC 中封装了两个 LPDDR4X 作为内存，因此只能提供最高 16G 的「DRAM」内存，这对上网本和办公白领来说绰绰有余，对「创作者」、「开发者」来说自然是远远不够的；被阉割的还有 Mac Mini 上的雷电接口，搭载 Intel 的 Mac Mini 有两个雷电控制器、而搭载 M1 的只有 SoC 里集成的一个，因此 ARM Mac Mini 只有两个雷电接口、而不是四个。</p>\n\n<p>综合来说，M1 的超低功耗、超高能耗比在轻薄本、上网本上绝对是不二选择，MBA 这样的目标用户更在乎发热和续航，而 M1 恰恰可以满足他们的需要；M1 所不能做的事情，如绝对性能不足、无法连接 eGPU、恰恰是上网本用户所不在意的。</p>\n\n<p><img src=\"https://cdn.jsdelivr.net/npm/sks@0.5.1/6.jpg\" alt=\"6\" title=\"谈谈 Apple M1 芯片、ARM 以及 ARM Mac插图10\" /></p>\n\n<p>但是，苹果在没有电池的 Mac Mini、和在「面向创作者和开发者」的 MacBook Pro 13&#8242; 上搭载孱弱的 M1，实在有点不可理喻、和一种自降身段的感觉。毕竟，Mac Mini 是时时刻刻需要插着电源的，而 MacBook Pro 13&#8242; 的用户也不会抱着笔记本在户外使用 Xcode、Final Cut Pro X 和 Logic Pro，对吧？</p>\n\n<p>虽然我们现在看到 KOL、小编们普遍对 M1 称赞不已，但是可以预见当他们发现这次发布的三款 Mac 都没法安装 Windows、都暂时无法运行 Photoshop 后，对 ARM Mac 的评价也会逐渐转变风向的。</p>\n\n<h2>Apple ARM 芯片和 ARM Mac 的未来？</h2>\n\n<p>综合来说，我们在 M1 上看到了令人惊艳的超低功耗加超高能耗比；而在性能方面，对于一款 ARM 架构的处理器来说，「勉勉强强」能和 Tiger Lake「五五开」也已经是不小的成就了。在上网本、轻薄本级别的 MacBook Air 乃至日后可能重启的 MacBook 12&#8242; Refresh 产品线上，M 系列处理器肯定是不二选择。</p>\n\n<p>与之对应的是「生产力 Mac」。MacBook Pro、iMac 的目标用户从事的工作大多为移动办公（MBP Only）、绘图、图像处理、音视频创作、影视制作、软件开发、轻度机器学习，而 Mac Pro、iMac Pro 的目标用户则大多从事大型影视剪辑、大型图像处理、大型数字音频制作、三维制作、大型机器学习等工作。而正如我在之前章节所说，让这类行业内的软件优化适配、使其能够发挥 ARM 的硬件的完整性能，还有非常漫长的一段路要走。而在这些行业中，自行组装 PC 固然可以弥补硬件性能上的差距、而在软件生态上 macOS 却是无出其右的，看看 Logic Pro、Final Cut Pro X 就知道了。苹果在未来很长一段时间内都会继续发布搭载 Intel 的 Mac。如果苹果一意孤行，急迫地在这类产品线强上 M 系列处理器，只会迫使这类目标用户转向 Windows 10 和 AMD 的怀抱。</p>\n\n<p>历史上，苹果的架构选择甚至还会受到苹果公司领导层决策的影响。1992 年苹果就在计划将 Macintosh System（Classic Mac OS）迁移到 X86 架构上，甚至开展了一项秘密计划「Star Trek」。而当更青睐 PowerPC 的苹果新任 CEO 走马上任以后，X86 架构迁移计划就被束之高阁，直到乔布斯重新回到苹果、WWDC 2005 宣布 Mac 将迁移到 Intel 处理器上。因此，也不排除存在这种可能：随着库克离任、苹果领导层变动、ARM 处理器不再向「高性能、密集计算」的方向突破，甚至可能苹果换了 CEO 后 Mac 将会搭载 AMD 处理器，但是这两种可能性显然不大。</p>\n\n<hr />\n\n<ul>\n    <li>本文采用 CC BY-NC-SA 4.0 许可协议，著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</li>\n    <li>作者：Sukka</li>\n    <li>来源：谈谈 Apple M1 芯片、ARM、ARM Mac 和黑苹果的未来 | Sukka&#8217;s Blog</li>\n    <li>链接：https://blog.skk.moe/post/talk-about-arm-m1-mac/</li>\n</ul>\n","descriptionType":"html","publishedDate":"Tue, 24 Nov 2020 13:50:56 +0000","feedId":4727,"bgimg":"https://www.waerfa.com/wp-content/uploads/2020/11/talk-about-arm-m1-mac.jpg","linkMd5":"241735b9e2ba9f2ba13298ee39fd594f","destWidth":1500,"destHeight":750,"sourceBytes":47165,"destBytes":32178,"author":"Mac玩儿法编辑部","articleImgCdnMap":{"https://www.waerfa.com/wp-content/uploads/2020/11/talk-about-arm-m1-mac.jpg":null,"https://cdn.jsdelivr.net/npm/sks@0.5.1/3.jpg":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn4@2020_2/2020/12/02/12-38-09-411_990d62213813f1ba.webp","https://cdn.jsdelivr.net/npm/sks@0.5.1/4.jpg":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn99@2020_5/2020/12/02/12-38-09-378_f3f5bc1684c659e4.webp","https://cdn.jsdelivr.net/npm/sks@0.5.1/1.jpg":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn8@2020_4/2020/12/02/12-38-09-392_5b788d657f576c65.webp","https://cdn.jsdelivr.net/npm/sks@0.5.1/2.png":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn87@2020_5/2020/12/02/12-38-09-387_00224804003e37d1.webp","https://cdn.jsdelivr.net/npm/sks@0.5.1/5.jpg":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn96@2020_6/2020/12/02/12-38-09-532_533daec8a7bf9031.webp","https://cdn.jsdelivr.net/npm/sks@0.5.1/7.jpg":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn84@2020_2/2020/12/02/12-38-09-397_706be3662604b67f.webp","https://cdn.jsdelivr.net/npm/sks@0.5.1/8.png":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn79@2020_4/2020/12/02/12-38-09-381_173468439f93b3f9.webp","https://cdn.jsdelivr.net/npm/sks@0.5.1/9.png":"https://cdn.jsdelivr.net/gh/myreaderx25/cdn12@2020_4/2020/12/02/12-38-09-418_e8e13f1a49288454.webp","https://cdn.jsdelivr.net/npm/sks@0.5.1/10.png":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn75@2020_2/2020/12/02/12-38-09-515_5499d6626040a10d.webp","https://cdn.jsdelivr.net/npm/sks@0.5.1/6.jpg":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn91@2020_5/2020/12/02/12-38-09-512_2d7e7ccfd1091622.webp"},"publishedOrCreatedDate":1606912681115}],"record":{"createdTime":"2020-12-02 20:38:01","updatedTime":"2020-12-02 20:38:01","feedId":4727,"fetchDate":"Wed, 02 Dec 2020 12:38:01 +0000","fetchMs":3564,"handleMs":198,"totalMs":41754,"newArticles":0,"totalArticles":100,"status":1,"type":0,"ip":"1661e3634e6f9e9d5e805b84c6365b30","hostName":"us-005*","requestId":"311804835352480cbf7286d7d286987e_4727","contentType":"application/rss+xml; charset=UTF-8","totalBytes":493862,"bgimgsTotal":1,"bgimgsGithubTotal":0,"articlesImgsTotal":11,"articlesImgsGithubTotal":10,"successGithubMap":{"myreaderx25":1,"myreaderx8":1,"myreaderx7":1,"myreaderx27":1,"myreaderx6":1,"myreaderx21":1,"myreaderx11":1,"myreaderx2":1,"myreaderx24":1,"myreaderx31":1},"failGithubMap":{"myreaderx23":1}},"feed":{"createdTime":"2020-08-25 04:29:52","updatedTime":"2020-09-01 10:55:20","id":4727,"name":"Mac玩儿法","url":"https://www.waerfa.com/feed","subscriber":null,"website":null,"icon":"https://www.waerfa.com/wp-content/uploads/2016/08/cropped-logo-2-32x32.png","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx64/cdn25@2020_5/2020/09/01/02-55-19-047_bff2ad7d1bd0fcef.png","description":"","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2020-12-02 20:38:10","updatedTime":"2020-12-02 20:38:10","id":null,"feedId":4727,"linkMd5":"241735b9e2ba9f2ba13298ee39fd594f"}],"tmpCommonImgCdnBytes":0,"tmpBodyImgCdnBytes":493862,"tmpBgImgCdnBytes":0,"extra4":{"start":1606912649098,"total":0,"statList":[{"spend":31821,"msg":"获取xml内容"},{"spend":198,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":1556,"msg":"正文链接上传到cdn"}]},"extra5":11,"extra6":11,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"https://www.waerfa.com/wp-content/uploads/2020/11/talk-about-arm-m1-mac.jpg","sourceStatusCode":200,"destWidth":1500,"destHeight":750,"sourceBytes":47165,"destBytes":32178,"targetWebpQuality":75,"feedId":4727,"totalSpendMs":4198,"convertSpendMs":48,"createdTime":"2020-12-02 20:38:01","host":"us-008*","referer":"https://www.waerfa.com/?p=107846","linkMd5ListStr":"241735b9e2ba9f2ba13298ee39fd594f,241735b9e2ba9f2ba13298ee39fd594f","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx23/cdn66/contents/2020/12/02/12-38-05-291_0c617dd55aa742b6.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 69189253.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Wed, 02 Dec 2020 12:38:05 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["E990:2C09:14FEF22:225EE48:5FC78A9E"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1606914565"],"x-ratelimit-used":["61"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx23/cdn66/contents/2020/12/02/12-38-05-291_0c617dd55aa742b6.webp","historyStatusCode":[],"spendMs":38},"base64UserPassword":null,"token":"df0b9******************************93a6e"},"githubUser":"myreaderx23","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"46.1 KB","destSize":"31.4 KB","compressRate":"68.2%"},{"code":1,"isDone":false,"source":"https://www.waerfa.com/wp-content/uploads/2020/11/talk-about-arm-m1-mac.jpg","sourceStatusCode":200,"destWidth":1500,"destHeight":750,"sourceBytes":47165,"destBytes":32178,"targetWebpQuality":75,"feedId":4727,"totalSpendMs":3942,"convertSpendMs":73,"createdTime":"2020-12-02 20:38:05","host":"us-008*","referer":"https://www.waerfa.com/?p=107846","linkMd5ListStr":"241735b9e2ba9f2ba13298ee39fd594f,241735b9e2ba9f2ba13298ee39fd594f","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx23/cdn66/contents/2020/12/02/12-38-09-239_0c617dd55aa742b6.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 69189253.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Wed, 02 Dec 2020 12:38:09 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["E990:2C09:14FF251:225FE07:5FC78AAD"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1606914565"],"x-ratelimit-used":["61"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx23/cdn66/contents/2020/12/02/12-38-09-239_0c617dd55aa742b6.webp","historyStatusCode":[],"spendMs":42},"base64UserPassword":null,"token":"df0b9******************************93a6e"},"githubUser":"myreaderx23","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"46.1 KB","destSize":"31.4 KB","compressRate":"68.2%"}],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://us-013.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-025.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-037.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-25.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-017.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-004.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe63.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-59.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-51.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-029.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://cdn.jsdelivr.net/npm/sks@0.5.1/2.png","sourceStatusCode":200,"destWidth":1523,"destHeight":846,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn87@2020_5/2020/12/02/12-38-09-387_00224804003e37d1.webp","sourceBytes":31583,"destBytes":22608,"targetWebpQuality":75,"feedId":4727,"totalSpendMs":888,"convertSpendMs":32,"createdTime":"2020-12-02 20:38:09","host":"us-013*","referer":"https://www.waerfa.com/?p=107846","linkMd5ListStr":"241735b9e2ba9f2ba13298ee39fd594f","githubUser":"myreaderx2","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"30.8 KB","destSize":"22.1 KB","compressRate":"71.6%"},{"code":1,"isDone":false,"source":"https://cdn.jsdelivr.net/npm/sks@0.5.1/4.jpg","sourceStatusCode":200,"destWidth":965,"destHeight":659,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn99@2020_5/2020/12/02/12-38-09-378_f3f5bc1684c659e4.webp","sourceBytes":46690,"destBytes":42240,"targetWebpQuality":75,"feedId":4727,"totalSpendMs":915,"convertSpendMs":30,"createdTime":"2020-12-02 20:38:09","host":"us-51*","referer":"https://www.waerfa.com/?p=107846","linkMd5ListStr":"241735b9e2ba9f2ba13298ee39fd594f","githubUser":"myreaderx24","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"45.6 KB","destSize":"41.2 KB","compressRate":"90.5%"},{"code":1,"isDone":false,"source":"https://cdn.jsdelivr.net/npm/sks@0.5.1/1.jpg","sourceStatusCode":200,"destWidth":1280,"destHeight":893,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn8@2020_4/2020/12/02/12-38-09-392_5b788d657f576c65.webp","sourceBytes":73869,"destBytes":64206,"targetWebpQuality":75,"feedId":4727,"totalSpendMs":1017,"convertSpendMs":39,"createdTime":"2020-12-02 20:38:09","host":"us-017*","referer":"https://www.waerfa.com/?p=107846","linkMd5ListStr":"241735b9e2ba9f2ba13298ee39fd594f","githubUser":"myreaderx21","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"72.1 KB","destSize":"62.7 KB","compressRate":"86.9%"},{"code":1,"isDone":false,"source":"https://cdn.jsdelivr.net/npm/sks@0.5.1/8.png","sourceStatusCode":200,"destWidth":982,"destHeight":547,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn79@2020_4/2020/12/02/12-38-09-381_173468439f93b3f9.webp","sourceBytes":61445,"destBytes":82200,"targetWebpQuality":75,"feedId":4727,"totalSpendMs":1029,"convertSpendMs":37,"createdTime":"2020-12-02 20:38:09","host":"us-037*","referer":"https://www.waerfa.com/?p=107846","linkMd5ListStr":"241735b9e2ba9f2ba13298ee39fd594f","githubUser":"myreaderx11","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"60 KB","destSize":"80.3 KB","compressRate":"133.8%"},{"code":1,"isDone":false,"source":"https://cdn.jsdelivr.net/npm/sks@0.5.1/9.png","sourceStatusCode":200,"destWidth":993,"destHeight":377,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx25/cdn12@2020_4/2020/12/02/12-38-09-418_e8e13f1a49288454.webp","sourceBytes":40568,"destBytes":56510,"targetWebpQuality":75,"feedId":4727,"totalSpendMs":1049,"convertSpendMs":42,"createdTime":"2020-12-02 20:38:09","host":"us-004*","referer":"https://www.waerfa.com/?p=107846","linkMd5ListStr":"241735b9e2ba9f2ba13298ee39fd594f","githubUser":"myreaderx25","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"39.6 KB","destSize":"55.2 KB","compressRate":"139.3%"},{"code":1,"isDone":false,"source":"https://cdn.jsdelivr.net/npm/sks@0.5.1/3.jpg","sourceStatusCode":200,"destWidth":1280,"destHeight":901,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn4@2020_2/2020/12/02/12-38-09-411_990d62213813f1ba.webp","sourceBytes":72426,"destBytes":64270,"targetWebpQuality":75,"feedId":4727,"totalSpendMs":1055,"convertSpendMs":50,"createdTime":"2020-12-02 20:38:09","host":"us-029*","referer":"https://www.waerfa.com/?p=107846","linkMd5ListStr":"241735b9e2ba9f2ba13298ee39fd594f","githubUser":"myreaderx31","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"70.7 KB","destSize":"62.8 KB","compressRate":"88.7%"},{"code":1,"isDone":false,"source":"https://cdn.jsdelivr.net/npm/sks@0.5.1/7.jpg","sourceStatusCode":200,"destWidth":1280,"destHeight":803,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn84@2020_2/2020/12/02/12-38-09-397_706be3662604b67f.webp","sourceBytes":51734,"destBytes":41874,"targetWebpQuality":75,"feedId":4727,"totalSpendMs":1089,"convertSpendMs":40,"createdTime":"2020-12-02 20:38:09","host":"us-025*","referer":"https://www.waerfa.com/?p=107846","linkMd5ListStr":"241735b9e2ba9f2ba13298ee39fd594f","githubUser":"myreaderx8","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"50.5 KB","destSize":"40.9 KB","compressRate":"80.9%"},{"code":1,"isDone":false,"source":"https://cdn.jsdelivr.net/npm/sks@0.5.1/6.jpg","sourceStatusCode":200,"destWidth":1280,"destHeight":718,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn91@2020_5/2020/12/02/12-38-09-512_2d7e7ccfd1091622.webp","sourceBytes":29744,"destBytes":24388,"targetWebpQuality":75,"feedId":4727,"totalSpendMs":1089,"convertSpendMs":27,"createdTime":"2020-12-02 20:38:09","host":"europe-25*","referer":"https://www.waerfa.com/?p=107846","linkMd5ListStr":"241735b9e2ba9f2ba13298ee39fd594f","githubUser":"myreaderx7","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"29 KB","destSize":"23.8 KB","compressRate":"82%"},{"code":1,"isDone":false,"source":"https://cdn.jsdelivr.net/npm/sks@0.5.1/5.jpg","sourceStatusCode":200,"destWidth":1280,"destHeight":818,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn96@2020_6/2020/12/02/12-38-09-532_533daec8a7bf9031.webp","sourceBytes":22020,"destBytes":17016,"targetWebpQuality":75,"feedId":4727,"totalSpendMs":1182,"convertSpendMs":43,"createdTime":"2020-12-02 20:38:09","host":"europe63*","referer":"https://www.waerfa.com/?p=107846","linkMd5ListStr":"241735b9e2ba9f2ba13298ee39fd594f","githubUser":"myreaderx27","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"21.5 KB","destSize":"16.6 KB","compressRate":"77.3%"},{"code":1,"isDone":false,"source":"https://cdn.jsdelivr.net/npm/sks@0.5.1/10.png","sourceStatusCode":200,"destWidth":1002,"destHeight":544,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn75@2020_2/2020/12/02/12-38-09-515_5499d6626040a10d.webp","sourceBytes":57045,"destBytes":78550,"targetWebpQuality":75,"feedId":4727,"totalSpendMs":1388,"convertSpendMs":25,"createdTime":"2020-12-02 20:38:09","host":"europe-59*","referer":"https://www.waerfa.com/?p=107846","linkMd5ListStr":"241735b9e2ba9f2ba13298ee39fd594f","githubUser":"myreaderx6","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"55.7 KB","destSize":"76.7 KB","compressRate":"137.7%"}],"successGithubMap":{"myreaderx25":1,"myreaderx8":1,"myreaderx7":1,"myreaderx27":1,"myreaderx6":1,"myreaderx21":1,"myreaderx11":1,"myreaderx2":1,"myreaderx24":1,"myreaderx31":1},"failGithubMap":{"myreaderx23":1}}