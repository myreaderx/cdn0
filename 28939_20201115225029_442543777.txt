{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-11-16 06:50:29","updatedTime":"2020-11-16 06:50:29","title":"DeDeCMS安全设置：更改data目录命名","link":"http://www.bloghuman.com/dedecms-update-data-folder-name/","description":"\n \n\t<p>DeDeCMS的data目录如果使用默认命名，那么系统的安全肯定会大打折扣。因此，管理后台才会给出这样的提示：强烈建议将data目录搬移到Web根目录以外。</p><p>但是对于虚拟主机来说，有些虚拟主机限制，不给移动到web目录以外，那么为了最大限度的减少网站被攻击的可能，可以将data目录改名，这样也进一步减少了攻击的可能。具体操作如下：</p><p>一、第一步</p><p>修改include目录下的common.inc.php这个文件。打开文件，找到第16行：</p><div class=\"codeText\"><div class=\"codeHead\">XML/HTML代码</div><ol start=\"1\" class=\"dp-xml\">&#160;&#160;&#160;&#160;<li class=\"alt\"><span><span>define('DEDEDATA',&#160;DEDEROOT.'/data');&#160;&#160;</span></span></li></ol></div><p>把data修改成为您要改的目录名，如：改为suibianqiming，那么则改为：</p><div class=\"codeText\"><div class=\"codeHead\">XML/HTML代码</div><ol start=\"1\" class=\"dp-xml\">&#160;&#160;&#160;&#160;<li class=\"alt\"><span><span>define('DEDEDATA',&#160;DEDEROOT.'/suibianqiming');&#160;&#160;</span></span></li></ol></div><p>第二步：</p><p>用FTP软件把data目录改名<span><span>suibianqiming</span></span>，也就是跟第一步改的名字一样。</p><p>第三步：</p><p>登陆DeDeCMS管理后台，进入：系统 &#62; 系统基本参数 &#62; 性能选项，&#8220;模板缓存目录：&#8221;改为：/<span><span>suibianqiming</span></span>/tplcache。</p><p>第四步：</p><p>完成上述三步之后，你会发现打开网站自动跳到安装文件了。这就需要修改根目录下的index.php这个文件，把文件最前面的几行注释掉，注释如下，也就是在代码前面加//：</p><div class=\"codeText\"><div class=\"codeHead\">XML/HTML代码</div><ol start=\"1\" class=\"dp-xml\">&#160;&#160;&#160;&#160;<li class=\"alt\"><span><span>//if(!file_exists(dirname(__FILE__).'/data/common.inc.php'))&#160;&#160;</span></span></li>&#160;&#160;&#160;&#160;<li><span>//&#123;&#160;&#160;</span></li>&#160;&#160;&#160;&#160;<li class=\"alt\"><span>//&#160;&#160;&#160;&#160;header('Location:install/index.php');&#160;&#160;</span></li>&#160;&#160;&#160;&#160;<li><span>//&#160;&#160;&#160;&#160;exit();&#160;&#160;</span></li>&#160;&#160;&#160;&#160;<li class=\"alt\"><span>//&#125;&#160;&#160;</span></li></ol></div><p>第五步：</p><p>在后台更新的时候，还会附带产生另外一个情况，即：网站地图跟RSS、JS这几项更新有问题。解决办法是：在网站根目录下新建个data目录，然后data目录下再分别新建rss和js两个目录，这样就可以了。</p><br/>Tags - <a href=\"http://www.bloghuman.com/tags/dedecms/\" rel=\"tag\">dedecms</a> , <a href=\"http://www.bloghuman.com/tags/dedecms%25E5%25AE%2589%25E5%2585%25A8/\" rel=\"tag\">dedecms安全</a> , <a href=\"http://www.bloghuman.com/tags/data%25E7%259B%25AE%25E5%25BD%2595/\" rel=\"tag\">data目录</a>\n\n","descriptionType":"text/html","publishedDate":"Fri, 15 Dec 2017 07:44:21 +0000","feedId":28939,"bgimg":"","linkMd5":"c3fa1d1d738ecc4dbd407766037cf197","bgimgJsdelivr":"","metaImg":"","author":"郝聪 <bloghuman@gmail.com>","publishedOrCreatedDate":1605480629055}],"record":{"createdTime":"2020-11-16 06:50:29","updatedTime":"2020-11-16 06:50:29","feedId":28939,"fetchDate":"Sun, 15 Nov 2020 22:50:29 +0000","fetchMs":3816,"handleMs":47,"totalMs":53857,"newArticles":0,"totalArticles":50,"status":1,"type":0,"ip":"1661e3634e6f9e9d5e805b84c6365b30","hostName":"us-002*","requestId":"54ee694ebfbd4fcebc9e1d761eb09775_28939","contentType":"application/xml","totalBytes":0,"bgimgsTotal":0,"bgimgsGithubTotal":0,"articlesImgsTotal":0,"articlesImgsGithubTotal":0,"successGithubMap":{},"failGithubMap":{}},"feed":{"createdTime":"2020-09-07 02:45:32","updatedTime":"2020-09-07 04:49:42","id":28939,"name":"郝聪SEO博客：十年SEO顾问服务_北京网站优化公司","url":"http://www.bloghuman.com/feed.php","subscriber":112,"website":null,"icon":"http://www.bloghuman.com/favicon.ico","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx64/cdn96@2020_3/2020/09/06/20-49-41-729_650dab6b35e2ffd3.png","description":"搜索引擎优化原创技术博客，关注整合网络营销，分享各类网站SEO策略与优化成功案例，曾任多家商业网站的SEO顾问！为商业网站制定整体SEO战略，创造庞大搜索流量，为企业网站提升关键词排名，带动产品销售。为发展助力，成就你我！","weekly":null,"link":null},"noPictureArticleList":[],"tmpCommonImgCdnBytes":0,"tmpBodyImgCdnBytes":0,"tmpBgImgCdnBytes":0,"extra4":{"start":1605480575199,"total":0,"statList":[{"spend":53809,"msg":"获取xml内容"},{"spend":47,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":0,"msg":"正文链接上传到cdn"}]},"extra5":0,"extra6":0,"extra7ImgCdnFailResultVector":[],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{},"extra12ImgCdnSuccessResultVector":[],"successGithubMap":{},"failGithubMap":{}}