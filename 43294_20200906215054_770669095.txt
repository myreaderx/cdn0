{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-09-07 05:50:52","updatedTime":"2020-09-07 05:50:52","title":"OpenBSD Violates NTP Pool Guidelines","link":"http://evilrouters.net/?p=4659","description":"<p></p>\n<p><em>Note: When I began writing this, I was going to go into a lot more detail, explaining <kbd>ntpd</kbd> (the reference implementation), OpenNTPD, the NTP Pool Project, etc. I may do that in a follow-up post but, for now, I’ll keep it short and to the point.</em></p> \n<p>The NTP Pool Project has a set of “basic guidelines” whose intended audience is “anyone distributing an appliance, operating system or some other kind of software using NTP”. This almost certainly includes <a href=\"http://www.openbsd.org/\">OpenBSD</a> (an operating system) which ships with <a href=\"http://www.openntpd.org/\">OpenNTPD</a> (an <a href=\"https://en.wikipedia.org/wiki/Network_Time_Protocol\">NTP</a> implementation).</p> \n<p>The <a href=\"http://www.pool.ntp.org/en/\">NTP Pool Project</a>‘s “<a href=\"http://evilrouters.net/?p=4659/www.pool.ntp.org/en/vendors.html#basic-guidelines\">Basic guidelines</a>” clearly state:</p> \n<blockquote>\n <p>“Do not use the standard pool.ntp.org names as a default configuration in your system.”</p>\n</blockquote> \n<p>A little further down, to reiterate the importance of this, they again state (emphasis in the original):</p> \n<blockquote>\n <p>“You <strong>must absolutely not use the default pool.ntp.org zone names</strong> as the default configuration in your application or appliance.”</p>\n</blockquote> \n<p>The next sentence informs the reader, <em>“You can <a href=\"https://manage.ntppool.org/manage/vendor\">apply for a vendor zone</a> here on the site.”<br /> </em></p> \n<p>Just like the label on a hair dryer that warns one not to use it while in the shower, these guidelines exist for a reason (cf. “<a href=\"http://www.cs.wisc.edu/~plonka/netgear-sntp/\" target=\"_blank\">Flawed Routers Flood University of Wisconsin Internet Time Server</a>“, for example).</p> \n<p>OpenBSD, however, has chosen to flagrantly ignore them.</p> \n<p>OpenNTPD is included as part of OpenBSD’s “base system”. Version 1.13 (dated 2015/05/18) of it’s default configuration file, <kbd>/etc/ntpd.conf</kbd>, includes the following:</p> \n<p><code><br /> # use a random selection of NTP Pool Time Servers<br /> # see http://support.ntp.org/bin/view/Servers/NTPPoolServers<br /> servers pool.ntp.org<br /> </code></p> \n<p><em>N.B.: This isn’t a recent change, either — it’s been there since 2004.</em></p> \n<p>I was going to write to one of the OpenBSD mailing lists about this, thinking that perhaps it was simply an oversight. Before I did, however, I searched the archives to see if it had been discussed before. I discovered that it had — almost five years ago.</p> \n<p>In that thread, <a href=\"https://marc.info/?l=openbsd-tech&amp;m=124828335615027&amp;w=2\" target=\"_blank\">Theo de Raadt wrote</a>:</p> \n<blockquote>\n <p>We don’t intend to change anything.</p> \n <p>Their decrees are meaningless. They don’t provide the ntp traffic,<br /> they only provide DNS records. As written, those rules are designed<br /> to let the people at ntp.org impose a punishing policy against those<br /> they don’t like.</p> \n <p>Those rules do not improve time distribution. It is just control<br /> freak behaviour.</p>\n</blockquote> \n<p>This blatant violation of the guidelines is made even worse by what I discovered while writing this:</p> \n<p><code><br /> $ dig +short {0,1,2,3}.openbsd.pool.ntp.org<br /> 173.44.32.10<br /> 208.75.88.4<br /> 66.228.35.252<br /> 98.191.213.12<br /> 108.61.73.243<br /> 96.44.142.5<br /> 70.35.113.43<br /> 199.7.177.206<br /> 129.6.15.28<br /> 69.50.219.51<br /> 66.175.209.17<br /> 65.182.224.39<br /> 216.229.4.66<br /> 129.250.35.251<br /> 192.155.90.13<br /> 132.163.4.101<br /> </code></p> \n<p>An “openbsd” vendor zone is already available for their use. Adherence to the guidelines would require, at minimum, a one-line change to <kbd>/etc/ntpd.conf</kbd>:</p> \n<p><code><br /> -servers pool.ntp.org<br /> +servers 0.openbsd.pool.ntp.org<br /> </code></p> \n<div class=\"yarpp-related-rss\"> \n <p>Related posts:</p>\n <ol> \n  <li><a href=\"http://evilrouters.net/2011/04/15/links-2011-04-15/\" rel=\"bookmark\" title=\"Shared Links – 2011-04-15\">Shared Links – 2011-04-15 </a></li> \n  <li><a href=\"http://evilrouters.net/2008/05/08/password-aging-on-vmware-esx/\" rel=\"bookmark\" title=\"Password Aging on VMware ESX\">Password Aging on VMware ESX </a></li> \n  <li><a href=\"http://evilrouters.net/2008/07/15/configuring-a-dhcp-server-on-a-cisco-router-running-ios/\" rel=\"bookmark\" title=\"Configuring a DHCP Server on a Cisco Router Running IOS\">Configuring a DHCP Server on a Cisco Router Running IOS </a></li> \n </ol> \n</div> \n<div class=\"feedflare\"> \n <a href=\"http://feeds.feedburner.com/~ff/evilrouters?a=k_4zcb4OSJU:D9Bj4i8tdVE:yIl2AUoC8zA\"><img src=\"http://feeds.feedburner.com/~ff/evilrouters?d=yIl2AUoC8zA\" border=\"0\" /></a> \n <a href=\"http://feeds.feedburner.com/~ff/evilrouters?a=k_4zcb4OSJU:D9Bj4i8tdVE:F7zBnMyn0Lo\"><img src=\"http://feeds.feedburner.com/~ff/evilrouters?i=k_4zcb4OSJU:D9Bj4i8tdVE:F7zBnMyn0Lo\" border=\"0\" /></a> \n <a href=\"http://feeds.feedburner.com/~ff/evilrouters?a=k_4zcb4OSJU:D9Bj4i8tdVE:qj6IDK7rITs\"><img src=\"http://feeds.feedburner.com/~ff/evilrouters?d=qj6IDK7rITs\" border=\"0\" /></a> \n <a href=\"http://feeds.feedburner.com/~ff/evilrouters?a=k_4zcb4OSJU:D9Bj4i8tdVE:gIN9vFwOqvQ\"><img src=\"http://feeds.feedburner.com/~ff/evilrouters?i=k_4zcb4OSJU:D9Bj4i8tdVE:gIN9vFwOqvQ\" border=\"0\" /></a> \n <a href=\"http://feeds.feedburner.com/~ff/evilrouters?a=k_4zcb4OSJU:D9Bj4i8tdVE:D7DqB2pKExk\"><img src=\"http://feeds.feedburner.com/~ff/evilrouters?i=k_4zcb4OSJU:D9Bj4i8tdVE:D7DqB2pKExk\" border=\"0\" /></a> \n</div>\n<img src=\"http://feeds.feedburner.com/~r/evilrouters/~4/k_4zcb4OSJU\" height=\"1\" width=\"1\" alt=\"\" />","descriptionType":"html","publishedDate":"Wed, 01 Jul 2015 23:07:10 +0000","feedId":43294,"bgimg":"http://feeds.feedburner.com/~ff/evilrouters?d=yIl2AUoC8zA","linkMd5":"95d5d09f9856813376b2b44d5d32e4ba","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn89@2020_6/2020/09/06/21-50-52-349_ade07ea6c8e6816e.webp","destWidth":62,"destHeight":24,"sourceBytes":997,"destBytes":310,"author":"Jeremy L. Gaddis","articleImgCdnMap":{"http://feeds.feedburner.com/~ff/evilrouters?d=yIl2AUoC8zA":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn89@2020_6/2020/09/06/21-50-52-349_ade07ea6c8e6816e.webp","http://feeds.feedburner.com/~ff/evilrouters?i=k_4zcb4OSJU:D9Bj4i8tdVE:F7zBnMyn0Lo":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn94@2020_5/2020/09/06/21-50-53-243_59f118c1935f4ccc.webp","http://feeds.feedburner.com/~ff/evilrouters?d=qj6IDK7rITs":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn10@2020_4/2020/09/06/21-50-53-236_8934cda2f7ebdb5e.webp","http://feeds.feedburner.com/~ff/evilrouters?i=k_4zcb4OSJU:D9Bj4i8tdVE:gIN9vFwOqvQ":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn6@2020_1/2020/09/06/21-50-53-376_bc7cd8936d7752aa.webp","http://feeds.feedburner.com/~ff/evilrouters?i=k_4zcb4OSJU:D9Bj4i8tdVE:D7DqB2pKExk":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn1@2020_4/2020/09/06/21-50-53-244_72e41088e8765ff0.webp","http://feeds.feedburner.com/~r/evilrouters/~4/k_4zcb4OSJU":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn97@2020_3/2020/09/06/21-50-53-318_e0e5ccb89d233520.webp"},"publishedOrCreatedDate":1599429052290}],"record":{"createdTime":"2020-09-07 05:50:52","updatedTime":"2020-09-07 05:50:52","feedId":43294,"fetchDate":"Sun, 06 Sep 2020 21:50:52 +0000","fetchMs":86,"handleMs":180303,"totalMs":182364,"newArticles":0,"totalArticles":10,"status":1,"type":0,"ip":"2f7dd87c47b0002d57f426ee800b43f1","hostName":"us-032*","requestId":"e71019c2b6454dd28ec8ea61830d0c4e_43294","contentType":"text/xml; charset=UTF-8","totalBytes":1974,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":6,"articlesImgsGithubTotal":6,"successGithubMap":{"myreaderx27":1,"myreaderx10":1,"myreaderx24":1,"myreaderx31":1,"myreaderx5oss":1,"myreaderx18":1},"failGithubMap":{}},"feed":{"createdTime":"2020-09-07 03:30:35","updatedTime":"2020-09-07 03:30:35","id":43294,"name":"Evil Routers","url":"http://feeds.feedburner.com/evilrouters","subscriber":74,"website":null,"icon":"http://evilrouters.net/favicon.ico","icon_jsdelivr":null,"description":"","weekly":null,"link":"http://evilrouters.net"},"noPictureArticleList":[],"tmpCommonImgCdnBytes":310,"tmpBodyImgCdnBytes":1664,"tmpBgImgCdnBytes":0,"extra4":{"start":1599428871899,"total":0,"statList":[{"spend":88,"msg":"获取xml内容"},{"spend":180303,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":1090,"msg":"正文链接上传到cdn"}]},"extra5":6,"extra6":6,"extra7ImgCdnFailResultVector":[],"extra10_invalidATagHrefValue":{"http://evilrouters.net/?p=4659_www.pool.ntp.org/en/vendors.html#basic-guidelines":"http://evilrouters.net/?p=4659/www.pool.ntp.org/en/vendors.html#basic-guidelines"},"extra111_proxyServerAndStatMap":{"http://us-54.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-031.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-019.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-003.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe66.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"http://feeds.feedburner.com/~ff/evilrouters?d=yIl2AUoC8zA","sourceStatusCode":200,"destWidth":62,"destHeight":24,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn89@2020_6/2020/09/06/21-50-52-349_ade07ea6c8e6816e.webp","sourceBytes":997,"destBytes":310,"targetWebpQuality":75,"feedId":43294,"totalSpendMs":865,"convertSpendMs":5,"createdTime":"2020-09-07 05:50:52","host":"us-015*","referer":"http://evilrouters.net/?p=4659","linkMd5ListStr":"95d5d09f9856813376b2b44d5d32e4ba,95d5d09f9856813376b2b44d5d32e4ba","githubUser":"myreaderx27","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"997 B","destSize":"310 B","compressRate":"31.1%"},{"code":1,"isDone":false,"source":"http://feeds.feedburner.com/~ff/evilrouters?i=k_4zcb4OSJU:D9Bj4i8tdVE:F7zBnMyn0Lo","sourceStatusCode":200,"destWidth":105,"destHeight":24,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn94@2020_5/2020/09/06/21-50-53-243_59f118c1935f4ccc.webp","sourceBytes":1058,"destBytes":436,"targetWebpQuality":75,"feedId":43294,"totalSpendMs":815,"convertSpendMs":8,"createdTime":"2020-09-07 05:50:53","host":"us-003*","referer":"http://evilrouters.net/?p=4659","linkMd5ListStr":"95d5d09f9856813376b2b44d5d32e4ba","githubUser":"myreaderx24","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1 KB","destSize":"436 B","compressRate":"41.2%"},{"code":1,"isDone":false,"source":"http://feeds.feedburner.com/~ff/evilrouters?d=qj6IDK7rITs","sourceStatusCode":200,"destWidth":113,"destHeight":24,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn10@2020_4/2020/09/06/21-50-53-236_8934cda2f7ebdb5e.webp","sourceBytes":1072,"destBytes":460,"targetWebpQuality":75,"feedId":43294,"totalSpendMs":846,"convertSpendMs":6,"createdTime":"2020-09-07 05:50:53","host":"us-019*","referer":"http://evilrouters.net/?p=4659","linkMd5ListStr":"95d5d09f9856813376b2b44d5d32e4ba","githubUser":"myreaderx5oss","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1 KB","destSize":"460 B","compressRate":"42.9%"},{"code":1,"isDone":false,"source":"http://feeds.feedburner.com/~ff/evilrouters?i=k_4zcb4OSJU:D9Bj4i8tdVE:D7DqB2pKExk","sourceStatusCode":200,"destWidth":92,"destHeight":24,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn1@2020_4/2020/09/06/21-50-53-244_72e41088e8765ff0.webp","sourceBytes":1043,"destBytes":374,"targetWebpQuality":75,"feedId":43294,"totalSpendMs":881,"convertSpendMs":4,"createdTime":"2020-09-07 05:50:53","host":"us-54*","referer":"http://evilrouters.net/?p=4659","linkMd5ListStr":"95d5d09f9856813376b2b44d5d32e4ba","githubUser":"myreaderx18","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1 KB","destSize":"374 B","compressRate":"35.9%"},{"code":1,"isDone":false,"source":"http://feeds.feedburner.com/~ff/evilrouters?i=k_4zcb4OSJU:D9Bj4i8tdVE:gIN9vFwOqvQ","sourceStatusCode":200,"destWidth":67,"destHeight":24,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn6@2020_1/2020/09/06/21-50-53-376_bc7cd8936d7752aa.webp","sourceBytes":1005,"destBytes":322,"targetWebpQuality":75,"feedId":43294,"totalSpendMs":964,"convertSpendMs":5,"createdTime":"2020-09-07 05:50:53","host":"us-031*","referer":"http://evilrouters.net/?p=4659","linkMd5ListStr":"95d5d09f9856813376b2b44d5d32e4ba","githubUser":"myreaderx31","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1,005 B","destSize":"322 B","compressRate":"32%"},{"code":1,"isDone":false,"source":"http://feeds.feedburner.com/~r/evilrouters/~4/k_4zcb4OSJU","sourceStatusCode":200,"destWidth":1,"destHeight":1,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn97@2020_3/2020/09/06/21-50-53-318_e0e5ccb89d233520.webp","sourceBytes":43,"destBytes":72,"targetWebpQuality":75,"feedId":43294,"totalSpendMs":927,"convertSpendMs":2,"createdTime":"2020-09-07 05:50:53","host":"europe66*","referer":"http://evilrouters.net/?p=4659","linkMd5ListStr":"95d5d09f9856813376b2b44d5d32e4ba","githubUser":"myreaderx10","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"43 B","destSize":"72 B","compressRate":"167.4%"}],"successGithubMap":{"myreaderx27":1,"myreaderx10":1,"myreaderx24":1,"myreaderx31":1,"myreaderx5oss":1,"myreaderx18":1},"failGithubMap":{}}