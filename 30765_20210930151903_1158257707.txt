{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2021-09-30 23:18:43","updatedTime":"2021-09-30 23:18:43","title":"Tiles editor progress report #5","link":"https://godotengine.org/article/tiles-editor-progress-report-5","description":"<p>Here comes a new progress report about the Tiles editor rework. This is most likely the last progress report before the 4.0 alpha. The previous blog post can be found <a href=\"https://godotengine.org/article/tiles-editor-progress-4\">here</a>.</p>\n<h3>Tile atlas editing</h3>\n<p>Some improvements were made to the tile atlas editor. </p>\n<p>I first reorganized the tiles creation menus, which are now split into 3 modes. The first mode allows editing the atlas properties and creating/removing base tiles, the second one allows selecting and editing tiles properties, and the last one is to paint properties over the tiles.</p>\n<p>In this third mode, I implemented a dedicated editor for tile shapes (collision shapes, occluders, naviagation shapes). Set by default to the tile's base shapes, it then can be painted over tiles. This allows setting up tile collisions in a very fast way:</p>\n<p><img src=\"https://godotengine.org/storage/app/uploads/public/614/857/1a2/6148571a28c42903499672.gif\" alt=\"Tile Atlases editing modes\" /></p>\n<p>Since my previous implementation of panning was not working great in the atlas editor, I reworked it a little bit. The view is not constrained anymore and panning can be done with the right click. </p>\n<h3>Backward compatibility improvements</h3>\n<p>To improve backward compatibility, tiles from 3.x in the <code>SINGLE_TILE</code> mode will be imported as an atlas with a single tile each. As it might create a lot of atlases, an atlas merging tool is now available in the editor. Merging atlases will automatically gather tiles from all atlases and create a new one with its associated new texture. Here is an example workflow where I port the 3.x isometric tiles demo to 4.0:</p>\n<p><img src=\"https://godotengine.org/storage/app/uploads/public/614/84c/ed7/61484ced7caa2931099920.gif\" alt=\"Porting 3.x isometric demo to 4.0\" /></p>\n<p>As the atlas merging tool is only modifying the TileSet resource, using it might have made all TileMaps using the modified TileSet point to missing atlases. Hopefully, I implemented a way to solve this problem.</p>\n<p>TileSet now features a system of <em>tile proxies</em>. Thoses proxies are basically a mapping table, that allows notifying the TileMap using a given TileSet that a given set of tile identifiers should be replaced by another one. Tile proxies are automatically set up when merging different atlases, but they can also be set manually thanks to a dedicated interface. This may become useful when you changed an atlas ID or want to replace all tiles from an atlas by the ones from another atlas. Note that, when editing a TileMap, you can replace all cells by their corresponding mapped value. </p>\n<h3>TileMap layers</h3>\n<p>As a widely requested feature, TileMap layers were implemented. TileMap layers allow stacking tiles on top of each other in the same layout. Layers have several features:</p>\n<ul>\n<li>Layers can be enabled/disabled.</li>\n<li>A layer might be set up to Y-sort its tiles. In such case, you may also provide a Y-sort offset that will be added to each tile's Y-sort offset. This allows using layers as if they were on different height for top-down games.</li>\n<li>Layers can have different Z-index values.</li>\n</ul>\n<p>Implementing layers allowed to highlight the edited layer and dimming the unselected layers of the TileMap. This makes it more obvious which layer is currently edited:</p>\n<p><img src=\"https://godotengine.org/storage/app/uploads/public/614/84f/705/61484f7050e12465840245.gif\" alt=\"TileMap layers\" /></p>\n<h3>Property arrays in the inspector</h3>\n<p>With both the TileMap layers and TileSet layers implemented, the limitations of the inspector regarding the editing of properties arrays became quite obvious. It was not possible to easily add, remove or reorder layers. This is now fixed thanks to a new improvement to the inspector:</p>\n<p><img src=\"https://godotengine.org/storage/app/uploads/public/614/850/bac/614850bac858a657129122.gif\" alt=\"Property arrays in the inspector\" /></p>\n<p>This will allow exposing or moving out from dedicated editors a lot of properties. For example, items from an ItemList node could be moved back to the inspector.</p>\n<h3>Other</h3>\n<p>Aside from a lot of bug fixes and small UX improvements, all tiles-related classes are now documented.</p>\n<h2>What's next</h2>\n<p>This work is not merged yet, but 4.0 should feature animated tiles, alongside a set of improvements to collisions. In the future, there will also be a possibility to make some tiles work as conveyor belts (moving the characters colliding with them) or to use TileMaps as moving platforms.</p>\n<p>I might also have the time to implement a pattern palette, that would allow you to store chunks of tiles as reusable patterns. But that being said, most of my time will soon be used to fix all bugs the alpha release will allow us to spot.</p>","descriptionType":"text/html","publishedDate":"Thu, 23 Sep 2021 13:00:00 +0000","feedId":30765,"bgimg":"https://godotengine.org/storage/app/uploads/public/614/857/1a2/6148571a28c42903499672.gif","linkMd5":"f4134f83b9e08a85477ca362f5411d33","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn94@2020_1/2021/09/30/15-18-50-352_a5797808ca069472.webp","destWidth":1086,"destHeight":565,"sourceBytes":1407553,"destBytes":1394686,"author":"","articleImgCdnMap":{"https://godotengine.org/storage/app/uploads/public/614/857/1a2/6148571a28c42903499672.gif":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn94@2020_1/2021/09/30/15-18-50-352_a5797808ca069472.webp","https://godotengine.org/storage/app/uploads/public/614/84c/ed7/61484ced7caa2931099920.gif":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn6@2020_6/2021/09/30/15-19-01-821_ba66f09ad7378913.webp","https://godotengine.org/storage/app/uploads/public/614/84f/705/61484f7050e12465840245.gif":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn3@2020_2/2021/09/30/15-18-55-590_c6a75bc16ec03da4.webp","https://godotengine.org/storage/app/uploads/public/614/850/bac/614850bac858a657129122.gif":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn8@2020_4/2021/09/30/15-18-54-128_40dd1f92de5ca07a.webp"},"publishedOrCreatedDate":1633015123353}],"record":{"createdTime":"2021-09-30 23:18:43","updatedTime":"2021-09-30 23:18:43","feedId":30765,"fetchDate":"Thu, 30 Sep 2021 15:18:43 +0000","fetchMs":320,"handleMs":6121,"totalMs":27077,"newArticles":0,"totalArticles":424,"status":1,"type":0,"ip":"bc1eecef1292254c09de6c1e66b750f3","hostName":"europe21*","requestId":"a2f08a278c2944bd83d3cafdb586ef1b_30765","contentType":"application/xml","totalBytes":5668838,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":4,"articlesImgsGithubTotal":4,"successGithubMap":{"myreaderx16":1,"myreaderx6":1,"myreaderx24":1,"myreaderx1":1},"failGithubMap":{}},"feed":{"createdTime":"2020-09-07 02:50:43","updatedTime":"2020-12-03 01:37:47","id":30765,"name":"Godot Engine Official","url":"https://godotengine.org/rss.xml","subscriber":105,"website":null,"icon":"https://godotengine.org/favicon.ico","icon_jsdelivr":null,"description":"Godot is a 2D and 3D free and open source game engine developed by a community of contributors. It provides a huge set of common tools, so you can just focus on making your game without reinventing the wheel.","weekly":null,"link":"https://godotengine.org"},"noPictureArticleList":[],"tmpCommonImgCdnBytes":1394686,"tmpBodyImgCdnBytes":4274152,"tmpBgImgCdnBytes":0,"extra4":{"start":1633015116221,"total":0,"statList":[{"spend":1011,"msg":"获取xml内容"},{"spend":6121,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":12520,"msg":"正文链接上传到cdn"}]},"extra5":4,"extra6":4,"extra7ImgCdnFailResultVector":[],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://europe61.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-59.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-60.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://godotengine.org/storage/app/uploads/public/614/857/1a2/6148571a28c42903499672.gif","sourceStatusCode":200,"destWidth":1086,"destHeight":565,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn94@2020_1/2021/09/30/15-18-50-352_a5797808ca069472.webp","sourceBytes":1407553,"destBytes":1394686,"targetWebpQuality":75,"feedId":30765,"totalSpendMs":7270,"convertSpendMs":5033,"createdTime":"2021-09-30 23:18:43","host":"us-034*","referer":"https://godotengine.org/article/tiles-editor-progress-report-5","linkMd5ListStr":"f4134f83b9e08a85477ca362f5411d33,f4134f83b9e08a85477ca362f5411d33","githubUser":"myreaderx24","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.3 MB","destSize":"1.3 MB","compressRate":"99.1%"},{"code":1,"isDone":false,"source":"https://godotengine.org/storage/app/uploads/public/614/850/bac/614850bac858a657129122.gif","sourceStatusCode":200,"destWidth":413,"destHeight":838,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn8@2020_4/2021/09/30/15-18-54-128_40dd1f92de5ca07a.webp","sourceBytes":898148,"destBytes":608042,"targetWebpQuality":75,"feedId":30765,"totalSpendMs":4152,"convertSpendMs":2606,"createdTime":"2021-09-30 23:18:50","host":"europe-60*","referer":"https://godotengine.org/article/tiles-editor-progress-report-5","linkMd5ListStr":"f4134f83b9e08a85477ca362f5411d33","githubUser":"myreaderx6","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"877.1 KB","destSize":"593.8 KB","compressRate":"67.7%"},{"code":1,"isDone":false,"source":"https://godotengine.org/storage/app/uploads/public/614/84f/705/61484f7050e12465840245.gif","sourceStatusCode":200,"destWidth":1122,"destHeight":597,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn3@2020_2/2021/09/30/15-18-55-590_c6a75bc16ec03da4.webp","sourceBytes":750065,"destBytes":745156,"targetWebpQuality":75,"feedId":30765,"totalSpendMs":5676,"convertSpendMs":4087,"createdTime":"2021-09-30 23:18:50","host":"europe61*","referer":"https://godotengine.org/article/tiles-editor-progress-report-5","linkMd5ListStr":"f4134f83b9e08a85477ca362f5411d33","githubUser":"myreaderx1","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"732.5 KB","destSize":"727.7 KB","compressRate":"99.3%"},{"code":1,"isDone":false,"source":"https://godotengine.org/storage/app/uploads/public/614/84c/ed7/61484ced7caa2931099920.gif","sourceStatusCode":200,"destWidth":1313,"destHeight":820,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn6@2020_6/2021/09/30/15-19-01-821_ba66f09ad7378913.webp","sourceBytes":4780279,"destBytes":2920954,"targetWebpQuality":75,"feedId":30765,"totalSpendMs":12501,"convertSpendMs":9902,"createdTime":"2021-09-30 23:18:50","host":"europe-59*","referer":"https://godotengine.org/article/tiles-editor-progress-report-5","linkMd5ListStr":"f4134f83b9e08a85477ca362f5411d33","githubUser":"myreaderx16","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"4.6 MB","destSize":"2.8 MB","compressRate":"61.1%"}],"successGithubMap":{"myreaderx16":1,"myreaderx6":1,"myreaderx24":1,"myreaderx1":1},"failGithubMap":{}}