{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2021-04-05 17:42:56","updatedTime":"2021-04-05 17:42:56","title":"线上服务 CPU 100%？一键定位 so easy！","link":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E7%BA%BF%E4%B8%8A%E6%9C%8D%E5%8A%A1%20CPU%20100%25%EF%BC%9F%E4%B8%80%E9%94%AE%E5%AE%9A%E4%BD%8D%20so%20easy%EF%BC%81","description":"<div><div><div id=\"media\" class=\"rich_media_thumb_wrp\">\n\n            <img class=\"rich_media_thumb\" src=\"http://content.sov5.cn/mmbiz_jpg/eZzl4LXykQzqncGibybwDPWQyvYP3mFbjry8OZwTFgwKA8poeCj15IhgLHLI1b7LiaUDolbk1EMCFVaEun6LDH2w?imageView2/1/w/600\">\n        </div>\n    \n\n    \n\n    <div class=\"rich_media_content\" id=\"js_content\">\n                    \n\n                    \n                    \n                    \n                    <p style=\"text-align: center;\"><span style=\"font-size: 14px;letter-spacing: 0.5440000295639038px;text-align: center;max-width: 100%;color: rgb(255, 41, 65);line-height: 22.4px;\">（给</span><span style=\"font-size: 14px;letter-spacing: 0.5440000295639038px;text-align: center;max-width: 100%;line-height: 22.4px;color: rgb(0, 128, 255);\">ImportNew</span><span style=\"font-size: 14px;letter-spacing: 0.5440000295639038px;text-align: center;max-width: 100%;color: rgb(255, 41, 65);line-height: 22.4px;\">加星标，提高Java技能）</span></p><blockquote><p><span style=\"font-size: 14px;\">转自：大数据之路，</span></p><p><span style=\"font-size: 14px;\">链接：my.oschina.net/leejun2005/blog/1524687</span></p></blockquote><p><span style=\"color: rgb(123, 12, 0);\"><strong>背景</strong></span></p><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>经常做后端服务开发的同学，或多或少都遇到过 CPU 负载特别高的问题。</p><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>尤其是在周末或大半夜，突然群里有人反馈线上机器负载特别高，不熟悉定位流程和思路的同学可能登上服务器一通手忙脚乱，定位过程百转千回。</p><figure style=\"max-width: 100%;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb inherit border-box break-word><p style=\"max-width: 100%;min-height: 1em;text-align: center;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><img data-ratio=\"0.6666666666666666\" data-type=\"png\" data-w=\"936\" style=\"box-sizing: border-box !important; overflow-wrap: break-word !important; width: 677px !important; visibility: visible !important; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/vnOqylzBGCTFG9xcMyuSoPOg60ufJxXkJSJ6R7YF2cJkrpFwN76ibeNXNvISQWe495Wm6nSNzyZem7pQ2JEF5Xw/640?wx_fmt=png\"></p></figure><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>对此，也有不少同学曾经整理过相关流程或方法论，类似把大象放进冰箱要几步</p><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word><span style=\"max-width: 100%;color: rgb(123, 12, 0);box-sizing: border-box !important;overflow-wrap: break-word !important;\"><strong style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">传统的方案一般是4步</strong>：</span></p><pre style=\"margin-top: 0.5em;margin-bottom: 0.5em;padding: 0.4em 0.6em;max-width: 100%;color: inherit;font-size: inherit;letter-spacing: 0.544px;border-radius: 8px;background: rgb(255, 255, 255);line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"margin-right: 2px;margin-left: 2px;padding: 0.5em;max-width: 100%;min-height: 1em;font-size: 11px;word-spacing: -3px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);line-height: 2em;box-sizing: border-box !important;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;display: -webkit-box !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">1.</span> top oder by <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">with</span> P：<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">1040</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">// 首先按进程负载排序找到  axLoad(pid)</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">2.</span> top -Hp 进程PID：<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">1073</span>    <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">// 找到相关负载 线程PID</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">3.</span> printf “<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0</span>x%x\\n”线程PID： <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0x431</span>  <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">// 将线程PID转换为 16进制，为后面查找 jstack 日志做准备</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">4.</span> jstack  进程PID | vim +<span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">/十六进制线程PID -        // 例如：jstack 1040|vim +/</span><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0x431</span> -<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"></p></pre><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>但是对于线上问题定位来说，分秒必争，上面的 4 步还是太繁琐耗时了，有没有可能封装成为一个工具，在有问题的时候一键定位，秒级找到有问题的代码行呢？</p><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>当然可以！</p><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>工具链的成熟与否不仅体现了一个开发者的运维能力，也体现了开发者的效率意识。</p><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>淘宝的oldratlee 同学就将上面的流程封装为了一个工具：</p><p style=\"max-width: 100%;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-family: 默认, system-ui, \" helvetica neue sc sans gb yahei ui arial sans-serif border-box break-word><span style=\"max-width: 100%;font-size: 12px;box-sizing: border-box !important;overflow-wrap: break-word !important;\">show-busy-java-threads.sh</span></p><p style=\"max-width: 100%;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);font-family: 默认, system-ui, \" helvetica neue sc sans gb yahei ui arial sans-serif border-box break-word><span style=\"max-width: 100%;font-size: 12px;box-sizing: border-box !important;overflow-wrap: break-word !important;\">https://github.com/oldratlee/useful-scripts</span></p><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>可以很方便的定位线上的这类问题，下面我会举两个例子来看实际的效果。</p><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>快速安装使用：</p><pre style=\"margin-top: 0.5em;margin-bottom: 0.5em;padding: 0.4em 0.6em;max-width: 100%;color: inherit;font-size: inherit;letter-spacing: 0.544px;border-radius: 8px;background: rgb(255, 255, 255);line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"margin-right: 2px;margin-left: 2px;padding: 0.5em;max-width: 100%;min-height: 1em;font-size: 11px;word-spacing: -3px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);line-height: 2em;box-sizing: border-box !important;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;display: -webkit-box !important;\">source https:/<span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">/raw.githubusercontent.com/oldratlee/useful-scripts/master/test-cases/self</span>-installer.sh)<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"></p></pre><h2><strong><span style=\"color: rgb(123, 12, 0);\">1、java 正则表达式回溯造成 CPU 100%</span></strong></h2><pre style=\"margin-top: 0.5em;margin-bottom: 0.5em;padding: 0.4em 0.6em;max-width: 100%;color: inherit;font-size: inherit;letter-spacing: 0.544px;border-radius: 8px;background: rgb(255, 255, 255);line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"margin-right: 2px;margin-left: 2px;padding: 0.5em;max-width: 100%;min-height: 1em;font-size: 11px;word-spacing: -3px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);line-height: 2em;box-sizing: border-box !important;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;display: -webkit-box !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">import</span> java.util.ArrayList;<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">import</span> java.util.List;<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">import</span> java.util.regex.Matcher;<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">import</span> java.util.regex.Pattern;<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">public</span> <span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: break-word !important;\">class</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 198, 109);box-sizing: border-box !important;overflow-wrap: break-word !important;\">RegexLoad</span> </span>{<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">    <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">public</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">static</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">void</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 198, 109);box-sizing: border-box !important;overflow-wrap: break-word !important;\">main</span><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: break-word !important;\">(String[] args)</span> </span>{<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        String[] patternMatch = {<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">\"([\\\\w\\\\s]+)+([+\\\\-/*])+([\\\\w\\\\s]+)\"</span>,<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">                <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">\"([\\\\w\\\\s]+)+([+\\\\-/*])+([\\\\w\\\\s]+)+([+\\\\-/*])+([\\\\w\\\\s]+)\"</span>};<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        List<string style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"> patternList = <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">new</span> ArrayList<string style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">();<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        patternList.add(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">\"Avg Volume Units product A + Volume Units product A\"</span>);<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        patternList.add(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">\"Avg Volume Units /  Volume Units product A\"</span>);<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        patternList.add(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">\"Avg retailer On Hand / Volume Units Plan / Store Count\"</span>);<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        patternList.add(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">\"Avg Hand Volume Units Plan Store Count\"</span>);<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        patternList.add(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">\"1 - Avg merchant Volume Units\"</span>);<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        patternList.add(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">\"Total retailer shipment Count\"</span>);<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">for</span> (String s :patternList ){<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">            <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">for</span>(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">int</span> i=<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0</span>;i<patternmatch.length style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"></patternmatch.length>                Pattern pattern = Pattern.compile(patternMatch[i]);<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">                Matcher matcher = pattern.matcher(s);<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">                System.out.println(s);<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">                <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">if</span> (matcher.matches()) {<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">                    System.out.println(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">\"Passed\"</span>);<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">                }<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">else</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">                    System.out.println(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">\"Failed;\"</span>);<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">            }<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        }<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">    }<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">}<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"></string></string></p></pre><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>编译、运行上述代码之后，咱们就能观察到服务器多了一个 100% CPU 的 java 进程：</p><figure style=\"max-width: 100%;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb inherit border-box break-word><p style=\"max-width: 100%;min-height: 1em;text-align: center;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><img data-ratio=\"0.6666666666666666\" data-type=\"png\" data-w=\"1026\" style=\"box-sizing: border-box !important; overflow-wrap: break-word !important; width: 677px !important; visibility: visible !important; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/vnOqylzBGCTFG9xcMyuSoPOg60ufJxXkqTOoSKXNYiaFRQ0Vql72NwlHy9Sjml812BVKbHxw1hySrQydWVLFcaw/640?wx_fmt=png\"></p></figure><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>怎么使用呢？</p><pre style=\"margin-top: 0.5em;margin-bottom: 0.5em;padding: 0.4em 0.6em;max-width: 100%;color: inherit;font-size: inherit;letter-spacing: 0.544px;border-radius: 8px;background: rgb(255, 255, 255);line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"margin-right: 2px;margin-left: 2px;padding: 0.5em;max-width: 100%;min-height: 1em;font-size: 11px;word-spacing: -3px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);line-height: 2em;box-sizing: border-box !important;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;display: -webkit-box !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">show</span>-busy-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">java</span>-threads.sh<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"># 从 所有的 Java进程中找出最消耗CPU的线程（缺省5个），打印出其线程栈。</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">show</span>-busy-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">java</span>-threads.sh -c <br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">show</span>-busy-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">java</span>-threads.sh -c  -p Java Process&gt;<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"># -F选项：执行jstack命令时加上-F选项（强制jstack），一般情况不需要使用</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">show</span>-busy-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">java</span>-threads.sh -p Java Process&gt; -F<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">show</span>-busy-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">java</span>-threads.sh -s <br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"># 对于sudo方式的运行，JAVA_HOME环境变量不能传递给root，</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"># 而root用户往往没有配置JAVA_HOME且不方便配置，</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"># 显式指定jstack命令的路径就反而显得更方便了</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">show</span>-busy-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">java</span>-threads.sh -a <br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">show</span>-busy-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">java</span>-threads.sh -t  -i <br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"># 缺省执行一次；执行间隔缺省是3秒</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">##############################</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"># 注意：</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">##############################</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"># 如果Java进程的用户 与 执行脚本的当前用户 不同，则jstack不了这个Java进程。</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"># 为了能切换到Java进程的用户，需要加sudo来执行，即可以解决：</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">sudo <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">show</span>-busy-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">java</span>-threads.sh<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"></p></pre><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>示例：</p><pre style=\"margin-top: 0.5em;margin-bottom: 0.5em;padding: 0.4em 0.6em;max-width: 100%;color: inherit;font-size: inherit;letter-spacing: 0.544px;border-radius: 8px;background: rgb(255, 255, 255);line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"margin-right: 2px;margin-left: 2px;padding: 0.5em;max-width: 100%;min-height: 1em;font-size: 11px;word-spacing: -3px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);line-height: 2em;box-sizing: border-box !important;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;display: -webkit-box !important;\">work@dev_zz_Master <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">10.48.186.32</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">23</span>:<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">45</span>:<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">50</span> ~/demo &gt;<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">bash show-busy-java-threads.sh<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">[<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">1</span>] Busy(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">96.2</span>%) thread(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">8577</span>/<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0x2181</span>) stack <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">of</span> java process(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">8576</span>) under user(work):<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">\"main\"</span> prio=<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">10</span> tid=<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0x00007f0c64006800</span> nid=<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0x2181</span> runnable [<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0x00007f0c6a64a000</span>]<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">   java.lang.Thread.State: RUNNABLE<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        at java.util.regex.Pattern$GroupHead.match(Pattern.java:<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">4168</span>)<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        at java.util.regex.Pattern$Loop.match(Pattern.java:<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">4295</span>)<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        ...<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        at java.util.regex.Matcher.match(Matcher.java:<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">1127</span>)<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        at java.util.regex.Matcher.matches(Matcher.java:<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">502</span>)<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        at RegexLoad.main(RegexLoad.java:<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">27</span>)<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">[<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">2</span>] Busy(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">1.5</span>%) thread(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">8591</span>/<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0x218f</span>) stack <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">of</span> java process(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">8576</span>) under user(work):<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">\"C2 CompilerThread1\"</span> daemon prio=<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">10</span> tid=<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0x00007f0c64095800</span> nid=<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0x218f</span> waiting <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">on</span> condition [<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0x0000000000000000</span>]<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">   java.lang.Thread.State: RUNNABLE<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">[<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">3</span>] Busy(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0.8</span>%) thread(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">8590</span>/<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0x218e</span>) stack <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">of</span> java process(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">8576</span>) under user(work):<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">\"C2 CompilerThread0\"</span> daemon prio=<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">10</span> tid=<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0x00007f0c64093000</span> nid=<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0x218e</span> waiting <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">on</span> condition [<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0x0000000000000000</span>]<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">   java.lang.Thread.State: RUNNABLE<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">[<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">4</span>] Busy(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0.2</span>%) thread(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">8593</span>/<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0x2191</span>) stack <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">of</span> java process(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">8576</span>) under user(work):<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">\"VM Periodic Task Thread\"</span> prio=<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">10</span> tid=<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0x00007f0c640a2800</span> nid=<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0x2191</span> waiting <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">on</span> condition <br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">[<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">5</span>] Busy(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0.1</span>%) thread(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">25159</span>/<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0x6247</span>) stack <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">of</span> java process(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">25137</span>) under user(work):<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">\"VM Periodic Task Thread\"</span> prio=<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">10</span> tid=<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0x00007f13340b4000</span> nid=<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0x6247</span> waiting <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">on</span> condition <br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">work@dev_zz_Master <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">10.48.186.32</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">23</span>:<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">46</span>:<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">04</span> ~/demo &gt;<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"></p></pre><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>可以看到，一键直接定位异常代码行，是不是很方便？</p><h2><strong><span style=\"color: rgb(123, 12, 0);\">2、线程死锁，程序 hang 住</span></strong></h2><pre style=\"margin-top: 0.5em;margin-bottom: 0.5em;padding: 0.4em 0.6em;max-width: 100%;color: inherit;font-size: inherit;letter-spacing: 0.544px;border-radius: 8px;background: rgb(255, 255, 255);line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"margin-right: 2px;margin-left: 2px;padding: 0.5em;max-width: 100%;min-height: 1em;font-size: 11px;word-spacing: -3px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);line-height: 2em;box-sizing: border-box !important;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;display: -webkit-box !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">import</span> java.util.*;<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">public</span> <span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: break-word !important;\">class</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 198, 109);box-sizing: border-box !important;overflow-wrap: break-word !important;\">SimpleDeadLock</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: break-word !important;\">extends</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 198, 109);box-sizing: border-box !important;overflow-wrap: break-word !important;\">Thread</span> </span>{<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">    <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">public</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">static</span> Object l1 = <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">new</span> Object();<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">    <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">public</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">static</span> Object l2 = <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">new</span> Object();<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">    <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">private</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">int</span> index;<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">    <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">public</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">static</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">void</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 198, 109);box-sizing: border-box !important;overflow-wrap: break-word !important;\">main</span><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: break-word !important;\">(String[] a)</span> </span>{<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        Thread t1 = <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">new</span> Thread1();<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        Thread t2 = <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">new</span> Thread2();<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        t1.start();<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        t2.start();<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">    }<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">    <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">private</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">static</span> <span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: break-word !important;\">class</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 198, 109);box-sizing: border-box !important;overflow-wrap: break-word !important;\">Thread1</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: break-word !important;\">extends</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 198, 109);box-sizing: border-box !important;overflow-wrap: break-word !important;\">Thread</span> </span>{<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">public</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">void</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 198, 109);box-sizing: border-box !important;overflow-wrap: break-word !important;\">run</span><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: break-word !important;\">()</span> </span>{<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">            <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">synchronized</span> (l1) {<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">                System.out.println(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">\"Thread 1: Holding lock 1...\"</span>);<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">                <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">try</span> { Thread.sleep(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">10</span>); }<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">                <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">catch</span> (InterruptedException e) {}<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">                System.out.println(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">\"Thread 1: Waiting for lock 2...\"</span>);<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">                <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">synchronized</span> (l2) {<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">                    System.out.println(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">\"Thread 2: Holding lock 1 &amp; 2...\"</span>);<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">                }<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">            }<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        }<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">    }<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">    <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">private</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">static</span> <span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: break-word !important;\">class</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 198, 109);box-sizing: border-box !important;overflow-wrap: break-word !important;\">Thread2</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: break-word !important;\">extends</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 198, 109);box-sizing: border-box !important;overflow-wrap: break-word !important;\">Thread</span> </span>{<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">public</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">void</span> <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 198, 109);box-sizing: border-box !important;overflow-wrap: break-word !important;\">run</span><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: break-word !important;\">()</span> </span>{<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">            <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">synchronized</span> (l2) {<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">                System.out.println(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">\"Thread 2: Holding lock 2...\"</span>);<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">                <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">try</span> { Thread.sleep(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">10</span>); }<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">                <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">catch</span> (InterruptedException e) {}<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">                System.out.println(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">\"Thread 2: Waiting for lock 1...\"</span>);<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">                <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">synchronized</span> (l1) {<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">                    System.out.println(<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">\"Thread 2: Holding lock 2 &amp; 1...\"</span>);<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">                }<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">            }<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">        }<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">    }<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">}<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"></p></pre><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>执行之后的效果：</p><figure style=\"max-width: 100%;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb inherit border-box break-word><p style=\"max-width: 100%;min-height: 1em;text-align: center;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><img data-ratio=\"0.6666666666666666\" data-type=\"png\" data-w=\"659\" style=\"box-sizing: border-box !important; overflow-wrap: break-word !important; width: 659px !important; visibility: visible !important; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/vnOqylzBGCTFG9xcMyuSoPOg60ufJxXkH7pKNDWbb7Xrhd1UXdYhZZeBawpfRt2MM4qxoAWibKH4g6DhHJIjMKQ/640?wx_fmt=png\"></p></figure><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>如何用工具定位：</p><figure style=\"max-width: 100%;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb inherit border-box break-word><p style=\"max-width: 100%;min-height: 1em;text-align: center;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><img data-ratio=\"0.48119233498935415\" data-type=\"png\" data-w=\"1409\" style=\"box-sizing: border-box !important; overflow-wrap: break-word !important; width: 677px !important; visibility: visible !important; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/vnOqylzBGCTFG9xcMyuSoPOg60ufJxXkIFHzYpxg8uEeBNcolSsdcMZib0utv3yYbCoAfSFebEU71ucA8UPwBWQ/640?wx_fmt=png\"></p></figure><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>一键定位：可以清晰的看到线程互相锁住了对方等待的资源，导致死锁，直接定位到代码行和具体原因。</p><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>通过上面两个例子，我想各位同学应该对这个工具和工具能解决什么问题有了比较深刻的了解了，遇到 CPU 100% 问题可以从此不再慌乱。</p><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>不过更多的还是依赖大家自己去实践，毕竟实践出真知嘛~</p><h2><span style=\"color: rgb(123, 12, 0);\"><strong>3、免费实用的脚本工具大礼包</strong></span></h2><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>除了正文提到的 show-busy-java-threads.sh，oldratlee 同学还整合和不少常见的开发、运维过程中涉及到的脚本工具，觉得特别有用的我简单列下：</p><h3>（1）show-duplicate-java-classes</h3><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>偶尔会遇到本地开发、测试都正常，上线后却莫名其妙的 class 异常，历经千辛万苦找到的原因竟然是 Jar 冲突！</p><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>这个工具就可以找出Java Lib（Java库，即Jar文件）或Class目录（类目录）中的重复类。</p><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>Java开发的一个麻烦的问题是Jar冲突（即多个版本的Jar），或者说重复类。会出NoSuchMethod等的问题，还不见得当时出问题。找出有重复类的Jar，可以防患未然。</p><pre style=\"margin-top: 0.5em;margin-bottom: 0.5em;padding: 0.4em 0.6em;max-width: 100%;color: inherit;font-size: inherit;letter-spacing: 0.544px;border-radius: 8px;background: rgb(255, 255, 255);line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"margin-right: 2px;margin-left: 2px;padding: 0.5em;max-width: 100%;min-height: 1em;font-size: 11px;word-spacing: -3px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);line-height: 2em;box-sizing: border-box !important;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;display: -webkit-box !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"># 查找当前目录下所有Jar中的重复类</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">show</span>-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">duplicate</span>-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">java</span>-classes<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"># 查找多个指定目录下所有Jar中的重复类</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">show</span>-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">duplicate</span>-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">java</span>-classes <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">path</span>/<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">to</span>/lib_dir1 /<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">path</span>/<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">to</span>/lib_dir2<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"># 查找多个指定Class目录下的重复类。Class目录 通过 -c 选项指定</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">show</span>-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">duplicate</span>-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">java</span>-classes -c <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">path</span>/<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">to</span>/class_dir1 -c /<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">path</span>/<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">to</span>/class_dir2<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"># 查找指定Class目录和指定目录下所有Jar中的重复类的Jar</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">show</span>-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">duplicate</span>-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">java</span>-classes <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">path</span>/<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">to</span>/lib_dir1 /<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">path</span>/<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">to</span>/lib_dir2 -c <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">path</span>/<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">to</span>/class_dir1 -c <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">path</span>/<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">to</span>/class_dir2<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"></p></pre><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>例如：</p><pre style=\"margin-top: 0.5em;margin-bottom: 0.5em;padding: 0.4em 0.6em;max-width: 100%;color: inherit;font-size: inherit;letter-spacing: 0.544px;border-radius: 8px;background: rgb(255, 255, 255);line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"margin-right: 2px;margin-left: 2px;padding: 0.5em;max-width: 100%;min-height: 1em;font-size: 11px;word-spacing: -3px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);line-height: 2em;box-sizing: border-box !important;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;display: -webkit-box !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"># 在war模块目录下执行，生成war文件</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">$ mvn install<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">...<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"># 解压war文件，war文件中包含了应用的依赖的Jar文件</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">$ unzip target/*.war -d target/war<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">...<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(128, 128, 128);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\"># 检查重复类</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">$ show-duplicate-java-classes -c target/war/WEB-INF/classes target/war/WEB-INF/lib<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">...<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"></p></pre><h3>（2）find-in-jars</h3><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>在当前目录下所有jar文件里，查找类或资源文件。</p><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>用法：注意，后面Pattern是grep的 扩展正则表达式。</p><pre style=\"margin-top: 0.5em;margin-bottom: 0.5em;padding: 0.4em 0.6em;max-width: 100%;color: inherit;font-size: inherit;letter-spacing: 0.544px;border-radius: 8px;background: rgb(255, 255, 255);line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"margin-right: 2px;margin-left: 2px;padding: 0.5em;max-width: 100%;min-height: 1em;font-size: 11px;word-spacing: -3px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);line-height: 2em;box-sizing: border-box !important;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;display: -webkit-box !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">find</span>-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">in</span>-jars <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">'log4j\\.properties'</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">find</span>-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">in</span>-jars <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">'log4j\\.xml$'</span> -d /<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">path</span>/to/<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">find</span>/directory<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">find</span>-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">in</span>-jars log4j\\\\.xml<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">find</span>-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">in</span>-jars <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">'log4j\\.properties|log4j\\.xml'</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"></p></pre><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>示例：</p><pre style=\"margin-top: 0.5em;margin-bottom: 0.5em;padding: 0.4em 0.6em;max-width: 100%;color: inherit;font-size: inherit;letter-spacing: 0.544px;border-radius: 8px;background: rgb(255, 255, 255);line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"margin-right: 2px;margin-left: 2px;padding: 0.5em;max-width: 100%;min-height: 1em;font-size: 11px;word-spacing: -3px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);line-height: 2em;box-sizing: border-box !important;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;display: -webkit-box !important;\">$ ./find-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">in</span>-jars <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(106, 135, 89);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">'Service.class$'</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">./WEB-INF/libs/spring-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">2.5</span>.<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">6</span>.SEC03.jar!org/springframework/stereotype/Service.<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">class</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">./rpc-benchmark-<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0</span>.<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">0</span>.<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">1</span>-SNAPSHOT.jar!com/taobao/rpc/benchmark/service/HelloService.<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(204, 120, 50);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">class</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"></p></pre><h3>（3）housemd pid [java_home]</h3><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>很早的时候，我们使用BTrace排查问题，在感叹BTrace的强大之余，也曾好几次将线上系统折腾挂掉。</p><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>2012年淘宝的聚石写了HouseMD，将常用的几个Btrace脚本整合在一起形成一个独立风格的应用，其核心代码用的是Scala</p><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>HouseMD是基于字节码技术的诊断工具, 因此除了Java以外, 任何最终以字节码形式运行于JVM之上的语言, HouseMD都支持对它们进行诊断, 如Clojure(感谢@Killme2008提供了它的使用入门), scala, Groovy, JRuby, Jython, kotlin等.</p><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>使用housemd对java程序进行运行时跟踪，支持的操作有：</p><ul class=\"list-paddingleft-2\" style=\"padding-left: 30px;max-width: 100%;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);width: 552.891px;font-family: 默认, system-ui, \" helvetica neue sc sans gb yahei ui arial sans-serif break-word><li style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">查看加载类</span></p></li><li style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">跟踪方法</span></p></li><li style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">查看环境变量</span></p></li><li style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">查看对象属性值</span></p></li><li style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">详细信息请参考: <span style=\"max-width: 100%;line-height: inherit;font-size: 12px;box-sizing: border-box !important;overflow-wrap: break-word !important;\">https://github.com/CSUG/HouseMD/wiki/UserGuideCN</span></span></p></li></ul><h3>（4）jvm pid</h3><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>执行jvm debug工具，包含对java栈、堆、线程、gc等状态的查看，支持的功能有：</p><pre style=\"margin-top: 0.5em;margin-bottom: 0.5em;padding: 0.4em 0.6em;max-width: 100%;color: inherit;font-size: inherit;letter-spacing: 0.544px;border-radius: 8px;background: rgb(255, 255, 255);line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"margin-right: 2px;margin-left: 2px;padding: 0.5em;max-width: 100%;min-height: 1em;font-size: 11px;word-spacing: -3px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);line-height: 2em;box-sizing: border-box !important;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;display: -webkit-box !important;\">========线程相关=======<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">1 : 查看占用cpu最高的线程情况<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">2 : 打印所有线程<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">3 : 打印线程数<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">4 : 按线程状态统计线程数<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">========GC相关=======<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">5 : 垃圾收集统计（包含原因）可以指定间隔时间及执行次数，默认1秒, 10次<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">6 : 显示堆中各代的空间可以指定间隔时间及执行次数，默认1秒，5次<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">7 : 垃圾收集统计。可以指定间隔时间及执行次数，默认1秒, 10次<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">8 : 打印perm区内存情况<span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;font-style: italic;box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">*会使程序暂停响应*</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">9 : 查看directbuffer情况<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">========堆对象相关=======<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">10 : dump heap到文件<span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;font-style: italic;box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">*会使程序暂停响应*</span>默认保存到<span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">`pwd`</span>/dump.bin,可指定其它路径<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">11 : 触发full gc。<span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;font-style: italic;box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">*会使程序暂停响应*</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">12 : 打印jvm heap统计<span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;font-style: italic;box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">*会使程序暂停响应*</span><br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">13 : 打印jvm heap中top20的对象。<span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;font-style: italic;box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">*会使程序暂停响应*</span>参数：1:按实例数量排序,2:按内存占用排序，默认为1<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">14 : 触发full gc后打印jvm heap中top20的对象。<span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;font-style: italic;box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">*会使程序暂停响应*</span>参数：1:按实例数量排序,2:按内存占用排序，默认为1<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">15 : 输出所有类装载器在perm里产生的对象。可以指定间隔时间及执行次数<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">========其它=======<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">16 : 打印finalzer队列情况<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">17 : 显示classloader统计<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">18 : 显示jit编译统计<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">19 : 死锁检测<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">20 : 等待X秒，默认为1<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">q : exit<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"></p></pre><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>进入jvm工具后可以输入序号执行对应命令<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">可以一次执行多个命令，用分号\";\"分隔，如：1;3;4;5;6<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\">每个命令可以带参数，用冒号\":\"分隔，同一命令的参数之间用逗号分隔，如：</p><pre style=\"margin-top: 0.5em;margin-bottom: 0.5em;padding: 0.4em 0.6em;max-width: 100%;color: inherit;font-size: inherit;letter-spacing: 0.544px;border-radius: 8px;background: rgb(255, 255, 255);line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"margin-right: 2px;margin-left: 2px;padding: 0.5em;max-width: 100%;min-height: 1em;font-size: 11px;word-spacing: -3px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);line-height: 2em;box-sizing: border-box !important;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;display: -webkit-box !important;\">Enter command <span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">queue:1</span>;<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">5:1000</span>,<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">100</span>;<span style=\"max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(104, 151, 187);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;\">10:/data1/output</span>.bin<br style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"></p></pre><h3>（5）greys<pid>[@IP:PORT]</pid></h3><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>PS：目前Greys仅支持Linux/Unix/Mac上的Java6+，Windows暂时无法支持</p><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>Greys是一个JVM进程执行过程中的异常诊断工具，可以在不中断程序执行的情况下轻松完成问题排查工作。</p><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>和HouseMD一样，Greys-Anatomy取名同名美剧“实习医生格蕾”，目的是向前辈致敬。代码编写的时候参考了BTrace和HouseMD两个前辈的思路。</p><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>使用greys对java程序进行运行时跟踪(不传参数，需要先greys -C pid,再greys)。支持的操作有：</p><ul class=\"list-paddingleft-2\" style=\"padding-left: 30px;max-width: 100%;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);width: 552.891px;font-family: 默认, system-ui, \" helvetica neue sc sans gb yahei ui arial sans-serif break-word><li style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">查看加载类，方法信息</span></p></li><li style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">查看JVM当前基础信息</span></p></li><li style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">方法执行监控（调用量，失败率，响应时间等）</span></p></li><li style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">方法执行数据观测、记录与回放（参数，返回结果，异常信息等）</span></p></li><li style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">方法调用追踪渲染</span></p></li><li style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">详细信息请参考: https://github.com/oldmanpushcart/greys-anatomy/wiki</span></p></li></ul><h3>（6）sjk<cmd><arguments>sjk --commands sjk --help</arguments></cmd></h3><p style=\"margin-top: 1.5em;margin-bottom: 1.5em;max-width: 100%;min-height: 1em;color: inherit;font-size: inherit;letter-spacing: 0.544px;white-space: normal;font-family: \" helvetica neue sans gb yahei arial sans-serif rgb border-box break-word>使用sjk对Java诊断、性能排查、优化工具</p><ul class=\"list-paddingleft-2\" style=\"padding-left: 30px;max-width: 100%;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);width: 552.891px;font-family: 默认, system-ui, \" helvetica neue sc sans gb yahei ui arial sans-serif break-word><li style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">ttop:监控指定jvm进程的各个线程的cpu使用情况</span></p></li><li style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">jps: 强化版</span></p></li><li style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">hh: jmap -histo强化版</span></p></li><li style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">gc: 实时报告垃圾回收信息</span></p></li><li style=\"max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\">更多信息请参考: https://github.com/aragozin/jvm-tools</span></p></li></ul><p><span style=\"font-size: 15px;text-align: left;\"></span><br></p><p style=\"white-space: normal;text-align: center;\"><span style=\"font-size: 15px;color: rgb(136, 136, 136);\"><br></span></p><p style=\"white-space: normal;text-align: center;\"><span style=\"font-size: 15px;color: rgb(136, 136, 136);\">- EOF -</span></p><section donone=\"shifuMouseDownCard('shifu_c_030')\" label=\"Copyright Reserved by PLAYHUDONG.\" style=\"margin-top: 1em;margin-bottom: 1em;white-space: normal;text-align: start;max-width: 100%;caret-color: rgb(0, 0, 0);color: rgb(0, 0, 0);border-width: 0px;border-style: initial;border-color: initial;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><section style=\"margin-left: 1em;max-width: 100%;line-height: 1.4;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"padding: 3px 8px;max-width: 100%;border-radius: 4px;color: rgb(255, 255, 255);background-color: rgb(255, 105, 31);font-family: inherit;text-align: inherit;text-decoration: inherit;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;\">推荐阅读</span>  <span style=\"margin-left: 4px;padding: 3px 8px;max-width: 100%;border-radius: 1.2em;color: rgb(255, 255, 255);line-height: 1.2;background-color: rgb(204, 204, 204);font-family: inherit;text-align: inherit;text-decoration: inherit;border-color: rgb(249, 110, 87);font-size: 12px;box-sizing: border-box !important;overflow-wrap: break-word !important;\">点击标题可跳转</span></section><section style=\"margin-top: -11px;padding: 22px 16px 16px;max-width: 100%;border-width: 1px;border-style: solid;border-color: rgb(255, 105, 31);color: rgb(51, 51, 51);font-size: 1em;font-family: inherit;text-align: inherit;text-decoration: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;mid=2651494167&amp;idx=1&amp;sn=633954b74100635c90ea62b5e56b2213&amp;chksm=bd25fb688a52727ec92718aca2edaa9a72c0d69360df227e328644c9e225c1b87235a28317d5&amp;scene=21#wechat_redirect\" data-itemshowtype=\"11\" tab=\"innerlink\" style=\"font-size: 12px;\" data-linktype=\"2\"><span style=\"font-size: 12px;\">百分百面试题:遇到过线上问题没有？</span></a><br></p><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;mid=2651489337&amp;idx=1&amp;sn=a110786585dae7cf83b346b617ea472e&amp;chksm=bd25e8468a526150784fbd63e6852cd66eea35c1df8a4a5e1da7d87ac00810f123d2cfe2cfae&amp;scene=21#wechat_redirect\" data-itemshowtype=\"11\" tab=\"innerlink\" style=\"font-size: 12px;\" data-linktype=\"2\"><span style=\"font-size: 12px;\">一个线上问题的思考：Eureka注册中心集群如何实现客户端请求负载及故障转移？</span></a><br></p><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"font-size: 12px;\"><a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;mid=2651489176&amp;idx=1&amp;sn=372225b68021cd8e19380527dfc985c8&amp;chksm=bd25efe78a5266f156f6235d221c674ad13e6c49e6133869806a283a7760bbe427a8a0273525&amp;scene=21#wechat_redirect\" data-itemshowtype=\"11\" tab=\"innerlink\" style=\"font-size: 12px;\" data-linktype=\"2\">线程池运用不当的一次线上事故</a></span><span style=\"font-family: inherit;font-size: 1em;text-align: inherit;text-decoration: inherit;\"></span></p></section></section><p style=\"white-space: normal;caret-color: rgb(0, 0, 0);color: rgb(0, 0, 0);text-align: start;max-width: 100%;min-height: 1em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br></p><p style=\"text-align: center;\"><span style=\"max-width: 100%;font-size: 14px;color: rgb(255, 169, 0);box-sizing: border-box !important;overflow-wrap: break-word !important;\">看完本文有收获？请转发分享给更多人</span><br></p><p style=\"white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);text-align: center;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><strong style=\"max-width: 100%;color: rgb(255, 169, 0);box-sizing: border-box !important;overflow-wrap: break-word !important;\">关注「ImportNew」，提升Java技能</strong></p><p style=\"white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);text-align: center;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><img data-ratio=\"0.9166666666666666\" data-s=\"300,640\" data-type=\"jpeg\" data-w=\"600\" width=\"auto\" style=\"box-sizing: border-box !important; overflow-wrap: break-word !important; visibility: visible !important; width: 600px !important; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/2A8tXicCG8ylbWIGfdoDED35IRRySQZTXUkJ1eop9MHApzFibKnOo0diboXpl0rmS5mH78YJhsWQv0dhv718A6kUA/640?wx_fmt=jpeg\"></p><p style=\"text-align: right;\"><span style=\"font-size: 14px;text-align: right;\"></span><span style=\"max-width: 100%;font-family: -apple-system-font, system-ui, \" helvetica neue sc sans gb yahei ui arial sans-serif center break-word border-box>点赞和在看就是最大的支持</span><span style=\"max-width: 100%;font-family: -apple-system-font, system-ui, \" helvetica neue sc sans gb yahei ui arial sans-serif center break-word border-box>❤️</span><span style=\"font-size: 14px;text-align: right;\"></span></p><p><br></p>\n                </div>\n\n    \n    <br>\n\n    \n        <a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;mid=2651494268&amp;idx=1&amp;sn=aafa5f474da308ecd88a78721042cac6&amp;chksm=bd25fb038a527215650d1a9a236f15857f88f0467cae7c799e2783c2466201b64d49a0b684d2&amp;scene=0#rd\" style=\"color: blue\" class=\"media_tool_meta meta_primary\">原文</a>\n        <br>\n    \n\n    \n\n    <img alt=\"\" width=\"1px\" height=\"1px\" class=\"\" style=\"width:1px;height:1px;display:none\" src=\"http://www.jintiankansha.me/rss_static/11757/XDv5fjzfBN\"></div></div>","descriptionType":"html","publishedDate":"Mon, 05 Apr 2021 06:40:00 +0000","feedId":2521,"bgimg":"http://content.sov5.cn/mmbiz_jpg/eZzl4LXykQzqncGibybwDPWQyvYP3mFbjry8OZwTFgwKA8poeCj15IhgLHLI1b7LiaUDolbk1EMCFVaEun6LDH2w?imageView2/1/w/600","linkMd5":"d76912fa3908e93c5d4d9b88818e1464","destWidth":600,"destHeight":435,"sourceBytes":58366,"destBytes":56758,"author":"","articleImgCdnMap":{"http://content.sov5.cn/mmbiz_jpg/eZzl4LXykQzqncGibybwDPWQyvYP3mFbjry8OZwTFgwKA8poeCj15IhgLHLI1b7LiaUDolbk1EMCFVaEun6LDH2w?imageView2/1/w/600":null,"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/vnOqylzBGCTFG9xcMyuSoPOg60ufJxXkJSJ6R7YF2cJkrpFwN76ibeNXNvISQWe495Wm6nSNzyZem7pQ2JEF5Xw/640?wx_fmt=png":null,"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/vnOqylzBGCTFG9xcMyuSoPOg60ufJxXkqTOoSKXNYiaFRQ0Vql72NwlHy9Sjml812BVKbHxw1hySrQydWVLFcaw/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn60@2020_6/2021/04/05/09-43-03-770_8a969a65924812d2.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/vnOqylzBGCTFG9xcMyuSoPOg60ufJxXkH7pKNDWbb7Xrhd1UXdYhZZeBawpfRt2MM4qxoAWibKH4g6DhHJIjMKQ/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn52@2020_5/2021/04/05/09-42-59-479_cc543e7aa4281575.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/vnOqylzBGCTFG9xcMyuSoPOg60ufJxXkIFHzYpxg8uEeBNcolSsdcMZib0utv3yYbCoAfSFebEU71ucA8UPwBWQ/640?wx_fmt=png":null,"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/2A8tXicCG8ylbWIGfdoDED35IRRySQZTXUkJ1eop9MHApzFibKnOo0diboXpl0rmS5mH78YJhsWQv0dhv718A6kUA/640?wx_fmt=jpeg":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn68@2020_3/2021/04/05/09-43-10-031_f93d0239d4369c75.webp","http://www.jintiankansha.me/rss_static/11757/XDv5fjzfBN":null},"publishedOrCreatedDate":1617615776013}],"record":{"createdTime":"2021-04-05 17:42:56","updatedTime":"2021-04-05 17:42:56","feedId":2521,"fetchDate":"Mon, 05 Apr 2021 09:42:56 +0000","fetchMs":358,"handleMs":32,"totalMs":124883,"newArticles":0,"totalArticles":5,"status":1,"type":0,"ip":"4f3dabd91468500ef69e99d2006a51b1","hostName":"europe68*","requestId":"725f93efb6c7450aa7f8e83c2b86f6b1_2521","contentType":"application/rss+xml","totalBytes":114010,"bgimgsTotal":1,"bgimgsGithubTotal":0,"articlesImgsTotal":7,"articlesImgsGithubTotal":3,"successGithubMap":{"myreaderx12":1,"myreaderx1":1,"myreaderx19":1},"failGithubMap":{"myreaderx14":1,"myreaderx23":1}},"feed":{"createdTime":"2020-08-24 21:31:41","updatedTime":"2020-09-01 10:09:47","id":2521,"name":"ImportNew","url":"http://feedmaker.kindle4rss.com/feeds/importnew.weixin.xml","subscriber":null,"website":null,"icon":"http://www.sogou.com/images/logo/new/favicon.ico?v=4","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx63/cdn9@2020_3/2020/09/01/02-08-31-388_d24121c9beed1de6.ico","description":"伯乐在线旗下账号，专注Java技术分享，包括Java基础技术、进阶技能、架构设计和Java技术领域动态等。","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2021-04-05 17:45:00","updatedTime":"2021-04-05 17:45:00","id":null,"feedId":2521,"linkMd5":"d76912fa3908e93c5d4d9b88818e1464"}],"tmpCommonImgCdnBytes":0,"tmpBodyImgCdnBytes":114010,"tmpBgImgCdnBytes":0,"extra4":{"start":1617615775219,"total":0,"statList":[{"spend":763,"msg":"获取xml内容"},{"spend":32,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":121743,"msg":"正文链接上传到cdn"}]},"extra5":7,"extra6":6,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"http://content.sov5.cn/mmbiz_jpg/eZzl4LXykQzqncGibybwDPWQyvYP3mFbjry8OZwTFgwKA8poeCj15IhgLHLI1b7LiaUDolbk1EMCFVaEun6LDH2w?imageView2/1/w/600","sourceStatusCode":200,"destWidth":600,"destHeight":435,"sourceBytes":58366,"destBytes":56758,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":1076,"convertSpendMs":45,"createdTime":"2021-04-05 17:42:56","host":"us-018*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E7%BA%BF%E4%B8%8A%E6%9C%8D%E5%8A%A1%20CPU%20100%25%EF%BC%9F%E4%B8%80%E9%94%AE%E5%AE%9A%E4%BD%8D%20so%20easy%EF%BC%81","linkMd5ListStr":"d76912fa3908e93c5d4d9b88818e1464,d76912fa3908e93c5d4d9b88818e1464","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn43/contents/2021/04/05/09-42-57-168_935c2a4981c14476.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Mon, 05 Apr 2021 09:42:57 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["AB6C:18FD:277F714:44FE1BB:606ADBA1"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1617617189"],"x-ratelimit-used":["60"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn43/contents/2021/04/05/09-42-57-168_935c2a4981c14476.webp","historyStatusCode":[],"spendMs":39},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"57 KB","destSize":"55.4 KB","compressRate":"97.2%"},{"code":1,"isDone":false,"source":"http://content.sov5.cn/mmbiz_jpg/eZzl4LXykQzqncGibybwDPWQyvYP3mFbjry8OZwTFgwKA8poeCj15IhgLHLI1b7LiaUDolbk1EMCFVaEun6LDH2w?imageView2/1/w/600","sourceStatusCode":200,"destWidth":600,"destHeight":435,"sourceBytes":58366,"destBytes":56758,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":1036,"convertSpendMs":53,"createdTime":"2021-04-05 17:42:57","host":"us-018*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E7%BA%BF%E4%B8%8A%E6%9C%8D%E5%8A%A1%20CPU%20100%25%EF%BC%9F%E4%B8%80%E9%94%AE%E5%AE%9A%E4%BD%8D%20so%20easy%EF%BC%81","linkMd5ListStr":"d76912fa3908e93c5d4d9b88818e1464,d76912fa3908e93c5d4d9b88818e1464","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn43/contents/2021/04/05/09-42-58-281_935c2a4981c14476.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Mon, 05 Apr 2021 09:42:58 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["AB6C:18FD:277F7A1:44FE2A3:606ADBA2"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1617617189"],"x-ratelimit-used":["60"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn43/contents/2021/04/05/09-42-58-281_935c2a4981c14476.webp","historyStatusCode":[],"spendMs":33},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"57 KB","destSize":"55.4 KB","compressRate":"97.2%"},{"code":1,"isDone":false,"source":"http://www.jintiankansha.me/rss_static/11757/XDv5fjzfBN","sourceStatusCode":405,"sourceBytes":0,"destBytes":0,"feedId":2521,"totalSpendMs":728,"convertSpendMs":0,"createdTime":"2021-04-05 17:42:58","host":"us-036*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E7%BA%BF%E4%B8%8A%E6%9C%8D%E5%8A%A1%20CPU%20100%25%EF%BC%9F%E4%B8%80%E9%94%AE%E5%AE%9A%E4%BD%8D%20so%20easy%EF%BC%81","linkMd5ListStr":"d76912fa3908e93c5d4d9b88818e1464","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[405],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"http://www.jintiankansha.me/rss_static/11757/XDv5fjzfBN","sourceStatusCode":405,"sourceBytes":0,"destBytes":0,"feedId":2521,"totalSpendMs":436,"convertSpendMs":0,"createdTime":"2021-04-05 17:42:59","host":"us-028*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E7%BA%BF%E4%B8%8A%E6%9C%8D%E5%8A%A1%20CPU%20100%25%EF%BC%9F%E4%B8%80%E9%94%AE%E5%AE%9A%E4%BD%8D%20so%20easy%EF%BC%81","linkMd5ListStr":"d76912fa3908e93c5d4d9b88818e1464","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[405],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/vnOqylzBGCTFG9xcMyuSoPOg60ufJxXkJSJ6R7YF2cJkrpFwN76ibeNXNvISQWe495Wm6nSNzyZem7pQ2JEF5Xw/640?wx_fmt=png","sourceStatusCode":200,"destWidth":936,"destHeight":267,"sourceBytes":13831,"destBytes":45398,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":4599,"convertSpendMs":18,"createdTime":"2021-04-05 17:42:58","host":"us-012*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E7%BA%BF%E4%B8%8A%E6%9C%8D%E5%8A%A1%20CPU%20100%25%EF%BC%9F%E4%B8%80%E9%94%AE%E5%AE%9A%E4%BD%8D%20so%20easy%EF%BC%81","linkMd5ListStr":"d76912fa3908e93c5d4d9b88818e1464","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx23/cdn71/contents/2021/04/05/09-43-03-015_64abb3e4b5ccc4f9.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 69189253.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Mon, 05 Apr 2021 09:43:03 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["DC34:176A:1608493:34DDC98:606ADBA7"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1617617223"],"x-ratelimit-used":["61"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx23/cdn71/contents/2021/04/05/09-43-03-015_64abb3e4b5ccc4f9.webp","historyStatusCode":[],"spendMs":47},"base64UserPassword":null,"token":"df0b9******************************93a6e"},"githubUser":"myreaderx23","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"13.5 KB","destSize":"44.3 KB","compressRate":"328.2%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/vnOqylzBGCTFG9xcMyuSoPOg60ufJxXkJSJ6R7YF2cJkrpFwN76ibeNXNvISQWe495Wm6nSNzyZem7pQ2JEF5Xw/640?wx_fmt=png","sourceStatusCode":200,"destWidth":936,"destHeight":267,"sourceBytes":13831,"destBytes":45398,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":8974,"convertSpendMs":15,"createdTime":"2021-04-05 17:43:03","host":"europe70*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E7%BA%BF%E4%B8%8A%E6%9C%8D%E5%8A%A1%20CPU%20100%25%EF%BC%9F%E4%B8%80%E9%94%AE%E5%AE%9A%E4%BD%8D%20so%20easy%EF%BC%81","linkMd5ListStr":"d76912fa3908e93c5d4d9b88818e1464","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx23/cdn71/contents/2021/04/05/09-43-11-841_64abb3e4b5ccc4f9.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 69189253.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Mon, 05 Apr 2021 09:43:12 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["9D2E:BAC3:81DB6E1:83D3FBA:606ADBAF"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1617617223"],"x-ratelimit-used":["61"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx23/cdn71/contents/2021/04/05/09-43-11-841_64abb3e4b5ccc4f9.webp","historyStatusCode":[],"spendMs":241},"base64UserPassword":null,"token":"df0b9******************************93a6e"},"githubUser":"myreaderx23","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"13.5 KB","destSize":"44.3 KB","compressRate":"328.2%"},null,null],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://us-036.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[405]},"http://europe21.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://europe-58.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-028.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[405]},"http://us-024.herokuapp.com/":{"failCount":1,"successCount":1,"resultList":[200,null]},"http://europe70.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-012.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/vnOqylzBGCTFG9xcMyuSoPOg60ufJxXkH7pKNDWbb7Xrhd1UXdYhZZeBawpfRt2MM4qxoAWibKH4g6DhHJIjMKQ/640?wx_fmt=png","sourceStatusCode":200,"destWidth":659,"destHeight":149,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn52@2020_5/2021/04/05/09-42-59-479_cc543e7aa4281575.webp","sourceBytes":4597,"destBytes":14438,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":1608,"convertSpendMs":7,"createdTime":"2021-04-05 17:42:58","host":"europe70*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E7%BA%BF%E4%B8%8A%E6%9C%8D%E5%8A%A1%20CPU%20100%25%EF%BC%9F%E4%B8%80%E9%94%AE%E5%AE%9A%E4%BD%8D%20so%20easy%EF%BC%81","linkMd5ListStr":"d76912fa3908e93c5d4d9b88818e1464","githubUser":"myreaderx12","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"4.5 KB","destSize":"14.1 KB","compressRate":"314.1%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/vnOqylzBGCTFG9xcMyuSoPOg60ufJxXkqTOoSKXNYiaFRQ0Vql72NwlHy9Sjml812BVKbHxw1hySrQydWVLFcaw/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1026,"destHeight":363,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn60@2020_6/2021/04/05/09-43-03-770_8a969a65924812d2.webp","sourceBytes":20773,"destBytes":67964,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":6015,"convertSpendMs":26,"createdTime":"2021-04-05 17:42:58","host":"europe-58*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E7%BA%BF%E4%B8%8A%E6%9C%8D%E5%8A%A1%20CPU%20100%25%EF%BC%9F%E4%B8%80%E9%94%AE%E5%AE%9A%E4%BD%8D%20so%20easy%EF%BC%81","linkMd5ListStr":"d76912fa3908e93c5d4d9b88818e1464","githubUser":"myreaderx19","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"20.3 KB","destSize":"66.4 KB","compressRate":"327.2%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/2A8tXicCG8ylbWIGfdoDED35IRRySQZTXUkJ1eop9MHApzFibKnOo0diboXpl0rmS5mH78YJhsWQv0dhv718A6kUA/640?wx_fmt=jpeg","sourceStatusCode":200,"destWidth":600,"destHeight":550,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn68@2020_3/2021/04/05/09-43-10-031_f93d0239d4369c75.webp","sourceBytes":37143,"destBytes":31608,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":11832,"convertSpendMs":53,"createdTime":"2021-04-05 17:42:58","host":"us-024*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E7%BA%BF%E4%B8%8A%E6%9C%8D%E5%8A%A1%20CPU%20100%25%EF%BC%9F%E4%B8%80%E9%94%AE%E5%AE%9A%E4%BD%8D%20so%20easy%EF%BC%81","linkMd5ListStr":"d76912fa3908e93c5d4d9b88818e1464","githubUser":"myreaderx1","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"36.3 KB","destSize":"30.9 KB","compressRate":"85.1%"}],"successGithubMap":{"myreaderx12":1,"myreaderx1":1,"myreaderx19":1},"failGithubMap":{"myreaderx14":1,"myreaderx23":1}}