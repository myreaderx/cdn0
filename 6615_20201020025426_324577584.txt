{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-20 10:54:08","updatedTime":"2020-10-20 10:54:08","title":"一文搞懂MySQL行锁、表锁、间隙锁详解","link":"https://segmentfault.com/a/1190000037534778","description":"<p><img src=\"https://segmentfault.com/img/bVcHEFx\" alt=\"image\" title=\"image\" /></p>\n<h2>前言</h2>\n<p>我们前几篇讲了索引是什么，如何使用<code>explain</code>分析索引使用情况，如何去优化索引，以及<code>show profiles</code>分析<code>SQL</code>语句执行资源消耗的学习。今天我们来讲讲<code>MySQL</code>的各种锁，这里存储引擎我们使用<code>InnoDB</code></p>\n<h2>准备工作</h2>\n<h3>创建表 tb_innodb_lock</h3>\n<pre><code class=\"sql\">drop table if exists test_innodb_lock;\nCREATE TABLE test_innodb_lock (\n    a INT (11),\n    b VARCHAR (20)\n) ENGINE INNODB DEFAULT charset = utf8;\ninsert into test_innodb_lock values (1,'a');\ninsert into test_innodb_lock values (2,'b');\ninsert into test_innodb_lock values (3,'c');\ninsert into test_innodb_lock values (4,'d');\ninsert into test_innodb_lock values (5,'e');</code></pre>\n<h3>创建索引</h3>\n<pre><code class=\"sql\">create index idx_lock_a on test_innodb_lock(a);\ncreate index idx_lock_b on test_innodb_lock(b);</code></pre>\n<h2>MySQL 各种锁演示</h2>\n<ul>\n <li>先将自动提交事务改成手动提交：<code>set autocommit=0;</code></li>\n <li>我们启动两个会话窗口 A 和 B，模拟一个抢到锁，一个没抢到被阻塞住了。</li>\n</ul>\n<h3>行锁（写&amp;读）</h3>\n<ul>\n <li>A 窗口执行</li>\n</ul>\n<pre><code class=\"sql\">update test_innodb_lock set b='a1' where a=1;</code></pre>\n<pre><code class=\"sql\">SELECT * from test_innodb_lock;</code></pre>\n<p><img src=\"https://segmentfault.com/img/bVcHEDU\" alt=\"image.png\" title=\"image.png\" /></p>\n<p>我们可以看到 A 窗口可以看到更新后的结果</p>\n<ul>\n <li>B 窗口执行</li>\n</ul>\n<pre><code class=\"sql\">SELECT * from test_innodb_lock;</code></pre>\n<p><img src=\"https://segmentfault.com/img/bVcHED0\" alt=\"image.png\" title=\"image.png\" /></p>\n<p>我们可以看到 B 窗口不能看到更新后的结果，看到的还是老数据，这是因为 a = 1 的这行记录被 A 窗口执行的 SQL 语句抢到了锁，并且没有执行 commit 提交操作。所以窗口 B 看到的还是老数据。这就是 MySQL 隔离级别中的\"读已提交\"。</p>\n<ul>\n <li>窗口 A 执行 commit 操作</li>\n</ul>\n<pre><code class=\"sql\">COMMIT;</code></pre>\n<ul>\n <li>窗口 B 查询</li>\n</ul>\n<pre><code class=\"sql\">SELECT * from test_innodb_lock;</code></pre>\n<p><img src=\"https://segmentfault.com/img/bVcHED7\" alt=\"image.png\" title=\"image.png\" /></p>\n<p>这个时候我们发现窗口 B 已经读取到最新数据了</p>\n<h3>行锁（写&amp;写）</h3>\n<ul>\n <li>窗口 A 执行更新 a = 1 的记录</li>\n</ul>\n<pre><code class=\"sql\">update test_innodb_lock set b='a2' where a=1;</code></pre>\n<p>这时候并没有 commit 提交，锁是窗口 A 持有。</p>\n<ul>\n <li>窗口 B 也执行更新 a = 1 的记录</li>\n</ul>\n<pre><code class=\"sql\">update test_innodb_lock set b='a3' where a=1;</code></pre>\n<p><img src=\"https://segmentfault.com/img/bVcHED8\" alt=\"image.png\" title=\"image.png\" /></p>\n<p>可以看到，窗口 B 一直处于阻塞状态，因为窗口 A 还没有执行 commit，还持有锁。窗口 B 抢不到 a = 1 这行记录的锁，所以一直阻塞等待。</p>\n<ul>\n <li>窗口 A 执行 commit 操作</li>\n</ul>\n<pre><code class=\"sql\">COMMIT;</code></pre>\n<ul>\n <li>窗口 B 的变化</li>\n</ul>\n<p><img src=\"https://segmentfault.com/img/bVcHEEi\" alt=\"image.png\" title=\"image.png\" /></p>\n<p>可以看到这个时候窗口 B 已经执行成功了</p>\n<h3>表锁</h3>\n<p>当索引失效的时候，行锁会升级成表锁，索引失效的其中一个方法是对索引自动 or 手动的换型。a 字段本身是 integer，我们加上引号，就变成了 String，这个时候索引就会失效了。</p>\n<ul>\n <li>窗口 A 更新 a = 1 的记录</li>\n</ul>\n<pre><code class=\"sql\">update test_innodb_lock set b='a4' where a=1 or a=2;</code></pre>\n<ul>\n <li>窗口 B 更新 a = 2 的记录</li>\n</ul>\n<pre><code class=\"sql\">update test_innodb_lock set b='b1' where a=3;</code></pre>\n<p><img src=\"https://segmentfault.com/img/bVcHEEj\" alt=\"image.png\" title=\"image.png\" /></p>\n<p>这个时候发现，虽然窗口 A 和 B 更新的行不一样，但是窗口 B 还是被阻塞住了，就是因为窗口 A 的索引失效，导致行锁升级成了表锁，把整个表锁住了，索引窗口 B 被阻塞了。</p>\n<ul>\n <li>窗口 A 执行 commit 操作</li>\n</ul>\n<pre><code class=\"sql\">COMMIT;</code></pre>\n<ul>\n <li>窗口 B 的变化</li>\n</ul>\n<p><img src=\"https://segmentfault.com/img/bVcHEEn\" alt=\"image.png\" title=\"image.png\" /></p>\n<p>可以看到这个时候窗口 B 已经执行成功了</p>\n<h3>间隙锁</h3>\n<ul>\n <li>什么是间隙锁</li>\n</ul>\n<p>当我们采用范围条件查询数据时，InnoDB 会对这个范围内的数据进行加锁。比如有 id 为：1、3、5、7 的 4 条数据，我们查找 1-7 范围的数据。那么 1-7 都会被加上锁。2、4、6 也在 1-7 的范围中，但是不存在这些数据记录，这些 2、4、6 就被称为间隙。</p>\n<ul>\n <li>间隙锁的危害</li>\n</ul>\n<p>范围查找时，会把整个范围的数据全部锁定住，即便这个范围内不存在的一些数据，也会被无辜的锁定住，比如我要在 1、3、5、7 中插入 2，这个时候 1-7 都被锁定住了，根本无法插入 2。在某些场景下会对性能产生很大的影响</p>\n<ul>\n <li>间隙锁演示</li>\n</ul>\n<p>我们先把字段 a 的值修改成 1、3、5、7、9</p>\n<ul>\n <li>窗口 A 更新 a = 1~7 范围的数据</li>\n</ul>\n<pre><code class=\"sql\">update test_innodb_lock set b='b5' where a&gt;1 and a&lt;7;</code></pre>\n<ul>\n <li>窗口 B 在 a = 2 的位置插入数据</li>\n</ul>\n<pre><code class=\"sql\">insert into test_innodb_lock values(2, \"b6\");</code></pre>\n<p><img src=\"https://segmentfault.com/img/bVcHEEs\" alt=\"image.png\" title=\"image.png\" /></p>\n<p>这个时候发现窗口 B 更新 a = 2 的操作一直在等待，因为 1~7 范围的数据被间隙锁，锁住了。只有等窗口 A 执行 commit，窗口 B 的 a = 2 才能更新成功</p>\n<h3>行锁分析</h3>\n<ul>\n <li>执行 SQL 分析命令</li>\n</ul>\n<pre><code class=\"sql\">show status like 'innodb_row_lock%';</code></pre>\n<p><img src=\"https://segmentfault.com/img/bVcHEEu\" alt=\"image.png\" title=\"image.png\" /></p>\n<ul>\n <li><p>Variable_name 说明</p>\n  <ul>\n   <li>Innodb_row_lock_current_waits：当前正在等待锁定的数量。</li>\n   <li>Innodb_row_lock_time：从系统启动到现在锁定的时长。</li>\n   <li>Innodb_row_lock_time_avg：每次等待锁所花平均时间。</li>\n   <li>Innodb_row_lock_time_max：从系统启动到现在锁等待最长的一次所花的时间。</li>\n   <li>Innodb_row_lock_waits：系统启动后到现在总共等待锁的次数。</li>\n  </ul></li>\n</ul>\n<h2>结语</h2>\n<p>大家可以根据 Variable_name 这几个参数考虑是否要进行优化，如果锁定时间，锁定次数过大，那就该考虑优化了。优化手段可以参考之前索引优化的文章。</p>\n<h2>IT 老哥</h2>\n<h4>一个通过自学，在大厂做高级Java开发的程序员，<code>关注我</code>，每天分享技术干货</h4>","descriptionType":"html","publishedDate":"Tue, 20 Oct 2020 02:13:34 +0000","feedId":6615,"bgimg":"https://segmentfault.com/img/bVcHEFx","linkMd5":"da96646637ac294153c6d9cadc5beb03","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn9@2020_5/2020/10/20/02-54-19-847_47f8b8021630914e.webp","destWidth":800,"destHeight":449,"sourceBytes":62672,"destBytes":62672,"author":"公众号_IT老哥","articleImgCdnMap":{"https://segmentfault.com/img/bVcHEFx":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn9@2020_5/2020/10/20/02-54-19-847_47f8b8021630914e.webp","https://segmentfault.com/img/bVcHEDU":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn43@2020_5/2020/10/20/02-54-23-693_6a1988b53ea0b8da.webp","https://segmentfault.com/img/bVcHED0":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn39@2020_4/2020/10/20/02-54-23-485_248206af4c59891e.webp","https://segmentfault.com/img/bVcHED7":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn29@2020_5/2020/10/20/02-54-23-490_28026c82663c9995.webp","https://segmentfault.com/img/bVcHED8":null,"https://segmentfault.com/img/bVcHEEi":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn23@2020_4/2020/10/20/02-54-23-763_4f9f549eb56cd666.webp","https://segmentfault.com/img/bVcHEEj":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn20@2020_4/2020/10/20/02-54-23-941_6c724d2a982aaa14.webp","https://segmentfault.com/img/bVcHEEn":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn26@2020_1/2020/10/20/02-54-23-452_b821e28ba0cad635.webp","https://segmentfault.com/img/bVcHEEs":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn13@2020_5/2020/10/20/02-54-23-588_4b289d804e7ea321.webp","https://segmentfault.com/img/bVcHEEu":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn15@2020_5/2020/10/20/02-54-24-823_403126264401970d.webp"},"publishedOrCreatedDate":1603162448629}],"record":{"createdTime":"2020-10-20 10:54:08","updatedTime":"2020-10-20 10:54:08","feedId":6615,"fetchDate":"Tue, 20 Oct 2020 02:54:08 +0000","fetchMs":3549,"handleMs":6956,"totalMs":29170,"newArticles":0,"totalArticles":50,"status":1,"type":0,"ip":"ea53ec1fdc33d9a3e3a06ccd58c0f4c6","hostName":"us-013*","requestId":"18a0c9f909d54d88a38a0195947eb93c_6615","contentType":"application/atom+xml; charset=UTF-8","totalBytes":309396,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":10,"articlesImgsGithubTotal":9,"successGithubMap":{"myreaderx27":1,"myreaderx4":1,"myreaderx22":1,"myreaderx11":1,"myreaderx13":1,"myreaderx1":1,"myreaderx24":1,"myreaderx18":1,"myreaderx19":1},"failGithubMap":{"myreaderx14":1}},"feed":{"createdTime":"2020-08-25 04:33:08","updatedTime":"2020-08-25 07:11:24","id":6615,"name":"SegmentFault 最新的文章","url":"http://segmentfault.com/feeds/blogs","subscriber":null,"website":null,"icon":"https://segmentfault.com/favicon.ico","icon_jsdelivr":null,"description":"","weekly":null,"link":"https://segmentfault.com"},"noPictureArticleList":[{"createdTime":"2020-10-20 10:54:26","updatedTime":"2020-10-20 10:54:26","id":null,"feedId":6615,"linkMd5":"da96646637ac294153c6d9cadc5beb03"}],"tmpCommonImgCdnBytes":62672,"tmpBodyImgCdnBytes":246724,"tmpBgImgCdnBytes":0,"extra4":{"start":1603162437190,"total":0,"statList":[{"spend":4483,"msg":"获取xml内容"},{"spend":6956,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":4,"msg":"修正封面图上传失败重新上传"},{"spend":5468,"msg":"正文链接上传到cdn"}]},"extra5":10,"extra6":10,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"https://segmentfault.com/img/bVcHED8","sourceStatusCode":200,"destWidth":800,"destHeight":425,"sourceBytes":19008,"destBytes":19008,"feedId":6615,"totalSpendMs":2912,"convertSpendMs":0,"createdTime":"2020-10-20 10:54:21","host":"europe-59*","referer":"https://segmentfault.com/a/1190000037534778","linkMd5ListStr":"da96646637ac294153c6d9cadc5beb03","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn35/contents/2020/10/20/02-54-23-671_ecfb57e5a3bbe4b4.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Tue, 20 Oct 2020 02:54:23 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["D882:71A0:1CFFC225:21883CD0:5F8E515A"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, read:packages, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1603163062"],"x-ratelimit-used":["61"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn35/contents/2020/10/20/02-54-23-671_ecfb57e5a3bbe4b4.webp","historyStatusCode":[],"spendMs":251},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"18.6 KB","destSize":"18.6 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://segmentfault.com/img/bVcHED8","sourceStatusCode":200,"destWidth":800,"destHeight":425,"sourceBytes":19008,"destBytes":19008,"feedId":6615,"totalSpendMs":2319,"convertSpendMs":0,"createdTime":"2020-10-20 10:54:24","host":"europe-59*","referer":"https://segmentfault.com/a/1190000037534778","linkMd5ListStr":"da96646637ac294153c6d9cadc5beb03","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn35/contents/2020/10/20/02-54-26-081_ecfb57e5a3bbe4b4.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Tue, 20 Oct 2020 02:54:26 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["D882:71A0:1CFFC525:2188458B:5F8E515F"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, read:packages, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1603163062"],"x-ratelimit-used":["61"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn35/contents/2020/10/20/02-54-26-081_ecfb57e5a3bbe4b4.webp","historyStatusCode":[],"spendMs":239},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"18.6 KB","destSize":"18.6 KB","compressRate":"100%"}],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://us-025.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-037.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-55.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-007.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe21.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-033.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-59.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-026.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe70.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://segmentfault.com/img/bVcHEFx","sourceStatusCode":200,"destWidth":800,"destHeight":449,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn9@2020_5/2020/10/20/02-54-19-847_47f8b8021630914e.webp","sourceBytes":62672,"destBytes":62672,"feedId":6615,"totalSpendMs":4138,"convertSpendMs":0,"createdTime":"2020-10-20 10:54:16","host":"us-005*","referer":"https://segmentfault.com/a/1190000037534778","linkMd5ListStr":"da96646637ac294153c6d9cadc5beb03,da96646637ac294153c6d9cadc5beb03","githubUser":"myreaderx13","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"61.2 KB","destSize":"61.2 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://segmentfault.com/img/bVcHEEn","sourceStatusCode":200,"destWidth":800,"destHeight":433,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn26@2020_1/2020/10/20/02-54-23-452_b821e28ba0cad635.webp","sourceBytes":39886,"destBytes":39886,"feedId":6615,"totalSpendMs":3363,"convertSpendMs":0,"createdTime":"2020-10-20 10:54:20","host":"us-007*","referer":"https://segmentfault.com/a/1190000037534778","linkMd5ListStr":"da96646637ac294153c6d9cadc5beb03","githubUser":"myreaderx22","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"39 KB","destSize":"39 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://segmentfault.com/img/bVcHED0","sourceStatusCode":200,"destWidth":800,"destHeight":425,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn39@2020_4/2020/10/20/02-54-23-485_248206af4c59891e.webp","sourceBytes":20196,"destBytes":20196,"feedId":6615,"totalSpendMs":3398,"convertSpendMs":0,"createdTime":"2020-10-20 10:54:20","host":"us-037*","referer":"https://segmentfault.com/a/1190000037534778","linkMd5ListStr":"da96646637ac294153c6d9cadc5beb03","githubUser":"myreaderx11","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"19.7 KB","destSize":"19.7 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://segmentfault.com/img/bVcHEEs","sourceStatusCode":200,"destWidth":800,"destHeight":426,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn13@2020_5/2020/10/20/02-54-23-588_4b289d804e7ea321.webp","sourceBytes":31048,"destBytes":31048,"feedId":6615,"totalSpendMs":3530,"convertSpendMs":0,"createdTime":"2020-10-20 10:54:20","host":"us-026*","referer":"https://segmentfault.com/a/1190000037534778","linkMd5ListStr":"da96646637ac294153c6d9cadc5beb03","githubUser":"myreaderx27","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"30.3 KB","destSize":"30.3 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://segmentfault.com/img/bVcHEDU","sourceStatusCode":200,"destWidth":800,"destHeight":425,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn43@2020_5/2020/10/20/02-54-23-693_6a1988b53ea0b8da.webp","sourceBytes":21218,"destBytes":21218,"feedId":6615,"totalSpendMs":3612,"convertSpendMs":0,"createdTime":"2020-10-20 10:54:20","host":"us-025*","referer":"https://segmentfault.com/a/1190000037534778","linkMd5ListStr":"da96646637ac294153c6d9cadc5beb03","githubUser":"myreaderx1","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"20.7 KB","destSize":"20.7 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://segmentfault.com/img/bVcHED7","sourceStatusCode":200,"destWidth":800,"destHeight":425,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn29@2020_5/2020/10/20/02-54-23-490_28026c82663c9995.webp","sourceBytes":19458,"destBytes":19458,"feedId":6615,"totalSpendMs":3651,"convertSpendMs":0,"createdTime":"2020-10-20 10:54:21","host":"europe70*","referer":"https://segmentfault.com/a/1190000037534778","linkMd5ListStr":"da96646637ac294153c6d9cadc5beb03","githubUser":"myreaderx18","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"19 KB","destSize":"19 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://segmentfault.com/img/bVcHEEj","sourceStatusCode":200,"destWidth":800,"destHeight":428,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn20@2020_4/2020/10/20/02-54-23-941_6c724d2a982aaa14.webp","sourceBytes":36740,"destBytes":36740,"feedId":6615,"totalSpendMs":3877,"convertSpendMs":0,"createdTime":"2020-10-20 10:54:20","host":"us-033*","referer":"https://segmentfault.com/a/1190000037534778","linkMd5ListStr":"da96646637ac294153c6d9cadc5beb03","githubUser":"myreaderx24","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"35.9 KB","destSize":"35.9 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://segmentfault.com/img/bVcHEEi","sourceStatusCode":200,"destWidth":800,"destHeight":425,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn23@2020_4/2020/10/20/02-54-23-763_4f9f549eb56cd666.webp","sourceBytes":19338,"destBytes":19338,"feedId":6615,"totalSpendMs":3828,"convertSpendMs":0,"createdTime":"2020-10-20 10:54:21","host":"europe21*","referer":"https://segmentfault.com/a/1190000037534778","linkMd5ListStr":"da96646637ac294153c6d9cadc5beb03","githubUser":"myreaderx4","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"18.9 KB","destSize":"18.9 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://segmentfault.com/img/bVcHEEu","sourceStatusCode":200,"destWidth":695,"destHeight":359,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn15@2020_5/2020/10/20/02-54-24-823_403126264401970d.webp","sourceBytes":58840,"destBytes":58840,"feedId":6615,"totalSpendMs":4830,"convertSpendMs":0,"createdTime":"2020-10-20 10:54:20","host":"us-55*","referer":"https://segmentfault.com/a/1190000037534778","linkMd5ListStr":"da96646637ac294153c6d9cadc5beb03","githubUser":"myreaderx19","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"57.5 KB","destSize":"57.5 KB","compressRate":"100%"}],"successGithubMap":{"myreaderx27":1,"myreaderx4":1,"myreaderx22":1,"myreaderx11":1,"myreaderx13":1,"myreaderx1":1,"myreaderx24":1,"myreaderx18":1,"myreaderx19":1},"failGithubMap":{"myreaderx14":1}}