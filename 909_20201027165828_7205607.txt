{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-28 00:56:48","updatedTime":"2020-10-28 00:56:48","title":"Linux 5.10 终于抛弃了造成了安全隐患的老函数","link":"https://linux.cn/article-12762-1.html?utm_source=rss&utm_medium=rss","description":"<blockquote> \n <p>多年来，set_fs() 一直是众所周知的麻烦，现在它终于消失了。</p> \n</blockquote> \n<p><img src=\"https://img.linux.net.cn/data/attachment/album/202010/27/215001zpsdddd3gs72s227.jpg\" /></p> \n<p>Linus Torvalds 开启了 Linux 内核的又一个开发周期，宣布 5.10-rc1 发布了，而且这一次还有一个历史性的转折：新内核标志着一个几十年前的函数的落幕，这个函数在被发现会导致安全漏洞后早已成为多余的函数。</p> \n<p>随着长达两周的，每一次新的 Linux 内核迭代发布前的合并窗口的关闭，Torvalds 在 Linux 内核邮件列表上分享了他的感想，他认为“事情似乎相当顺利”。</p> \n<p>“合并窗口”是 Linux 新内核发布过程中的一个关键部分，在此窗口期间，每天有多达 1000 个由开发者社区提交的补丁被合并到 Torvalds 管理的主线仓库中。而审查过程会确保每个补丁都能实现理想的变化。</p> \n<p>这一次，Torvalds 提请大家注意移除了一个叫 <code>set_fs()</code> 的寻址函数，这个函数可以追溯到 Linux 的最初版本。“对我来说，这是最有趣的变化，<code>set_fs()</code> 被移除了，”他写道，“这不是一个巨大的变化，但很有趣，因为 <code>set_fs()</code> 指定用户空间副本是否真正进入用户空间或内核空间的这个模式，几乎可以追溯到 Linux 的最初版本。”</p> \n<p>正如 Torvalds 所解释的那样，<code>set_fs()</code> 函数可以通过取消用户空间和内核空间之间的分界来覆盖地址空间。该函数在管理英特尔早期 x86 处理器时被广泛使用，以控制非特权代码可以访问的虚拟地址范围。</p> \n<p>然而，2010 年，“<a href=\"https://linux.cn/Common%20Vulnerabilities and Exposures\">常见漏洞和暴露</a>”（CVE）详细披露了 <code>set_fs()</code> 带来的安全问题。通过绕过某些访问限制，证实该函数能够“覆盖任意内核内存位置”和“获得特权”&nbsp; —— 在某些情况下，这可以让用户空间覆盖内核数据。</p> \n<p>鉴于该工具的安全缺陷，包括 x86、PowerPC、s390 和 RISC-V 在内的一些架构已经取消了地址空间覆盖功能。但是，正如 Torvalds 写道：“我们仍然留着 <code>set_fs()</code>，因为并不是每个架构都已经转换为新的世界秩序。”</p> \n<p>除了这个久违的历史补救之外，5.10-rc1 版本和大多数内核版本一样，还伴随着无数的变化。Torvalds 统计了近 1700 人的近 1.4 万次提交，改动范围从支持自动驾驶汽车和机器人的 Nvidia SOC 芯片到支持任天堂 Switch 控制器。</p> \n<p>统计结果表明。大约新增了 70.4 万行代码和删除了 41.9 万行代码，这使得 5.10-rc1 的大小与 Linux 有史以来最大的内核 5.8 相当。“这看起来是一个比我预期的更大的版本，虽然合并窗口比 5.8 的窗口小，但也小不了多少，”Torvalds 说，“而 5.8 是我们有史以来最大的版本。”</p> \n<p>按照 Linux 典型的时间表，5.10-rc1 之后将有几个星期时间来提交修复问题的补丁，在预计 12 月发布稳定内核之前，将发布几个候选版本。</p> \n<hr /> \n<p>via:&nbsp;<a href=\"https://www.zdnet.com/article/linux-5-10-finally-ditches-decades-old-tool-that-caused-security-bugs/\">https://www.zdnet.com/article/linux-5-10-finally-ditches-decades-old-tool-that-caused-security-bugs/</a>&nbsp;</p> \n<p>作者：<a href=\"https://www.zdnet.com/meet-the-team/uk/daphne+leprince-ringuet/\">Daphne Leprince-ringuet</a> 译者：<a href=\"https://github.com/wxy\">wxy</a>&nbsp;校对：<a href=\"https://github.com/wxy\">wxy</a></p> \n<p>本文由&nbsp;<a href=\"https://github.com/LCTT/TranslateProject\">LCTT</a>&nbsp;原创编译，<a href=\"https://linux.cn/\">Linux中国</a>&nbsp;荣誉推出</p>","descriptionType":"text/html","publishedDate":"Tue, 27 Oct 2020 13:50:00 +0000","feedId":909,"bgimg":"https://img.linux.net.cn/data/attachment/album/202010/27/215001zpsdddd3gs72s227.jpg","linkMd5":"9c24c1f4e8f731565f9c9ae3136d2716","destWidth":1920,"destHeight":1080,"sourceBytes":68878,"destBytes":37876,"author":"linux@linux.cn (linux)","articleImgCdnMap":{"https://img.linux.net.cn/data/attachment/album/202010/27/215001zpsdddd3gs72s227.jpg":null},"publishedOrCreatedDate":1603817808365}],"record":{"createdTime":"2020-10-28 00:56:48","updatedTime":"2020-10-28 00:56:48","feedId":909,"fetchDate":"Tue, 27 Oct 2020 16:56:48 +0000","fetchMs":4226,"handleMs":57,"totalMs":104871,"newArticles":0,"totalArticles":13,"status":1,"type":0,"ip":"cf4f74a178f607b72fe1e5b4c372768e","hostName":"us-024*","requestId":"1eaf488909b84bfd931f99b10c70c0b8_909","contentType":"application/xml","totalBytes":0,"bgimgsTotal":1,"bgimgsGithubTotal":0,"articlesImgsTotal":1,"articlesImgsGithubTotal":0,"successGithubMap":{},"failGithubMap":{"myreaderx13":1}},"feed":{"createdTime":"2020-08-16 17:44:30","updatedTime":"2020-09-01 09:39:05","id":909,"name":"Linux 中国◆开源社区","url":"https://linux.cn/rss.xml","subscriber":null,"website":null,"icon":"https://img.linux.net.cn/static/image/common/linuxcn_logo_64.gif","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx62/cdn29@2020_6/2020/09/01/01-39-05-377_65d5a34039131f77.gif","description":"Linux 中国◆开源社区","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2020-10-28 00:58:28","updatedTime":"2020-10-28 00:58:28","id":null,"feedId":909,"linkMd5":"9c24c1f4e8f731565f9c9ae3136d2716"}],"tmpCommonImgCdnBytes":0,"tmpBodyImgCdnBytes":0,"tmpBgImgCdnBytes":0,"extra4":{"start":1603817803833,"total":0,"statList":[{"spend":4480,"msg":"获取xml内容"},{"spend":57,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":0,"msg":"正文链接上传到cdn"}]},"extra5":1,"extra6":1,"extra7ImgCdnFailResultVector":[null,{"code":1,"isDone":false,"source":"https://img.linux.net.cn/data/attachment/album/202010/27/215001zpsdddd3gs72s227.jpg","sourceStatusCode":200,"destWidth":1920,"destHeight":1080,"sourceBytes":68878,"destBytes":37876,"targetWebpQuality":75,"feedId":909,"totalSpendMs":4158,"convertSpendMs":59,"createdTime":"2020-10-28 00:58:24","host":"europe67*","referer":"https://linux.cn/article-12762-1.html?utm_source=rss&utm_medium=rss","linkMd5ListStr":"9c24c1f4e8f731565f9c9ae3136d2716,9c24c1f4e8f731565f9c9ae3136d2716","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx13/cdn29/contents/2020/10/27/16-58-27-748_ab66161d0c7a727b.webp","resp":{"code":409,"msg":"Conflict","body":"{\n  \"message\": \"is at ee4f067afc0a68f9d9ea86f42fcbbe44e8f6b46c but expected 02aa2423f63d650bb0fed0b600b499ceec338a7f\",\n  \"documentation_url\": \"https://docs.github.com/rest/reference/repos#create-or-update-file-contents\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-length":["222"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Tue, 27 Oct 2020 16:58:28 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["409 Conflict"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":[""],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["DC52:9231:211362C:25DD649:5F9851B3"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, read:packages, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["5000"],"x-ratelimit-remaining":["4780"],"x-ratelimit-reset":["1603821204"],"x-ratelimit-used":["220"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 409,url is : https://api.github.com/repos/myreaderx13/cdn29/contents/2020/10/27/16-58-27-748_ab66161d0c7a727b.webp","historyStatusCode":[],"spendMs":909},"base64UserPassword":null,"token":"698d7******************************30a89"},"githubUser":"myreaderx13","githubHttpCode":409,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"37 KB","compressRate":"55%","sourceSize":"67.3 KB"}],"extra10_invalidATagHrefValue":{"https://linux.cn/article-12762-1.html?utm_source=rss&utm_medium=rss_Common%20Vulnerabilities and Exposures":"https://linux.cn/Common%20Vulnerabilities and Exposures"},"extra111_proxyServerAndStatMap":{},"extra12ImgCdnSuccessResultVector":[],"successGithubMap":{},"failGithubMap":{"myreaderx13":1}}