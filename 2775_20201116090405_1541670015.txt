{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-11-16 17:02:02","updatedTime":"2020-11-16 17:02:02","title":"使用 PRPL 模式加快 Web 应用加载","link":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E4%BD%BF%E7%94%A8%C2%A0PRPL%C2%A0%E6%A8%A1%E5%BC%8F%E5%8A%A0%E5%BF%AB%C2%A0Web%C2%A0%E5%BA%94%E7%94%A8%E5%8A%A0%E8%BD%BD","description":"<div><div><div id=\"media\" class=\"rich_media_thumb_wrp\">\n\n            <img class=\"rich_media_thumb\" src=\"http://contentg.sov5.cn/mmbiz_jpg/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7t83YicG78msy89S4GhxqbP8ibEXsMmD8RXnZ6kZ3h9hm9ibQK0xGBsq4w?imageView2/1/w/600\">\n        </div>\n    \n\n    \n\n    <div class=\"rich_media_content\" id=\"js_content\">\n                    \n\n                    \n\n                    \n                    \n                    <section style=\"color: rgb(63, 63, 63);font-size: 16px;font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;\" data-mpa-powered-by=\"yiban.io\"><section style=\"text-align: left;\">\n\t\t<img data-ratio=\"0.6666666666666666\" data-type=\"jpeg\" data-w=\"1920\" style=\"width: 100%; border-radius: 4px; margin-bottom: 25px; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7SDQg3sBK2CGtfuzMKKRkc7qIyZy2j6zpUNDLG3LR2iaibBbh6SgvwFDQ/640?wx_fmt=jpeg\">\n\t</section><section style=\"font-size: 14px;color: rgb(145, 145, 145);text-align: left;line-height: 1em;margin-top: 13px;padding-left: 14px;\">\n\t\t作者 | Addy Osmani\t</section><section style=\"font-size: 14px;color: rgb(145, 145, 145);text-align: left;line-height: 1em;margin-top: 13px;padding-left: 14px;\">\n\t\t译者 | 王强\t</section><section style=\"font-size: 14px;color: rgb(145, 145, 145);text-align: left;line-height: 1em;margin-top: 13px;padding-left: 14px;\">\n\t\t策划 | 李俊辰\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">PRPL 是一种用于结构化和交付 Web 应用程序和渐进式 Web 应用（PWA）的模式，重点在于改进应用的交付和启动性能。这个模式包含一组步骤，以实现快速、可靠、高效的加载：</p><ul class=\"list-paddingleft-2\" style=\"list-style-type: disc;\"><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: left;\"><strong style=\"text-align: left;\">Push</strong>，推送初始路由所需的所有资源，并且只推送这些资源，以确保它们尽早可用。</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: left;\"><strong style=\"text-align: left;\">Render</strong>，在加载其他资源之前，渲染初始路由并使其具备交互能力。</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: left;\"><strong style=\"text-align: left;\">Pre-cache</strong>，预缓存用户可能访问的其他路由的资源，从而在恶劣的网络条件下尽可能提高对后续请求的响应能力和弹性。</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: left;\"><strong style=\"text-align: left;\">Lazy-load</strong>，当用户请求时，按需延迟加载路由；关键路由的资源应立即从缓存中加载，而相对不常用的资源可以根据请求从网络获取。</p></li></ul><blockquote style=\"margin-top: 0px;margin-bottom: 0px;padding-top: 0px;padding-left: 0px;border-left: none;\"><p style=\"font-size: 16px;white-space: pre-line;line-height: 1.75em;margin-top: 27px;padding-right: 20px;padding-left: 20px;color: rgb(91, 172, 235);\">注意：PRPL 模式是由 Polymer 团队于 2016 年首次引入的，但已被证明适用于其他许多技术栈。</p><span style=\"display: block;clear: both;\"></span></blockquote><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: center;\"><img data-ratio=\"0.553125\" data-type=\"png\" data-w=\"1920\" style=\"width: 100%; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7sibMykf9FcOQ4aU80xOfOdoRiaN7px0gWmGf2G0N434L0rP87WogCQzw/640?wx_fmt=png\"><span style=\"color: rgb(136, 136, 136);font-size: 14px;\">PRPL 模式加载顺序</span></p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">服务器和服务 Worker 一起为非活动路由预缓存资源。当用户切换路由时，应用会延迟加载尚未缓存的所有必需资源，并创建所需的视图。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: left;\">Twitter.com 自 2017 年以来就在生产中使用 PRPL 模式了。下面我们可以看到，他们对关键脚本使用了粒度代码拆分，并使用<linkrel>推送脚本以尽快让脚本可用：</linkrel></p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: center;\"><img data-ratio=\"0.60234375\" data-type=\"png\" data-w=\"1280\" style=\"width: 100%; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7O0EjM1wCFaFOuvF7iaXicpuquzibfclBkCkQPLNqRnA5F7C4rCkfsQ0Sg/640?wx_fmt=png\"><span style=\"color: rgb(136, 136, 136);font-size: 14px;\">PRPL 模式：预加载关键脚本</span></p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">其他路由会按需延迟加载。Twitter 在整个用户体验部分中会按需提供 40 多个块。Twitter 还使用服务 Workers 对其他路由进行（离线）资产预缓存，以提高对后续导航操作的响应能力：</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: center;\"><img data-ratio=\"0.60234375\" data-type=\"png\" data-w=\"1280\" style=\"width: 100%; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7U4cuSc1fKicibUcntfCrenhkk3tvQpiafl4jx9AIkbGhNvjNXoVhANntw/640?wx_fmt=png\"><span style=\"color: rgb(136, 136, 136);font-size: 14px;\">PRPL 模式：离线缓存资源</span></p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">他们的应用程序外壳程序（骨架 UI）也是离线缓存的，就算用户通过缓慢或不稳定的网络连接加载站点，也会立即加载它们：</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: center;\"><img data-ratio=\"0.60234375\" data-type=\"png\" data-w=\"1280\" style=\"width: 100%; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7icTyuUBYbCktUiaibg1iatOBZP0MCS0a1yuqByq6iboFjQKm5UHfs83Cm8A/640?wx_fmt=png\"><span style=\"color: rgb(136, 136, 136);font-size: 14px;\">PRPL 模式：应用程序外壳</span></p><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>为什么选择 PRPL？</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">应用使用 PRPL 构建是为了达到可靠、快速和引人入胜的目的。除了这些基本目标，PRPL 还旨在：</p><ul class=\"list-paddingleft-2\" style=\"list-style-type: disc;\"><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><strong style=\"text-align: left;\">改善应用的交互就绪水平</strong>。为了做到这一点，在第一个视图渲染并具备交互能力之前，不会向浏览器发送多余的资源。</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><strong style=\"text-align: left;\">提高应用的缓存效率，尤其是长期缓存效率</strong>。为了做到这一点，资源会以很细的粒度向浏览器发送。当资源被解绑或松散地打包时，对代码的每次更改给缓存的负面影响也会减少。</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><strong style=\"text-align: left;\">降低开发和部署的复杂性</strong>。为了做到这一点，这种模式使用应用的隐式依赖图将每个入口点精确映射到所需的资源集，从而减少或消除了手动管理打包和交付的需求。</p></li></ul><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">这是一种很有意义的理念，因为今天典型的应用太过臃肿了。为了帮助开发人员在移动 Web 端提供更好的体验，我们首先要做的是让应用变轻变小。这意味着我们要理解并仔细考虑包含在应用中所有内容的权重——包括我们自己的代码及其依赖项。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">但这还不够。我们还在以低效的方式交付应用，通常会把应用的全部资源打进一个包里。用户必须在客户端上完整地接收并处理这个包后，才能开始操作。展望未来，我们在构建和提供应用时需要做到：</p><ul class=\"list-paddingleft-2\" style=\"list-style-type: disc;\"><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">根据用户的初始请求，我们只交付和处理支持所请求路由的那些资源，以让应用尽早准备好交互；</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">交互就绪后，我们将开始提供其他必要的资源，以确保应用能够立即响应用户的后续请求；</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">应用的未来更新应最大限度地提高效率，并消耗尽可能少的带宽和时间。</p></li></ul><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>PRPL 应包含哪些技术？</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">PRPL 是一种能以各种方式实现的概念模式，但是通过以下现代 Web 特性的某种组合，可以最轻松有效地实现 PRPL：</p><ul class=\"list-paddingleft-2\" style=\"list-style-type: disc;\"><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: left;\">像 JavaScript Modules 这样的现代模块系统，使工具可以轻松构造完整的依赖图；</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: left;\">服务 Workers，为后续的应用视图预缓存（“安装”）资源（进而支持离线优先架构）</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: left;\">预加载，用于尽快交付所需资源。你还可以使用预加载链接头，这些头可以被协作服务器拦截并升级为 HTTP/2 Server Push。一定要记住，尽管 Push 功能强大，但它也面临着许多已知的挑战；不过 PRPL 使用服务 Worker 可以避免过度推送的问题（仅针对初始负载使用 push）。</p></li></ul><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>如何实现 PRPL 模式？</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">PRPL 的很大一部分理念是对 JS 打包思维的颠覆，并在提供资源时拆分成尽可能接近编写资源时的粒度（至少拆分成独立的功能模块）。那么如何实现细粒度呢？</p><section style=\"text-align: center;\">\n\t\t<span style=\"display: inline-block;height: 38px;line-height: 42px;color: rgb(60, 112, 198);background-image: url(\" https: left center no-repeat initial>基于路由或基于组件的代码拆分和延迟加载</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">你正在将事物编写为组件。也许你正在使用 ES 模块。对于 Webpack，我们使用动态导入和代码拆分，将你的代码库拆分为按需加载的块。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">Next.js 和 Nuxt.js 之类的元框架会默认实现基于路由的代码拆分。如果你使用的是 create-react-app 之类的工具链样板，则需要借助 React Router 之类的路由器进行动态导入，才能将基于路由或基于组件的代码拆分添加到你的应用程序中。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">对于 PRPL 的 push/preload 部分，Webpack 还支持将 preload 作为魔术注释来预加载关键脚本。</p><section style=\"text-align: center;\">\n\t\t<span style=\"display: inline-block;height: 38px;line-height: 42px;color: rgb(60, 112, 198);background-image: url(\" https: left center no-repeat initial>预缓存</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">可以使用服务 worker 预缓存剩余的路由。另一种常见的做法是，利用 Workbox 之类的服务 worker 库来简化为应用程序预缓存路由和块的过程。</p><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>PRPL 使用何种应用程序结构？</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">PRPL 鼓励采用以下结构的单页应用（SPA）架构：</p><ul class=\"list-paddingleft-2\" style=\"list-style-type: disc;\"><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: left;\">从每个有效路由提供的应用程序的主入口点。</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: left;\">这个文件应该很小，因为它将通过不同的 URL 提供，因此会被多次缓存。入口点中的所有资源 URL 都必须是绝对的，因为它可以从非顶级 URL 提供。</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: left;\">外壳（app-shell），其中包括顶级应用逻辑、router 等。</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: left;\">延迟加载的应用片段。</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: left;\">可以代表特定视图代码的片段，或其他可以延迟加载的代码（例如，主应用的一些部分在第一次绘制时并不需要，比如说菜单，直到用户与应用交互时才显示）。外壳负责根据需要动态导入这些片段。</p></li></ul><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: center;\"><img data-ratio=\"0.5632432432432433\" data-type=\"png\" data-w=\"1850\" style=\"width: 100%; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7uAL92FQ3dQg2pPzNNsQ1CfFcCwxCbaJHyn5j51IuJbRD5GhQ4KpDwQ/640?wx_fmt=png\"><span style=\"font-size: 14px;color: rgb(136, 136, 136);\">应用外壳骨架模式</span></p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">应用应根据需要调用动态导入以延迟加载片段。例如，当用户更改为新路由时，它将导入与该路由关联的片段。这可能会向服务器发起新请求，或者只是从缓存中加载资源。</p><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>    小结    </span></section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">除了针对 PWA 的基本目标和标准之外，PRPL 还尽量针对以下方面做了优化：</p><ul class=\"list-paddingleft-2\" style=\"list-style-type: disc;\"><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">尽量减少交互的准备工作——特别是在首次使用时（无论入口点如何）。</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">尽量提升缓存效率，尤其是更新不断发布后的长期缓存效率。</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">简化开发和部署。</p></li></ul><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">自 2016 年诞生以来，PRPL 模式已获得了大规模使用，值得你在优化应用加载时考虑。</p><section style=\"text-align: left;margin-top: 30px;margin-left: 8px;color: rgb(60, 112, 198);\"><span style=\"display: inline-block;width: 15px;height: 15px;margin-right: 10px;background-image: url(\" https: center no-repeat initial></span>\n\t\t延伸阅读\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><span style=\"color: rgb(136, 136, 136);font-size: 14px;\">https://addyosmani.com/blog/the-prpl-pattern/</span></p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><img class=\"rich_pages\" data-ratio=\"0.5546875\" data-type=\"gif\" data-w=\"640\" style=\"text-align: center; color: rgb(63, 63, 63); max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_gif/XIibZ0YbvibkUNBiaqUcdaM6cSBbJTHNBWykQ3XNMAeniaibTxUHOibdyKSIVeicW2lEcfABtC7Y3W0ms4TKKVxHWHASQ/640?wx_fmt=gif\"></p></section>\n                </div>\n\n    \n    <br>\n\n    \n        <a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MzUxMzcxMzE5Ng==&amp;mid=2247503303&amp;idx=2&amp;sn=3f8d5b4497142ae29f6c802c72275aff&amp;chksm=f9527884ce25f192fe35c61c59ada4a893fb39e1711454258f04511852d606feaccd532c1e72&amp;scene=0#rd\" style=\"color: blue\" class=\"media_tool_meta meta_primary\">原文</a>\n        <br>\n    \n\n    \n\n    <img alt=\"\" width=\"1px\" height=\"1px\" class=\"\" style=\"width:1px;height:1px;display:none\" src=\"http://www.jintiankansha.me/rss_static/19192/xcEIkvAcOD\"></div></div>","descriptionType":"html","publishedDate":"Wed, 11 Nov 2020 04:30:00 +0000","feedId":2775,"bgimg":"http://contentg.sov5.cn/mmbiz_jpg/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7t83YicG78msy89S4GhxqbP8ibEXsMmD8RXnZ6kZ3h9hm9ibQK0xGBsq4w?imageView2/1/w/600","linkMd5":"34b629b658a70e78430d920b4872eecb","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn62@2020_4/2020/11/16/09-02-03-942_3aa4dc3c707a2096.webp","destWidth":600,"destHeight":546,"sourceBytes":42850,"destBytes":35308,"author":"","articleImgCdnMap":{"http://contentg.sov5.cn/mmbiz_jpg/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7t83YicG78msy89S4GhxqbP8ibEXsMmD8RXnZ6kZ3h9hm9ibQK0xGBsq4w?imageView2/1/w/600":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn62@2020_4/2020/11/16/09-02-03-942_3aa4dc3c707a2096.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7SDQg3sBK2CGtfuzMKKRkc7qIyZy2j6zpUNDLG3LR2iaibBbh6SgvwFDQ/640?wx_fmt=jpeg":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn69@2020_4/2020/11/16/09-02-26-140_050a085bdd11d915.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7sibMykf9FcOQ4aU80xOfOdoRiaN7px0gWmGf2G0N434L0rP87WogCQzw/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn81@2020_1/2020/11/16/09-03-13-325_d06488943dcd6d99.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7O0EjM1wCFaFOuvF7iaXicpuquzibfclBkCkQPLNqRnA5F7C4rCkfsQ0Sg/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn90@2020_6/2020/11/16/09-02-15-704_c79e492db7c86e6e.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7U4cuSc1fKicibUcntfCrenhkk3tvQpiafl4jx9AIkbGhNvjNXoVhANntw/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn65@2020_4/2020/11/16/09-03-13-039_c0f1a19e8744ca16.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7icTyuUBYbCktUiaibg1iatOBZP0MCS0a1yuqByq6iboFjQKm5UHfs83Cm8A/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn94@2020_1/2020/11/16/09-02-20-184_063b091b08b8d11f.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7uAL92FQ3dQg2pPzNNsQ1CfFcCwxCbaJHyn5j51IuJbRD5GhQ4KpDwQ/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn73@2020_4/2020/11/16/09-02-15-808_8477169c54a86374.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_gif/XIibZ0YbvibkUNBiaqUcdaM6cSBbJTHNBWykQ3XNMAeniaibTxUHOibdyKSIVeicW2lEcfABtC7Y3W0ms4TKKVxHWHASQ/640?wx_fmt=gif":null,"http://www.jintiankansha.me/rss_static/19192/xcEIkvAcOD":null},"publishedOrCreatedDate":1605517322248}],"record":{"createdTime":"2020-11-16 17:02:02","updatedTime":"2020-11-16 17:02:02","feedId":2775,"fetchDate":"Mon, 16 Nov 2020 09:02:02 +0000","fetchMs":205,"handleMs":29,"totalMs":123875,"newArticles":0,"totalArticles":5,"status":1,"type":0,"ip":"d29e7b16565154882990b6eed02f7029","hostName":"us-016*","requestId":"5501c8c1f6a3478784968524e8fbe1af_2775","contentType":"application/rss+xml","totalBytes":468072,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":9,"articlesImgsGithubTotal":7,"successGithubMap":{"myreaderx16":1,"myreaderx27":1,"myreaderx21":1,"myreaderx3":1,"myreaderx2":1,"myreaderx1":1,"myreaderx18":1},"failGithubMap":{}},"feed":{"createdTime":"2020-08-24 21:31:44","updatedTime":"2020-09-01 10:14:55","id":2775,"name":"前端之巅","url":"http://feedmaker.kindle4rss.com/feeds/frontshow.weixin.xml","subscriber":null,"website":null,"icon":"http://www.sogou.com/images/logo/new/favicon.ico?v=4","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx63/cdn48@2020_6/2020/09/01/02-14-41-796_d24121c9beed1de6.ico","description":"InfoQ大前端技术社群：囊括前端、移动、Node全栈一线技术，紧跟业界发展步伐。","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2020-11-16 17:04:05","updatedTime":"2020-11-16 17:04:05","id":null,"feedId":2775,"linkMd5":"34b629b658a70e78430d920b4872eecb"}],"tmpCommonImgCdnBytes":35308,"tmpBodyImgCdnBytes":432764,"tmpBgImgCdnBytes":0,"extra4":{"start":1605517321914,"total":0,"statList":[{"spend":305,"msg":"获取xml内容"},{"spend":29,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":120442,"msg":"正文链接上传到cdn"}]},"extra5":9,"extra6":8,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"http://www.jintiankansha.me/rss_static/19192/xcEIkvAcOD","sourceStatusCode":405,"sourceBytes":0,"destBytes":0,"feedId":2775,"totalSpendMs":1464,"convertSpendMs":0,"createdTime":"2020-11-16 17:02:05","host":"europe-24*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E4%BD%BF%E7%94%A8%C2%A0PRPL%C2%A0%E6%A8%A1%E5%BC%8F%E5%8A%A0%E5%BF%AB%C2%A0Web%C2%A0%E5%BA%94%E7%94%A8%E5%8A%A0%E8%BD%BD","linkMd5ListStr":"34b629b658a70e78430d920b4872eecb","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[405],"destSize":"0","sourceSize":"0"},{"code":1,"isDone":false,"source":"http://www.jintiankansha.me/rss_static/19192/xcEIkvAcOD","sourceStatusCode":405,"sourceBytes":0,"destBytes":0,"feedId":2775,"totalSpendMs":418,"convertSpendMs":0,"createdTime":"2020-11-16 17:02:06","host":"us-027*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E4%BD%BF%E7%94%A8%C2%A0PRPL%C2%A0%E6%A8%A1%E5%BC%8F%E5%8A%A0%E5%BF%AB%C2%A0Web%C2%A0%E5%BA%94%E7%94%A8%E5%8A%A0%E8%BD%BD","linkMd5ListStr":"34b629b658a70e78430d920b4872eecb","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[405],"destSize":"0","sourceSize":"0"},null,null,null,{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7sibMykf9FcOQ4aU80xOfOdoRiaN7px0gWmGf2G0N434L0rP87WogCQzw/640?wx_fmt=png","sourceStatusCode":403,"sourceBytes":0,"destBytes":0,"feedId":2775,"totalSpendMs":1294,"convertSpendMs":0,"createdTime":"2020-11-16 17:03:06","host":"us-011*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E4%BD%BF%E7%94%A8%C2%A0PRPL%C2%A0%E6%A8%A1%E5%BC%8F%E5%8A%A0%E5%BF%AB%C2%A0Web%C2%A0%E5%BA%94%E7%94%A8%E5%8A%A0%E8%BD%BD","linkMd5ListStr":"34b629b658a70e78430d920b4872eecb","extra22GetBytesInfo":"2、Referer字段 ： http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E4%BD%BF%E7%94%A8%C2%A0PRPL%C2%A0%E6%A8%A1%E5%BC%8F%E5%8A%A0%E5%BF%AB%C2%A0Web%C2%A0%E5%BA%94%E7%94%A8%E5%8A%A0%E8%BD%BD","extra23historyStatusCode":[403,403],"destSize":"0","sourceSize":"0"},null],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://europe-24.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[405]},"http://us-036.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://europe62.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-028.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-015.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-024.herokuapp.com/":{"failCount":1,"successCount":2,"resultList":[200,200,null]},"http://us-040.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-027.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[405]},"http://us-011.herokuapp.com/":{"failCount":1,"successCount":1,"resultList":[200,403]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"http://contentg.sov5.cn/mmbiz_jpg/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7t83YicG78msy89S4GhxqbP8ibEXsMmD8RXnZ6kZ3h9hm9ibQK0xGBsq4w?imageView2/1/w/600","sourceStatusCode":200,"destWidth":600,"destHeight":546,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn62@2020_4/2020/11/16/09-02-03-942_3aa4dc3c707a2096.webp","sourceBytes":42850,"destBytes":35308,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":2884,"convertSpendMs":17,"createdTime":"2020-11-16 17:02:02","host":"europe-58*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E4%BD%BF%E7%94%A8%C2%A0PRPL%C2%A0%E6%A8%A1%E5%BC%8F%E5%8A%A0%E5%BF%AB%C2%A0Web%C2%A0%E5%BA%94%E7%94%A8%E5%8A%A0%E8%BD%BD","linkMd5ListStr":"34b629b658a70e78430d920b4872eecb,34b629b658a70e78430d920b4872eecb","githubUser":"myreaderx3","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"34.5 KB","compressRate":"82.4%","sourceSize":"41.8 KB"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7O0EjM1wCFaFOuvF7iaXicpuquzibfclBkCkQPLNqRnA5F7C4rCkfsQ0Sg/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":651,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn90@2020_6/2020/11/16/09-02-15-704_c79e492db7c86e6e.webp","sourceBytes":150462,"destBytes":102314,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":11365,"convertSpendMs":55,"createdTime":"2020-11-16 17:02:05","host":"us-028*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E4%BD%BF%E7%94%A8%C2%A0PRPL%C2%A0%E6%A8%A1%E5%BC%8F%E5%8A%A0%E5%BF%AB%C2%A0Web%C2%A0%E5%BA%94%E7%94%A8%E5%8A%A0%E8%BD%BD","linkMd5ListStr":"34b629b658a70e78430d920b4872eecb","githubUser":"myreaderx16","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"99.9 KB","compressRate":"68%","sourceSize":"146.9 KB"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7uAL92FQ3dQg2pPzNNsQ1CfFcCwxCbaJHyn5j51IuJbRD5GhQ4KpDwQ/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":608,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn73@2020_4/2020/11/16/09-02-15-808_8477169c54a86374.webp","sourceBytes":25463,"destBytes":10224,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":11526,"convertSpendMs":27,"createdTime":"2020-11-16 17:02:05","host":"us-011*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E4%BD%BF%E7%94%A8%C2%A0PRPL%C2%A0%E6%A8%A1%E5%BC%8F%E5%8A%A0%E5%BF%AB%C2%A0Web%C2%A0%E5%BA%94%E7%94%A8%E5%8A%A0%E8%BD%BD","linkMd5ListStr":"34b629b658a70e78430d920b4872eecb","githubUser":"myreaderx2","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"10 KB","compressRate":"40.2%","sourceSize":"24.9 KB"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7icTyuUBYbCktUiaibg1iatOBZP0MCS0a1yuqByq6iboFjQKm5UHfs83Cm8A/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":651,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn94@2020_1/2020/11/16/09-02-20-184_063b091b08b8d11f.webp","sourceBytes":85812,"destBytes":90122,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":15797,"convertSpendMs":38,"createdTime":"2020-11-16 17:02:05","host":"us-015*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E4%BD%BF%E7%94%A8%C2%A0PRPL%C2%A0%E6%A8%A1%E5%BC%8F%E5%8A%A0%E5%BF%AB%C2%A0Web%C2%A0%E5%BA%94%E7%94%A8%E5%8A%A0%E8%BD%BD","linkMd5ListStr":"34b629b658a70e78430d920b4872eecb","githubUser":"myreaderx1","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"88 KB","compressRate":"105%","sourceSize":"83.8 KB"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7SDQg3sBK2CGtfuzMKKRkc7qIyZy2j6zpUNDLG3LR2iaibBbh6SgvwFDQ/640?wx_fmt=jpeg","sourceStatusCode":200,"destWidth":1080,"destHeight":720,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn69@2020_4/2020/11/16/09-02-26-140_050a085bdd11d915.webp","sourceBytes":95157,"destBytes":63452,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":21724,"convertSpendMs":56,"createdTime":"2020-11-16 17:02:05","host":"us-024*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E4%BD%BF%E7%94%A8%C2%A0PRPL%C2%A0%E6%A8%A1%E5%BC%8F%E5%8A%A0%E5%BF%AB%C2%A0Web%C2%A0%E5%BA%94%E7%94%A8%E5%8A%A0%E8%BD%BD","linkMd5ListStr":"34b629b658a70e78430d920b4872eecb","githubUser":"myreaderx27","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"62 KB","compressRate":"66.7%","sourceSize":"92.9 KB"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7U4cuSc1fKicibUcntfCrenhkk3tvQpiafl4jx9AIkbGhNvjNXoVhANntw/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":651,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn65@2020_4/2020/11/16/09-03-13-039_c0f1a19e8744ca16.webp","sourceBytes":154030,"destBytes":98526,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":8505,"convertSpendMs":31,"createdTime":"2020-11-16 17:03:05","host":"us-015*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E4%BD%BF%E7%94%A8%C2%A0PRPL%C2%A0%E6%A8%A1%E5%BC%8F%E5%8A%A0%E5%BF%AB%C2%A0Web%C2%A0%E5%BA%94%E7%94%A8%E5%8A%A0%E8%BD%BD","linkMd5ListStr":"34b629b658a70e78430d920b4872eecb","githubUser":"myreaderx21","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"96.2 KB","compressRate":"64%","sourceSize":"150.4 KB"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkVKzCHvnq1ibcicpOHCjYqpE7sibMykf9FcOQ4aU80xOfOdoRiaN7px0gWmGf2G0N434L0rP87WogCQzw/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":597,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn81@2020_1/2020/11/16/09-03-13-325_d06488943dcd6d99.webp","sourceBytes":68886,"destBytes":68126,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":6218,"convertSpendMs":130,"createdTime":"2020-11-16 17:03:08","host":"us-024*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E4%BD%BF%E7%94%A8%C2%A0PRPL%C2%A0%E6%A8%A1%E5%BC%8F%E5%8A%A0%E5%BF%AB%C2%A0Web%C2%A0%E5%BA%94%E7%94%A8%E5%8A%A0%E8%BD%BD","linkMd5ListStr":"34b629b658a70e78430d920b4872eecb","githubUser":"myreaderx18","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"66.5 KB","compressRate":"98.9%","sourceSize":"67.3 KB"}],"successGithubMap":{"myreaderx16":1,"myreaderx27":1,"myreaderx21":1,"myreaderx3":1,"myreaderx2":1,"myreaderx1":1,"myreaderx18":1},"failGithubMap":{}}