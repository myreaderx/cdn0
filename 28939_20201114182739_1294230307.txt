{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-11-15 02:27:39","updatedTime":"2020-11-15 02:27:39","title":"DeDeCMS调用栏目排序编号(自动递增数字)","link":"http://www.bloghuman.com/dedecms-itemindex-autoindex-order-number/","description":"\n \n\t<p>在使用织梦DeDeCMS系统制作排行榜等的榜单页面的时候，我们需要用到DeDeCMS的数值自动增长标签，当然，这个也是可以使用图片代替的，不过需要修改css，相对麻烦一些。DeDeCMS的数值自动增长标签有两个autoindex和itemindex。这两个标签的用法是有些区别的。主要的区别如下：</p><p>一、Channelartlist标签下使用itemindex标签</p><div class=\"codeText\"><div class=\"codeHead\">XML/HTML代码</div><ol start=\"1\" class=\"dp-xml\">&#160;&#160;&#160;&#160;<li class=\"alt\"><span><span>&#123;dede:global </span><span class=\"attribute\">name</span><span>=</span><span class=\"attribute-value\">'itemindex'</span><span> </span><span class=\"attribute\">runphp</span><span>=</span><span class=\"attribute-value\">'yes'</span><span>&#125;@me;&#123;/dede:global&#125;&#160;&#160;</span></span></li></ol></div><p>二、Channel标签下使用autoindex</p><div class=\"codeText\"><div class=\"codeHead\">XML/HTML代码</div><ol start=\"1\" class=\"dp-xml\">&#160;&#160;&#160;&#160;<li class=\"alt\"><span><span>[field:global </span><span class=\"attribute\">name</span><span>=</span><span class=\"attribute-value\">autoindex</span><span>/]&nbsp;&#160;</span></span></li></ol></div><p>相对来说，autoindex使用的比较多一些。这个是由于很少人会用到channelartlist标签决定的。</p><p>三、在Arclist中使用autoindex制作php语法runphp时用这种方式：</p><div class=\"codeText\"><div class=\"codeHead\">XML/HTML代码</div><ol start=\"1\" class=\"dp-xml\">&#160;&#160;&#160;&#160;<li class=\"alt\"><span><span>&#123;dede:arclist </span><span class=\"attribute\">titlelen</span><span>=</span><span class=\"attribute-value\">'22'</span><span> </span><span class=\"attribute\">row</span><span>=</span><span class=\"attribute-value\">'4'</span><span> </span><span class=\"attribute\">flag</span><span>=</span><span class=\"attribute-value\">'c'</span><span> </span><span class=\"attribute\">orderby</span><span>=</span><span class=\"attribute-value\">'id'</span><span>&#125;&#160;&#160;</span></span></li>&#160;&#160;&#160;&#160;<li><span>[field:title /]&nbsp;&#160;</span></li>&#160;&#160;&#160;&#160;<li class=\"alt\"><span>[field:global <span class=\"attribute\">name</span><span>=</span><span class=\"attribute-value\">'autoindex'</span><span> </span><span class=\"attribute\">runphp</span><span>=</span><span class=\"attribute-value\">'yes'</span><span>]if(@</span><span class=\"attribute\">me</span><span>==2)&#123;@</span><span class=\"attribute\">me</span><span>=</span><span class=\"attribute-value\">&#34;&#34;</span><span>;&#125;else&#123;@</span><span class=\"attribute\">me</span><span>=</span><span class=\"attribute-value\">' '</span><span>;&#125;[/field:global]&nbsp;&#160;</span></span></li>&#160;&#160;&#160;&#160;<li><span>&#123;/dede:arclist&#125;&#160;&#160;</span></li></ol></div><p>另外autoindex和itemindex两个自动数值增长标签是可以自定义开始数值的。这个非常有用，毕竟不是所有的榜单都是从1开始的。autoindex和itemindex标签自定义开始的数值可以使用@me+1;实现由指定数字开始，默认@me是1。</p><p>需要说明的是，list标签下也可以使用autoindex标签，具体代码如下：</p><div class=\"codeText\"><div class=\"codeHead\">XML/HTML代码</div><ol start=\"1\" class=\"dp-xml\">&#160;&#160;&#160;&#160;<li class=\"alt\"><span><span>&#123;dede:list </span><span class=\"attribute\">pagesize</span><span>=</span><span class=\"attribute-value\">'40'</span><span> </span><span class=\"attribute\">orderby</span><span>=</span><span class=\"attribute-value\">'id'</span><span>&#125;&#160;&#160;</span></span></li>&#160;&#160;&#160;&#160;<li><span>[field:global <span class=\"attribute\">name</span><span>=</span><span class=\"attribute-value\">'autoindex'</span><span> </span><span class=\"attribute\">runphp</span><span>=</span><span class=\"attribute-value\">'yes'</span><span>]if(@</span><span class=\"attribute\">me</span><span>==0)&#123;@</span><span class=\"attribute\">me</span><span>=</span><span class=\"attribute-value\">&#34;test&#34;</span><span>;&#125;else&#123;@</span><span class=\"attribute\">me</span><span>=</span><span class=\"attribute-value\">''</span><span>;&#125;[/field:global]&nbsp;&#160;</span></span></li>&#160;&#160;&#160;&#160;<li class=\"alt\"><span>&#123;/dede:list&#125;&#160;&#160;</span></li></ol></div><p>具体代码示例如下：</p><p>1、Channelartlist标签内调用栏目排序编号</p><div class=\"codeText\"><div class=\"codeHead\">XML/HTML代码</div><ol start=\"1\" class=\"dp-xml\">&#160;&#160;&#160;&#160;<li class=\"alt\"><span><span>&#123;dede:channelartlist </span><span class=\"attribute\">typeid</span><span>=</span><span class=\"attribute-value\">'28'</span><span> </span><span class=\"attribute\">row</span><span>=</span><span class=\"attribute-value\">'8'</span><span>&#125;&#160;&#160;</span></span></li>&#160;&#160;&#160;&#160;<li><span>栏目排序：&#123;dede:global <span class=\"attribute\">runphp</span><span>=&#8217;yes&#8217; </span><span class=\"attribute\">name</span><span>=</span><span class=\"attribute-value\">itemindex</span><span>&#125;@me;&#123;/dede:global&#125;&#160;&#160;</span></span></li>&#160;&#160;&#160;&#160;<li class=\"alt\"><span><span class=\"tag\">&#60;</span><span class=\"tag-name\">a</span><span> </span><span class=\"attribute\">href</span><span>=&#8221;&#123;dede:field </span><span class=\"attribute\">name</span><span>=&#8217;typeurl&#8217;/&#125;&#8221;</span><span class=\"tag\">&#62;</span><span>点击进入&#123;dede:field </span><span class=\"attribute\">name</span><span>=&#8217;typename&#8217;/&#125;列表</span><span class=\"tag\">&#62;</span><span class=\"tag\">&#62;</span><span class=\"tag\">&#60;/</span><span class=\"tag-name\">a</span><span class=\"tag\">&#62;</span><span>&#160;&#160;</span></span></li>&#160;&#160;&#160;&#160;<li><span>&#123;/dede:channelartlist&#125;&#160;&#160;</span></li></ol></div><p>2、Channel标签内调用栏目排序编号</p><div class=\"codeText\"><div class=\"codeHead\">XML/HTML代码</div><ol start=\"1\" class=\"dp-xml\">&#160;&#160;&#160;&#160;<li class=\"alt\"><span><span>&#123;dede:channel </span><span class=\"attribute\">type</span><span>=&#8217;top&#8217; </span><span class=\"attribute\">row</span><span>=&#8217;10&#8242;&#125;&#160;&#160;</span></span></li>&#160;&#160;&#160;&#160;<li><span>栏目排序：[field:global <span class=\"attribute\">runphp</span><span>=</span><span class=\"attribute-value\">'yes'</span><span> </span><span class=\"attribute\">name</span><span>=</span><span class=\"attribute-value\">autoindex</span><span>]@</span><span class=\"attribute\">me</span><span>=@me+1;[/field:global]&nbsp;&#160;</span></span></li>&#160;&#160;&#160;&#160;<li class=\"alt\"><span>[field:typename/]&nbsp;&#160;</span></li>&#160;&#160;&#160;&#160;<li><span>&#123;/dede:channel&#125;&#160;&#160;</span></li></ol></div><br/>Tags - <a href=\"http://www.bloghuman.com/tags/dedecmsitemindex/\" rel=\"tag\">dedecmsitemindex</a> , <a href=\"http://www.bloghuman.com/tags/autoindex/\" rel=\"tag\">autoindex</a> , <a href=\"http://www.bloghuman.com/tags/%25E6%25A0%258F%25E7%259B%25AE%25E6%258E%2592%25E5%25BA%258F%25E7%25BC%2596%25E5%258F%25B7/\" rel=\"tag\">栏目排序编号</a> , <a href=\"http://www.bloghuman.com/tags/%25E8%2587%25AA%25E5%258A%25A8%25E9%2580%2592%25E5%25A2%259E%25E6%2595%25B0%25E5%25AD%2597/\" rel=\"tag\">自动递增数字</a>\n\n","descriptionType":"text/html","publishedDate":"Thu, 04 Jan 2018 09:19:04 +0000","feedId":28939,"bgimg":"","linkMd5":"a8fa42d811e617207837917b0890ee19","bgimgJsdelivr":"","metaImg":"","author":"郝聪 <bloghuman@gmail.com>","publishedOrCreatedDate":1605378459029}],"record":{"createdTime":"2020-11-15 02:27:39","updatedTime":"2020-11-15 02:27:39","feedId":28939,"fetchDate":"Sat, 14 Nov 2020 18:27:39 +0000","fetchMs":1208,"handleMs":50,"totalMs":54607,"newArticles":0,"totalArticles":50,"status":1,"type":0,"ip":"b7f013d573409428dc92482e3348ccd3","hostName":"us-021*","requestId":"d347b51ed4984ef4a5d499bdf7f95d78_28939","contentType":"application/xml","totalBytes":0,"bgimgsTotal":0,"bgimgsGithubTotal":0,"articlesImgsTotal":0,"articlesImgsGithubTotal":0,"successGithubMap":{},"failGithubMap":{}},"feed":{"createdTime":"2020-09-07 02:45:32","updatedTime":"2020-09-07 04:49:42","id":28939,"name":"郝聪SEO博客：十年SEO顾问服务_北京网站优化公司","url":"http://www.bloghuman.com/feed.php","subscriber":112,"website":null,"icon":"http://www.bloghuman.com/favicon.ico","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx64/cdn96@2020_3/2020/09/06/20-49-41-729_650dab6b35e2ffd3.png","description":"搜索引擎优化原创技术博客，关注整合网络营销，分享各类网站SEO策略与优化成功案例，曾任多家商业网站的SEO顾问！为商业网站制定整体SEO战略，创造庞大搜索流量，为企业网站提升关键词排名，带动产品销售。为发展助力，成就你我！","weekly":null,"link":null},"noPictureArticleList":[],"tmpCommonImgCdnBytes":0,"tmpBodyImgCdnBytes":0,"tmpBgImgCdnBytes":0,"extra4":{"start":1605378404425,"total":0,"statList":[{"spend":54555,"msg":"获取xml内容"},{"spend":50,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":0,"msg":"正文链接上传到cdn"}]},"extra5":0,"extra6":0,"extra7ImgCdnFailResultVector":[],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{},"extra12ImgCdnSuccessResultVector":[],"successGithubMap":{},"failGithubMap":{}}