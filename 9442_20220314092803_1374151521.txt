{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2022-03-14 17:26:58","updatedTime":"2022-03-14 17:26:58","title":"Core Web VitalsはWebを高速化したか？","link":"https://postd.cc/have-core-web-vitals-made-the-web-faster/","description":"<style>\n  .image-text {\n    margin-left: 1rem;\n    margin-right: 1rem;\n  }\n  .image-text, .image-text ul li {\n    font-size: 0.6rem;\n  }\n</style>\n<p><a href=\"https://web.dev/vitals/\">Core Web Vitals（CWV）</a>は2020年5月に発表されました。Googleはこの発表の中で、「<a href=\"https://developers.google.com/search/blog/2020/05/evaluating-page-experience\">より良いWebのためにページエクスペリエンスを評価する</a>」と述べています。特に重要なのは、この評価がGoogleの検索順位アルゴリズムの一部を構成することでした。つまり、高速なWebサイトは、同等の遅いWebサイトよりも順位が上になり、Google検索によるトラフィック（ほとんどのWebサイトにとってWebトラフィックの最も大きな部分を占める）が増えます。</p>\n<p>Webパフォーマンスコミュニティは、Webパフォーマンスのビジネス上のメリットを売り込むことに関して、常にSEO業界に劣っていました。Webパフォーマンスがビジネスのパフォーマンスに<a href=\"https://wpostats.com/\">直接影響を及ぼす証拠</a>が数多く存在するにもかかわらずです。しかし、今やSEO業界全体がWebパフォーマンスを重視するようになり、企業もWebパフォーマンスについて真剣に考えなければならなくなったのです。</p>\n<p>Googleは2020年11月に次の発表を行い、<a href=\"https://developers.google.com/search/blog/2020/11/timing-for-page-experience\">2021年5月までにWebサイトをCore Web Vitalsに対応させる必要があるという明確な期限を定めました</a>（モバイルサイトの場合。<a href=\"https://developers.google.com/search/blog/2021/11/bringing-page-experience-to-desktop\">デスクトップ向けサイトは1年後の予定</a>）。</p>\n<p>そうして、Core Web Vitalsが検索順位に影響を与えるようになってから約半年が経ちました。実際に、何らかの影響はあったのでしょうか？GoogleがSEOという大きな力を振るったことで、Webは高速化したのでしょうか？</p>\n<p>確かに影響はあったと示唆するサクセスストーリーは数多く存在します。しかし、筆者は「クリスマス嫌いのグリンチ」（※訳注：米国の童話の登場人物）のようにひねくれ者なので、あまり納得できずにいます。</p>\n<h2>Core Web Vitalsに肯定的な証拠</h2>\n<p>筆者は<a href=\"https://httparchive.org/\">HTTP Archive</a>のメンテナンスに関わっています。このプロジェクトはWebの状態のトラッキングを目指すものです。HTTP Archiveは毎月Webのクローリングを実行し、発見したさまざまな事実や数値を報告することでトラッキングを行っています。このプロジェクトでは主に3つの方法でデータを提供しています。</p>\n<ol>\n<li>すべての基礎データを<a href=\"https://github.com/HTTPArchive/httparchive.org/blob/main/docs/gettingstarted_bigquery.md\">BigQueryのデータセットとして公開しています</a>。SQLに関する多少の知識があればクエリを実行できます。</li>\n<li><a href=\"https://httparchive.org/reports\">Webサイト上でレポートとしてさまざまな統計を提供しています</a>。</li>\n<li><a href=\"https://calendar.perfplanet.com/2021/have-core-web-vitals-made-the-web-faster/#:~:text=report%20called%20the-,Web%20Almanac,-which%20is%20a\">Web Almanac</a>というレポートを毎年公開しています。このレポートは、業界の専門家がデータを詳細に分析し、そこから読み取れることを報告するものです（<a href=\"https://almanac.httparchive.org/en/2021/\">2021年版</a>は最近発表されたばかりです。ぜひご覧ください）。</li>\n</ol>\n<p>また、HTTP Archiveは<a href=\"https://developers.google.com/web/tools/chrome-user-experience-report\">Chrome User Experience Report（CrUX）</a>データセットとも連携し、より多くのデータについて報告するためにCrUXを活用しています。CrUXは、実際にWeb VitalsがどのようにGoogleに報告されるのかを明らかにするものです。そのレポートの1つは、特に2021年5月の期限以降において、Core Web Vitalsを達成したWebサイトが増加したことを明確に示しています。</p>\n<p><img src=\"https://calendar.perfplanet.com/images/2021/barry/image8.png\"></p>\n<div class=\"image-text\">\n画像内訳\n<em>Core Web Vitals（LCP、FID、CLS）の３つの指標すべてで「良好」なエクスペリエンスを達成したオリジンの割合。オリジンのFIDのデータがない場合、残りの指標のパフォーマンスに基づいて評価。</em>\n</div>\n<p>さらに、他にも統計は公表されています（筆者自身も統計を公表している1人です）。多くの統計はHTTP Archiveのデータに基づいており、特に<a href=\"https://datastudio.google.com/u/0/reporting/55bc8fad-44c2-4280-aa0b-5f3f0cd3d2be/page/M6ZPC\">Core Web Vitals Technology</a>レポートを活用しています。このレポートは、テクノロジーを通じてデータの詳細分析を行うためにHTTP Archiveが作成したものです。これらの統計はいずれも、とても前向きなストーリーを示しています。</p>\n<p><img src=\"https://calendar.perfplanet.com/images/2021/barry/image3.png\"></p>\n<div class=\"image-text\">\n画像内訳\n<em>Webのパフォーマンスは改善しているか？答えはYES :) 今やオリジンの33%がCore Web Vitalsのしきい値を達成！フレームワークを利用しているサイトも大幅に改善</em>\n<ul>\n  <li><em>現在、全体で33%のオリジンがCore Web Vitalsの推奨しきい値を達成</em></li>\n  <li><em>昨年以降、Core Web Vitalsのしきい値を達成したオリジンは26%増加</em></li>\n</ul>\n</div>\n<p>このように、問題の答えは明らかになりました。このとても短いブログ記事は、タイトルで提示した疑問（Core Web VitalsはWebを高速化したか？）に回答したことになります。記事を読んでいただき、ありがとうございました！</p>\n<h2>あまり楽観的ではない見方</h2>\n<p>いやいや、ちょっと待ってください。最初のグラフはCore Web Vitalsを達成したWebサイトの数を表しています。これをWebが高速化しているかどうかを示す代理データとして使用するには、いくつかの前提が必要です。</p>\n<ul>\n<li>Core Web Vitalsを達成するためのしきい値は変化していない（実際もほとんど変化していない）。</li>\n<li>測定対象のWebサイトは同一（CrUXは「広く知られているかどうか」（popularity threshold）を定めており、対象は毎月変わるが、全体としては概ね同一）。</li>\n<li>改善の主な理由はCore Web Vitalsである（ネットワーク全般の速度が改善したことや、パンデミックによって多くの人が家にこもり、ブロードバンド接続を利用するようになったことなどが理由ではない）。</li>\n<li>Core Web Vitalsの測定方法は、測定期間を通じて一貫しており、大幅に変更されていない。</li>\n</ul>\n<p>特に気になるのは最後の項目です。Core Web Vitalsは<strong>生まれたばかり</strong>の指標です。<a href=\"https://twitter.com/anniesullie\">Annie Sullivan</a>はちょうど2年前に、<a href=\"https://calendar.perfplanet.com/2019/developing-the-largest-contentful-paint-metric/\">3つのCore Web Vitalsの1つ（LCP）がどのように開発されたかに関する記事</a>をWeb Performance Calendarに投稿しています。つまり、Core Web Vitalsは人間でいうところの「魔の2歳児」と呼ばれる時期です。そして、親なら誰でも知っているとおり、生まれてから2歳になるまでには多くの変化が起こります。</p>\n<p>このような新しい指標を最初から完璧な形で導入するのは不可能です。GoogleのChromeチームは、特にSEOへの影響を考慮して、熱心にCore Web Vitalsの改善に取り組み、適切な測定ができていないケースに対処してきました。Core Web Vitalsは多くの点で改善されています（すべての改善点は<a href=\"https://chromium.googlesource.com/chromium/src/+/refs/heads/main/docs/speed/metrics_changelog/README.md\">公開変更ログ</a>で明確に追跡できます）。</p>\n<p><a href=\"https://chromium.googlesource.com/chromium/src/+/refs/heads/main/docs/speed/metrics_changelog/lcp.md\">Largest Contentful Paint（LCP）は、最大のコンテンツ要素を正しく特定するためにいくつかの点が変更されています</a>。非表示の画像や背景の画像は「コンテンツ」ではないものとして無視され、LCPの計算が停止するタイミングも変更されました。これらはすべて（プラスとマイナスの）影響を及ぼすとみられ、LCPの改善のグラフは最初に示したグラフよりも（特にモバイルで）やや横ばいとなっています。</p>\n<p><img src=\"https://calendar.perfplanet.com/images/2021/barry/image10.png\"></p>\n<div class=\"image-text\">\n画像内訳\n<em>LCPエクスペリエンスが「良好」（2.5秒以下）であるオリジンの割合。</em>\n</div>\n<p><a href=\"https://chromium.googlesource.com/chromium/src/+/refs/heads/main/docs/speed/metrics_changelog/fid.md\">First Input Delay（FID）の変更点</a>は、LCPに比べると多くありません。ただし、Chromeが<a href=\"https://chromium.googlesource.com/chromium/src/+/refs/heads/main/docs/speed/metrics_changelog/2021_05_fid.md\">ダブルタップによるズームの禁止</a>条件を変更したことはプラスの影響を及ぼしています。これは2021年5月にリリースされており、リリース直後からモバイルのFIDの数値に影響を与えていることが分かります。</p>\n<p><img src=\"https://calendar.perfplanet.com/images/2021/barry/image7.png\"></p>\n<div class=\"image-text\">\n画像内訳\n<em>FIDエクスペリエンスが「良好」（100ミリ秒以下）であるオリジンの割合。CrUXのFIDを参照。</em>\n</div>\n<p>FIDは通常、Core Web Vitalsの中で達成するのが最も簡単です。そのため、多くの人（何よりも<a href=\"https://web.dev/better-responsiveness-metric/\">Chromeチーム自身</a>）が、抜本的な変更が必要ではないかという疑問を提起しています。したがって、来年ごろにはFID（少なくともCore Web VitalsにおけるFID）に何らかの大きな変化があるでしょう。</p>\n<p>最後に、3番目のCore Web VitalsであるCumulative Layout Shift（CLS）は最も大きく変更されています。CLSは、Cumulative（累積）という名称が示すとおり、以前はページが存在する限り増加し続けていました。これは、シングルページアプリケーション（SPA）が不当に不利な立場に置かれているという苦情の原因となりました。SPAのページは長期にわたって存続すると見込まれるためです。CLSに対する影響がわずかであっても、時とともに蓄積し、しきい値を超えて「改善が必要」や「不十分」となる可能性が高まります。</p>\n<p>CLSは、<a href=\"https://web.dev/evolving-cls/\">1回のセッションウィンドウの間の最大累積CLSのみを報告する</a>ように変更されました。実質的に、現在のCLSスコアはすべてのCLSシフトの合計ではなく、一定の時間におけるCLSシフトの最大の部分を示すものとなっています。この変更は2021年5月ごろのChrome 91でリリースされており、グラフでは同じ時期にCLSスコアが良好なサイトが急増しているのが分かります。</p>\n<p><img src=\"https://calendar.perfplanet.com/images/2021/barry/image2.png\"></p>\n<div class=\"image-text\">\n画像内訳\n<em>CLSエクスペリエンスが「良好」（0.1以下）であるオリジンの割合。</em>\n</div>\n<p>2021年9月のChrome 93では<a href=\"https://chromium.googlesource.com/chromium/src/+/refs/heads/main/docs/speed/metrics_changelog/cls.md\">さらなる改善点</a>がリリースされており、再びグラフが上昇しています。</p>\n<p>指標の変更と同様に、測定のベースラインにも留意する必要があります。3つすべてのCore Web Vitalsを達成したAngularサイトの数が111%増加したのは結構なことですが、詳しく見てみると、<a href=\"https://datastudio.google.com/u/0/reporting/55bc8fad-44c2-4280-aa0b-5f3f0cd3d2be/page/M6ZPC?params=%7B%22df44%22:%22include%25EE%2580%25800%25EE%2580%2580IN%25EE%2580%2580Angular%22%7D\">Angularサイト全体の3%から6%に増えただけ</a>であり、素晴らしい改善というには程遠いようです。しかも、これらの統計が示す改善がなされていないAngularサイトであっても、上記の指標の変更による恩恵を受けているはずです。</p>\n<h2>Webは高速化したのか？</h2>\n<p>これまで筆者は、気難しいエベニーザ・スクルージ（※訳注：小説『クリスマス・キャロル』の登場人物）のように、クリスマスに水を差してきました。そして、Core Web Vitalsが向上した理由は、単に測定方法が改善されたためである可能性があるので、プラスの影響を主張するのはやや時期尚早かもしれないことを示しました。しかし、実際に多くのサイトはパフォーマンスの改善に忙しく取り組んでいます。そのため、Core Web Vitalsの向上の理由はすべて測定方法にあると主張するのは、逆の方向に極端であり、あまりに悲観的過ぎるかもしれません。では、指標の定義の大幅な変更を踏まえ、測定方法による影響と真のパフォーマンスの向上を分離し、Web全体が改善したのかを確認するにはどうすれば良いのでしょうか？</p>\n<p>そのための方法の1つは、従来のより安定した指標に回帰し、それを読み解くことです。真新しく光るLCP、FID、CLSという指標が舞台に突然現れスポットライトを浴びる以前、Webパフォーマンスコミュニティでは、<a href=\"https://web.dev/first-contentful-paint/\">First Contentful Paint</a>、<a href=\"https://developer.mozilla.org/en-US/docs/Web/Events/load\">onLoad</a>、<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/DOMContentLoaded_event\">edDOMContentLoad</a>、<a href=\"https://web.dev/lighthouse-total-blocking-time/\">Total Blocking Time</a>、<a href=\"https://web.dev/interactive/\">Time to Interactive</a>など多くの他の指標に頼っていました。筆者のお気に入りの1つは<a href=\"https://web.dev/speed-index/\">Speed Index</a>です。</p>\n<p>誤解のないように言うと、筆者はCore Web Vitalsの方が<strong>はるかに</strong>優れた指標だと考えています。Core Web Vitalsの3つの指標は、ユーザー体験の代わりとなることを意図した恣意的で細かな数値ではなく、ユーザーにとって意味のある影響を測定しようとしています。ユーザーはDOMがいつ読み込まれるかなどといったことは気にしません。ユーザーが気にするのは、目的のコンテンツがページにいつ表示されるかです。特に、ラボベース（※訳注：開発者内部の環境下で行われるモニタリング）の完全に人為的な測定から、リアルユーザモニタリング（RUM）ベースの現場での測定への転換は非常に大きな進歩です。ラボベースのテストがユーザー体験の良い指標となるように膨大な仮定を置く必要がなく、ユーザーが体験する実際のWebパフォーマンスを報告できるのはとても良いことです。</p>\n<p>しかし、これまで見てきたとおり、この記事で挙げている疑問に答えるには、新たな指標は変動が大き過ぎると言わなければなりません。新しい指標は優れていますが、古い指標が役に立たなかったわけではありません。Webパフォーマンスが改善されれば、古い指標にもプラスの影響があるはずです。そこで、これらの指標を詳しく調べ、何が分かるのかを見ていきましょう。</p>\n<p>筆者はSpeed Indexがお気に入りの「昔ながらの」指標だと述べました。Speed Indexは基本的に、読み込み中のページのスクリーンショットを保存して、変化ごとのページの「完成度」を計算し、それを使用してページの読み込みに関するスコアを算出するものです。ロゴなどわずかな一部を除いてほとんど読み込みが終わっているページと、最後まで一切描画されないページを比べると、一部の指標（onLoad、DOMContentLoadedなど）は同じであっても、Speed Indexでは前者の方が良い数値になります。</p>\n<p>このように、Speed IndexはLCPの測定対象とそれほど違っておらず、CLSの一部も含まれています。LCPに影響する要素の読み込みが速く、読み込み中のビューポート内のコンテンツがあまり移動しなければ、Speed Indexも改善するでしょう。Annieは、上記の過去の記事で、Speed IndexがCore Web Vitalsとして使用されず、代わりにLCPが考案された主な理由として「Speed Indexを実行するのは大きなコストがかかり、リアルタイムで利用できないこと」を挙げています。Speed Indexはあくまでラボベースの指標なのです。</p>\n<p>HTTP Archiveは2016年から、調査の一環としてSpeed Indexを算出しています。Speed Indexがラボベースであるという事実は、RUMベースの指標に影響を与える一部の変動やノイズに左右されないことを意味します。このような変動やノイズには、例えばネットワーク速度の改善や、パンデミックによってモバイルネットワークよりも家庭用のWi-Fiを利用した在宅勤務が増えていることなどがあります。HTTP Archiveの調査ではこうした要素が除去されています。クローリングに使用するハードウェアや、ネットワークの調査手法に（とても）一貫性があるからです。</p>\n<p>注意すべき点として、HTTP Archiveは、Speed Indexの独自の定義を定めている<a href=\"https://www.webpagetest.org/\">WebPageTest</a>（WPT）を利用しています。これは（WPTの定義を基礎とする）Lighthouseの定義とはわずかに異なります。WPTは色ヒストグラムを利用しているため、（コンテンツがビューポートの内外を移動しない限り）コンテンツの移動による影響をあまり受けません。一方、Lighthouse版はより複雑な<a href=\"https://www.imatest.com/docs/ssim/\">構造的類似性</a>（SSIM）指数を利用しており、コンテンツの移動による影響を受けやすくなっています。</p>\n<p>Speed IndexのグラフはHTTP ArchiveのWebサイトでは提供していませんでした。しかし、データは既に収集してあったので、この記事を作成する一環として<a href=\"https://httparchive.org/reports/loading-speed#speedIndex\">グラフを追加しました</a>。以下がそのグラフです（数値は低いほど良い）。</p>\n<p><img src=\"https://calendar.perfplanet.com/images/2021/barry/image6.png\"></p>\n<div class=\"image-text\">\n画像内訳\n<em>ページのコンテンツが視覚的に表示される速度。この指標はWebPageTestによるものであり、（WebPageTestの定義を基礎とする）Lighthouse版とはわずかに異なる。</em>\n</div>\n<p>グラフは筆者が恐れていたことを示しています。Core Web Vitalsの代わりに変動の小さいSpeed Indexで測定したところ、Core Web Vitalsの導入以降、Webは全体として大幅に高速化してはいないようです。それどころか、モバイルでは2021年6月以降にSpeed Indexも悪化しています。</p>\n<p>HTTP Archiveによる<a href=\"https://httparchive.org/reports/loading-speed\">読み込み速度レポート</a>では、他の指標も同様の結果を示しています。実質的な変化はなく、First Contentful Paintがある程度改善した程度にとどまりました（ただし、この指標も<a href=\"https://chromium.googlesource.com/chromium/src/+/refs/heads/main/docs/speed/metrics_changelog/fcp.md\">最近変更がありました</a>）。Time to InteractiveもWebサイトの応答時間の長期化を示しています（恐らく<a href=\"https://almanac.httparchive.org/en/2021/javascript#how-much-javascript-do-we-load\">JavaScriptの使用が多過ぎる</a>ためでしょう）。この傾向はCore Web Vitalsが登場する以前から続いているものです。</p>\n<p><img src=\"https://calendar.perfplanet.com/images/2021/barry/image9.png\"></p>\n<div class=\"image-text\">\n画像内訳\n<em>操作が開始された時点から、CPUが5秒以上停止するまでの秒数。この指標はLighthouseによるもので、モバイルのテストでのみ利用できる。</em>\n</div>\n<h2>とても残念な結果に思えるが……</h2>\n<p>以上のように、Googleや、同社の最も人気のあるWebブラウザや検索エンジンの絶大な影響力をもってしても、パフォーマンスを改善できていないようです。これはとても残念な結果であり、Webパフォーマンスマニアのクリスマスを台無しにしてしまったことを申し訳なく思います……。しかし、筆者はそこまで残念だとは思っていません。ですから、この記事はもっと明るい雰囲気で終わらせましょう。</p>\n<p>HTTP ArchiveとCrUXのデータの重要な違いは、HTTP Archiveがホームページのみをクローリングしているという点です。CrUXのデータは、Webサイト全ページの実際の利用状況に基づいています。この取り組みの優れた点の1つは、ホームページ以外のパフォーマンス指標を明らかにしているところにあります。過去のWebパフォーマンス測定ツールでは、ホームページのみを測定対象としていた場合もあったはずです。</p>\n<p>かつてのパフォーマンス測定ではホームページばかりが注目されていたことや、ホームページは比較的シンプルなので問題がある可能性が低いことは、十分にあり得ます。もしかすると、筆者が悲観的過ぎるだけであって、上記のCrUXデータの方が、ユーザーが体験した実際のパフォーマンスの改善状況をよく表しているのでしょうか。筆者は、真実はその中間にあるとみています。しかし、胸に手を当てて考えてみると、HTTP Archiveのクローリングによるグラフの方が恐らく真実に近いでしょう。ただし、指標が成熟するにつれて変化が小さくなると仮定すれば、将来的にはCrUXベースのグラフは大いに興味深いものになるとみられます。</p>\n<p>どれほどの影響力を持っていても、Web全体で何かを変えるのは困難です。<a href=\"https://httparchive.org/reports/state-of-the-web#numUrls\">HTTP Archiveはクローリングの一環として750万件以上のWebサイトをクロールしています</a>。そして、WebパフォーマンスやSEOのコミュニティがパフォーマンスについて大騒ぎをしていたにもかかわらず、大部分のサイトはその間も大きく変化してはいないでしょう。一方で、変化したサイトも数多く存在するため、Webサイトは実際に高速化したのかもしれません。しかし、それはまだWeb全体を見た場合に有意義な影響を与えられるほど十分な規模ではありません。</p>\n<p>筆者はCore Web Vitalsを気に入っており、優れた指標だと考えています。また、GoogleによるCore Web Vitalsへの投資や、同社がWebサイトに対して改善に向けた圧力をかけていることも評価しています。たとえその取り組みの一部に不満があったとしてもです（Google Search Consoleにおけるページのグルーピングの不透明さは大いに不満です）。指標が依然として発展途上であるという指摘は、批判ではなく、とても前向きなものです。この事実は、Core Web Vitalsは変化を拒むものではなく、あくまでWebパフォーマンスの改善に向けた次のステップだという認識を示しており、だからこそ前進できるのです。</p>\n<p>たとえ上記のHTTP Archiveのデータに対する影響がまだ表れていないとしても、Webパフォーマンスに関する議論が大幅に増えたのは事実です。そして、こうした議論が今や、比較的小さいWebパフォーマンスコミュニティ（いつでも歓迎します！）の外でも行われるようになったのは素晴らしいことです。</p>\n<h2>最後にうれしいニュースを紹介</h2>\n<p>上位1,000件のWebサイトを見てみると、Core Web Vitalsを達成したWebサイトの割合は全体よりも大幅に上昇していることが分かります。2021年5月以降の改善割合は、モバイルWebサイト全体では32.8%ですが、上位1,000件のサイトでは37.1%となっています。</p>\n<p><img src=\"https://calendar.perfplanet.com/images/2021/barry/image5.png\"></p>\n<div class=\"image-text\">\n画像内訳\n<em>Core Web Vitals達成割合の時系列データ</em>\n</div>\n<p><img src=\"https://calendar.perfplanet.com/images/2021/barry/image1.png\"></p>\n<div class=\"image-text\">\n画像内訳\n<em>上位1,000件のサイトのCore Web Vitals達成割合の時系列データ</em>\n</div>\n<p>当然ながら、大規模なサイトほど予算も多く（改善のインセンティブも大きく）、SEOのトレンドをより正確に把握しているかもしれません。また、こうしたサイトは指標の改善による影響が比較的大きい場合があるという事実が一因となっている可能性もあります。しかし、それでも筆者はこれを前向きな兆候と捉えています。こうしたサイトが先頭を進み、他のWebサイトがそれを追いかけるというトリクルダウン効果が起きるのはよくあることです。</p>\n<p>また、Wixなどの一部のプラットフォームは、<a href=\"https://www.smashingmagazine.com/2021/11/improving-performance-wix-websites-case-study/\">パフォーマンスを改善するための取り組みに膨大な労力を費やしています</a>。これらのWebサイトの取り組みは、HTTP ArchiveのSpeed Indexのスコアに反映されています（これは、Speed Indexを使用するという筆者の判断を正当化するのに役立っており、Speed IndexがCrUXに比べて実情を反映していないのではないかという筆者の懸念をある程度緩和するものです）。</p>\n<p><img src=\"https://calendar.perfplanet.com/images/2021/barry/image4.png\"></p>\n<p>一度に1つのプラットフォームのみに注目するよりも、（<a href=\"https://datastudio.google.com/u/0/reporting/55bc8fad-44c2-4280-aa0b-5f3f0cd3d2be/page/M6ZPC?params=%7B%22df44%22:%22include%25EE%2580%25800%25EE%2580%2580IN%25EE%2580%2580Angular%22%7D\">Core Web Vitals Technology Report</a>が示すように）その他のプラットフォームの相対的な改善度合いに注目する方が指標として優れているかもしれません。しかし、<a href=\"https://twitter.com/igrigorik/status/1415340002494402564?s=20\">多少の競争がある</a>のはきっと良いことです。</p>\n<p>恐らくもっと興味深い点として、<a href=\"https://almanac.httparchive.org/en/2021/cms#fig-6\">Web全体の3分の1に利用されている</a>WordPressは最近、「<a href=\"https://make.wordpress.org/core/2021/10/12/proposal-for-a-performance-team/\">パフォーマンス改善提案チーム</a>」を立ち上げました。これはWixなどが強調しているパフォーマンスの改善に対応して、WordPressが後れを取っているという印象を避けるためです。WordPressはまさに「Webを動かす」力を持っており、そのことは<a href=\"https://twitter.com/rick_viscomi/status/1344380340153016321?s=20\">ネイティブLazyload</a>の導入にも表れています（ただし、大いなる力には大いなる責任が伴うもので、<a href=\"https://web.dev/lcp-lazy-loading/\">導入の方法がやや稚拙だったという証拠もあります</a>）。</p>\n<h2>そろそろ質問に答えてくれ！</h2>\n<p>結局、Core Web VitalsによってWebは高速化したのでしょうか？筆者はイエスだと考えていますが、Core Web Vitalsの一部のデータが示すほど数値は明確に改善してはいません。しかし、この記事で言及した一部のプラットフォームの例に追随するプラットフォームが増え、Webパフォーマンスへの投資が増加すれば、上記の数値も間違いなく追いつくでしょう。もしかすると、来年のブログ記事はもっと短くなり、すべてうまくいっていると述べるだけになるかもしれません。それまでは、指標から読み取れることをしっかりと理解し、出来過ぎた話には疑問を持つようにしてください。たとえ、それが本当であってほしいと望むストーリーであってもです。</p>\n<p><em>この記事のために質問に答えてくれたこと、また言うまでもなく、Speed Index、WebPageTestや、その他にもWebパフォーマンスを測定・改善するための素晴らしいツールを数多く作成してくれたことについて、<a href=\"https://twitter.com/patmeenan\">Patrick Meenan</a>にとても感謝しています。</em></p>","descriptionType":"html","publishedDate":"Mon, 14 Feb 2022 00:00:00 +0000","feedId":9442,"bgimg":"https://calendar.perfplanet.com/images/2021/barry/image8.png","linkMd5":"7f45645824160c3cadb4aa1f143ed5da","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn49@2020_4/2022/03/14/09-26-59-610_b9fbe544d6546626.webp","destWidth":1520,"destHeight":1120,"sourceBytes":46083,"destBytes":61270,"author":"","articleImgCdnMap":{"https://calendar.perfplanet.com/images/2021/barry/image8.png":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn49@2020_4/2022/03/14/09-26-59-610_b9fbe544d6546626.webp","https://calendar.perfplanet.com/images/2021/barry/image3.png":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn74@2020_5/2022/03/14/09-27-01-489_2380cf256fc5c31a.webp","https://calendar.perfplanet.com/images/2021/barry/image10.png":"https://cdn.jsdelivr.net/gh/myreaderx15/cdn85@2020_2/2022/03/14/09-27-01-596_c60403ea15876800.webp","https://calendar.perfplanet.com/images/2021/barry/image7.png":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn58@2020_6/2022/03/14/09-27-01-196_07f1fc25cc1c5748.webp","https://calendar.perfplanet.com/images/2021/barry/image2.png":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn68@2020_4/2022/03/14/09-27-01-245_3ccee9b74dae59a3.webp","https://calendar.perfplanet.com/images/2021/barry/image6.png":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn65@2020_1/2022/03/14/09-28-02-837_c6d1fdddb2bcd0c4.webp","https://calendar.perfplanet.com/images/2021/barry/image9.png":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn81@2020_4/2022/03/14/09-27-01-467_760cd44cfefb2c0a.webp","https://calendar.perfplanet.com/images/2021/barry/image5.png":null,"https://calendar.perfplanet.com/images/2021/barry/image1.png":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn76@2020_1/2022/03/14/09-27-01-121_0ee7ac14b29289ea.webp","https://calendar.perfplanet.com/images/2021/barry/image4.png":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn54@2020_1/2022/03/14/09-27-01-263_fcea43951211f2f2.webp"},"publishedOrCreatedDate":1647250018824}],"record":{"createdTime":"2022-03-14 17:26:58","updatedTime":"2022-03-14 17:26:58","feedId":9442,"fetchDate":"Mon, 14 Mar 2022 09:26:58 +0000","fetchMs":90,"handleMs":9,"totalMs":64494,"newArticles":0,"totalArticles":10,"status":1,"type":0,"ip":"af6ca12eefe249e94a3f077d15d7c168","hostName":"europe63*","requestId":"9add1c462a204df9afe8c7b71712a2eb_9442","contentType":"application/xml","totalBytes":515938,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":10,"articlesImgsGithubTotal":9,"successGithubMap":{"myreaderx15":1,"myreaderx27":1,"myreaderx4":1,"myreaderx3":1,"myreaderx24":1,"myreaderx1":1,"myreaderx30":1,"myreaderx5oss":1,"myreaderx29":1},"failGithubMap":{"myreaderx14":1}},"feed":{"createdTime":"2020-08-25 04:35:07","updatedTime":"2020-09-05 16:01:15","id":9442,"name":"POSTD","url":"https://postd.cc/feed/","subscriber":null,"website":null,"icon":"https://postd.cc/favicon.ico","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx63/cdn58@2020_6/2020/09/05/08-01-15-201_386531a2e9f26fdc.ico","description":"プログラミングするエンジニアに向けたトレンドメディア","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2022-03-14 17:28:03","updatedTime":"2022-03-14 17:28:03","id":null,"feedId":9442,"linkMd5":"7f45645824160c3cadb4aa1f143ed5da"}],"tmpCommonImgCdnBytes":61270,"tmpBodyImgCdnBytes":454668,"tmpBgImgCdnBytes":0,"extra4":{"start":1647250018710,"total":0,"statList":[{"spend":105,"msg":"获取xml内容"},{"spend":9,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":62758,"msg":"正文链接上传到cdn"}]},"extra5":10,"extra6":10,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"https://calendar.perfplanet.com/images/2021/barry/image5.png","sourceStatusCode":200,"destWidth":504,"destHeight":242,"sourceBytes":10479,"destBytes":12382,"targetWebpQuality":75,"feedId":9442,"totalSpendMs":588,"convertSpendMs":6,"createdTime":"2022-03-14 17:27:00","host":"us-001*","referer":"https://postd.cc/have-core-web-vitals-made-the-web-faster/","linkMd5ListStr":"7f45645824160c3cadb4aa1f143ed5da","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn61/contents/2022/03/14/09-27-01-066_aa08fde6ba34b497.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO, X-GitHub-Request-Id, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Mon, 14 Mar 2022 09:27:01 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["8920:2D94:3AC621E:622715A:622F0A65"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1647252874"],"x-ratelimit-resource":["core"],"x-ratelimit-used":["60"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn61/contents/2022/03/14/09-27-01-066_aa08fde6ba34b497.webp","historyStatusCode":[],"spendMs":89},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"10.2 KB","destSize":"12.1 KB","compressRate":"118.2%"},{"code":1,"isDone":false,"source":"https://calendar.perfplanet.com/images/2021/barry/image5.png","sourceStatusCode":200,"destWidth":504,"destHeight":242,"sourceBytes":10479,"destBytes":12382,"targetWebpQuality":75,"feedId":9442,"totalSpendMs":436,"convertSpendMs":18,"createdTime":"2022-03-14 17:27:01","host":"us-001*","referer":"https://postd.cc/have-core-web-vitals-made-the-web-faster/","linkMd5ListStr":"7f45645824160c3cadb4aa1f143ed5da","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn61/contents/2022/03/14/09-27-01-625_aa08fde6ba34b497.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO, X-GitHub-Request-Id, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Mon, 14 Mar 2022 09:27:01 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["8920:2D94:3AC6261:62271E3:622F0A65"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1647252874"],"x-ratelimit-resource":["core"],"x-ratelimit-used":["60"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn61/contents/2022/03/14/09-27-01-625_aa08fde6ba34b497.webp","historyStatusCode":[],"spendMs":36},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"10.2 KB","destSize":"12.1 KB","compressRate":"118.2%"},null],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://us-013.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-025.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-001.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-017.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://europe68.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-005.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-51.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-016.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-040.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://calendar.perfplanet.com/images/2021/barry/image8.png","sourceStatusCode":200,"destWidth":1520,"destHeight":1120,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn49@2020_4/2022/03/14/09-26-59-610_b9fbe544d6546626.webp","sourceBytes":46083,"destBytes":61270,"targetWebpQuality":75,"feedId":9442,"totalSpendMs":1469,"convertSpendMs":38,"createdTime":"2022-03-14 17:26:58","host":"us-037*","referer":"https://postd.cc/have-core-web-vitals-made-the-web-faster/","linkMd5ListStr":"7f45645824160c3cadb4aa1f143ed5da,7f45645824160c3cadb4aa1f143ed5da","githubUser":"myreaderx3","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"45 KB","destSize":"59.8 KB","compressRate":"133%"},{"code":1,"isDone":false,"source":"https://calendar.perfplanet.com/images/2021/barry/image1.png","sourceStatusCode":200,"destWidth":624,"destHeight":236,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn76@2020_1/2022/03/14/09-27-01-121_0ee7ac14b29289ea.webp","sourceBytes":11584,"destBytes":14152,"targetWebpQuality":75,"feedId":9442,"totalSpendMs":871,"convertSpendMs":14,"createdTime":"2022-03-14 17:27:00","host":"us-017*","referer":"https://postd.cc/have-core-web-vitals-made-the-web-faster/","linkMd5ListStr":"7f45645824160c3cadb4aa1f143ed5da","githubUser":"myreaderx29","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"11.3 KB","destSize":"13.8 KB","compressRate":"122.2%"},{"code":1,"isDone":false,"source":"https://calendar.perfplanet.com/images/2021/barry/image7.png","sourceStatusCode":200,"destWidth":1510,"destHeight":1090,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn58@2020_6/2022/03/14/09-27-01-196_07f1fc25cc1c5748.webp","sourceBytes":32304,"destBytes":46778,"targetWebpQuality":75,"feedId":9442,"totalSpendMs":917,"convertSpendMs":52,"createdTime":"2022-03-14 17:27:00","host":"us-013*","referer":"https://postd.cc/have-core-web-vitals-made-the-web-faster/","linkMd5ListStr":"7f45645824160c3cadb4aa1f143ed5da","githubUser":"myreaderx4","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"31.5 KB","destSize":"45.7 KB","compressRate":"144.8%"},{"code":1,"isDone":false,"source":"https://calendar.perfplanet.com/images/2021/barry/image4.png","sourceStatusCode":200,"destWidth":1436,"destHeight":888,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn54@2020_1/2022/03/14/09-27-01-263_fcea43951211f2f2.webp","sourceBytes":25235,"destBytes":54254,"targetWebpQuality":75,"feedId":9442,"totalSpendMs":960,"convertSpendMs":123,"createdTime":"2022-03-14 17:27:00","host":"us-025*","referer":"https://postd.cc/have-core-web-vitals-made-the-web-faster/","linkMd5ListStr":"7f45645824160c3cadb4aa1f143ed5da","githubUser":"myreaderx24","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"24.6 KB","destSize":"53 KB","compressRate":"215%"},{"code":1,"isDone":false,"source":"https://calendar.perfplanet.com/images/2021/barry/image2.png","sourceStatusCode":200,"destWidth":1528,"destHeight":1090,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn68@2020_4/2022/03/14/09-27-01-245_3ccee9b74dae59a3.webp","sourceBytes":36749,"destBytes":52886,"targetWebpQuality":75,"feedId":9442,"totalSpendMs":957,"convertSpendMs":49,"createdTime":"2022-03-14 17:27:00","host":"us-51*","referer":"https://postd.cc/have-core-web-vitals-made-the-web-faster/","linkMd5ListStr":"7f45645824160c3cadb4aa1f143ed5da","githubUser":"myreaderx30","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"35.9 KB","destSize":"51.6 KB","compressRate":"143.9%"},{"code":1,"isDone":false,"source":"https://calendar.perfplanet.com/images/2021/barry/image3.png","sourceStatusCode":200,"destWidth":1186,"destHeight":1098,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn74@2020_5/2022/03/14/09-27-01-489_2380cf256fc5c31a.webp","sourceBytes":170176,"destBytes":103838,"targetWebpQuality":75,"feedId":9442,"totalSpendMs":1220,"convertSpendMs":166,"createdTime":"2022-03-14 17:27:00","host":"us-016*","referer":"https://postd.cc/have-core-web-vitals-made-the-web-faster/","linkMd5ListStr":"7f45645824160c3cadb4aa1f143ed5da","githubUser":"myreaderx27","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"166.2 KB","destSize":"101.4 KB","compressRate":"61%"},{"code":1,"isDone":false,"source":"https://calendar.perfplanet.com/images/2021/barry/image9.png","sourceStatusCode":200,"destWidth":1804,"destHeight":1080,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn81@2020_4/2022/03/14/09-27-01-467_760cd44cfefb2c0a.webp","sourceBytes":44267,"destBytes":65050,"targetWebpQuality":75,"feedId":9442,"totalSpendMs":1378,"convertSpendMs":311,"createdTime":"2022-03-14 17:27:00","host":"us-005*","referer":"https://postd.cc/have-core-web-vitals-made-the-web-faster/","linkMd5ListStr":"7f45645824160c3cadb4aa1f143ed5da","githubUser":"myreaderx1","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"43.2 KB","destSize":"63.5 KB","compressRate":"146.9%"},{"code":1,"isDone":false,"source":"https://calendar.perfplanet.com/images/2021/barry/image10.png","sourceStatusCode":200,"destWidth":1508,"destHeight":1084,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx15/cdn85@2020_2/2022/03/14/09-27-01-596_c60403ea15876800.webp","sourceBytes":35136,"destBytes":52244,"targetWebpQuality":75,"feedId":9442,"totalSpendMs":1640,"convertSpendMs":46,"createdTime":"2022-03-14 17:27:00","host":"europe68*","referer":"https://postd.cc/have-core-web-vitals-made-the-web-faster/","linkMd5ListStr":"7f45645824160c3cadb4aa1f143ed5da","githubUser":"myreaderx15","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"34.3 KB","destSize":"51 KB","compressRate":"148.7%"},{"code":1,"isDone":false,"source":"https://calendar.perfplanet.com/images/2021/barry/image6.png","sourceStatusCode":200,"destWidth":1826,"destHeight":1118,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn65@2020_1/2022/03/14/09-28-02-837_c6d1fdddb2bcd0c4.webp","sourceBytes":43451,"destBytes":65466,"targetWebpQuality":75,"feedId":9442,"totalSpendMs":1305,"convertSpendMs":483,"createdTime":"2022-03-14 17:28:01","host":"us-017*","referer":"https://postd.cc/have-core-web-vitals-made-the-web-faster/","linkMd5ListStr":"7f45645824160c3cadb4aa1f143ed5da","githubUser":"myreaderx5oss","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"42.4 KB","destSize":"63.9 KB","compressRate":"150.7%"}],"successGithubMap":{"myreaderx15":1,"myreaderx27":1,"myreaderx4":1,"myreaderx3":1,"myreaderx24":1,"myreaderx1":1,"myreaderx30":1,"myreaderx5oss":1,"myreaderx29":1},"failGithubMap":{"myreaderx14":1}}