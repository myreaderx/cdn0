{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-20 13:07:30","updatedTime":"2020-10-20 13:07:30","title":"Congressional PageRank - Analyzing US Congress With Neo4j and Apache Spark","link":"http://lyonwj.com/2015/10/11/congressional-pagerank","description":"<p>As we saw <a href=\"http://www.lyonwj.com/2015/09/20/legis-graph-congressional-data-using-neo4j/\">previously</a>, <a href=\"https://github.com/legis-graph/legis-graph\">legis-graph</a> is an open source software project that imports US Congressional data from <a href=\"http://govtrack.us\">Govtrack</a> into the Neo4j graph database. This post shows how we can apply graph analytics to US Congressional data to find influential legislators in Congress. Using the Mazerunner open source graph analytics project we are able to use Apache Spark GraphX alongside Neo4j to run the PageRank algorithm on a collaboration graph of US Congress.</p> \n<p>While Neo4j is a powerful graph database that allows for efficient <a href=\"https://en.wikipedia.org/wiki/Online_transaction_processing\">OLTP</a> queries and graph traversals using the Cypher query language, it is not optimized for global graph algorithms, such as PageRank. <a href=\"http://spark.apache.org/\">Apache Spark</a> is a distributed in-memory large-scale data processing engine with a graph processing framework called <a href=\"http://spark.apache.org/graphx/\">GraphX</a>. GraphX with Apache Spark is very efficient at performing global graph operations, like the PageRank algorithm. By using Spark alongside Neo4j we can enhance our analysis of US Congress using legis-graph.</p> \n<h2 id=\"neo4j--apache-spark-overview-of-the-mazeruner-project\">Neo4j + Apache Spark: Overview of the Mazeruner project</h2> \n<p><a href=\"https://github.com/kbastani/neo4j-mazerunner\">Mazerunner</a> is a powerful open source graph analytics project that enables us to run Apache Spark GraphX jobs on a subgraph exported from Neo4j. Mazerunner makes use of Docker to allow for easy deployment. From the Mazerunner <a href=\"https://github.com/kbastani/neo4j-mazerunner#graph-analytics-for-neo4j\">GitHub README</a>:</p> \n<blockquote> \n <p>This docker image adds high-performance graph analytics to a Neo4j graph database. This image deploys a container with Apache Spark and uses GraphX to perform ETL graph analysis on subgraphs exported from Neo4j. The results of the analysis are applied back to the data in the Neo4j database.</p> \n</blockquote> \n<p>Mazerunner was created by <a href=\"https://twitter.com/kennybastani\">Kenny Bastani</a> who has written some <a href=\"http://www.kennybastani.com/2014/11/using-apache-spark-and-neo4j-for-big.html\">great posts</a> <a href=\"http://www.kennybastani.com/2015/03/spark-neo4j-tutorial-docker.html\">about using</a> <a href=\"http://www.kennybastani.com/2014/11/graph-analytics-docker-spark-neo4j.html\">Mazerunner for</a> <a href=\"https://www.airpair.com/apache-spark/posts/distributed-pagerank-using-apache-spark-and-neo4j\">graph analytics with Neo4j</a>.</p> \n<h2 id=\"using-docker-compose\">Using docker compose</h2> \n<p>We’ll use <a href=\"https://www.docker.com/\">Docker</a> to run Mazerunner so be sure to <a href=\"https://docs.docker.com/installation/\">install Docker</a> before moving on. Docker will allow us to easily deploy Hadoop HDFS, Neo4j and Apache Spark. We’ll use <a href=\"https://docs.docker.com/compose/\">docker compose</a> to manage our containers and define the port bindings. To start, we’ll create a yaml file that specifies the containers we’d like to spin up, how they should be linked to each other and which ports should be exposed:</p> \n<figure class=\"highlight\">\n <pre><code class=\"language-yaml\" data-lang=\"yaml\"><span class=\"na\">hdfs</span><span class=\"pi\">:</span>\n <span class=\"na\">image</span><span class=\"pi\">:</span> <span class=\"s\">sequenceiq/hadoop-docker:2.4.1</span>\n <span class=\"na\">command</span><span class=\"pi\">:</span> <span class=\"s\">/etc/bootstrap.sh -d -bash</span>\n<span class=\"na\">mazerunner</span><span class=\"pi\">:</span>\n <span class=\"na\">image</span><span class=\"pi\">:</span> <span class=\"s\">kbastani/neo4j-graph-analytics:latest</span>\n <span class=\"na\">links</span><span class=\"pi\">:</span>\n  <span class=\"pi\">-</span> <span class=\"s\">hdfs</span>\n<span class=\"na\">graphdb</span><span class=\"pi\">:</span>\n <span class=\"na\">image</span><span class=\"pi\">:</span> <span class=\"s\">kbastani/docker-neo4j:latest</span>\n <span class=\"na\">ports</span><span class=\"pi\">:</span>\n  <span class=\"pi\">-</span> <span class=\"s2\">\"</span><span class=\"s\">7474:7474\"</span>\n  <span class=\"pi\">-</span> <span class=\"s2\">\"</span><span class=\"s\">1337:1337\"</span>\n <span class=\"na\">volumes</span><span class=\"pi\">:</span>\n  <span class=\"pi\">-</span> <span class=\"s\">/opt/data</span>\n <span class=\"na\">links</span><span class=\"pi\">:</span>\n  <span class=\"pi\">-</span> <span class=\"s\">mazerunner</span>\n  <span class=\"pi\">-</span> <span class=\"s\">hdfs</span></code></pre>\n</figure> \n<blockquote> \n <p>See <a href=\"https://github.com/kbastani/spark-neo4j\">this GitHub page</a> for more information about running Mazerunner with Docker compose.</p> \n</blockquote> \n<p>The yaml file defines the three containers we’ll be using (Hadoop HDFS, Mazerunner service, and Neo4j), how they should be linked and what ports should be exposed so that we can access Neo4j. We can start this configuration with a single command:</p> \n<figure class=\"highlight\">\n <pre><code class=\"language-console\" data-lang=\"console\"><span class=\"go\">docker-compose up</span></code></pre>\n</figure> \n<p><img src=\"http://lyonwj.com/public/img/docker-compose.gif\" alt=\"\" /></p> \n<p>We now have Hadoop HDFS, an empty Neo4j instance and Mazerunner service running in separate containers, but linked together (with some docker magic…). We can connect to Neo4j easily since the Neo4j ports are exposed. Since I’m using docker on a Mac, there is actually a docker virtual machine running locally. To connect to Neo4j I can use the IP address of this VM. The default docker VM IP address is 192.168.99.100 but we can confirm with the <code class=\"highlighter-rouge\">docker-machine inspect</code> command:</p> \n<figure class=\"highlight\">\n <pre><code class=\"language-console\" data-lang=\"console\"><span class=\"gp\">lyonwjs-MacBook-Pro-2:~ lyonwj$</span> docker-machine inspect default | <span class=\"nb\">grep </span>IPAddress\n<span class=\"go\">        \"IPAddress\": \"192.168.99.100\",</span></code></pre>\n</figure> \n<p>We can now connect to the Neo4j Browser at <code class=\"highlighter-rouge\">http://192.168.99.100:7474/browser/</code> to verify that Neo4j is running and there is no data in the database.</p> \n<p>Now we need some data…</p> \n<h2 id=\"importing-legis-graph\">Importing legis-graph</h2> \n<p>If you haven’t read my <a href=\"http://www.lyonwj.com/2015/09/20/legis-graph-congressional-data-using-neo4j/\">previous post</a> about the <a href=\"https://github.com/legis-graph/legis-graph\">legis-graph project</a> you should at least skim it over to see the data model we are working with and some of the queries that are possible.</p> \n<p>Now that we have Neo4j running we can import legis-graph into the database, following the steps described <a href=\"https://github.com/legis-graph/legis-graph#load-data\">here</a>. The steps involve fetching <a href=\"https://www.govtrack.us/\">GovTrack</a> data with rsync, using Python scripts to parse the JSON, YAML and CSV files provided by GovTrack into a series of CSV files that we can then import directly into Neo4j using Cypher scripts. The screencast below shows the exact commands so you can follow along. It’s worth noting that we’re using <code class=\"highlighter-rouge\">neo4j-shell</code> to run the Cypher import scripts instead of the Neo4j Browser. To access the <code class=\"highlighter-rouge\">neo4j-shell</code> in our Docker container we can first get a bash prompt with the command</p> \n<div class=\"highlighter-rouge\">\n <div class=\"highlight\">\n  <pre class=\"highlight\"><code>docker exec -it CONTAINER_ID_HERE bash\n</code></pre>\n </div>\n</div> \n<p>where <code class=\"highlighter-rouge\">CONTAINER_ID_HERE</code> is the id of the container running Neo4j, which we can find with the <code class=\"highlighter-rouge\">docker ps</code> command. See the first part of the gif below. Once we have access to the shell in the container the steps to import legis-graph are identical to the those described in the <a href=\"https://github.com/legis-graph/legis-graph#load-data\">project readme</a>).</p> \n<p><img src=\"http://lyonwj.com/public/img/legis-graph-import.gif\" alt=\"\" /></p> \n<h2 id=\"adding-influenced_by-relationship\">Adding <code class=\"highlighter-rouge\">INFLUENCED_BY</code> relationship</h2> \n<p>Once the import scripts have finished running we have data describing every US Congress Legislator, Bill and Committee for a given Congressional session (the results below are based on data from the 114th Congressional session, the most current session) in a Neo4j property graph. Our data model looks like this:</p> \n<p><img src=\"http://lyonwj.com/public/img/lgdatamodel.png\" alt=\"\" /></p> \n<p>In the data model we can see a relationship between our Legislator nodes and Bill nodes called <code class=\"highlighter-rouge\">SPONSORED_BY</code>. From our memory of <a href=\"https://www.youtube.com/watch?v=Otbml6WIQPo\">Schoolhouse Rock</a> we know that every Bill has an initial Sponsor who introduces the Bill and several Cosponsors who support the Bill as well. In a political sense we can think of the Sponsor as influencing the Cosponsors to support the Bill. Although it’s not explicitly modeled in our graph we can use this measure of influence to identify influential Legislators.</p> \n<p>We will start by finding these implicit relationships in the Congressional <a href=\"https://en.wikipedia.org/wiki/Collaboration_graph\">collaboration graph</a> and creating explicit <code class=\"highlighter-rouge\">INFLUENCED_BY</code> relationships. Anytime that a Bill was introduced by a Sponsor and then supported by Cosponsors, we will model that influence in our graph by creating an <code class=\"highlighter-rouge\">INFLUENCED_BY</code> relationship from each Cosponsor to the Sponsor. For example, let’s consider a specific Bill, HR5393, which was introduced and sponsored in the House by Representative Sam Graves. This Bill was then cosponsored by Representatives Mick Mulvaney, Steve Chabot, Marsha Blackburn, and Scott Tipton. We can observe that Rep Sam Graves demonstrated political leadership and influence over the cosponsors of this Bill by garnering its support, so we create an <code class=\"highlighter-rouge\">INFLUENCED_BY</code> relationship from each cosponsor to Sam Graves in the graph to represent this political influence.</p> \n<p><img src=\"http://lyonwj.com/public/img/influenced_by_add.gif\" alt=\"\" /></p> \n<p>This Cypher query will update our graph and create these new <code class=\"highlighter-rouge\">INFLUENCED_BY</code> relationships for all Bills:</p> \n<figure class=\"highlight\">\n <pre><code class=\"language-cypher\" data-lang=\"cypher\">MATCH (b:Bill)-[r:SPONSORED_BY]-&gt;(sponsor:Legislator)\nWHERE r.cosponsor = \"0\"\nMATCH (b)-[s:SPONSORED_BY]-&gt;(cosponsor:Legislator)\nWHERE s.cosponsor = \"1\"\nCREATE (cosponsor)-[:INFLUENCED_BY]-&gt;(sponsor)</code></pre>\n</figure> \n<h2 id=\"running-pagerank-on-legislators\">Running PageRank on Legislators</h2> \n<p>We can use these new <code class=\"highlighter-rouge\">INFLUENCED_BY</code> relationships as inputs for the PageRank algorithm to find influential legislators. <a href=\"https://en.wikipedia.org/wiki/PageRank\">PageRank</a> is an algorithm initially used by Google to measure the importance of webpages for Google Search. The same algorithm can be applied to many different types of networks to find significant nodes in the network. In our case we will be using PageRank to measure the political influence of legislators based on Bill sponsorship and cosponsorship.</p> \n<blockquote> \n <p>Note that this type of analysis is similar to the GovTrack <a href=\"https://www.govtrack.us/about/analysis#leadership\">leadership analysis</a> as explained in <a href=\"https://razor.occams.info/pubdocs/2012-10-08_LVI_slides.pdf\">this presentation</a>. Both are based on the PageRank algorithm and the results are roughly similar.</p> \n</blockquote> \n<h2 id=\"running-pagerank-with-mazerunner\">Running PageRank with Mazerunner</h2> \n<p>When we started our Docker containers earlier, one of those containers contained Mazerunner, a powerful tool for running Apache Spark GraphX jobs on HDFS with data from Neo4j. We can start a job in Mazerunner by making a simple <code class=\"highlighter-rouge\">GET</code> request to Neo4j. The <code class=\"highlighter-rouge\">GET</code> request only needs to specify the type of analysis we want to perform (in this case PageRank), and the relationship type on which we want to perform the analysis (<code class=\"highlighter-rouge\">INFLUENCED_BY</code> in this case). Mazerunner will then take care of exporting the relevant subgraph to Spark, running the Spark GraphX job and then writing the results back to Neo4j. We can trigger this analysis from within the Neo4j browser with this command:</p> \n<div class=\"highlighter-rouge\">\n <div class=\"highlight\">\n  <pre class=\"highlight\"><code>:GET /service/mazerunner/analysis/pagerank/INFLUENCED_BY\n</code></pre>\n </div>\n</div> \n<p><img src=\"http://lyonwj.com/public/img/pagerank2.gif\" alt=\"\" /></p> \n<p>Once the PageRank analysis job is complete, each Legislator node will be updated with a new <code class=\"highlighter-rouge\">pagerank</code> property that contains the value of that Legislator’s PageRank score based on the <code class=\"highlighter-rouge\">INFLUENCED_BY</code> relationships. We can use this score as a proxy for political influence in Congress. Since this PageRank score was written back to Neo4j we can use Cypher queries to now take into account a Legislator’s political influence when querying the graph. In the next section we’ll answer some interesting questions about finding influencers in Congress using Cypher and our new Congressional PageRank score.</p> \n<h2 id=\"finding-influential-legislators\">Finding influential legislators</h2> \n<h3 id=\"most-influential-senators\">Most influential Senators</h3> \n<figure class=\"highlight\">\n <pre><code class=\"language-cypher\" data-lang=\"cypher\">MATCH (l:Legislator) WHERE has(l.pagerank) WITH l, l.pagerank as pg\nMATCH (l)-[:ELECTED_TO]-&gt;(b:Body {type: \"Senate\"})\nRETURN l.firstName + l.lastName as name, pg ORDER BY pg DESC LIMIT 10;</code></pre>\n</figure> \n<div class=\"highlighter-rouge\">\n <div class=\"highlight\">\n  <pre class=\"highlight\"><code>+-----------------------------------------+\n| name               | pg                 |\n+-----------------------------------------+\n| \"Orrin Hatch\"      | 2.9756989829857203 |\n| \"Charles Grassley\" | 2.6139548199234857 |\n| \"Benjamin Cardin\"  | 2.1132989694887456 |\n| \"John Thune\"       | 2.0930332521393904 |\n| \"Mike Lee\"         | 2.0406616669993336 |\n| \"Lamar Alexander\"  | 2.031176645832514  |\n| \"Jerry Moran\"      | 1.9622461537176095 |\n| \"John Cornyn\"      | 1.956690813571645  |\n| \"John Barrasso\"    | 1.924180343470944  |\n| \"Jeff Flake\"       | 1.8889703078024018 |\n+-----------------------------------------+\n10 rows\n121 ms\n</code></pre>\n </div>\n</div> \n<h3 id=\"most-influential-in-house-of-representatives\">Most influential in House of Representatives</h3> \n<figure class=\"highlight\">\n <pre><code class=\"language-cypher\" data-lang=\"cypher\">MATCH (l:Legislator) WHERE has(l.pagerank) WITH l, l.pagerank as pg\nMATCH (l)-[:ELECTED_TO]-&gt;(b:Body {type: \"House\"})\nRETURN l.firstName + \" \" + l.lastName as name, pg ORDER BY pg DESC LIMIT 10;</code></pre>\n</figure> \n<div class=\"highlighter-rouge\">\n <div class=\"highlight\">\n  <pre class=\"highlight\"><code>+------------------------------------------+\n| name                | pg                 |\n+------------------------------------------+\n| \"Diane Black\"       | 8.58655429827745   |\n| \"Brett Guthrie\"     | 6.062435816533887  |\n| \"Bob Goodlatte\"     | 5.77444037360594   |\n| \"Erik Paulsen\"      | 5.769744558672802  |\n| \"Sam Johnson\"       | 5.51484568055709   |\n| \"Charles Boustany\"  | 5.225312360342051  |\n| \"Carolyn Maloney\"   | 4.879633494250425  |\n| \"Christopher Smith\" | 4.799080848575352  |\n| \"Kevin Brady\"       | 4.5629395513518265 |\n| \"Paul Gosar\"        | 4.005903699546033  |\n+------------------------------------------+\n10 rows\n63 ms\n</code></pre>\n </div>\n</div> \n<h3 id=\"most-influential-democrats-in-the-house-of-representatives\">Most influential Democrats in the House of Representatives</h3> \n<figure class=\"highlight\">\n <pre><code class=\"language-cypher\" data-lang=\"cypher\">MATCH (l:Legislator) WHERE has(l.pagerank) WITH l, l.pagerank as pg\nMATCH (l)-[:ELECTED_TO]-&gt;(b:Body {type: \"House\"})\nMATCH (l)-[:IS_MEMBER_OF]-&gt;(p:Party {name: \"Democrat\"})\nRETURN l.firstName + \" \" + l.lastName as name, pg ORDER BY pg DESC LIMIT 10;</code></pre>\n</figure> \n<div class=\"highlighter-rouge\">\n <div class=\"highlight\">\n  <pre class=\"highlight\"><code>+-------------------------------------------+\n| name                 | pg                 |\n+-------------------------------------------+\n| \"Carolyn Maloney\"    | 4.879633494250425  |\n| \"Rosa DeLauro\"       | 3.9910225707498417 |\n| \"Joe Courtney\"       | 3.1157408773054067 |\n| \"Matthew Cartwright\" | 3.082758638951927  |\n| \"Terri Sewell\"       | 2.460045410055251  |\n| \"Jackie Speier\"      | 2.184626502764663  |\n| \"Maxine Waters\"      | 2.074914490498521  |\n| \"David Cicilline\"    | 1.927110056774834  |\n| \"Henry Johnson\"      | 1.8882492772785748 |\n| \"Robert Scott\"       | 1.7769840317110424 |\n+-------------------------------------------+\n10 rows\n62 ms\n</code></pre>\n </div>\n</div> \n<h3 id=\"most-influential-for-specific-subjects\">Most influential for specific subjects</h3> \n<p>Here is where things get interesting and we start <em>really</em> leveraging the power of the graph. Simply by traversing the graph, we can find Legislators who have significant influence in Congress over specific subjects given the Commitees on which they serve and the types of Bills referred to those Committees.</p> \n<h4 id=\"hong-kong\">Hong Kong</h4> \n<p>Let’s take Hong Kong as a random example. Who are the Legislators with the highest level of influence (as measured by our Congressional PageRank score) who have influence over the subject of “Hong Kong”, based on the Commitees on which they serve?</p> \n<figure class=\"highlight\">\n <pre><code class=\"language-cypher\" data-lang=\"cypher\">MATCH (l:Legislator) WHERE has(l.pagerank) WITH l, l.pagerank as pg\nMATCH (l)-[r:SERVES_ON]-&gt;(c:Committee)\nMATCH (c)&lt;-[:REFERRED_TO]-(:Bill)-[d:DEALS_WITH]-&gt;(s:Subject)\nWHERE s.title = \"Hong Kong\"\nMATCH (l)-[:IS_MEMBER_OF]-&gt;(p:Party)\nWITH l.firstName + \" \" + l.lastName as name, pg, c.name AS committee,\n   r.rank as rank, p.name as party\nRETURN name, pg, committee, rank, party ORDER BY pg DESC LIMIT 10;</code></pre>\n</figure> \n<div class=\"highlighter-rouge\">\n <div class=\"highlight\">\n  <pre class=\"highlight\"><code>+-------------------------------------------------------------------------------------+\n| name                | pg    | committee                       | rank | party        |\n+-------------------------------------------------------------------------------------+\n| \"Christopher Smith\" | 4.79  | \"House Committee on Foreign Af\" | \"2\"  | \"Republican\" |\n| \"Edward Royce\"      | 2.66  | \"House Committee on Foreign Af\" | \"1\"  | \"Republican\" |\n| \"Reid Ribble\"       | 2.36  | \"House Committee on Foreign Af\" | \"22\" | \"Republican\" |\n| \"Ted Poe\"           | 2.30  | \"House Committee on Foreign Af\" | \"8\"  | \"Republican\" |\n| \"Matt Salmon\"       | 2.12  | \"House Committee on Foreign Af\" | \"9\"  | \"Republican\" |\n| \"David Cicilline\"   | 1.92  | \"House Committee on Foreign Af\" | \"10\" | \"Democrat\"   |\n| \"Ted Yoho\"          | 1.71  | \"House Committee on Foreign Af\" | \"19\" | \"Republican\" |\n| \"Joe Wilson\"        | 1.60  | \"House Committee on Foreign Af\" | \"6\"  | \"Republican\" |\n| \"Steve Chabot\"      | 1.55  | \"House Committee on Foreign Af\" | \"5\"  | \"Republican\" |\n| \"Tom Marino\"        | 1.51  | \"House Committee on Foreign Af\" | \"11\" | \"Republican\" |\n+-------------------------------------------------------------------------------------+\n10 rows\n79 ms\n</code></pre>\n </div>\n</div> \n<p>Here we can see Legislators who have influence over the subject “Hong Kong” through their membership on the House Committee on Foreign Affairs, sorted by PageRank. We should also take into account their rank on the Committee, a higher rank being another sign of a higher level of influence. We can run this query for any subject in our graph, just change the <code class=\"highlighter-rouge\">s.title = xxx</code> parameter and find Congressional influencers!</p> \n<h4 id=\"multiple-dimensions-of-influences\">Multiple dimensions of influences</h4> \n<p>Of course a Legislator might serve on multiple Committees that have jurisdiction over a certain subject. Here we examine Legislators who have influence over the subject “News media and reporting” and order the results by the number of Committees on which they serve that have jurisdiction over the subject.</p> \n<figure class=\"highlight\">\n <pre><code class=\"language-cypher\" data-lang=\"cypher\">MATCH (l:Legislator) WHERE has(l.pagerank) WITH l, l.pagerank as pg\nMATCH (l)-[r:SERVES_ON]-&gt;(c:Committee)&lt;-[:REFERRED_TO]-(:Bill)-[d:DEALS_WITH]-&gt;(s:Subject)\nWHERE s.title = \"News media and reporting\"\nMATCH (l)-[:IS_MEMBER_OF]-&gt;(p:Party)\nWITH l.firstName + \" \" + l.lastName as name, pg, count(d) as num, p.name as party, c, r\nWITH collect({committee:c.name, rank:r.rank}) AS committees, name, pg, num, party\nRETURN name, pg, committees, num, party ORDER BY size(committees) DESC LIMIT 10;</code></pre>\n</figure> \n<p><img src=\"http://lyonwj.com/public/img/news_committees.png\" alt=\"\" /></p> \n<p>To take these multiple levels of influence into account we could create some sort of composite index of influence and order our results by that index, but I’ll leave that as an exercise for the reader…</p> \n<p>If you are a social scientist, or anyone interested in working with Congressional data in legis-graph please let me know your use-case and how I can help!</p> \n<meta name=\"twitter:card\" content=\"summary_large_image\" /> \n<meta name=\"twitter:site\" content=\"@lyonwj\" /> \n<meta name=\"twitter:title\" content=\"Congressional PageRank - Analyzing US Congress With Neo4j and Apache Spark\" /> \n<meta name=\"twitter:description\" content=\"This post shows how we can apply graph analytics to US Congressional data to find influential legislators in Congress. Using the Mazerunner open source graph analytics project we are able to use Apache Spark GraphX alongside Neo4j to run the PageRank algorithm on a collaboration graph of US Congress.\" /> \n<meta name=\"twitter:creator\" content=\"@lyonwj\" /> \n<meta name=\"twitter:image:src\" content=\"http://www.lyonwj.com/public/img/pgheaderimg.png\" /> \n<meta name=\"twitter:domain\" content=\"lyonwj.com\" />","descriptionType":"html","feedId":40446,"bgimg":"http://lyonwj.com/public/img/docker-compose.gif","linkMd5":"eaf05e40e8e0bb16b01ddc22f66f6bfe","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn63@2020_2/2020/10/20/05-07-37-888_335fb37925635e0c.webp","destWidth":881,"destHeight":411,"sourceBytes":2124082,"destBytes":3060886,"author":"","articleImgCdnMap":{"http://lyonwj.com/public/img/docker-compose.gif":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn63@2020_2/2020/10/20/05-07-37-888_335fb37925635e0c.webp","http://lyonwj.com/public/img/legis-graph-import.gif":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn79@2020_3/2020/10/20/05-08-04-102_579a1d9c4d8ce36d.webp","http://lyonwj.com/public/img/lgdatamodel.png":"https://cdn.jsdelivr.net/gh/myreaderx25/cdn74@2020_3/2020/10/20/05-07-40-458_5952e4e13bde5faf.webp","http://lyonwj.com/public/img/influenced_by_add.gif":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn88@2020_4/2020/10/20/05-08-02-552_2470f8000f8a8608.webp","http://lyonwj.com/public/img/pagerank2.gif":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn72@2020_4/2020/10/20/05-07-55-932_af57daaf5110df6d.webp","http://lyonwj.com/public/img/news_committees.png":"https://cdn.jsdelivr.net/gh/myreaderx/cdn83@2020_4/2020/10/20/05-07-40-191_63a3fa8451d7092a.webp"},"publishedOrCreatedDate":1603170450258}],"record":{"createdTime":"2020-10-20 13:07:30","updatedTime":"2020-10-20 13:07:30","feedId":40446,"fetchDate":"Tue, 20 Oct 2020 05:07:30 +0000","fetchMs":394,"handleMs":55,"totalMs":37720,"newArticles":0,"totalArticles":23,"status":1,"type":0,"ip":"e157b37912535cfa8094d5657cd163af","hostName":"europe-25*","requestId":"bc571f042e3d470ca01aae1cd4d8e409_40446","contentType":"application/xml","totalBytes":20211134,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":6,"articlesImgsGithubTotal":6,"successGithubMap":{"myreaderx25":1,"myreaderx21":1,"myreaderx4":1,"myreaderx22":1,"myreaderx11":1,"myreaderx":1},"failGithubMap":{}},"feed":{"createdTime":"2020-09-07 03:20:45","updatedTime":"2020-09-07 05:37:06","id":40446,"name":"William Lyon","url":"http://www.lyonwj.com/atom.xml","subscriber":79,"website":null,"icon":"http://lyonwj.com/public/favicon.ico","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx63/cdn11@2020_1/2020/09/06/21-37-05-963_0b3e684f2e185f86.png","description":"","weekly":null,"link":null},"noPictureArticleList":[],"tmpCommonImgCdnBytes":3060886,"tmpBodyImgCdnBytes":17150248,"tmpBgImgCdnBytes":0,"extra4":{"start":1603170449766,"total":0,"statList":[{"spend":437,"msg":"获取xml内容"},{"spend":55,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":27869,"msg":"正文链接上传到cdn"}]},"extra5":6,"extra6":6,"extra7ImgCdnFailResultVector":[],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://europe69.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe68.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-57.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-035.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-023.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"http://lyonwj.com/public/img/docker-compose.gif","sourceStatusCode":200,"destWidth":881,"destHeight":411,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn63@2020_2/2020/10/20/05-07-37-888_335fb37925635e0c.webp","sourceBytes":2124082,"destBytes":3060886,"targetWebpQuality":75,"feedId":40446,"totalSpendMs":5466,"convertSpendMs":3031,"createdTime":"2020-10-20 13:07:34","host":"us-017*","referer":"http://lyonwj.com/2015/10/11/congressional-pagerank","linkMd5ListStr":"eaf05e40e8e0bb16b01ddc22f66f6bfe,eaf05e40e8e0bb16b01ddc22f66f6bfe","githubUser":"myreaderx22","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"2 MB","destSize":"2.9 MB","compressRate":"144.1%"},{"code":1,"isDone":false,"source":"http://lyonwj.com/public/img/news_committees.png","sourceStatusCode":200,"destWidth":987,"destHeight":833,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx/cdn83@2020_4/2020/10/20/05-07-40-191_63a3fa8451d7092a.webp","sourceBytes":69408,"destBytes":20400,"targetWebpQuality":75,"feedId":40446,"totalSpendMs":1261,"convertSpendMs":43,"createdTime":"2020-10-20 13:07:39","host":"us-035*","referer":"http://lyonwj.com/2015/10/11/congressional-pagerank","linkMd5ListStr":"eaf05e40e8e0bb16b01ddc22f66f6bfe","githubUser":"myreaderx","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"67.8 KB","destSize":"19.9 KB","compressRate":"29.4%"},{"code":1,"isDone":false,"source":"http://lyonwj.com/public/img/lgdatamodel.png","sourceStatusCode":200,"destWidth":1693,"destHeight":1244,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx25/cdn74@2020_3/2020/10/20/05-07-40-458_5952e4e13bde5faf.webp","sourceBytes":353998,"destBytes":89550,"targetWebpQuality":75,"feedId":40446,"totalSpendMs":2315,"convertSpendMs":124,"createdTime":"2020-10-20 13:07:39","host":"europe69*","referer":"http://lyonwj.com/2015/10/11/congressional-pagerank","linkMd5ListStr":"eaf05e40e8e0bb16b01ddc22f66f6bfe","githubUser":"myreaderx25","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"345.7 KB","destSize":"87.5 KB","compressRate":"25.3%"},{"code":1,"isDone":false,"source":"http://lyonwj.com/public/img/pagerank2.gif","sourceStatusCode":200,"destWidth":1502,"destHeight":435,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn72@2020_4/2020/10/20/05-07-55-932_af57daaf5110df6d.webp","sourceBytes":6616937,"destBytes":8401092,"targetWebpQuality":60,"feedId":40446,"totalSpendMs":20951,"convertSpendMs":14912,"createdTime":"2020-10-20 13:07:39","host":"europe68*","referer":"http://lyonwj.com/2015/10/11/congressional-pagerank","linkMd5ListStr":"eaf05e40e8e0bb16b01ddc22f66f6bfe","githubUser":"myreaderx11","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"6.3 MB","destSize":"8 MB","compressRate":"127%"},{"code":1,"isDone":false,"source":"http://lyonwj.com/public/img/influenced_by_add.gif","sourceStatusCode":200,"destWidth":1344,"destHeight":750,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn88@2020_4/2020/10/20/05-08-02-552_2470f8000f8a8608.webp","sourceBytes":2521256,"destBytes":1373982,"targetWebpQuality":75,"feedId":40446,"totalSpendMs":24343,"convertSpendMs":22321,"createdTime":"2020-10-20 13:07:39","host":"us-023*","referer":"http://lyonwj.com/2015/10/11/congressional-pagerank","linkMd5ListStr":"eaf05e40e8e0bb16b01ddc22f66f6bfe","githubUser":"myreaderx4","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"2.4 MB","destSize":"1.3 MB","compressRate":"54.5%"},{"code":1,"isDone":false,"source":"http://lyonwj.com/public/img/legis-graph-import.gif","sourceStatusCode":200,"destWidth":881,"destHeight":407,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn79@2020_3/2020/10/20/05-08-04-102_579a1d9c4d8ce36d.webp","sourceBytes":5141954,"destBytes":7265224,"targetWebpQuality":75,"feedId":40446,"totalSpendMs":27847,"convertSpendMs":22855,"createdTime":"2020-10-20 13:07:39","host":"europe-57*","referer":"http://lyonwj.com/2015/10/11/congressional-pagerank","linkMd5ListStr":"eaf05e40e8e0bb16b01ddc22f66f6bfe","githubUser":"myreaderx21","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"4.9 MB","destSize":"6.9 MB","compressRate":"141.3%"}],"successGithubMap":{"myreaderx25":1,"myreaderx21":1,"myreaderx4":1,"myreaderx22":1,"myreaderx11":1,"myreaderx":1},"failGithubMap":{}}