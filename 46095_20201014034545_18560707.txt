{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-14 11:45:45","updatedTime":"2020-10-14 11:45:45","title":"CakePHP 2.3.10で認証チュートリアル","link":"http://cakephp.seesaa.net/article/381795610.html","description":"\n2005、2006年あたりの、CakePHPがうぶ声を上げたころにはいろいろ活動していた堂園です。<br />cakephp.jp を整備したり、マニュアルを書いたり、コミュニティをもりあげたりと色々していたなー。<br />今回、久しぶりに新規プロジェクトをCakeでつくりはじめました。<br /><br />それほど最新のものではなくてよいと、2.3.10で作りはじめようかと思ったのですが、ちょっとはまったのでここに書いておきます。<br />CakePHP 2.X 用には、チュートリアル：<br /><br />\"シンプルな認証と承認のアプリケーション\"<br /><a href=\"http://book.cakephp.org/2.0/ja/tutorials-and-examples/blog-auth-example/auth.html\" target=\"_blank\">http://book.cakephp.org/2.0/ja/tutorials-and-examples/blog-auth-example/auth.html</a><br /><br />がありますが、これがもう2.4.Xじゃないと動作しないコードになっています。2.3.10でこのチュートリアルをはじめたらはまりました。<br /><br />チュートリアルでは、<br />頭で<br /><code><br />App::uses('SimplePasswordHasher', 'Controller/Component/Auth');<br /></code><br />beforeSave()内で<br /><code><br />$passwordHasher = new SimplePasswordHasher();<br />        $this->data[$this->alias]['password'] = $passwordHasher->hash($this->data[$this->alias]['password']);<br /></code><br />となっていますが、2.3.10ではここが、<br /><code><br />$this->data[$this->alias]['password'] = AuthComponent::password($this->data[$this->alias]['password']);<br /></code><br />とする必要があるらしいです。<br /><br /><a name=\"more\"></a>\n\n\n","descriptionType":"html","publishedDate":"Tue, 03 Dec 2013 06:07:57 +0000","feedId":46095,"bgimg":"","linkMd5":"a317fb10682f0b296d68c7e05053c2c4","bgimgJsdelivr":"","metaImg":"","author":"SDozono","publishedOrCreatedDate":1602647145795}],"record":{"createdTime":"2020-10-14 11:45:45","updatedTime":"2020-10-14 11:45:45","feedId":46095,"fetchDate":"Wed, 14 Oct 2020 03:45:45 +0000","fetchMs":515,"handleMs":30769,"totalMs":31285,"newArticles":0,"totalArticles":15,"status":1,"type":0,"ip":"bfdf66e8c15fccdb23d86275e6f5be02","hostName":"us-030*","requestId":"a2b21866a86245fcbe015032028bf68d_46095","contentType":"application/xml","totalBytes":0,"bgimgsTotal":0,"bgimgsGithubTotal":0,"articlesImgsTotal":0,"articlesImgsGithubTotal":0,"successGithubMap":{},"failGithubMap":{}},"feed":{"createdTime":"2020-09-07 03:40:34","updatedTime":"2020-09-07 05:59:20","id":46095,"name":"CakePHP のおいしい食べ方","url":"http://cakephp.seesaa.net/index.rdf","subscriber":69,"website":null,"icon":"http://cakephp.seesaa.net/favicon.ico","icon_jsdelivr":null,"description":"CakePHPは、PHP言語の高速開発用フレームワークです。日々、発展を遂げる各種フレームワークの動向を見極めつつ、日本発のCakePHP応援ブログとして、最新情報をお届けします。","weekly":null,"link":"http://cakephp.seesaa.net"},"noPictureArticleList":[],"tmpCommonImgCdnBytes":0,"tmpBodyImgCdnBytes":0,"tmpBgImgCdnBytes":0,"extra4":{"start":1602647114511,"total":0,"statList":[{"spend":515,"msg":"获取xml内容"},{"spend":30769,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":0,"msg":"正文链接上传到cdn"}]},"extra5":0,"extra6":0,"extra7ImgCdnFailResultVector":[],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{},"extra12ImgCdnSuccessResultVector":[],"successGithubMap":{},"failGithubMap":{}}