{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-14 11:18:50","updatedTime":"2020-10-14 11:18:50","title":"How We Did It: Millions of Daily Pageviews, 60% Less Server Resources","link":"http://34.194.222.226/?p=10493","description":"<p><em>Contributed to by <a href=\"http://twitter.com/trevorsuarez\" title=\"Trevor Suarez\" target=\"_blank\">Trevor Suarez</a>.</p>\n<p>Two years ago at One Mighty Roar we noticed that a side-project from the early days of the company was gaining large amounts of traffic, despite not being touched in ages. Over the process of a few months, we spent some 20% time, which quickly turned into 120% time, revamping <a href=\"http://yourather.com\">You Rather</a>, redoing the site from the ground up, creating an API, and writing both an iOS and an Android app. As a result, You Rather has done some excellent numbers, gained some community garnishment, and been a great project for the OMR team to boast about. But, as most side-projects are, they fall low on the priority list when other new opportunities come along.</p>\n<p>At the end of this summer, it became our goal to give You Rather a breath of new life. The first step was to axe the aged Apache HTTP server in favor of Nginx. We&#8217;ve been using Nginx for 99% of our work over the last year and haven&#8217;t looked back since. However, most of our Nginx experience has been writing .conf files for new sites and servers, never rewriting old .confs for existing production sites.</p>\n<p><span class=\"important\">In just an afternoon, we moved a site with 400+ active concurrent users doing 1k+ pageviews a second, from Apache to Nginx, without any downtime.</span></p>\n<h3 id=\"brushingoffthedust\">Brushing off the Dust</h3>\n<p>To give some background, we ♥ AWS. You Rather uses every bit of the AWS stack, from EC2 to EBS to Route 53 to S3. To get a &#8220;dev&#8221; environment setup for ourselves, we grabbed our current AMI of the You Rather site and spun up a new instance for us to hack on. </p>\n<p>A simple <pre class=\"crayon-plain-tag\">yum install nginx</pre> got us Nginx up and running on our CentOS box in no time. Step one, complete.</p>\n<p>To start, we tossed up our generic Nginx conf:</p>\n<p></p><pre class=\"crayon-plain-tag\">server {\n    # Port declaration\n    listen   80 default_server;\n    listen   443 ssl;\n\n    # Server name and aliases\n    server_name  nginx-test.yourather.com;\n\n    # Root directory and default index\n    root   /var/www/path/of/yourather/src/;\n\n    # Catch-all\n    location / {\n        try_files $uri $uri/ /index.php?$args;\n    }\n    \n    # Pass the PHP scripts to the PHP-FPM socket\n    location ~ \\.php$ {\n        include        fastcgi_params;\n\n        fastcgi_index  index.php;\n        fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;\n\n        # PHP-FPM (unix socket)\n        fastcgi_pass   unix:/tmp/php5-fpm.sock;\n    }\n}</pre><p> </p>\n<p>Lo and behold, most things&#8230;just worked. Granted, we had done plenty of work getting the AMI setup with with Apache and PHP initially, switching over to Nginx was pretty easy to get started. Step two, complete.</p>\n<h3 id=\"tweakingforperformance\">Tweaking for Performance</h3>\n<p>Nginx has a few obvious benefits over Apache when it comes to the server layer, but Nginx isn’t the sole reason for You Rather’s performance improvement. To see why, let’s clarify what exactly makes the difference here.</p>\n<p>Where Nginx really shines is that it doesn’t process “.htaccess” files. While those files make for convenient setups on shared hosting plans or shared machines, traversing the file directory for those files occurs on each request, which gets expensive. Nginx, on the other hand, loads all configs in at launch and that’s it, you’re good to go.</p>\n<p>Another place we saw had room for improvement was the interaction between our webserver and PHP. Our current implementation of You Rather used <a href=\"http://www.tldp.org/HOWTO/Apache-Compile-HOWTO/php.html\"><pre class=\"crayon-plain-tag\">mod_php</pre> with Apache</a>. Although the initial setup for Apache and <pre class=\"crayon-plain-tag\">mod_php</pre> was quick and easy, a big disadvantage to this is the way PHP is processed per request. Opting for <a href=\"http://php-fpm.org/\">PHP-FPM</a> in favor of <pre class=\"crayon-plain-tag\">mod_php</pre> gave us significant performance boosts. Where as <pre class=\"crayon-plain-tag\">mod_php</pre> was interpreting PHP as a part of the Apache process, quickly soaking up large amounts of CPU and memory, PHP-FPM can be fine tuned to get great performance benefits. Utilizing PHP processes that are gracefully launched and killed, Unix sockets, and granular process management, PHP-FPM helped us tune back our overall resource usage on the box. On top of all of these tweaks, now we can tweak configurations for Nginx without affecting PHP-FPM and vice versa without breaking one or the other. </p>\n<p>As one last golden bullet to tweak the performance of PHP, we added an opcode cache. Testing out <a href=\"http://pecl.php.net/package/ZendOpcache\">Zend OPCache</a> and <a href=\"http://php.net/manual/en/book.apc.php\">APC</a>, we found that OPCache kicked it out of the park for us, boosting PHP processing time and reducing memory consumption overall.</p>\n<p>Step three, complete.</p>\n<h3 id=\"siegingthesite\">Sieging the Site</h3>\n<p>One thing we&#8217;ve gotten better at as a result of You Rather&#8217;s traffic is testing our apps under heavy load. On any given day, we&#8217;ve experienced large traffic spikes due to social media, aggregators (see: <a href=\"http://en.wikipedia.org/wiki/Slashdot_effect\">the Slashdot effect</a>), or App Store features. Two tools we use a lot to test load handling are <a href=\"http://www.joedog.org/siege-home/\"><pre class=\"crayon-plain-tag\">siege</pre></a>, and <a href=\"http://httpd.apache.org/docs/2.2/programs/ab.html\"><pre class=\"crayon-plain-tag\">ab</pre></a>. For this setup, we mostly used <pre class=\"crayon-plain-tag\">siege</pre>.</p>\n<p>Once we got Nginx serving our site up just right on our dev instance, it was time to hammer the box to see what it could handle. Using <pre class=\"crayon-plain-tag\">siege</pre>, we could see what kind of a load a single instance could handle. One great advantage of <pre class=\"crayon-plain-tag\">siege</pre> is its ability to hit an endpoint with concurrent connections, perfect for simulating a real-world use-case of You Rather. Starting the command:</p>\n<p></p><pre class=\"crayon-plain-tag\">siege -t 1M -c 20 http://nginx-test.yourather.com/</pre><p> </p>\n<p>We simulated 20 concurrent users (<pre class=\"crayon-plain-tag\">-c 20</pre>) hitting the site on that instance, non-stop for a minute (<pre class=\"crayon-plain-tag\">-t 1M</pre>). <pre class=\"crayon-plain-tag\">siege</pre> gives great analysis of the tests both during and afterwards. Things looked great from the get-go. The throughput was much lower than the old Apache AMI, and response times were generally lower. We kept tweaking the <pre class=\"crayon-plain-tag\">siege</pre> test, varying between 10 to 100 or more concurrent connections (protip: don&#8217;t go over 75 connections generally, things will break&#8230;), hitting different endpoints, like the user profile page, a specfic question&#8217;s page, and even the 404 page.</p>\n<figure>\n<img src=\"http://buildinternet.s3.amazonaws.com/images/apache-to-nginx/fast_siege.jpg\" alt=\"\" /></figure>\n<p>We compared the results from <pre class=\"crayon-plain-tag\">siege</pre>&#8217;ing the Nginx instance to a version of the current Apache site running on a control instance. In short, <span class=\"important\">the Nginx instance performed 100% more transactions, with 50% less response time per transaction</span>. Better yet, we watched the <pre class=\"crayon-plain-tag\">top</pre> on the Nginx box while testing this out. It handled it like a boss, barely topping out the CPU while slamming it with connections. Nginx was clearly giving the site the boost it needed.</p>\n<h3 id=\"goinglive\">Going Live</h3>\n<p>Using all of the glory that is AWS, we already had load balancers set up for the site, as well as auto-scaling groups and rules in place for killing unhealthy instances and spinning new ones up where needed. In our search for keeping the site available as much as possible, spinning up new instances under heavy load can get expensive. </p>\n<p>Once we made a new AMI for the new deployment of the site, it was time to tweak the auto-scale group to spin up new instances from the new AMI. Using the AWS CLI, we just set the group to spin new instances up from the new AMI. Next, we set the number of desired instances for the group to a healthy number that we knew wouldn&#8217;t crash the site, leaving room for a mix of Apache and Nginx instances to be balanced side-by-side.</p>\n<p></p><pre class=\"crayon-plain-tag\">as-set-desired-capacity yr-production --desired-capacity 4 --honor-cooldown</pre><p></p>\n<p>From here, we slowly killed off the old Apache instances one by one manually, letting the auto-scale group spin a new Nginx instance up in its place. Meanwhile, watching Google Analytics, <span class=\"important\">we still had thousands of pageviews and API calls happening per second</span>, live to the site, including the new Nginx boxes.</p>\n<p>Finally, not a single Apache box was left load balanced, we started scaling back the number of desired instances for the group. From 4&#8230; to 3&#8230; to 2&#8230; We probably could have run it all off one box, but for the sake of our own sanity, 2 sounded right.</p>\n<p>A week later, we had a bit of a post-mortem, analyzing the numbers. Guess where the Nginx revamp happened:</p>\n<figure>\n<img src=\"http://buildinternet.s3.amazonaws.com/images/apache-to-nginx/cpu_util_pretty.jpg\" alt=\"\" /></figure>\n<p>Our varying number of instances is more or less static now, and has been for weeks:</p>\n<figure>\n<img src=\"http://buildinternet.s3.amazonaws.com/images/apache-to-nginx/instance_counts_pretty.jpg\" alt=\"\" /></figure>\n<p>We have now been serving millions of pageviews and API calls off of two Nginx instances with 0% downtime for a solid three weeks now. Sorry Apache, there&#8217;s no looking back.</p>\n<div class=\"feedflare\">\n<a href=\"http://feeds.feedburner.com/~ff/buildinternet?a=rkzYyTVefrw:uHtuqG8nNE8:yIl2AUoC8zA\"><img src=\"http://feeds.feedburner.com/~ff/buildinternet?d=yIl2AUoC8zA\" border=\"0\"></img></a> <a href=\"http://feeds.feedburner.com/~ff/buildinternet?a=rkzYyTVefrw:uHtuqG8nNE8:D7DqB2pKExk\"><img src=\"http://feeds.feedburner.com/~ff/buildinternet?i=rkzYyTVefrw:uHtuqG8nNE8:D7DqB2pKExk\" border=\"0\"></img></a> <a href=\"http://feeds.feedburner.com/~ff/buildinternet?a=rkzYyTVefrw:uHtuqG8nNE8:F7zBnMyn0Lo\"><img src=\"http://feeds.feedburner.com/~ff/buildinternet?i=rkzYyTVefrw:uHtuqG8nNE8:F7zBnMyn0Lo\" border=\"0\"></img></a> <a href=\"http://feeds.feedburner.com/~ff/buildinternet?a=rkzYyTVefrw:uHtuqG8nNE8:V_sGLiPBpWU\"><img src=\"http://feeds.feedburner.com/~ff/buildinternet?i=rkzYyTVefrw:uHtuqG8nNE8:V_sGLiPBpWU\" border=\"0\"></img></a> <a href=\"http://feeds.feedburner.com/~ff/buildinternet?a=rkzYyTVefrw:uHtuqG8nNE8:qj6IDK7rITs\"><img src=\"http://feeds.feedburner.com/~ff/buildinternet?d=qj6IDK7rITs\" border=\"0\"></img></a> <a href=\"http://feeds.feedburner.com/~ff/buildinternet?a=rkzYyTVefrw:uHtuqG8nNE8:gIN9vFwOqvQ\"><img src=\"http://feeds.feedburner.com/~ff/buildinternet?i=rkzYyTVefrw:uHtuqG8nNE8:gIN9vFwOqvQ\" border=\"0\"></img></a>\n</div><img src=\"http://feeds.feedburner.com/~r/buildinternet/~4/rkzYyTVefrw\" height=\"1\" width=\"1\" alt=\"\"/>","descriptionType":"html","publishedDate":"Thu, 05 Sep 2013 16:56:01 +0000","feedId":33148,"bgimg":"http://buildinternet.s3.amazonaws.com/images/apache-to-nginx/fast_siege.jpg","linkMd5":"ba4928388ab5d0223022f2b70fe0eeee","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn23@2020_2/2020/10/14/03-18-51-117_8d518db13c063112.webp","destWidth":408,"destHeight":246,"sourceBytes":50002,"destBytes":15554,"author":"Eli Perkins","articleImgCdnMap":{"http://buildinternet.s3.amazonaws.com/images/apache-to-nginx/fast_siege.jpg":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn23@2020_2/2020/10/14/03-18-51-117_8d518db13c063112.webp","http://buildinternet.s3.amazonaws.com/images/apache-to-nginx/cpu_util_pretty.jpg":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn32@2020_3/2020/10/14/03-18-52-124_358b9b948f7c51fc.webp","http://buildinternet.s3.amazonaws.com/images/apache-to-nginx/instance_counts_pretty.jpg":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn52@2020_3/2020/10/14/03-18-52-121_056f7d479cd994ab.webp","http://feeds.feedburner.com/~ff/buildinternet?d=yIl2AUoC8zA":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn44@2020_4/2020/10/14/03-18-52-058_1923163e230bc82b.webp","http://feeds.feedburner.com/~ff/buildinternet?i=rkzYyTVefrw:uHtuqG8nNE8:D7DqB2pKExk":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn55@2020_3/2020/10/14/03-18-52-053_5f78751d04a44310.webp","http://feeds.feedburner.com/~ff/buildinternet?i=rkzYyTVefrw:uHtuqG8nNE8:F7zBnMyn0Lo":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn33@2020_5/2020/10/14/03-18-52-090_1bf8ea0fcc1e4946.webp","http://feeds.feedburner.com/~ff/buildinternet?i=rkzYyTVefrw:uHtuqG8nNE8:V_sGLiPBpWU":null,"http://feeds.feedburner.com/~ff/buildinternet?d=qj6IDK7rITs":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn27@2020_3/2020/10/14/03-18-52-050_6b8d1e1d5d4a0942.webp","http://feeds.feedburner.com/~ff/buildinternet?i=rkzYyTVefrw:uHtuqG8nNE8:gIN9vFwOqvQ":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn48@2020_6/2020/10/14/03-18-52-222_af130d8eae284c06.webp","http://feeds.feedburner.com/~r/buildinternet/~4/rkzYyTVefrw":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn39@2020_5/2020/10/14/03-18-52-126_4228cd7c0e40e7ae.webp"},"publishedOrCreatedDate":1602645530952}],"record":{"createdTime":"2020-10-14 11:18:50","updatedTime":"2020-10-14 11:18:50","feedId":33148,"fetchDate":"Wed, 14 Oct 2020 03:18:50 +0000","fetchMs":59,"handleMs":180169,"totalMs":182435,"newArticles":0,"totalArticles":10,"status":1,"type":0,"ip":"05b50c64cd16569d0e135aedb1e28ee2","hostName":"us-003*","requestId":"ee42dcd8a0e2459d8878b6d4b5d137c5_33148","contentType":"text/xml; charset=UTF-8","totalBytes":43946,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":10,"articlesImgsGithubTotal":9,"successGithubMap":{"myreaderx6":1,"myreaderx10":1,"myreaderx21":1,"myreaderx22":1,"myreaderx3":1,"myreaderx1":1,"myreaderx13":1,"myreaderx30":1,"myreaderx31":1},"failGithubMap":{"myreaderx14":1}},"feed":{"createdTime":"2020-09-07 02:57:42","updatedTime":"2020-09-07 05:09:51","id":33148,"name":"Build Internet","url":"http://feeds2.feedburner.com/buildinternet","subscriber":97,"website":null,"icon":"http://buildinternet.com/favicon.ico","icon_jsdelivr":null,"description":"Web Design, Development, and Business","weekly":null,"link":"http://buildinternet.com"},"noPictureArticleList":[{"createdTime":"2020-10-14 11:18:53","updatedTime":"2020-10-14 11:18:53","id":null,"feedId":33148,"linkMd5":"ba4928388ab5d0223022f2b70fe0eeee"}],"tmpCommonImgCdnBytes":15554,"tmpBodyImgCdnBytes":28392,"tmpBgImgCdnBytes":0,"extra4":{"start":1602645350720,"total":0,"statList":[{"spend":63,"msg":"获取xml内容"},{"spend":180169,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":1171,"msg":"正文链接上传到cdn"}]},"extra5":10,"extra6":10,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"http://feeds.feedburner.com/~ff/buildinternet?i=rkzYyTVefrw:uHtuqG8nNE8:V_sGLiPBpWU","sourceStatusCode":200,"destWidth":66,"destHeight":24,"sourceBytes":1009,"destBytes":340,"targetWebpQuality":75,"feedId":33148,"totalSpendMs":431,"convertSpendMs":4,"createdTime":"2020-10-14 11:18:52","host":"europe21*","referer":"http://34.194.222.226/?p=10493","linkMd5ListStr":"ba4928388ab5d0223022f2b70fe0eeee","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn60/contents/2020/10/14/03-18-52-236_b3c8d48634965850.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Wed, 14 Oct 2020 03:18:52 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["A6A0:719E:3DDCAAB:47F2D2A:5F866E1C"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, read:packages, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1602648398"],"x-ratelimit-used":["60"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn60/contents/2020/10/14/03-18-52-236_b3c8d48634965850.webp","historyStatusCode":[],"spendMs":297},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1,009 B","destSize":"340 B","compressRate":"33.7%"},{"code":1,"isDone":false,"source":"http://feeds.feedburner.com/~ff/buildinternet?i=rkzYyTVefrw:uHtuqG8nNE8:V_sGLiPBpWU","sourceStatusCode":200,"destWidth":66,"destHeight":24,"sourceBytes":1009,"destBytes":340,"targetWebpQuality":75,"feedId":33148,"totalSpendMs":270,"convertSpendMs":4,"createdTime":"2020-10-14 11:18:52","host":"europe21*","referer":"http://34.194.222.226/?p=10493","linkMd5ListStr":"ba4928388ab5d0223022f2b70fe0eeee","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn60/contents/2020/10/14/03-18-52-735_b3c8d48634965850.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Wed, 14 Oct 2020 03:18:52 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["A6A0:719E:3DDCADA:47F2D44:5F866E1C"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, read:packages, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1602648398"],"x-ratelimit-used":["60"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn60/contents/2020/10/14/03-18-52-735_b3c8d48634965850.webp","historyStatusCode":[],"spendMs":141},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1,009 B","destSize":"340 B","compressRate":"33.7%"}],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://us-55.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe21.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-021.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-004.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-033.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-005.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe67.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-009.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-029.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"http://buildinternet.s3.amazonaws.com/images/apache-to-nginx/fast_siege.jpg","sourceStatusCode":200,"destWidth":408,"destHeight":246,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn23@2020_2/2020/10/14/03-18-51-117_8d518db13c063112.webp","sourceBytes":50002,"destBytes":15554,"targetWebpQuality":75,"feedId":33148,"totalSpendMs":1010,"convertSpendMs":39,"createdTime":"2020-10-14 11:18:50","host":"us-51*","referer":"http://34.194.222.226/?p=10493","linkMd5ListStr":"ba4928388ab5d0223022f2b70fe0eeee,ba4928388ab5d0223022f2b70fe0eeee","githubUser":"myreaderx1","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"48.8 KB","destSize":"15.2 KB","compressRate":"31.1%"},{"code":1,"isDone":false,"source":"http://feeds.feedburner.com/~ff/buildinternet?d=yIl2AUoC8zA","sourceStatusCode":200,"destWidth":62,"destHeight":24,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn44@2020_4/2020/10/14/03-18-52-058_1923163e230bc82b.webp","sourceBytes":997,"destBytes":310,"targetWebpQuality":75,"feedId":33148,"totalSpendMs":821,"convertSpendMs":19,"createdTime":"2020-10-14 11:18:52","host":"us-55*","referer":"http://34.194.222.226/?p=10493","linkMd5ListStr":"ba4928388ab5d0223022f2b70fe0eeee","githubUser":"myreaderx30","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"997 B","destSize":"310 B","compressRate":"31.1%"},{"code":1,"isDone":false,"source":"http://feeds.feedburner.com/~ff/buildinternet?d=qj6IDK7rITs","sourceStatusCode":200,"destWidth":113,"destHeight":24,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn27@2020_3/2020/10/14/03-18-52-050_6b8d1e1d5d4a0942.webp","sourceBytes":1072,"destBytes":460,"targetWebpQuality":75,"feedId":33148,"totalSpendMs":823,"convertSpendMs":6,"createdTime":"2020-10-14 11:18:52","host":"us-029*","referer":"http://34.194.222.226/?p=10493","linkMd5ListStr":"ba4928388ab5d0223022f2b70fe0eeee","githubUser":"myreaderx13","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1 KB","destSize":"460 B","compressRate":"42.9%"},{"code":1,"isDone":false,"source":"http://feeds.feedburner.com/~ff/buildinternet?i=rkzYyTVefrw:uHtuqG8nNE8:F7zBnMyn0Lo","sourceStatusCode":200,"destWidth":105,"destHeight":24,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn33@2020_5/2020/10/14/03-18-52-090_1bf8ea0fcc1e4946.webp","sourceBytes":1058,"destBytes":436,"targetWebpQuality":75,"feedId":33148,"totalSpendMs":853,"convertSpendMs":4,"createdTime":"2020-10-14 11:18:51","host":"us-005*","referer":"http://34.194.222.226/?p=10493","linkMd5ListStr":"ba4928388ab5d0223022f2b70fe0eeee","githubUser":"myreaderx22","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1 KB","destSize":"436 B","compressRate":"41.2%"},{"code":1,"isDone":false,"source":"http://feeds.feedburner.com/~ff/buildinternet?i=rkzYyTVefrw:uHtuqG8nNE8:D7DqB2pKExk","sourceStatusCode":200,"destWidth":92,"destHeight":24,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn55@2020_3/2020/10/14/03-18-52-053_5f78751d04a44310.webp","sourceBytes":1043,"destBytes":374,"targetWebpQuality":75,"feedId":33148,"totalSpendMs":892,"convertSpendMs":6,"createdTime":"2020-10-14 11:18:51","host":"us-009*","referer":"http://34.194.222.226/?p=10493","linkMd5ListStr":"ba4928388ab5d0223022f2b70fe0eeee","githubUser":"myreaderx21","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1 KB","destSize":"374 B","compressRate":"35.9%"},{"code":1,"isDone":false,"source":"http://buildinternet.s3.amazonaws.com/images/apache-to-nginx/cpu_util_pretty.jpg","sourceStatusCode":200,"destWidth":653,"destHeight":230,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn32@2020_3/2020/10/14/03-18-52-124_358b9b948f7c51fc.webp","sourceBytes":39523,"destBytes":14152,"targetWebpQuality":75,"feedId":33148,"totalSpendMs":963,"convertSpendMs":16,"createdTime":"2020-10-14 11:18:51","host":"us-004*","referer":"http://34.194.222.226/?p=10493","linkMd5ListStr":"ba4928388ab5d0223022f2b70fe0eeee","githubUser":"myreaderx3","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"38.6 KB","destSize":"13.8 KB","compressRate":"35.8%"},{"code":1,"isDone":false,"source":"http://feeds.feedburner.com/~ff/buildinternet?i=rkzYyTVefrw:uHtuqG8nNE8:gIN9vFwOqvQ","sourceStatusCode":200,"destWidth":67,"destHeight":24,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn48@2020_6/2020/10/14/03-18-52-222_af130d8eae284c06.webp","sourceBytes":1005,"destBytes":322,"targetWebpQuality":75,"feedId":33148,"totalSpendMs":992,"convertSpendMs":7,"createdTime":"2020-10-14 11:18:52","host":"us-033*","referer":"http://34.194.222.226/?p=10493","linkMd5ListStr":"ba4928388ab5d0223022f2b70fe0eeee","githubUser":"myreaderx31","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1,005 B","destSize":"322 B","compressRate":"32%"},{"code":1,"isDone":false,"source":"http://buildinternet.s3.amazonaws.com/images/apache-to-nginx/instance_counts_pretty.jpg","sourceStatusCode":200,"destWidth":657,"destHeight":232,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn52@2020_3/2020/10/14/03-18-52-121_056f7d479cd994ab.webp","sourceBytes":36536,"destBytes":12266,"targetWebpQuality":75,"feedId":33148,"totalSpendMs":1087,"convertSpendMs":29,"createdTime":"2020-10-14 11:18:51","host":"us-021*","referer":"http://34.194.222.226/?p=10493","linkMd5ListStr":"ba4928388ab5d0223022f2b70fe0eeee","githubUser":"myreaderx6","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"35.7 KB","destSize":"12 KB","compressRate":"33.6%"},{"code":1,"isDone":false,"source":"http://feeds.feedburner.com/~r/buildinternet/~4/rkzYyTVefrw","sourceStatusCode":200,"destWidth":1,"destHeight":1,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn39@2020_5/2020/10/14/03-18-52-126_4228cd7c0e40e7ae.webp","sourceBytes":43,"destBytes":72,"targetWebpQuality":75,"feedId":33148,"totalSpendMs":1015,"convertSpendMs":2,"createdTime":"2020-10-14 11:18:52","host":"europe67*","referer":"http://34.194.222.226/?p=10493","linkMd5ListStr":"ba4928388ab5d0223022f2b70fe0eeee","githubUser":"myreaderx10","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"43 B","destSize":"72 B","compressRate":"167.4%"}],"successGithubMap":{"myreaderx6":1,"myreaderx10":1,"myreaderx21":1,"myreaderx22":1,"myreaderx3":1,"myreaderx1":1,"myreaderx13":1,"myreaderx30":1,"myreaderx31":1},"failGithubMap":{"myreaderx14":1}}