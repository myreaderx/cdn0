{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-19 01:45:25","updatedTime":"2020-10-19 01:45:25","title":"MHTML在ie7/vista bug 解决方案","link":"http://www.aoao.org.cn/?p=146","description":"<p>在多数情况下，以增加文件大小代价来换连接数是有价值。而MHTML+dataURI = 省连接数，如果你不知道这是什么东东，可以看秦歌写的<a href=\"http://dancewithnet.com/2009/08/15/data-uri-mhtml/\">Data URI 和 MHTML</a></p>\n<p>因为之前发现在vista上的ie7有bug，且没有好解决方案，所以一直不敢项目上使用，之前虽然有看到有个用304的方案(via <a href=\"http://www.phpied.com/data-uris-mhtml-ie7-win7-vista-blues/\">Data URIs, MHTML and IE7/Win7/Vista blues</a>)，但觉一来做起来折腾，一来效果也不好，特别是hover时。</p>\n<p>ie7 vista的bug大约这样，相应文件一旦local cache 后，浏览器就读不到。</p>\n<p>今天，我要骄傲的跟大家，有两种可行的解决方案</p>\n<p>方案1</p>\n<pre class=\"code\"><code>Content-Type:multipart/related;boundary=\"_aoao_org_cn\"\n--_aoao_org_cn\nContent-Location:aoao.gif\nContent-Transfer-Encoding:base64\n... base64...\n--_aoao_org_cn--</code></pre>\n<p>注意最后的“<code>--_aoao_org_cn--</code>” ，查了不少资料，原来标准写法就是这样！（via<a href=\"http://tools.ietf.org/html/rfc2557\"> rfc2557 第7页</a>） 囧rz</p>\n<p>这个故事跟我们说一件事：有问题，查文档。 我之前一直以为cache到本地后浏览器木权限用</p>\n<p>方案2</p>\n<pre class=\"code\"><code>------=_NextPart_000_0000_12345678.12345678\nContent-Location:aoao.gif\nContent-Transfer-Encoding:base64\n... base64...\n</code></pre>\n<p>如果你有用ie存mht并研究结构的话，应该会觉得很眼熟，很神奇，但唯一的问题就是只能用一张图片，囧rz 反正有方案1，无视之。</p>\n<p>伴随这个不是bug的bug的终结，相应的工具与应用也要浮出水面了。 </p>\n","descriptionType":"html","publishedDate":"Sat, 30 Jan 2010 13:55:45 +0000","feedId":20980,"bgimg":"","linkMd5":"dacd631bfe025349604652d1d46d77b0","bgimgJsdelivr":"","metaImg":"","author":"aoao","publishedOrCreatedDate":1603043125128}],"record":{"createdTime":"2020-10-19 01:45:25","updatedTime":"2020-10-19 01:45:25","feedId":20980,"fetchDate":"Sun, 18 Oct 2020 17:45:25 +0000","fetchMs":131,"handleMs":181249,"totalMs":181382,"newArticles":0,"totalArticles":20,"status":1,"type":0,"ip":"d30ce248a5f8ef1e93fb032827363e30","hostName":"us-031*","requestId":"b123611a46ec45e39453fa89c24af6fa_20980","contentType":"application/rss+xml; charset=UTF-8","totalBytes":0,"bgimgsTotal":0,"bgimgsGithubTotal":0,"articlesImgsTotal":0,"articlesImgsGithubTotal":0,"successGithubMap":{},"failGithubMap":{}},"feed":{"createdTime":"2020-09-07 02:23:51","updatedTime":"2020-09-07 04:15:08","id":20980,"name":"样式之美","url":"http://feeds.feedburner.com/aoao","subscriber":158,"website":null,"icon":"http://www.aoao.org.cn/favicon.ico","icon_jsdelivr":null,"description":"没落的角落","weekly":null,"link":"http://www.aoao.org.cn"},"noPictureArticleList":[],"tmpCommonImgCdnBytes":0,"tmpBodyImgCdnBytes":0,"tmpBgImgCdnBytes":0,"extra4":{"start":1603042943747,"total":0,"statList":[{"spend":133,"msg":"获取xml内容"},{"spend":181249,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":0,"msg":"正文链接上传到cdn"}]},"extra5":0,"extra6":0,"extra7ImgCdnFailResultVector":[],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{},"extra12ImgCdnSuccessResultVector":[],"successGithubMap":{},"failGithubMap":{}}