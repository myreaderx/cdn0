{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2021-09-28 20:08:54","updatedTime":"2021-09-28 20:08:54","title":"文言文自动生成器：来试试自动写古文","link":"https://www.52nlp.cn/?p=13089","description":"\n<p>前两天，我们基于 Hugging Face 的中文歌词模型（<a href=\"https://huggingface.co/uer/gpt2-chinese-lyric\">Chinese GPT2 Lyric Model</a>）在AINLP公众号后台添加了中文歌词生成器：</p>\n\n\n\n<ul><li><a href=\"https://www.52nlp.cn/%e4%b8%ad%e6%96%87%e6%ad%8c%e8%af%8d%e8%87%aa%e5%8a%a8%e7%94%9f%e6%88%90%e5%99%a8%ef%bc%9a%e6%9d%a5%e8%af%95%e8%af%95%e8%87%aa%e5%8a%a8%e5%86%99%e6%ad%8c\">中文歌词自动生成器：来试试自动写歌</a></li></ul>\n\n\n\n<p>今天，我们继续基于 Hugging Face 的文言文GPT2预训练模型（<a href=\"https://huggingface.co/uer/gpt2-chinese-ancient\">Chinese Ancient GPT2 Model</a>) ，在 AINLP 公众号后台添加了文言文生成器，感兴趣的朋友可以关注AINLP公众号后对话测试：</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter is-resized\"><img src=\"https://www.52nlp.cn/wp-content/uploads/2021/07/ainlp.jpg\" alt=\"\" class=\"wp-image-13080\" width=\"360\" height=\"360\" srcset=\"https://www.52nlp.cn/wp-content/uploads/2021/07/ainlp.jpg 860w, https://www.52nlp.cn/wp-content/uploads/2021/07/ainlp-300x300.jpg 300w, https://www.52nlp.cn/wp-content/uploads/2021/07/ainlp-150x150.jpg 150w, https://www.52nlp.cn/wp-content/uploads/2021/07/ainlp-768x768.jpg 768w\" sizes=\"(max-width: 360px) 100vw, 360px\" /></figure></div>\n\n\n\n<p>回复“写文言文：开头内容”进行测试，例如：</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-large is-resized\"><img src=\"https://www.52nlp.cn/wp-content/uploads/2021/08/文言文1-561x1024.png\" alt=\"\" class=\"wp-image-13092\" width=\"421\" height=\"768\" srcset=\"https://www.52nlp.cn/wp-content/uploads/2021/08/文言文1-561x1024.png 561w, https://www.52nlp.cn/wp-content/uploads/2021/08/文言文1-164x300.png 164w, https://www.52nlp.cn/wp-content/uploads/2021/08/文言文1.png 738w\" sizes=\"(max-width: 421px) 100vw, 421px\" /></figure></div>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-large is-resized\"><img src=\"https://www.52nlp.cn/wp-content/uploads/2021/08/文言文2-551x1024.png\" alt=\"\" class=\"wp-image-13093\" width=\"413\" height=\"768\" srcset=\"https://www.52nlp.cn/wp-content/uploads/2021/08/文言文2-551x1024.png 551w, https://www.52nlp.cn/wp-content/uploads/2021/08/文言文2-161x300.png 161w, https://www.52nlp.cn/wp-content/uploads/2021/08/文言文2.png 734w\" sizes=\"(max-width: 413px) 100vw, 413px\" /></figure></div>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-large is-resized\"><img src=\"https://www.52nlp.cn/wp-content/uploads/2021/08/文言文3-562x1024.png\" alt=\"\" class=\"wp-image-13094\" width=\"422\" height=\"768\" srcset=\"https://www.52nlp.cn/wp-content/uploads/2021/08/文言文3-562x1024.png 562w, https://www.52nlp.cn/wp-content/uploads/2021/08/文言文3-165x300.png 165w, https://www.52nlp.cn/wp-content/uploads/2021/08/文言文3.png 752w\" sizes=\"(max-width: 422px) 100vw, 422px\" /></figure></div>\n\n\n\n<p>关于这个模型的详细介绍，可以参考Hugging Face的模型主页，这里摘录部分：</p>\n\n\n\n<pre class=\"wp-block-code\"><code>Chinese Ancient GPT2 Model\n\nModel description\nThe model is used to generate ancient Chinese. You can download the model either from the GPT2-Chinese Github page, or via HuggingFace from the link gpt2-chinese-ancient\n\nHow to use\nYou can use the model directly with a pipeline for text generation:\n\n>>> from transformers import BertTokenizer, GPT2LMHeadModel, TextGenerationPipeline\n>>> tokenizer = BertTokenizer.from_pretrained(\"uer/gpt2-chinese-ancient\")\n>>> model = GPT2LMHeadModel.from_pretrained(\"uer/gpt2-chinese-ancient\")\n>>> text_generator = TextGenerationPipeline(model, tokenizer)   \n>>> text_generator(\"当是时\", max_length=100, do_sample=True)\n    &#91;{'generated_text': '&#91;CLS]当是时 所 议 者 不 为 无 据 ， 况 亦 在 之 列 乎 ？ 然 则 今 日 之 事 ， 所 当 思 者 在 何 ？ 欲 求 国 是 于 天 下 ， 莫 在 于 得 人 。 臣 以 为 求 人 之 法 ， 不 在 多 用 官 一 途 。 诚 使 得 才 者 众 ， 人 才 者 优 ， 则 治 所 当 得 ， 而 不 事 于 官 者 ， 人 才 乃 其 常 也 。 所 当 讲 者'}]\n\nTraining data\nTraining data contains 3,000,000 ancient Chinese which are collected by daizhigev20. Since part of ancient corpus has no punctuation, we used the ancient Chinese punctuation system developed by BNU ICIP lab.　</code></pre>\n\n\n\n<p>特别感谢 <a href=\"https://github.com/Morizeyao/GPT2-Chinese\">GPT2-Chinese</a> 项目的整理和分享的相关模型以及相关模型和数据的贡献者：</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img src=\"https://www.52nlp.cn/wp-content/uploads/2021/08/截屏2021-08-04-下午3.24.54-1024x648.png\" alt=\"\" class=\"wp-image-13095\" srcset=\"https://www.52nlp.cn/wp-content/uploads/2021/08/截屏2021-08-04-下午3.24.54-1024x648.png 1024w, https://www.52nlp.cn/wp-content/uploads/2021/08/截屏2021-08-04-下午3.24.54-300x190.png 300w, https://www.52nlp.cn/wp-content/uploads/2021/08/截屏2021-08-04-下午3.24.54-768x486.png 768w, https://www.52nlp.cn/wp-content/uploads/2021/08/截屏2021-08-04-下午3.24.54-1536x972.png 1536w, https://www.52nlp.cn/wp-content/uploads/2021/08/截屏2021-08-04-下午3.24.54.png 1586w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" /></figure>\n\n\n\n<p>以下是AINLP目前支持的自动生成模块，之后将加入更多的领域生成测试模块，欢迎关注测试：</p>\n\n\n\n<p><a rel=\"noreferrer noopener\" href=\"https://mp.weixin.qq.com/s/A6FMzXS0W7jyTMuyCgzJhw\" target=\"_blank\">风云三尺剑，花鸟一床书---对联数据集和自动对联机器人</a><br><a rel=\"noreferrer noopener\" href=\"https://mp.weixin.qq.com/s/VSPPEVcihLUcJMmh7h3hgA\" target=\"_blank\">自动对联活动获奖结果以及机器对联赏析</a><br><a rel=\"noreferrer noopener\" href=\"https://mp.weixin.qq.com/s/w8e0TixjbqvKXnZksL32tQ\" target=\"_blank\">\"自动作诗机\"上线，代码和数据都是公开的</a><br><a rel=\"noreferrer noopener\" href=\"https://mp.weixin.qq.com/s/Za1_atH01eUIQHHdo4M-Cg\" target=\"_blank\">鼠年春节，用 GPT-2 自动写对联和对对联</a><br><a rel=\"noreferrer noopener\" href=\"https://mp.weixin.qq.com/s/8nOhe0RDkgEgxWdjAsjpvw\" target=\"_blank\">用 GPT-2 自动写诗，从五言绝句开始</a><br><a rel=\"noreferrer noopener\" href=\"https://mp.weixin.qq.com/s/fdeyf2uwaHNac1_guj5L6Q\" target=\"_blank\">自动作诗机&#38;藏头诗生成器：五言、七言、绝句、律诗全了</a><br><a rel=\"noreferrer noopener\" href=\"https://mp.weixin.qq.com/s/OgWlf7GqidIX2ffVBUo_tQ\" target=\"_blank\">仅供娱乐，藏尾诗生成器来了</a></p>\n\n\n\n<p><a href=\"https://www.52nlp.cn/%e4%b8%ad%e6%96%87%e6%ad%8c%e8%af%8d%e8%87%aa%e5%8a%a8%e7%94%9f%e6%88%90%e5%99%a8%ef%bc%9a%e6%9d%a5%e8%af%95%e8%af%95%e8%87%aa%e5%8a%a8%e5%86%99%e6%ad%8c\">中文歌词自动生成器：来试试自动写歌</a></p>\n\n\n\n<p></p>\n","descriptionType":"html","publishedDate":"Wed, 04 Aug 2021 15:30:36 +0000","feedId":2688,"bgimg":"https://www.52nlp.cn/wp-content/uploads/2021/07/ainlp.jpg","linkMd5":"b17f7cab6abb7a6607bb3146b37c8e40","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn76@2020_1/2021/09/28/12-08-56-074_7e76d2f20cb12f78.webp","destWidth":860,"destHeight":860,"sourceBytes":100725,"destBytes":24004,"author":"52nlp","articleImgCdnMap":{"https://www.52nlp.cn/wp-content/uploads/2021/07/ainlp.jpg":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn76@2020_1/2021/09/28/12-08-56-074_7e76d2f20cb12f78.webp","https://www.52nlp.cn/wp-content/uploads/2021/08/文言文1-561x1024.png":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn84@2020_6/2021/09/28/12-09-45-425_413c6a355af012a5.webp","https://www.52nlp.cn/wp-content/uploads/2021/08/文言文2-551x1024.png":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn87@2020_4/2021/09/28/12-09-22-111_f34a5e8fc3ff0d58.webp","https://www.52nlp.cn/wp-content/uploads/2021/08/文言文3-562x1024.png":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn91@2020_4/2021/09/28/12-10-08-365_a48fd64ade1e3a07.webp","https://www.52nlp.cn/wp-content/uploads/2021/08/截屏2021-08-04-下午3.24.54-1024x648.png":null},"publishedOrCreatedDate":1632830934033}],"record":{"createdTime":"2021-09-28 20:08:54","updatedTime":"2021-09-28 20:08:54","feedId":2688,"fetchDate":"Tue, 28 Sep 2021 12:08:54 +0000","fetchMs":2494,"handleMs":10,"totalMs":77543,"newArticles":0,"totalArticles":10,"status":1,"type":0,"ip":"79b59b7ab14b8d981e3d8a220e20848a","hostName":"us-003*","requestId":"3fe40282a3d949d987e60420b31ae7cc_2688","contentType":"application/rss+xml; charset=UTF-8","totalBytes":202964,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":5,"articlesImgsGithubTotal":4,"successGithubMap":{"myreaderx16":1,"myreaderx11":1,"myreaderx12":1,"myreaderx13":1},"failGithubMap":{"myreaderx14":1}},"feed":{"createdTime":"2020-08-24 21:31:43","updatedTime":"2020-09-01 10:12:55","id":2688,"name":"我爱自然语言处理","url":"http://www.52nlp.cn/feed","subscriber":null,"website":null,"icon":"https://www.52nlp.cn/favicon.ico","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx61/cdn6@2020_5/2020/09/01/02-12-56-203_4bbc56a7e59b36d4.png","description":"I Love Natural Language Processing","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2021-09-28 20:10:08","updatedTime":"2021-09-28 20:10:08","id":null,"feedId":2688,"linkMd5":"b17f7cab6abb7a6607bb3146b37c8e40"}],"tmpCommonImgCdnBytes":24004,"tmpBodyImgCdnBytes":178960,"tmpBgImgCdnBytes":0,"extra4":{"start":1632830931097,"total":0,"statList":[{"spend":2926,"msg":"获取xml内容"},{"spend":10,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":72269,"msg":"正文链接上传到cdn"}]},"extra5":5,"extra6":5,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"https://www.52nlp.cn/wp-content/uploads/2021/08/截屏2021-08-04-下午3.24.54-1024x648.png","sourceStatusCode":200,"destWidth":1024,"destHeight":648,"sourceBytes":384225,"destBytes":58746,"targetWebpQuality":75,"feedId":2688,"totalSpendMs":19163,"convertSpendMs":35,"createdTime":"2021-09-28 20:08:56","host":"us-031*","referer":"https://www.52nlp.cn/?p=13089","linkMd5ListStr":"b17f7cab6abb7a6607bb3146b37c8e40","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn79/contents/2021/09/28/12-09-15-502_e6f376ce4e717121.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Tue, 28 Sep 2021 12:09:15 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["CFC4:6B07:1AF15D1:3318CB2:615305EB"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1632832634"],"x-ratelimit-resource":["core"],"x-ratelimit-used":["60"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn79/contents/2021/09/28/12-09-15-502_e6f376ce4e717121.webp","historyStatusCode":[],"spendMs":42},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"375.2 KB","destSize":"57.4 KB","compressRate":"15.3%"},{"code":1,"isDone":false,"source":"https://www.52nlp.cn/wp-content/uploads/2021/08/截屏2021-08-04-下午3.24.54-1024x648.png","sourceStatusCode":200,"destWidth":1024,"destHeight":648,"sourceBytes":384225,"destBytes":58746,"targetWebpQuality":75,"feedId":2688,"totalSpendMs":29119,"convertSpendMs":40,"createdTime":"2021-09-28 20:09:15","host":"us-031*","referer":"https://www.52nlp.cn/?p=13089","linkMd5ListStr":"b17f7cab6abb7a6607bb3146b37c8e40","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn79/contents/2021/09/28/12-09-44-637_e6f376ce4e717121.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Tue, 28 Sep 2021 12:09:44 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["831C:0E45:27EF3B1:5B26FC7:61530608"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1632832634"],"x-ratelimit-resource":["core"],"x-ratelimit-used":["60"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn79/contents/2021/09/28/12-09-44-637_e6f376ce4e717121.webp","historyStatusCode":[],"spendMs":32},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"375.2 KB","destSize":"57.4 KB","compressRate":"15.3%"},null],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://europe69.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-031.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-007.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-019.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://www.52nlp.cn/wp-content/uploads/2021/07/ainlp.jpg","sourceStatusCode":200,"destWidth":860,"destHeight":860,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn76@2020_1/2021/09/28/12-08-56-074_7e76d2f20cb12f78.webp","sourceBytes":100725,"destBytes":24004,"targetWebpQuality":75,"feedId":2688,"totalSpendMs":2325,"convertSpendMs":21,"createdTime":"2021-09-28 20:08:54","host":"us-53*","referer":"https://www.52nlp.cn/?p=13089","linkMd5ListStr":"b17f7cab6abb7a6607bb3146b37c8e40,b17f7cab6abb7a6607bb3146b37c8e40","githubUser":"myreaderx12","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"98.4 KB","destSize":"23.4 KB","compressRate":"23.8%"},{"code":1,"isDone":false,"source":"https://www.52nlp.cn/wp-content/uploads/2021/08/文言文2-551x1024.png","sourceStatusCode":200,"destWidth":551,"destHeight":1024,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn87@2020_4/2021/09/28/12-09-22-111_f34a5e8fc3ff0d58.webp","sourceBytes":448365,"destBytes":59082,"targetWebpQuality":75,"feedId":2688,"totalSpendMs":26009,"convertSpendMs":32,"createdTime":"2021-09-28 20:08:56","host":"us-007*","referer":"https://www.52nlp.cn/?p=13089","linkMd5ListStr":"b17f7cab6abb7a6607bb3146b37c8e40","githubUser":"myreaderx13","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"437.9 KB","destSize":"57.7 KB","compressRate":"13.2%"},{"code":1,"isDone":false,"source":"https://www.52nlp.cn/wp-content/uploads/2021/08/文言文1-561x1024.png","sourceStatusCode":200,"destWidth":561,"destHeight":1024,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn84@2020_6/2021/09/28/12-09-45-425_413c6a355af012a5.webp","sourceBytes":481248,"destBytes":62094,"targetWebpQuality":75,"feedId":2688,"totalSpendMs":19289,"convertSpendMs":61,"createdTime":"2021-09-28 20:09:26","host":"us-019*","referer":"https://www.52nlp.cn/?p=13089","linkMd5ListStr":"b17f7cab6abb7a6607bb3146b37c8e40","githubUser":"myreaderx11","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"470 KB","destSize":"60.6 KB","compressRate":"12.9%"},{"code":1,"isDone":false,"source":"https://www.52nlp.cn/wp-content/uploads/2021/08/文言文3-562x1024.png","sourceStatusCode":200,"destWidth":562,"destHeight":1024,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn91@2020_4/2021/09/28/12-10-08-365_a48fd64ade1e3a07.webp","sourceBytes":438005,"destBytes":57784,"targetWebpQuality":75,"feedId":2688,"totalSpendMs":10911,"convertSpendMs":39,"createdTime":"2021-09-28 20:09:57","host":"us-019*","referer":"https://www.52nlp.cn/?p=13089","linkMd5ListStr":"b17f7cab6abb7a6607bb3146b37c8e40","githubUser":"myreaderx16","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"427.7 KB","destSize":"56.4 KB","compressRate":"13.2%"}],"successGithubMap":{"myreaderx16":1,"myreaderx11":1,"myreaderx12":1,"myreaderx13":1},"failGithubMap":{"myreaderx14":1}}