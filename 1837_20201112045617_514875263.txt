{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-11-12 12:55:49","updatedTime":"2020-11-12 12:55:49","title":"机器学习开发的灵药—Docker容器","link":"http://weixin.sogou.com/weixin?type=2&query=%E6%9C%BA%E5%99%A8%E4%B9%8B%E5%BF%83+%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%9A%84%E7%81%B5%E8%8D%AF%E2%80%94Docker%E5%AE%B9%E5%99%A8","description":"<div><div><div id=\"media\" class=\"rich_media_thumb_wrp\">\n\n            <img class=\"rich_media_thumb\" src=\"http://img.100weidu.com/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWL4pKJXiaTLPD63QB8nV6nNh5gZdibo59ibqibhZ0KTF2Y4VaTMbxLF4e0w?imageView2/1/w/600\">\n        </div>\n    \n\n    \n\n    <div class=\"rich_media_content\" id=\"js_content\">\n                    \n\n                    \n\n                    \n                    \n                    <section data-mpa-powered-by=\"yiban.io\" data-darkmode-bgcolor-15899528520055=\"rgb(36, 36, 36)\" data-darkmode-original-bgcolor-15899528520055=\"rgb(255, 255, 255)\" data-style=\"max-width: 100%; font-variant-numeric: normal; font-variant-east-asian: normal; letter-spacing: 0.544px; line-height: 27.2px; white-space: normal; widows: 1; font-family: \" helvetica neue sans gb yahei arial sans-serif background-color: rgb box-sizing: border-box overflow-wrap: break-word class=\"js_darkmode__0\" style=\"max-width: 100%;font-variant-numeric: normal;font-variant-east-asian: normal;letter-spacing: 0.544px;white-space: normal;line-height: 27.2px;widows: 1;font-family: \" visible rgba><section data-darkmode-bgcolor-15899528520055=\"rgb(36, 36, 36)\" data-darkmode-original-bgcolor-15899528520055=\"rgb(255, 255, 255)\" style=\"max-width: 100%;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><section data-darkmode-bgcolor-15899528520055=\"rgb(36, 36, 36)\" data-darkmode-original-bgcolor-15899528520055=\"rgb(255, 255, 255)\" style=\"max-width: 100%;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><section data-id=\"85660\" data-custom=\"rgb(117, 117, 118)\" data-color=\"rgb(117, 117, 118)\" data-darkmode-bgcolor-15899528520055=\"rgb(36, 36, 36)\" data-darkmode-original-bgcolor-15899528520055=\"rgb(255, 255, 255)\" style=\"max-width: 100%;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><section data-darkmode-bgcolor-15899528520055=\"rgb(36, 36, 36)\" data-darkmode-original-bgcolor-15899528520055=\"rgb(255, 255, 255)\" style=\"max-width: 100%;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><section data-darkmode-bgcolor-15899528520055=\"rgb(36, 36, 36)\" data-darkmode-original-bgcolor-15899528520055=\"rgb(255, 255, 255)\" style=\"max-width: 100%;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><section data-darkmode-bgcolor-15899528520055=\"rgb(36, 36, 36)\" data-darkmode-original-bgcolor-15899528520055=\"rgb(255, 255, 255)\" style=\"max-width: 100%;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><section data-darkmode-bgcolor-15899528520055=\"rgb(36, 36, 36)\" data-darkmode-original-bgcolor-15899528520055=\"rgb(255, 255, 255)\" style=\"max-width: 100%;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><section data-darkmode-bgcolor-15899528520055=\"rgb(36, 36, 36)\" data-darkmode-original-bgcolor-15899528520055=\"rgb(255, 255, 255)\" style=\"max-width: 100%;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><section data-id=\"85660\" data-custom=\"rgb(117, 117, 118)\" data-color=\"rgb(117, 117, 118)\" data-darkmode-bgcolor-15899528520055=\"rgb(36, 36, 36)\" data-darkmode-original-bgcolor-15899528520055=\"rgb(255, 255, 255)\" style=\"max-width: 100%;border-width: 0px;border-style: initial;border-color: currentcolor;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><section data-darkmode-bgcolor-15899528520055=\"rgb(36, 36, 36)\" data-darkmode-original-bgcolor-15899528520055=\"rgb(255, 255, 255)\" style=\"margin-top: 2em;padding-top: 0.5em;padding-bottom: 0.5em;max-width: 100%;border-style: solid none;text-decoration: inherit;border-top-color: rgb(204, 204, 204);border-bottom-color: rgb(204, 204, 204);border-top-width: 1px;border-bottom-width: 1px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"margin-top: -1.2em;max-width: 100%;min-height: 1em;text-align: center;font-family: inherit;border-width: initial;border-style: initial;border-color: currentcolor;visibility: visible;line-height: 1.75em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;color: rgb(255, 255, 255);visibility: visible;background-color: rgb(117, 117, 118);font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;\">机器之心发布</span></p><section style=\"max-width: 100%;min-height: 1em;text-align: center;visibility: visible;line-height: 1.75em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;color: rgb(136, 136, 136);visibility: visible;font-size: 12px;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><strong data-darkmode-bgcolor-15899528520055=\"rgb(36, 36, 36)\" data-darkmode-original-bgcolor-15899528520055=\"rgb(255, 255, 255)\" data-darkmode-color-15899528520055=\"rgb(136, 136, 136)\" data-darkmode-original-color-15899528520055=\"rgb(136, 136, 136)\" style=\"max-width: 100%;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;\">来源：AWS云计算</strong></span></section></section></section></section></section></section></section></section></section></section></section></section><p><br></p><figure data-size=\"normal\"><br></figure><figure data-size=\"normal\"><img data-ratio=\"0.45866666666666667\" data-type=\"jpeg\" data-w=\"750\" style=\"display: block; margin-right: auto; margin-left: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running fxRichTextFadeIn; max-width: 600px\" width=\"750\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWHfJic42907YdicuB6WDLTyj4k2OxjjiaWY1dX8WTwBljMLa9g3npFcPIA/640?wx_fmt=jpeg\"></figure><p><br></p><p><br></p><p><span style=\"font-size: 15px;\">大多数人都喜欢在笔记本电脑上做原型开发。当想与人协作时，通常会将代码推送到 GitHub 并邀请协作者。当想运行实验并需要更多的计算能力时，会在云中租用 CPU 和 GPU 实例，将代码和依赖项复制到实例中，然后运行实验。如果您对这个过程很熟悉，那么您可能会奇怪：为什么一定要用 Docker 容器呢？</span></p><p><span style=\"font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, \" helvetica neue sc sans gb yahei ui arial sans-serif><br></span></p><p><span style=\"font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, \" helvetica neue sc sans gb yahei ui arial sans-serif>运营团队中优秀的 IT 专家们可以确保您的代码持续可靠地运行，并能够根据客户需求进行扩展。那么对于运营团队而言，容器不就成了一种罕见的工具吗？您能够高枕无忧，无需担心部署问题，是因为有一群基础设施专家负责在 Kubernetes 上部署并管理您的应用程序吗？</span></p><p><span style=\"font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, \" helvetica neue sc sans gb yahei ui arial sans-serif><br></span></p><p><span style=\"font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, \" helvetica neue sc sans gb yahei ui arial sans-serif>在本文中，AWS会尝试说明为什么您应该考虑使用 Docker 容器进行机器学习开发。在本文的前半部分，将讨论在使用复杂的开源机器学习软件时遇到的主要难题，以及采用容器将如何缓和这些问题。然后，将介绍如何设置基于 Docker 容器的开发环境，并演示如何使用该环境来协作和扩展集群上的工作负载。</span></p><p><span style=\"font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, \" helvetica neue sc sans gb yahei ui arial sans-serif><br></span></p><p><strong><span style=\"font-size: 17px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, \" helvetica neue sc sans gb yahei ui arial sans-serif>机器学习开发环境：基本需求</span></strong></p><p><strong><span style=\"font-size: 17px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, \" helvetica neue sc sans gb yahei ui arial sans-serif><br></span></strong></p><p><span style=\"font-size: 15px;\">首先了解一下机器学习开发环境所需的四个基本要素：</span></p><p><span style=\"font-size: 15px;\"><br></span></p><ol class=\"list-paddingleft-2\"><li style=\"font-size: 15px;\"><p><span style=\"font-size: 15px;\">计算：训练模型离不开高性能 CPU 和 GPU。</span></p></li><li style=\"font-size: 15px;\"><section style=\"margin-top: 5px;\"><span style=\"font-size: 15px;\">存储：用于存储大型训练数据集和您在训练过程中生成的元数据。</span></section></li><li style=\"font-size: 15px;\"><section style=\"margin-top: 5px;\"><span style=\"font-size: 15px;\">框架和库：提供用于训练的 API 和执行环境。</span></section></li><li style=\"font-size: 15px;\"><section style=\"margin-top: 5px;\"><span style=\"font-size: 15px;\">源代码控制：用于协作、备份和自动化。</span></section></li></ol><p><br></p><p><span style=\"font-size: 15px;\">作为机器学习研究人员、开发人员或数据科学家，您可以在单个 Amazon Elastic Compute Cloud (Amazon EC2) 实例或家庭工作站上搭建满足这四种要素的环境。</span></p><figure data-size=\"normal\"><img data-ratio=\"0.644\" data-type=\"jpeg\" data-w=\"750\" style=\"display: block; margin-right: auto; margin-left: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running fxRichTextFadeIn; max-width: 600px\" width=\"750\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPW5VRh1oGNrOSx9LhibXZwlWdRTGqVqWJWiaeJrf9z8SmAXgmLiaibTM5VxA/640?wx_fmt=jpeg\"></figure><p><br></p><p><span style=\"font-size: 15px;\">那么，此设置有什么问题吗？</span></p><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">其实也谈不上有问题。因为几十年来，大多数开发设置都是如此：既没有集群，也没有共享文件系统。</span></p><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">除了高性能计算 (HPC) 项目的一小群研究人员能够将开发的代码放在超级计算机上运行之外，绝大多数人都只能依靠自己专用的计算机进行开发。</span></p><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">事实证明，与传统软件开发相比，机器学习与 HPC 具有更多的共同点。与 HPC 工作负载一样，若在大型集群上运行机器学习工作负载，执行速度更快，实验速度也更快。要利用集群进行机器学习训练，您需要确保自己的开发环境可移植，并且训练在集群上可重复。</span></p><p><br></p><h2><strong><span style=\"font-size: 17px;\">为什么需要可移植的训练环境？</span></strong></h2><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">在机器学习开发流程中的某个阶段，您会遇到以下两个难题：</span></p><p><span style=\"font-size: 15px;\"><br></span></p><ol class=\"list-paddingleft-2\"><li style=\"font-size: 15px;\"><p><span style=\"font-size: 15px;\">您正在进行实验，但您的训练脚本发生了太多次的更改导致无法运行，并且只用一台计算机无法满足需求。</span></p></li><li style=\"font-size: 15px;\"><section style=\"margin-top: 10px;\"><span style=\"font-size: 15px;\">您在具有大型数据集的大型模型上进行训练，但仅在一台计算机上运行使您无法在合理的时间内获得结果。</span></section></li></ol><p><br></p><p><span style=\"font-size: 15px;\">这两个原因往往会让您希望在集群上运行机器学习训练。这也是科学家选择使用超级计算机（例如 </span><span style=\"font-size: 15px;\">Summit 超级计算机</span><span style=\"font-size: 15px;\">）进行科学实验的原因。要解决第一个难题，您可以在计算机集群上独立且异步地运行每个模型。要解决第二个难题，您可以将单个模型分布在集群上以实现更快的训练。</span></p><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">这两种解决方案都要求您能够在集群上以一致的方式成功复现开发训练设置。这一要求很有挑战性，因为集群上运行的操作系统和内核版本、GPU、驱动程序和运行时以及软件依赖项可能与您的开发计算机有所不同。</span></p><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">您需要可移植的机器学习环境的另一个原因是便于协作开发。通过版本控制与协作者共享训练脚本很容易。但在不共享整个执行环境（包括代码、依赖项和配置）的情况下保证可重复性却很难。这些内容将在下一节中介绍。</span></p><p><span style=\"font-size: 15px;\"><br></span></p><h2><strong><span style=\"font-size: 17px;\">机器学习、开源和专用硬件</span></strong></h2><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">机器学习开发环境面临的挑战是，它们依赖于复杂且不断发展的开源机器学习框架和工具包以及同样复杂且不断发展的硬件生态系统。虽然这两者都是我们需要的积极特质，但它们却在短期内构成了挑战。</span></p><p><br></p><figure data-size=\"normal\"><img data-ratio=\"2.1533333333333333\" data-type=\"png\" data-w=\"150\" style=\"display: block; margin-right: auto; margin-left: auto; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running fxRichTextFadeIn; max-width: 600px\" width=\"150\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWoDHCW97JHAw2dONXpkUEicI0TobI1umAw7VAofXDJa8ZO0F6ibxeyAdg/640?wx_fmt=png\"></figure><p><br></p><p><span style=\"font-size: 15px;\">在进行机器学习训练时，您有多少次问过自己以下这些问题：</span></p><p><span style=\"font-size: 15px;\"><br></span></p><ul class=\"list-paddingleft-2\"><li style=\"font-size: 15px;\"><p><span style=\"font-size: 15px;\">我的代码是否利用了 CPU 和 GPU 上的所有可用资源？</span></p></li><li style=\"font-size: 15px;\"><section style=\"margin-top: 5px;\"><span style=\"font-size: 15px;\">我是否使用了正确的硬件库 和硬件库版本？</span></section></li><li style=\"font-size: 15px;\"><section style=\"margin-top: 5px;\"><span style=\"font-size: 15px;\">当运行环境大同小异时，为什么我的训练代码在自己的计算机上可以正常工作，而在同事的计算机上就会崩溃？</span></section></li><li style=\"font-size: 15px;\"><section style=\"margin-top: 5px;\"><span style=\"font-size: 15px;\">我今天更新了驱动程序，现在训练变慢/出错了。这是为什么？</span></section></li></ul><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">如果您检查自己的机器学习软件堆栈，会发现自己的大部分时间都花在了紫红色框（即图中的我的代码）上。这部分包括您的训练脚本、实用程序和帮助例程、协作者的代码、社区贡献等。如果这还不够复杂，您还会注意到您的依赖项包括：</span></p><p><span style=\"font-size: 15px;\"><br></span></p><ul class=\"list-paddingleft-2\"><li style=\"font-size: 15px;\"><p><span style=\"font-size: 15px;\">迅速演进的机器学习框架 API；</span></p></li><li style=\"font-size: 15px;\"><section style=\"margin-top: 5px;\"><span style=\"font-size: 15px;\">机器学习框架依赖项，其中有很多是独立的项目；</span></section></li><li style=\"font-size: 15px;\"><section style=\"margin-top: 5px;\"><span style=\"font-size: 15px;\">CPU 专用库，用于加速数学例程；</span></section></li><li style=\"font-size: 15px;\"><section style=\"margin-top: 5px;\"><span style=\"font-size: 15px;\">GPU 专用库，用于加速数学例程和 GPU 间通信例程；以及</span></section></li><li style=\"font-size: 15px;\"><section style=\"margin-top: 5px;\"><span style=\"font-size: 15px;\">需要与用于编译上述 GPU 库的 GPU 编译器协调一致的 GPU 驱动程序。</span></section></li></ul><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">由于开源机器学习软件堆栈的高度复杂性，在您将代码移至协作者的计算机或集群环境时，会引入多个故障点。在下图中，请注意，即使您控制对训练代码和机器学习框架的更改，也可能无法顾及到较低级别的更改，从而导致实验失败。</span></p><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">最终，白白浪费了您的宝贵时间。</span></p><p><br></p><figure data-size=\"normal\"><img data-ratio=\"0.6306666666666667\" data-type=\"jpeg\" data-w=\"750\" style=\"display: block; margin-right: auto; margin-left: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running fxRichTextFadeIn; max-width: 600px\" width=\"750\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWPl7u0H1tnicawy7mVicm2nE9Cib9WrsxvPaB3eg9J6LsJKSp92iaCfM7ibw/640?wx_fmt=jpeg\"></figure><p><br></p><p><strong><span style=\"font-size: 15px;\">为什么不使用虚拟 Python 环境？</span></strong><span style=\"font-size: 15px;\"></span></p><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">您可能会认为，</span><span style=\"font-size: 15px;\">conda</span><span style=\"font-size: 15px;\"> 和 </span><span style=\"font-size: 15px;\">virtualenv</span><span style=\"font-size: 15px;\"> 之类的虚拟环境方法可以解决这些问题。没错，但是它们只能解决部分问题。有些非 Python 依赖项不由这些解决方案管理。由于典型机器学习堆栈十分复杂，因此很大一部分框架依赖项（例如硬件库）都在虚拟环境范围之外。</span></p><p><span style=\"font-size: 15px;\"><br></span></p><h2><strong><span style=\"font-size: 17px;\">使用容器进行机器学习开发</span></strong></h2><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">机器学习软件是具有多个项目和参与者的零散生态系统的一部分。这可能是件好事，因为每个人都可以从自己的参与中获益，并且开发人员始终拥有充分的选择。不利方面是要应对一些问题，例如一致性、可移植性和依赖项管理。这就是容器技术的用武之地。在本文中，我不想讨论容器的常规优势，而想讲讲讲机器学习如何从容器中获益。</span></p><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">容器不仅可以完全封装您的训练代码，还能封装整个依赖项堆栈甚至硬件库。您会得到一个一致且可移植的机器学习开发环境。通过容器，在集群上开展协作和进行扩展都会变得更加简单。如果您在容器环境中开发代码和运行训练，不仅可以方便地共享您的训练脚本，还能共享您的整个开发环境，只需将您的容器映像推送到容器注册表中，并让协作者或集群管理服务提取容器映像并运行，即可重现您的结果。</span></p><p><br></p><figure data-size=\"normal\"><img data-ratio=\"0.5653333333333334\" data-type=\"jpeg\" data-w=\"750\" style=\"display: block; margin-right: auto; margin-left: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running fxRichTextFadeIn; max-width: 600px\" width=\"750\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWYB0hBibAjdiakWEicyj9U0e7H6tOIhl1HibBGdS7OkiaSZ5LG8Kw2BobSPA/640?wx_fmt=jpeg\"></figure><p><br></p><h2><br></h2><h2><strong><span style=\"font-size: 17px;\">应将/不应将哪些内容包含在您的机器学习开发容器中</span></strong></h2><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">这个问题没有正确答案，您的团队如何运营由您来决定，但是关于可以包含哪些内容，有以下几个方案：</span></p><p><span style=\"font-size: 15px;\"><br></span></p><ol class=\"list-paddingleft-2\"><li style=\"font-size: 15px;\"><p><span style=\"font-size: 15px;\">只包含机器学习框架和依赖项：这是最简洁的方法。每位协作者都可以获得相同执行环境的相同副本。他们可以在运行时将自己的训练脚本克隆到容器中，也可以挂载包含训练代码的卷。</span></p></li><li style=\"font-size: 15px;\"><section style=\"margin-top: 10px;\"><span style=\"font-size: 15px;\">机器学习框架、依赖项和训练代码：当扩展集群上的工作负载时，首选此方法。您可以获得一个可在集群上扩展的可执行的机器学习软件单元。根据您对训练代码的组织方式，您可以允许脚本执行多种训练变体，以运行超参数搜索实验。</span></section></li></ol><p><br></p><p><span style=\"font-size: 15px;\">共享您的开发容器也非常轻松。您可以按以下方式进行共享：</span></p><p><span style=\"font-size: 15px;\"><br></span></p><ol class=\"list-paddingleft-2\"><li style=\"font-size: 15px;\"><p><span style=\"font-size: 15px;\">容器映像：这是最简单的方法。这种方法允许每位协作者或集群管理服务（例如 Kubernetes）提取容器映像，对映像进行实例化，然后直接执行训练。</span></p></li><li><section style=\"margin-top: 10px;\"><span style=\"font-size: 15px;\">Dockerfile：这是一种轻量型方法。</span><span style=\"font-size: 15px;\">Dockerfile</span><span style=\"font-size: 15px;\"> 中包含关于创建容器映像时需要下载、构建和编译哪些依赖项的说明。可以在您编写训练代码时对 Dockerfile 进行版本控制。您可以使用持续集成服务（例如 </span><span style=\"font-size: 15px;\">AWS CodeBuild</span><span style=\"font-size: 15px;\">），自动完成从 Dockerfile 创建容器映像的过程。</span></section></li></ol><p><br></p><p><span style=\"font-size: 15px;\">Docker 中心提供了广泛使用的开源机器学习框架或库的容器映像，这些映像通常由框架维护人员提供。您可以在他们的存储库中找到 </span><span style=\"font-size: 15px;\">TensorFlow</span><span style=\"font-size: 15px;\">、</span><span style=\"font-size: 15px;\">PyTorch</span><span style=\"font-size: 15px;\"> 和 </span><span style=\"font-size: 15px;\">MXNet</span><span style=\"font-size: 15px;\"> 等。在决定从哪里下载以及下载哪种类型的容器映像时，要十分谨慎。</span></p><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">大部分上游存储库都会将其容器构建为在任何位置均可使用，这意味着这些容器需要与大部分 CPU 和 GPU 架构兼容。如果您确切知晓将在怎样的系统上运行容器，最好选择已经针对您的系统配置进行优化的合格容器映像。</span></p><p><span style=\"font-size: 15px;\"><br></span></p><h2><strong><span style=\"font-size: 17px;\">使用 Jupyter 和 Docker 容器设置您的机器学习开发环境</span></strong></h2><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">AWS 使用常用的开源深度学习框架来托管可用于计算优化型 CPU 和 GPU 实例的 </span><span style=\"font-size: 15px;\">AWS Deep Learning Containers</span><span style=\"font-size: 15px;\">。接下来，我将说明如何使用容器通过几个步骤设置开发环境。在此示例中，我假设您使用的是 Amazon EC2 实例。</span></p><p><span style=\"font-size: 15px;\"><br></span></p><figure data-size=\"normal\"><img data-ratio=\"0.19466666666666665\" data-type=\"jpeg\" data-w=\"750\" style=\"display: block; margin-right: auto; margin-left: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running fxRichTextFadeIn; max-width: 600px\" width=\"750\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWn2d3lM4dR2J97p9DqzzYnGFPNuSaH4by3ibIu1uTOKvbv3FdhWTRQibg/640?wx_fmt=jpeg\"></figure><p><br></p><p><strong><span style=\"font-size: 15px;\">第 1 步：启动您的开发实例。</span></strong></p><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">C5、P3 或 G4 系列实例都适合用于机器学习工作负载。后两者每个实例最多可提供多达八个 NVIDIA GPU。有关如何启动实例的简要指南，请阅读 </span><span style=\"font-size: 15px;\">Amazon EC2 入门文档（https://amazonaws-china.com/cn/ec2/getting-started/）</span><span style=\"font-size: 15px;\">。</span></p><p><br></p><p><span style=\"font-size: 15px;\">选择 Amazon 系统映像 (AMI) 时，请选择最新的 Deep Learning AMI，该 AMI 中包含所有最新的深度学习框架、Docker 运行时以及 NVIDIA 驱动程序和库。尽管使用安装在 AMI 本地的深度学习框架看似方便，但使用深度学习容器会让您距离可移植性更强的环境更近一步。</span></p><p><span style=\"font-size: 15px;\"><br></span></p><h3><strong><span style=\"font-size: 15px;\">第 2 步：通过 SSH 连接到实例并下载深度学习容器。</span></strong><span style=\"font-size: 15px;\"></span></h3><p><br></p><figure data-size=\"normal\"><img data-ratio=\"0.39861111111111114\" data-type=\"jpeg\" data-w=\"1440\" style=\"display: block; margin-right: auto; margin-left: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running fxRichTextFadeIn; max-width: 600px\" width=\"1853\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPW0qKPBZgru7yQqBqUJ4gXP5HFLHa7Jz7BB5ianG51mSo0EN2JA2PYPFQ/640?wx_fmt=jpeg\"></figure><p><br></p><h3><strong><span style=\"font-size: 15px;\">第 3 步：实例化容器并设置 Jupyter。</span></strong><span style=\"font-size: 15px;\"></span></h3><p><br></p><figure data-size=\"normal\"><img data-ratio=\"0.4791666666666667\" data-type=\"jpeg\" data-w=\"1440\" style=\"display: block; margin-right: auto; margin-left: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running fxRichTextFadeIn; max-width: 600px\" width=\"1535\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWsSH6Tzud2YBg64NbgjDNzNPvgicdPJ3BMFX1qExdy8uHQAJE4J3OK7g/640?wx_fmt=jpeg\"></figure><figure data-size=\"normal\"><img data-ratio=\"0.648\" data-type=\"jpeg\" data-w=\"750\" style=\"display: block; margin-right: auto; margin-left: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running fxRichTextFadeIn; max-width: 600px\" width=\"750\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWkxQhlia8hPp212IrEQ7nNMmemHCzlwnVLa7XRbnUmrn3sYJhnckB9vQ/640?wx_fmt=jpeg\"></figure><p><br></p><h3><strong><span style=\"font-size: 15px;\">第 4 步：使用基于容器的开发环境。</span></strong><span style=\"font-size: 15px;\"></span></h3><p><strong><span style=\"font-size: 15px;\"><br></span></strong></p><p><span style=\"font-size: 15px;\">容器原本是无状态的执行环境，因此请将您的工作保存在调用 docker run 时使用 -v 标志指定的挂载目录中。要退出容器，请停止 Jupyter 服务器并在终端上键入 exit。要重新启动已停止的容器，请运行：</span></p><p><span style=\"font-size: 15px;\"><br></span></p><section class=\"code-snippet__fix code-snippet__js\"><ul class=\"code-snippet__line-index code-snippet__js\"><li></ul><pre class=\"code-snippet__js\" data-lang=\"nginx\"><code><span class=\"code-snippet_outer\"><span class=\"code-snippet__attribute\">docker</span> start tf-dev</span></code></pre></section><p><br></p><p><span style=\"font-size: 15px;\">按照第 3 步中的说明设置隧道，即可继续进行开发。</span></p><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">现在，假设您要对基本容器进行更改，例如，按照第 3 步所示，将 Jupyter 安装到容器中。最简单的方法是跟踪所有自定义安装并在 Dockerfile 中进行捕获。这使您可以重新创建容器映像，并从头进行更改。这还可用于记录更改，并且可与剩余代码一起进行版本控制。</span></p><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">在对开发过程造成最小干扰的情况下执行此操作的更快方法是，通过运行以下命令将这些更改提交到新的容器映像中：</span></p><p><span style=\"font-size: 15px;\"><br></span></p><section class=\"code-snippet__fix code-snippet__js\"><ul class=\"code-snippet__line-index code-snippet__js\"><li></ul><pre class=\"code-snippet__js\" data-lang=\"css\"><code><span class=\"code-snippet_outer\"><span class=\"code-snippet__selector-tag\">sudo</span> <span class=\"code-snippet__selector-tag\">docker</span> <span class=\"code-snippet__selector-tag\">commit</span> <span class=\"code-snippet__selector-tag\">tf-dev</span> <span class=\"code-snippet__selector-tag\">my-tf-dev</span><span class=\"code-snippet__selector-pseudo\">:latest</span></span></code></pre></section><p><span style=\"font-size: 15px;\"></span><br></p><p><span style=\"font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, \" helvetica neue sc sans gb yahei ui arial sans-serif>注意：</span><span style=\"font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, \" helvetica neue sc sans gb yahei ui arial sans-serif>容器纯粹主义者会认为这不是保存更改的建议方法，应将这些更改记录在 Dockerfile 中。</span><span style=\"font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, \" helvetica neue sc sans gb yahei ui arial sans-serif>这是一个很好的建议，也是通过编写 Dockerfile 跟踪您的自定义设置的好做法。</span><span style=\"font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, \" helvetica neue sc sans gb yahei ui arial sans-serif>如果您不这样做，则会面临以下风险：</span><span style=\"font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, \" helvetica neue sc sans gb yahei ui arial sans-serif>随着时间流逝，您将失去对更改的跟踪，并将依赖于一个“工作”映像，就像依赖于无法访问源代码的已编译二进制文件一样。</span><br></p><p><span style=\"font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, \" helvetica neue sc sans gb yahei ui arial sans-serif><br></span></p><p><span style=\"font-size: 15px;\">如果您想与协作者共享新容器，请将其推送到容器注册表，例如 Docker Hub 或 </span><span style=\"font-size: 15px;\">Amazon Elastic Container Registry (Amazon ECR)</span><span style=\"font-size: 15px;\">。要将其推送到 Amazon ECR，请先创建一个注册表，登录，然后推送您的容器：</span></p><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\"></span></p><section class=\"code-snippet__fix code-snippet__js\"><ul class=\"code-snippet__line-index code-snippet__js\"><li><li><li><li></ul><pre class=\"code-snippet__js\" data-lang=\"perl\"><code><span class=\"code-snippet_outer\">aws ecr create-repository --repository-name <span class=\"code-snippet__keyword\">my</span>-tf-dev</span></code><code><span class=\"code-snippet_outer\">$(aws ecr get-login --<span class=\"code-snippet__keyword\">no</span>-include-email --region <region>)</region></span></code><code><span class=\"code-snippet_outer\">docker tag <span class=\"code-snippet__keyword\">my</span>-tf-dev:latest <account_id>.dkr.ecr.<region>.amazonaws.com/<span class=\"code-snippet__keyword\">my</span>-tf-dev:latest</region></account_id></span></code><code><span class=\"code-snippet_outer\">docker <span class=\"code-snippet__keyword\">push</span> <account_id>.dkr.ecr.<region>.amazonaws.com/<span class=\"code-snippet__keyword\">my</span>-tf-dev:latest</region></account_id></span></code></pre></section><p><br></p><p><span style=\"font-size: 15px;\">现在，您可以与协作者共享此容器映像，并且您的代码应该能像在计算机上一样工作。这种方法的额外好处是您现在可以使用同一容器在集群上运行大规模工作负载。我们来了解一下如何做到这一点。</span></p><p><span style=\"font-size: 15px;\"><br></span></p><h2><strong><span style=\"font-size: 17px;\">机器学习训练容器并在集群上扩展它们</span></strong></h2><p><br></p><figure data-size=\"normal\"><img data-ratio=\"0.368\" data-type=\"jpeg\" data-w=\"750\" style=\"display: block; margin-right: auto; margin-left: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running fxRichTextFadeIn; max-width: 600px\" width=\"750\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWy3wESNtF0afJSQqnRzdVZgmPEFPruco4EsobkelYlK0LcxxFczUCLg/640?wx_fmt=jpeg\"></figure><p><br></p><p><span style=\"font-size: 15px;\">大多数集群管理解决方案（例如 Kubernetes 或 Amazon ECS）都会在集群上调度和运行容器。另外，您也可以使用完全托管的服务，例如 </span><span style=\"font-size: 15px;\">Amazon SageMaker</span><span style=\"font-size: 15px;\">，在其中您可以根据需要配置实例，并在作业完成时自动将其销毁。此外，该服务还提供用于数据标签的完全托管的服务套件、托管的 Jupyter 笔记本开发环境、托管的训练集群、超参数优化、托管模型托管服务以及将所有这些结合在一起的 IDE。</span></p><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">要利用这些解决方案并在集群上运行机器学习训练，您必须构建一个容器并将其推送到注册表。</span></p><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">如果您如上所述采用基于容器的机器学习开发，那么您尽可放心，您开发时所用的容器环境将按计划在集群上大规模运行，而不会出现框架版本问题和依赖项问题。</span></p><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">要在 2 个节点上使用 Kubernetes 和 KubeFlow 运行分布式训练作业，您需要在 YAML 中编写一个如下所示的配置文件：</span></p><p><br></p><figure data-size=\"normal\"><img data-ratio=\"0.6746666666666666\" data-type=\"jpeg\" data-w=\"750\" style=\"display: block; margin-right: auto; margin-left: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running fxRichTextFadeIn; max-width: 600px\" width=\"750\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWvWkI4SzsCulz0NsU3gOT4icYQnCrIkN6d3DoW9Q4CZgt5FqR5rygDVg/640?wx_fmt=jpeg\"></figure><p><br></p><p><span style=\"font-size: 15px;\">使用 TensorFlow 和 Horovod API 进行分布式训练的 Kubernetes 配置文件的摘录，可</span><span style=\"font-size: 15px;\">在 Github 上</span><span style=\"font-size: 15px;\">找到。请注意，屏幕截图未显示完整文件。</span></p><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">在映像部分下，您将使用训练脚本指定 docker 图像。在命令下，您将指定训练所需的命令。由于这是一项分布式训练作业，因此您将使用 mpirun 命令运行 MPI 作业。</span></p><p><span style=\"font-size: 15px;\">您可以按以下步骤将此作业提交到 Kubernetes 集群（假设集群已设置并正在运行，并且您已安装 KubeFlow）：</span></p><p><br></p><figure data-size=\"normal\"><img data-ratio=\"0.41427571728481455\" data-type=\"png\" data-w=\"1429\" style=\"display: block; margin-right: auto; margin-left: auto; cursor: zoom-in; background-color: transparent; animation: 0.5s ease-in 0s 1 normal none running fxRichTextFadeIn; max-width: 600px\" width=\"1429\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPW0bWmFZibfBGX8I8XkXGw3aTh8UyTF3615n8yrVTbtPU11ydQSN04GDw/640?wx_fmt=png\"></figure><p><br></p><p><strong><span style=\"font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, \" helvetica neue sc sans gb yahei ui arial sans-serif>多疑善思，但不要惊慌失措</span></strong><br></p><p><span style=\"font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, \" helvetica neue sc sans gb yahei ui arial sans-serif><br></span></p><p><span style=\"font-size: 15px;\">机器学习社区发展迅猛。新的研究成果在发布后的数周或数月之内就会在开源框架中的 API 中实施。由于软件迅速演进，及时更新并保持产品的质量、一致性和可靠性颇具挑战。因此，请保持多疑善思，但不要惊慌失措，因为您不是单人作战，并且社区中有许多最佳实践可用来确保您从最新信息中受益。</span></p><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"font-size: 15px;\">转向容器化机器学习开发是应对这些挑战的一种途径，希望在本文中我已经解释清楚了这一点。</span></p><p><span style=\"font-size: 15px;\"><br></span></p><p><span style=\"color: rgb(0, 0, 0);\"><strong><span style=\"font-size: 15px;\">现在，创建AWS账户即可体验</span></strong></span><span style=\"color: rgb(255, 41, 65);\"><strong><span style=\"font-size: 15px;\">免费产品服务</span></strong></span><span style=\"color: rgb(0, 0, 0);\"><strong><span style=\"color: rgb(0, 0, 0);font-size: 15px;\">，包括以下内容：</span></strong></span></p><p><span style=\"font-size: 15px;color: rgb(0, 128, 255);\"><br></span></p><p style=\"text-align: center;\"><img class=\"rich_pages js_insertlocalimg\" data-ratio=\"0.70625\" data-s=\"300,640\" data-type=\"png\" data-w=\"1280\" style=\"max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWPsn7o06FziaSydhJR5VhyShFdN1sxULkL07NUQ6qFh52bNC9e7a6fdA/640?wx_fmt=png\"></p><p><span style=\"font-size: 15px;color: rgb(0, 128, 255);\"></span><br></p><p><span style=\"font-size: 15px;\">点击</span><span style=\"font-size: 15px;color: rgb(0, 128, 255);\">阅读原文</span><span style=\"font-size: 15px;\">，即可创建AWS免费账户，体验以上服务。</span></p>\n                </div>\n\n    \n        <br>\n        <div id=\"js_toobar3\" class=\"rich_media_tool\">\n            <a target=\"_blank\" href=\"https://dwz.cn/RYonOFcm\" id=\"js_view_source\" class=\"media_tool_meta meta_primary\">阅读原文</a>\n        </div>\n    \n    <br>\n\n    \n        <a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MzA3MzI4MjgzMw==&amp;mid=2650802123&amp;idx=5&amp;sn=15db6644a010c2a9f495c484ad92bfd8&amp;chksm=84e5c3b5b3924aa3581d449e76576b34a3198f0105a7a7171e3ccc63e4d177558f9bd6ad3a98&amp;scene=0#rd\" style=\"color: blue\" class=\"media_tool_meta meta_primary\">原文</a>\n        <br>\n    \n\n    \n\n    <img alt=\"\" width=\"1px\" height=\"1px\" class=\"\" style=\"width:1px;height:1px;display:none\" src=\"http://www.jintiankansha.me/rss_static/5409/DP9I9qYIOG\"></div></div>","descriptionType":"html","publishedDate":"Wed, 11 Nov 2020 04:41:00 +0000","feedId":1837,"bgimg":"http://img.100weidu.com/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWL4pKJXiaTLPD63QB8nV6nNh5gZdibo59ibqibhZ0KTF2Y4VaTMbxLF4e0w?imageView2/1/w/600","linkMd5":"3b67bc2020ac93a317a2aba046219440","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn81@2020_6/2020/11/12/04-55-53-102_b0868e5c9541d793.webp","destWidth":600,"destHeight":408,"sourceBytes":36812,"destBytes":29880,"author":"","articleImgCdnMap":{"http://img.100weidu.com/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWL4pKJXiaTLPD63QB8nV6nNh5gZdibo59ibqibhZ0KTF2Y4VaTMbxLF4e0w?imageView2/1/w/600":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn81@2020_6/2020/11/12/04-55-53-102_b0868e5c9541d793.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWHfJic42907YdicuB6WDLTyj4k2OxjjiaWY1dX8WTwBljMLa9g3npFcPIA/640?wx_fmt=jpeg":null,"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPW5VRh1oGNrOSx9LhibXZwlWdRTGqVqWJWiaeJrf9z8SmAXgmLiaibTM5VxA/640?wx_fmt=jpeg":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn17@2020_5/2020/11/12/04-55-54-775_94b3d1e3b7cc32aa.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWoDHCW97JHAw2dONXpkUEicI0TobI1umAw7VAofXDJa8ZO0F6ibxeyAdg/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn9@2020_4/2020/11/12/04-55-54-978_0de24e61389cf7ee.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWPl7u0H1tnicawy7mVicm2nE9Cib9WrsxvPaB3eg9J6LsJKSp92iaCfM7ibw/640?wx_fmt=jpeg":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn4@2020_4/2020/11/12/04-55-55-861_39e1a9eff63f98f7.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWYB0hBibAjdiakWEicyj9U0e7H6tOIhl1HibBGdS7OkiaSZ5LG8Kw2BobSPA/640?wx_fmt=jpeg":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn33@2020_4/2020/11/12/04-55-55-266_b2be4b7e97698791.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWn2d3lM4dR2J97p9DqzzYnGFPNuSaH4by3ibIu1uTOKvbv3FdhWTRQibg/640?wx_fmt=jpeg":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn20@2020_5/2020/11/12/04-55-54-776_b6d4b4238c43bdc2.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPW0qKPBZgru7yQqBqUJ4gXP5HFLHa7Jz7BB5ianG51mSo0EN2JA2PYPFQ/640?wx_fmt=jpeg":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn30@2020_1/2020/11/12/04-55-56-918_67b3fcfcc506541c.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWsSH6Tzud2YBg64NbgjDNzNPvgicdPJ3BMFX1qExdy8uHQAJE4J3OK7g/640?wx_fmt=jpeg":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn25@2020_4/2020/11/12/04-55-54-965_0ddeee8db2292e74.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWkxQhlia8hPp212IrEQ7nNMmemHCzlwnVLa7XRbnUmrn3sYJhnckB9vQ/640?wx_fmt=jpeg":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn89@2020_4/2020/11/12/04-55-55-107_be77597048333f6e.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWy3wESNtF0afJSQqnRzdVZgmPEFPruco4EsobkelYlK0LcxxFczUCLg/640?wx_fmt=jpeg":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn96@2020_6/2020/11/12/04-55-54-716_3e72bdf7a0e8cc32.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWvWkI4SzsCulz0NsU3gOT4icYQnCrIkN6d3DoW9Q4CZgt5FqR5rygDVg/640?wx_fmt=jpeg":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn86@2020_1/2020/11/12/04-55-58-543_15f6f3e13121af42.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPW0bWmFZibfBGX8I8XkXGw3aTh8UyTF3615n8yrVTbtPU11ydQSN04GDw/640?wx_fmt=png":null,"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWPsn7o06FziaSydhJR5VhyShFdN1sxULkL07NUQ6qFh52bNC9e7a6fdA/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn37@2020_3/2020/11/12/04-56-00-881_8ab11442d940e08a.webp","http://www.jintiankansha.me/rss_static/5409/DP9I9qYIOG":null},"publishedOrCreatedDate":1605156949424}],"record":{"createdTime":"2020-11-12 12:55:49","updatedTime":"2020-11-12 12:55:49","feedId":1837,"fetchDate":"Thu, 12 Nov 2020 04:55:49 +0000","fetchMs":448,"handleMs":58,"totalMs":28339,"newArticles":0,"totalArticles":5,"status":1,"type":0,"ip":"135b586132fb35cbb1669fe09384b6b7","hostName":"us-001*","requestId":"b5f1fa285b7d4011b7f6bcef1a7f6a15_1837","contentType":"application/rss+xml","totalBytes":318264,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":15,"articlesImgsGithubTotal":12,"successGithubMap":{"myreaderx6":1,"myreaderx16":1,"myreaderx32":1,"myreaderx10":1,"myreaderx11":1,"myreaderx22":1,"myreaderx12":1,"myreaderx2":1,"myreaderx13":1,"myreaderx30":1,"myreaderx5oss":1,"myreaderx31":1},"failGithubMap":{"myreaderx14":1,"myreaderx23":1}},"feed":{"createdTime":"2020-08-24 21:31:33","updatedTime":"2020-09-01 09:54:29","id":1837,"name":"机器之心","url":"http://feedmaker.kindle4rss.com/feeds/almosthuman2014.weixin.xml","subscriber":null,"website":null,"icon":"http://www.sogou.com/images/logo/new/favicon.ico?v=4","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx65/cdn87@2020_3/2020/09/01/01-54-30-263_d24121c9beed1de6.ico","description":"专业的人工智能媒体和产业服务平台","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2020-11-12 12:56:17","updatedTime":"2020-11-12 12:56:17","id":null,"feedId":1837,"linkMd5":"3b67bc2020ac93a317a2aba046219440"}],"tmpCommonImgCdnBytes":29880,"tmpBodyImgCdnBytes":288384,"tmpBgImgCdnBytes":0,"extra4":{"start":1605156948747,"total":0,"statList":[{"spend":628,"msg":"获取xml内容"},{"spend":58,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":23075,"msg":"正文链接上传到cdn"}]},"extra5":15,"extra6":15,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"http://www.jintiankansha.me/rss_static/5409/DP9I9qYIOG","sourceStatusCode":405,"sourceBytes":0,"destBytes":0,"feedId":1837,"totalSpendMs":431,"convertSpendMs":0,"createdTime":"2020-11-12 12:55:54","host":"us-005*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E6%9C%BA%E5%99%A8%E4%B9%8B%E5%BF%83+%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%9A%84%E7%81%B5%E8%8D%AF%E2%80%94Docker%E5%AE%B9%E5%99%A8","linkMd5ListStr":"3b67bc2020ac93a317a2aba046219440","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[405],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"http://www.jintiankansha.me/rss_static/5409/DP9I9qYIOG","sourceStatusCode":405,"sourceBytes":0,"destBytes":0,"feedId":1837,"totalSpendMs":433,"convertSpendMs":0,"createdTime":"2020-11-12 12:55:54","host":"us-51*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E6%9C%BA%E5%99%A8%E4%B9%8B%E5%BF%83+%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%9A%84%E7%81%B5%E8%8D%AF%E2%80%94Docker%E5%AE%B9%E5%99%A8","linkMd5ListStr":"3b67bc2020ac93a317a2aba046219440","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[405],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWHfJic42907YdicuB6WDLTyj4k2OxjjiaWY1dX8WTwBljMLa9g3npFcPIA/640?wx_fmt=jpeg","sourceStatusCode":200,"destWidth":750,"destHeight":344,"sourceBytes":28852,"destBytes":19954,"targetWebpQuality":75,"feedId":1837,"totalSpendMs":1276,"convertSpendMs":20,"createdTime":"2020-11-12 12:55:54","host":"us-029*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E6%9C%BA%E5%99%A8%E4%B9%8B%E5%BF%83+%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%9A%84%E7%81%B5%E8%8D%AF%E2%80%94Docker%E5%AE%B9%E5%99%A8","linkMd5ListStr":"3b67bc2020ac93a317a2aba046219440","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx23/cdn94/contents/2020/11/12/04-55-55-185_4005b2770a9c5df0.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 69189253.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Thu, 12 Nov 2020 04:55:55 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["DE46:6698:97FB76:153CDF3:5FACC05B"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1605160176"],"x-ratelimit-used":["66"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx23/cdn94/contents/2020/11/12/04-55-55-185_4005b2770a9c5df0.webp","historyStatusCode":[],"spendMs":119},"base64UserPassword":null,"token":"df0b9******************************93a6e"},"githubUser":"myreaderx23","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"69.2%","sourceSize":"28.2 KB","destSize":"19.5 KB"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWPsn7o06FziaSydhJR5VhyShFdN1sxULkL07NUQ6qFh52bNC9e7a6fdA/640?wx_fmt=png","sourceStatusCode":403,"sourceBytes":0,"destBytes":0,"feedId":1837,"totalSpendMs":1309,"convertSpendMs":0,"createdTime":"2020-11-12 12:55:54","host":"us-038*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E6%9C%BA%E5%99%A8%E4%B9%8B%E5%BF%83+%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%9A%84%E7%81%B5%E8%8D%AF%E2%80%94Docker%E5%AE%B9%E5%99%A8","linkMd5ListStr":"3b67bc2020ac93a317a2aba046219440","extra22GetBytesInfo":"2、Referer字段 ： http://weixin.sogou.com/weixin?type=2&query=%E6%9C%BA%E5%99%A8%E4%B9%8B%E5%BF%83+%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%9A%84%E7%81%B5%E8%8D%AF%E2%80%94Docker%E5%AE%B9%E5%99%A8","extra23historyStatusCode":[403,403],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWHfJic42907YdicuB6WDLTyj4k2OxjjiaWY1dX8WTwBljMLa9g3npFcPIA/640?wx_fmt=jpeg","sourceStatusCode":200,"destWidth":750,"destHeight":344,"sourceBytes":28852,"destBytes":19954,"targetWebpQuality":75,"feedId":1837,"totalSpendMs":1794,"convertSpendMs":15,"createdTime":"2020-11-12 12:55:55","host":"us-029*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E6%9C%BA%E5%99%A8%E4%B9%8B%E5%BF%83+%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%9A%84%E7%81%B5%E8%8D%AF%E2%80%94Docker%E5%AE%B9%E5%99%A8","linkMd5ListStr":"3b67bc2020ac93a317a2aba046219440","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx23/cdn94/contents/2020/11/12/04-55-57-062_4005b2770a9c5df0.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 69189253.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Thu, 12 Nov 2020 04:55:57 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["DE46:6698:97FBF6:153CDF9:5FACC05B"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1605160176"],"x-ratelimit-used":["66"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx23/cdn94/contents/2020/11/12/04-55-57-062_4005b2770a9c5df0.webp","historyStatusCode":[],"spendMs":48},"base64UserPassword":null,"token":"df0b9******************************93a6e"},"githubUser":"myreaderx23","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"69.2%","sourceSize":"28.2 KB","destSize":"19.5 KB"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPW0bWmFZibfBGX8I8XkXGw3aTh8UyTF3615n8yrVTbtPU11ydQSN04GDw/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":447,"sourceBytes":93250,"destBytes":26916,"targetWebpQuality":75,"feedId":1837,"totalSpendMs":21533,"convertSpendMs":23,"createdTime":"2020-11-12 12:55:54","host":"europe-56*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E6%9C%BA%E5%99%A8%E4%B9%8B%E5%BF%83+%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%9A%84%E7%81%B5%E8%8D%AF%E2%80%94Docker%E5%AE%B9%E5%99%A8","linkMd5ListStr":"3b67bc2020ac93a317a2aba046219440","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn13/contents/2020/11/12/04-56-15-423_115a3d10197e5a08.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Thu, 12 Nov 2020 04:56:15 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["E3F8:13568:E1FA85:FF1D70:5FACC069"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1605160176"],"x-ratelimit-used":["64"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn13/contents/2020/11/12/04-56-15-423_115a3d10197e5a08.webp","historyStatusCode":[],"spendMs":241},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"28.9%","sourceSize":"91.1 KB","destSize":"26.3 KB"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPW0bWmFZibfBGX8I8XkXGw3aTh8UyTF3615n8yrVTbtPU11ydQSN04GDw/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":447,"sourceBytes":93250,"destBytes":26916,"targetWebpQuality":75,"feedId":1837,"totalSpendMs":1231,"convertSpendMs":24,"createdTime":"2020-11-12 12:56:15","host":"europe64*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E6%9C%BA%E5%99%A8%E4%B9%8B%E5%BF%83+%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%9A%84%E7%81%B5%E8%8D%AF%E2%80%94Docker%E5%AE%B9%E5%99%A8","linkMd5ListStr":"3b67bc2020ac93a317a2aba046219440","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn13/contents/2020/11/12/04-56-16-798_115a3d10197e5a08.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Thu, 12 Nov 2020 04:56:17 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["C53C:D570:3F93C9B:47BC42F:5FACC05D"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1605160176"],"x-ratelimit-used":["64"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn13/contents/2020/11/12/04-56-16-798_115a3d10197e5a08.webp","historyStatusCode":[],"spendMs":247},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"28.9%","sourceSize":"91.1 KB","destSize":"26.3 KB"}],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://europe-56.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe68.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-021.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-002.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-005.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[405]},"http://us-022.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-030.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-60.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-038.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[403]},"http://us-006.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe69.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe64.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-010.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-51.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[405]},"http://europe-22.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-029.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"http://img.100weidu.com/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWL4pKJXiaTLPD63QB8nV6nNh5gZdibo59ibqibhZ0KTF2Y4VaTMbxLF4e0w?imageView2/1/w/600","sourceStatusCode":200,"destWidth":600,"destHeight":408,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn81@2020_6/2020/11/12/04-55-53-102_b0868e5c9541d793.webp","sourceBytes":36812,"destBytes":29880,"targetWebpQuality":75,"feedId":1837,"totalSpendMs":4534,"convertSpendMs":14,"createdTime":"2020-11-12 12:55:49","host":"us-014*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E6%9C%BA%E5%99%A8%E4%B9%8B%E5%BF%83+%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%9A%84%E7%81%B5%E8%8D%AF%E2%80%94Docker%E5%AE%B9%E5%99%A8","linkMd5ListStr":"3b67bc2020ac93a317a2aba046219440,3b67bc2020ac93a317a2aba046219440","githubUser":"myreaderx12","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"81.2%","sourceSize":"35.9 KB","destSize":"29.2 KB"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWn2d3lM4dR2J97p9DqzzYnGFPNuSaH4by3ibIu1uTOKvbv3FdhWTRQibg/640?wx_fmt=jpeg","sourceStatusCode":200,"destWidth":750,"destHeight":146,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn20@2020_5/2020/11/12/04-55-54-776_b6d4b4238c43bdc2.webp","sourceBytes":25680,"destBytes":20694,"targetWebpQuality":75,"feedId":1837,"totalSpendMs":1559,"convertSpendMs":8,"createdTime":"2020-11-12 12:55:54","host":"us-022*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E6%9C%BA%E5%99%A8%E4%B9%8B%E5%BF%83+%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%9A%84%E7%81%B5%E8%8D%AF%E2%80%94Docker%E5%AE%B9%E5%99%A8","linkMd5ListStr":"3b67bc2020ac93a317a2aba046219440","githubUser":"myreaderx30","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"80.6%","sourceSize":"25.1 KB","destSize":"20.2 KB"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWy3wESNtF0afJSQqnRzdVZgmPEFPruco4EsobkelYlK0LcxxFczUCLg/640?wx_fmt=jpeg","sourceStatusCode":200,"destWidth":750,"destHeight":276,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn96@2020_6/2020/11/12/04-55-54-716_3e72bdf7a0e8cc32.webp","sourceBytes":30710,"destBytes":22630,"targetWebpQuality":75,"feedId":1837,"totalSpendMs":1620,"convertSpendMs":21,"createdTime":"2020-11-12 12:55:54","host":"us-030*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E6%9C%BA%E5%99%A8%E4%B9%8B%E5%BF%83+%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%9A%84%E7%81%B5%E8%8D%AF%E2%80%94Docker%E5%AE%B9%E5%99%A8","linkMd5ListStr":"3b67bc2020ac93a317a2aba046219440","githubUser":"myreaderx16","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"73.7%","sourceSize":"30 KB","destSize":"22.1 KB"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPW5VRh1oGNrOSx9LhibXZwlWdRTGqVqWJWiaeJrf9z8SmAXgmLiaibTM5VxA/640?wx_fmt=jpeg","sourceStatusCode":200,"destWidth":750,"destHeight":483,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn17@2020_5/2020/11/12/04-55-54-775_94b3d1e3b7cc32aa.webp","sourceBytes":26305,"destBytes":17020,"targetWebpQuality":75,"feedId":1837,"totalSpendMs":1633,"convertSpendMs":20,"createdTime":"2020-11-12 12:55:54","host":"us-021*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E6%9C%BA%E5%99%A8%E4%B9%8B%E5%BF%83+%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%9A%84%E7%81%B5%E8%8D%AF%E2%80%94Docker%E5%AE%B9%E5%99%A8","linkMd5ListStr":"3b67bc2020ac93a317a2aba046219440","githubUser":"myreaderx5oss","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"64.7%","sourceSize":"25.7 KB","destSize":"16.6 KB"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWsSH6Tzud2YBg64NbgjDNzNPvgicdPJ3BMFX1qExdy8uHQAJE4J3OK7g/640?wx_fmt=jpeg","sourceStatusCode":200,"destWidth":1080,"destHeight":518,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn25@2020_4/2020/11/12/04-55-54-965_0ddeee8db2292e74.webp","sourceBytes":51603,"destBytes":34282,"targetWebpQuality":75,"feedId":1837,"totalSpendMs":1869,"convertSpendMs":34,"createdTime":"2020-11-12 12:55:54","host":"us-010*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E6%9C%BA%E5%99%A8%E4%B9%8B%E5%BF%83+%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%9A%84%E7%81%B5%E8%8D%AF%E2%80%94Docker%E5%AE%B9%E5%99%A8","linkMd5ListStr":"3b67bc2020ac93a317a2aba046219440","githubUser":"myreaderx6","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"66.4%","sourceSize":"50.4 KB","destSize":"33.5 KB"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWoDHCW97JHAw2dONXpkUEicI0TobI1umAw7VAofXDJa8ZO0F6ibxeyAdg/640?wx_fmt=png","sourceStatusCode":200,"destWidth":150,"destHeight":323,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn9@2020_4/2020/11/12/04-55-54-978_0de24e61389cf7ee.webp","sourceBytes":25368,"destBytes":8480,"targetWebpQuality":75,"feedId":1837,"totalSpendMs":1761,"convertSpendMs":5,"createdTime":"2020-11-12 12:55:54","host":"europe68*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E6%9C%BA%E5%99%A8%E4%B9%8B%E5%BF%83+%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%9A%84%E7%81%B5%E8%8D%AF%E2%80%94Docker%E5%AE%B9%E5%99%A8","linkMd5ListStr":"3b67bc2020ac93a317a2aba046219440","githubUser":"myreaderx13","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"33.4%","sourceSize":"24.8 KB","destSize":"8.3 KB"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWkxQhlia8hPp212IrEQ7nNMmemHCzlwnVLa7XRbnUmrn3sYJhnckB9vQ/640?wx_fmt=jpeg","sourceStatusCode":200,"destWidth":750,"destHeight":486,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn89@2020_4/2020/11/12/04-55-55-107_be77597048333f6e.webp","sourceBytes":59390,"destBytes":40740,"targetWebpQuality":75,"feedId":1837,"totalSpendMs":2130,"convertSpendMs":15,"createdTime":"2020-11-12 12:55:54","host":"europe64*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E6%9C%BA%E5%99%A8%E4%B9%8B%E5%BF%83+%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%9A%84%E7%81%B5%E8%8D%AF%E2%80%94Docker%E5%AE%B9%E5%99%A8","linkMd5ListStr":"3b67bc2020ac93a317a2aba046219440","githubUser":"myreaderx2","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"68.6%","sourceSize":"58 KB","destSize":"39.8 KB"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWYB0hBibAjdiakWEicyj9U0e7H6tOIhl1HibBGdS7OkiaSZ5LG8Kw2BobSPA/640?wx_fmt=jpeg","sourceStatusCode":200,"destWidth":750,"destHeight":424,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn33@2020_4/2020/11/12/04-55-55-266_b2be4b7e97698791.webp","sourceBytes":44789,"destBytes":31078,"targetWebpQuality":75,"feedId":1837,"totalSpendMs":2239,"convertSpendMs":14,"createdTime":"2020-11-12 12:55:54","host":"europe-60*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E6%9C%BA%E5%99%A8%E4%B9%8B%E5%BF%83+%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%9A%84%E7%81%B5%E8%8D%AF%E2%80%94Docker%E5%AE%B9%E5%99%A8","linkMd5ListStr":"3b67bc2020ac93a317a2aba046219440","githubUser":"myreaderx22","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"69.4%","sourceSize":"43.7 KB","destSize":"30.3 KB"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWPl7u0H1tnicawy7mVicm2nE9Cib9WrsxvPaB3eg9J6LsJKSp92iaCfM7ibw/640?wx_fmt=jpeg","sourceStatusCode":200,"destWidth":750,"destHeight":473,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn4@2020_4/2020/11/12/04-55-55-861_39e1a9eff63f98f7.webp","sourceBytes":40661,"destBytes":27154,"targetWebpQuality":75,"feedId":1837,"totalSpendMs":2632,"convertSpendMs":13,"createdTime":"2020-11-12 12:55:54","host":"us-006*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E6%9C%BA%E5%99%A8%E4%B9%8B%E5%BF%83+%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%9A%84%E7%81%B5%E8%8D%AF%E2%80%94Docker%E5%AE%B9%E5%99%A8","linkMd5ListStr":"3b67bc2020ac93a317a2aba046219440","githubUser":"myreaderx10","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"66.8%","sourceSize":"39.7 KB","destSize":"26.5 KB"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPW0qKPBZgru7yQqBqUJ4gXP5HFLHa7Jz7BB5ianG51mSo0EN2JA2PYPFQ/640?wx_fmt=jpeg","sourceStatusCode":200,"destWidth":1080,"destHeight":431,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn30@2020_1/2020/11/12/04-55-56-918_67b3fcfcc506541c.webp","sourceBytes":35056,"destBytes":23936,"targetWebpQuality":75,"feedId":1837,"totalSpendMs":4119,"convertSpendMs":14,"createdTime":"2020-11-12 12:55:54","host":"europe-22*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E6%9C%BA%E5%99%A8%E4%B9%8B%E5%BF%83+%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%9A%84%E7%81%B5%E8%8D%AF%E2%80%94Docker%E5%AE%B9%E5%99%A8","linkMd5ListStr":"3b67bc2020ac93a317a2aba046219440","githubUser":"myreaderx31","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"68.3%","sourceSize":"34.2 KB","destSize":"23.4 KB"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWvWkI4SzsCulz0NsU3gOT4icYQnCrIkN6d3DoW9Q4CZgt5FqR5rygDVg/640?wx_fmt=jpeg","sourceStatusCode":200,"destWidth":750,"destHeight":506,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn86@2020_1/2020/11/12/04-55-58-543_15f6f3e13121af42.webp","sourceBytes":31332,"destBytes":22292,"targetWebpQuality":75,"feedId":1837,"totalSpendMs":5341,"convertSpendMs":14,"createdTime":"2020-11-12 12:55:54","host":"us-002*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E6%9C%BA%E5%99%A8%E4%B9%8B%E5%BF%83+%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%9A%84%E7%81%B5%E8%8D%AF%E2%80%94Docker%E5%AE%B9%E5%99%A8","linkMd5ListStr":"3b67bc2020ac93a317a2aba046219440","githubUser":"myreaderx11","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"71.1%","sourceSize":"30.6 KB","destSize":"21.8 KB"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/KmXPKA19gW9Xic8AOpcgyzKSqLOnFogPWPsn7o06FziaSydhJR5VhyShFdN1sxULkL07NUQ6qFh52bNC9e7a6fdA/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":763,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn37@2020_3/2020/11/12/04-56-00-881_8ab11442d940e08a.webp","sourceBytes":228490,"destBytes":40078,"targetWebpQuality":75,"feedId":1837,"totalSpendMs":6579,"convertSpendMs":36,"createdTime":"2020-11-12 12:55:55","host":"europe69*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E6%9C%BA%E5%99%A8%E4%B9%8B%E5%BF%83+%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E7%9A%84%E7%81%B5%E8%8D%AF%E2%80%94Docker%E5%AE%B9%E5%99%A8","linkMd5ListStr":"3b67bc2020ac93a317a2aba046219440","githubUser":"myreaderx32","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"compressRate":"17.5%","sourceSize":"223.1 KB","destSize":"39.1 KB"}],"successGithubMap":{"myreaderx6":1,"myreaderx16":1,"myreaderx32":1,"myreaderx10":1,"myreaderx11":1,"myreaderx22":1,"myreaderx12":1,"myreaderx2":1,"myreaderx13":1,"myreaderx30":1,"myreaderx5oss":1,"myreaderx31":1},"failGithubMap":{"myreaderx14":1,"myreaderx23":1}}