{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-14 11:37:14","updatedTime":"2020-10-14 11:37:14","title":"C++/CX: データとコントロールの紐付け(そのに)","link":"http://blogs.wankuma.com/episteme/archive/2013/03/31/324021.aspx","description":"<p>ついでに値の列を紐付けるよ。</p><p>増加/減少した履歴を表示してみる。こんなの。</p><p><img src=\"http://www1.c3-net.ne.jp/episteme/images/cppcx_3rd/step1.png\"></p><p>TrialPage.xamlにListBoxを貼り、ItemsSource属性を \"{Binding History}\" とします。<br>TextBlockと同様、\"ナカミは紐付け元のHistoryプロパティからもらうよ\"てことな。<br><br><img src=\"http://www1.c3-net.ne.jp/episteme/images/cppcx_3rd/step2.png\"></p><p>あとは CounterModelにHistoryプロパティを用意すりゃえぇです。<br>プロパティの型は&nbsp; Windows::Foundation::Collections::IVector&lt;&gt; <br>こいつは interface なんで、メンバとしては IVector&lt;&gt;を実装した Vector&lt;&gt; を使うです。<br><img src=\"http://www1.c3-net.ne.jp/episteme/images/cppcx_3rd/step3.png\"></p><p>実装はこんなもんでえぇじゃろ。<br><font face=\"Courier New\">// --- CounterModel.cpp<br>#include \"pch.h\"<br>#include \"CounterModel.h\"</font></p><p><font face=\"Courier New\">using namespace Platform;<br>using namespace Windows::Globalization;<br>using namespace Windows::Foundation;<br>using namespace Windows::Foundation::Collections;</font></p><p><font face=\"Courier New\">namespace App1 {</font></p><p><font face=\"Courier New\">&nbsp; CounterModel::CounterModel() : value_(0) {}<br>&nbsp; int CounterModel::Count::get() { return value_; }<br>&nbsp; void CounterModel::increment() {<br>&nbsp;&nbsp;&nbsp; ++value_; <br>&nbsp;&nbsp;&nbsp; OnPropertyChanged(L\"Count\"); <br>&nbsp;&nbsp;&nbsp; <font color=\"#ff0000\">addLog(L\"ふえた\");</font> <br>&nbsp; }<br>&nbsp; void CounterModel::decrement() { <br>&nbsp;&nbsp;&nbsp; --value_; <br>&nbsp;&nbsp;&nbsp; OnPropertyChanged(L\"Count\"); <br>&nbsp;&nbsp;&nbsp; <font color=\"#ff0000\">addLog(L\"へった\");</font> <br>&nbsp; }<br>&nbsp; <font color=\"#ff0000\">void CounterModel::addLog(String^ op) {<br>&nbsp;&nbsp;&nbsp; DateTimeFormatting::DateTimeFormatter datefmt(L\"shortdate\");<br>&nbsp;&nbsp;&nbsp; DateTimeFormatting::DateTimeFormatter timefmt(L\"shorttime\");<br>&nbsp;&nbsp;&nbsp; Calendar cal;<br>&nbsp;&nbsp;&nbsp; DateTime dt = cal.GetDateTime();<br>&nbsp;&nbsp;&nbsp; history_.Append(datefmt.Format(dt) + L\" \" + timefmt.Format(dt) + L\" \" + op);<br>&nbsp; }<br>&nbsp; IVector&lt;Platform::String^&gt;^ CounterModel::History::get() { return %history_; }</font></font></p><p><font face=\"Courier New\">}</font></p><p>Vector&lt;&gt;は要素が追加/削除されるたびに勝手に\"変更したよー\"て通知を紐付け先に飛ばしてくれます。<br></p><img src =\"http://blogs.wankuma.com/episteme/aggbug/324021.aspx\" width = \"1\" height = \"1\" />","descriptionType":"text/html","publishedDate":"Sun, 31 Mar 2013 21:24:00 +0000","feedId":42717,"bgimg":"http://www1.c3-net.ne.jp/episteme/images/cppcx_3rd/step1.png","linkMd5":"08b7e5dc1d5d6bdd74e34b35cfba56ff","author":"επιστημη","articleImgCdnMap":{"http://www1.c3-net.ne.jp/episteme/images/cppcx_3rd/step1.png":null,"http://www1.c3-net.ne.jp/episteme/images/cppcx_3rd/step2.png":null,"http://www1.c3-net.ne.jp/episteme/images/cppcx_3rd/step3.png":null,"http://blogs.wankuma.com/episteme/aggbug/324021.aspx":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn51@2020_1/2020/10/14/03-39-15-401_49ce30c87bdaf8fe.webp"},"publishedOrCreatedDate":1602646634149}],"record":{"createdTime":"2020-10-14 11:37:14","updatedTime":"2020-10-14 11:37:14","feedId":42717,"fetchDate":"Wed, 14 Oct 2020 03:37:14 +0000","fetchMs":942,"handleMs":8,"totalMs":243482,"newArticles":0,"totalArticles":15,"status":1,"type":0,"ip":"08cc7d7b1ce844c0994701dd817046a1","hostName":"us-51*","requestId":"20fd625664f84634848caa6634a88fc2_42717","contentType":"text/xml; charset=utf-8","totalBytes":72,"bgimgsTotal":1,"bgimgsGithubTotal":0,"articlesImgsTotal":4,"articlesImgsGithubTotal":1,"successGithubMap":{"myreaderx19":1},"failGithubMap":{}},"feed":{"createdTime":"2020-09-07 03:28:31","updatedTime":"2020-09-07 05:45:37","id":42717,"name":"東方算程譚","url":"http://blogs.wankuma.com/episteme/rss.aspx","subscriber":75,"website":null,"icon":"http://blogs.wankuma.com/favicon.ico","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx65/cdn7@2020_2/2020/09/06/21-45-35-292_b6c8dd6c90018ccc.ico","description":"Oriental Code Talk ── επιστημηが与太をこく、弾幕とは無縁のシロモノ。","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2020-10-14 11:41:16","updatedTime":"2020-10-14 11:41:16","id":null,"feedId":42717,"linkMd5":"08b7e5dc1d5d6bdd74e34b35cfba56ff"}],"tmpCommonImgCdnBytes":0,"tmpBodyImgCdnBytes":72,"tmpBgImgCdnBytes":0,"extra4":{"start":1602646632683,"total":0,"statList":[{"spend":1458,"msg":"获取xml内容"},{"spend":8,"msg":"解释文章"},{"spend":120350,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":121745,"msg":"正文链接上传到cdn"}]},"extra5":4,"extra6":1,"extra7ImgCdnFailResultVector":[null,null,null,null,null,null,null,null,null,null],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://europe-58.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-022.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-023.herokuapp.com/":{"failCount":3,"successCount":1,"resultList":[200,null,null,null]},"http://europe70.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"http://blogs.wankuma.com/episteme/aggbug/324021.aspx","sourceStatusCode":200,"destWidth":1,"destHeight":1,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn51@2020_1/2020/10/14/03-39-15-401_49ce30c87bdaf8fe.webp","sourceBytes":43,"destBytes":72,"targetWebpQuality":75,"feedId":42717,"totalSpendMs":1789,"convertSpendMs":6,"createdTime":"2020-10-14 11:39:14","host":"us-023*","referer":"http://blogs.wankuma.com/episteme/archive/2013/03/31/324021.aspx","linkMd5ListStr":"08b7e5dc1d5d6bdd74e34b35cfba56ff","githubUser":"myreaderx19","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"43 B","destSize":"72 B","compressRate":"167.4%"}],"successGithubMap":{"myreaderx19":1},"failGithubMap":{}}