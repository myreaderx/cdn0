{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-20 12:46:43","updatedTime":"2020-10-20 12:46:43","title":"How to display a \"new version available\" for a Progressive Web App","link":"http://feedproxy.google.com/~r/DeanHumesBlog/~3/QciOe1bnSbw/","description":"<p>Have you ever been on a website and noticed a popup notification that suggests that there is a new version of the site available? I recently visited Google’s Inbox and noticed a notification a little like the image below.</p>\n<p><img src=\"https://deanhume.com/content/images/2018/05/new-version-available.PNG\" alt=\"New version available - Progressive Web App\"></p>\n<p>I’ve built a number of Progressive Web Apps that simply update the service worker silently for the user in the background, but I really like this approach - especially for an offline first web app. If you’ve ever tried to build a web application that is completely offline first, you’ll know how tricky it can be to make changes to the users cache when you do make updates to the site and the user has connectivity. This is where a pop up notification like Google’s Inbox provides the user with a means of always having the latest version of cached resources. It got me wondering how I could build something a little similar and it turns out that it is a little tricker than it seems - but it is not impossible!</p>\n<p>In this article, I will show you how to add a notification to your site and display it each time that there is a new version of the service worker available. You’ll also learn how to refresh the page, so that the user is up to date and has the latest version of any cached files. This article is a bit of a lengthy beast, so strap in tight and get comfy!</p>\n<h2 id=\"gettingstarted\">Getting started</h2>\n<p>In this example, I am going to use a very basic web page that consists of three assets:</p>\n<ul>\n<li>index.html</li>\n<li>dog.jpg</li>\n<li>service-worker.js</li>\n</ul>\n<p>To start off with, the HTML for my web page looks a little like the following code.</p>\n<pre><code>&#60;!DOCTYPE html&#62;\n&#60;html&#62;\n\n&#60;head&#62;\n  &#60;meta charset=&#34;UTF-8&#34;&#62;\n  &#60;title&#62;PWA - New Service Worker available&#60;/title&#62;\n&#60;/head&#62;\n\n&#60;body&#62;\n  &#60;img src=&#34;./dog-face.jpg&#34; /&#62;\n  &#60;!-- The notification that will pop up --&#62;\n  &#60;div id=&#34;notification&#34;&#62;A new version of this app is available. Click &#60;a id=&#34;reload&#34;&#62;here&#60;/a&#62; to update.&#60;/div&#62;\n&#60;/body&#62;\n&#60;script&#62;\n\n if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.register('./service-worker.js').then(function(registration) {\n          // Registration was successful\n          console.log('ServiceWorker registration successful with scope: ', registration.scope);\n      }).catch(function(err) {\n          // registration failed :(\n            console.log('ServiceWorker registration failed: ', err);\n          });\n      }\n\n&#60;/script&#62;\n&#60;/html&#62;\n</code></pre>\n<p>In the web page above, you may notice that I’ve added standard boilerplate code for a web page and the registering of a service worker. Let’s add a bit of service worker magic! Next, create a file and call it <strong>service-worker.js</strong> and add the following code:</p>\n<pre><code>const cacheName = ‘firstVersion';\n\nself.addEventListener('install', event =&#62; {\n  event.waitUntil(\n    caches.open(cacheName)\n      .then(cache =&#62; cache.addAll([\n        './dog.jpg'\n      ]))\n  );\n});\n\nself.addEventListener('fetch', function (event) {\n  event.respondWith(\n    caches.match(event.request)\n      .then(function (response) {\n        if (response) {\n          return response;\n        }\n        return fetch(event.request);\n      })\n  );\n});\n</code></pre>\n<p>In the code above, we have added basic caching functionality to our service worker. Once the service worker has been installed and each time a user makes the request for the <em>dog.jpg</em> image, it will retrieve it from cache and instantly display it to the user. If you aren’t familiar with the code above, I recommend checking out <a href=\"https://developers.google.com/web/ilt/pwa/caching-files-with-service-worker\">this article</a> for more information - it will take you through the basics and help you understand how service worker caching fits in.</p>\n<p>At this point in time, if we fire up the web page it will look a little something like the image below.</p>\n<p><img src=\"https://deanhume.com/content/images/2018/05/service-worker-update-screenshot.png\" alt=\"Service Worker Update Screenshot\"></p>\n<p>So far so good, but we have a web page that doesn’t really do a whole lot! In order to complete the pieces of the puzzle, we need to update our code so that it notifies the user when there has been a change to the service worker itself. Before we dive any deeper, let’s take a look at the basic flow that needs to take place.</p>\n<p><img src=\"https://deanhume.com/content/images/2018/05/pwa-update-available.jpg\" alt=\"New version available diagram - Progressive Web App\"></p>\n<p>In the diagram above, you may notice that a number of steps need to take place before we have a finished product. Firstly, the browser checks to see if there has been an update to the service worker file. If there is an update available, then we show a notification on the screen, else we do nothing. When the user clicks on the notification, we then post a message to the service worker and tell it to skip waiting and become the active service worker. Once that is complete, we then reload the page and our new service worker is in control. Hooray!</p>\n<p>While it may seem confusing at first, by the end of this article the above flow will make a bit more sense. Let’s take what we’ve learnt from the flow above and apply the code changes to our web page. We are going to be making the changes below to our <strong>index.html</strong> file.</p>\n<pre><code>  let newWorker;\n\n  // The click event on the notification\n  document.getElementById('reload').addEventListener('click', function(){\n    newWorker.postMessage({ action: 'skipWaiting' });\n  });\n\n  if ('serviceWorker' in navigator) {\n    // Register the service worker\n    navigator.serviceWorker.register('/service-worker.js').then(reg =&#62; {\n      reg.addEventListener('updatefound', () =&#62; {\n\n        // An updated service worker has appeared in reg.installing!\n        newWorker = reg.installing;\n\n        newWorker.addEventListener('statechange', () =&#62; {\n\n          // Has service worker state changed?\n          switch (newWorker.state) {\n            case 'installed':\n\n\t// There is a new service worker available, show the notification\n              if (navigator.serviceWorker.controller) {\n                let notification = document.getElementById('notification ');\n    notification .className = 'show';\n              }\n\n              break;\n          }\n        });\n      });\n    });\n\n  }\n</code></pre>\n<p>Woah - that code has grown a lot on our index.html page! Let’s break it down step by step in order to get a better understanding of the flow.</p>\n<p>Once we’ve registered the service worker, we then add an eventListener to the <em>updateFound</em> event. This event is fired any time the ServiceWorkerRegistration.installing property acquires a new service worker. This will determine if there have been any changes to the service worker file and occurs when the user reloads or returns to the web page. The browser has a handy way of checking the contents of the service-worker.js file, and even if it has only changed by one byte, it will treat it as a new version.</p>\n<p>If a new version is discovered, the <em>updateFound</em> event will be fired. If this event is fired, we then need to check if a new service worker has been acquired and assign it to a new variable as we will be using this at a later stage.</p>\n<p>Now that we have determined that there is a new service worker waiting to be installed, we can then display a notification at the bottom of our page notifying the user that there is a new version available.</p>\n<p><img src=\"https://deanhume.com/content/images/2018/05/new-version-available-notification.png\" alt=\"New version available notification - Progressive Web App\"></p>\n<p>If you remember the diagram earlier in this article, you’ll remember that we still need to complete steps 3 &#38; 4 in order for our new service worker to start controlling the page. For step 3, we need to add functionality to the popup notification, so that when the user clicks update, we send a <em>postMessage()</em> to our service worker and tell it to skip the waiting phase. Remember that you can’t communicate directly with a service worker from the client, we need to use the <em>postMessage()</em> method to send a message to a client (a Window, Worker, or SharedWorker). The message is received in the &#34;message&#34; event on navigator.serviceWorker.</p>\n<p>The code inside the <strong>service-worker.js</strong> file should be updated to respond to the <em>message</em> event.</p>\n<pre><code>self.addEventListener('message', function (event) {\n  if (event.data.action === 'skipWaiting') {\n    self.skipWaiting();\n  }\n});\n</code></pre>\n<p>We are almost there! In our fourth and final step, we need our web page to reload and activate the new service worker. To do this, we need to update the <strong>index.html</strong> page and reload the page as soon as the <em>controllerchange</em> event is fired.</p>\n<pre><code>   let refreshing;\n   // The event listener that is fired when the service worker updates\n   // Here we reload the page\n    navigator.serviceWorker.addEventListener('controllerchange', function () {\n      if (refreshing) return;\n      window.location.reload();\n      refreshing = true;\n    });\n</code></pre>\n<p>That’s it - you now have a fully working example!</p>\n<h2 id=\"theresult\">The result</h2>\n<p>In order to test this in action, I fired this up against my localhost and navigated to the <strong>index.html</strong> page. I find it really easy to test my service worker code using Google Chrome and it’s Developer Tools. If you fire them up and head over to the <strong>Application</strong> tab and with the <strong>Service Workers</strong> menu option selected, you should notice your service worker is installed for the current page.</p>\n<p>This is as we expect, the service is installed and controlling the page. Each time we refresh the page, we will retrieve the dog image from cache instead of the network. In order to simulate an update to our service worker, I am going to make a slight change to the <em>service-worker.js</em> file.</p>\n<pre><code>const cacheName = ‘secondVersion';\n</code></pre>\n<p>In the code above, I have simply updated the name of the cache to <em>secondVersion</em>. This small change will let the browser know that we have a new service worker ready to rock and roll. If I refresh the page, I will now get prompted with the popup notifying me that there is a newer version available. Using Chrome Developer tools, I can see the new service worker is waiting to be activated; notice the <strong>Status</strong> section now has two versions, each with a different status.</p>\n<p><img src=\"https://deanhume.com/content/images/2018/05/service-worker-waiting.png\" alt=\"Service Worker waiting - Chrome Developer Tools\"></p>\n<p>If you click the refresh link on the notification bar on our web page, the new service worker will now be installed and controlling the page. You can verify this by opening up the developer tools and heading over to the <strong>Application</strong> tab. You should notice the new service worker is installed and controlling the current page. You can see this in the image below by referring to the version number under the <strong>Status</strong> section.</p>\n<p><img src=\"https://deanhume.com/content/images/2018/05/service-worker-installed.png\" alt=\"Service Worker Installed - Chrome Developer Tools\"></p>\n<h2 id=\"conclusion\">Conclusion</h2>\n<p>Using a technique like this notification is a great way to ensure that you keep your Progressive Web App lightning fast and retain all of the magic of service worker caching, while at the same time keeping the latest version of your service worker live!</p>\n<p>If you’d like to see the full working code for this example, please head over to the repo at <a href=\"https://github.com/deanhume/pwa-update-available\">github.com/deanhume/pwa-update-available</a>.</p>\n<p>I have to admit, it took me a while to figure all of this out, and I couldn’t have done so without the following articles. I highly recommend reading them to learn more.</p>\n<ul>\n<li><a href=\"https://developers.google.com/web/fundamentals/primers/service-workers/lifecycle#skip_waiting\">Service Worker Lifecycle</a></li>\n<li><a href=\"https://medium.com/progressive-web-apps/pwa-create-a-new-update-available-notification-using-service-workers-18be9168d717\">PWA Update Notification</a></li>\n<li><a href=\"https://stackoverflow.com/questions/40100922/activate-updated-service-worker-on-refresh\">StackOverflow</a></li>\n</ul>\n<div class=\"feedflare\">\n<a href=\"http://feeds.feedburner.com/~ff/DeanHumesBlog?a=QciOe1bnSbw:Kp4qp7nmuVk:yIl2AUoC8zA\"><img src=\"http://feeds.feedburner.com/~ff/DeanHumesBlog?d=yIl2AUoC8zA\" border=\"0\"></img></a>\n</div><img src=\"http://feeds.feedburner.com/~r/DeanHumesBlog/~4/QciOe1bnSbw\" height=\"1\" width=\"1\" alt=\"\"/>","descriptionType":"html","publishedDate":"Wed, 16 May 2018 12:49:31 +0000","feedId":38838,"bgimg":"https://deanhume.com/content/images/2018/05/new-version-available.PNG","linkMd5":"f2a48d6a0f2bb6d3ea6d23c5d795fd84","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx15/cdn69@2020_5/2020/10/20/04-46-43-327_495ce3b06b4b7216.webp","destWidth":964,"destHeight":320,"sourceBytes":12808,"destBytes":14276,"author":"Dean Hume","articleImgCdnMap":{"https://deanhume.com/content/images/2018/05/new-version-available.PNG":"https://cdn.jsdelivr.net/gh/myreaderx15/cdn69@2020_5/2020/10/20/04-46-43-327_495ce3b06b4b7216.webp","https://deanhume.com/content/images/2018/05/service-worker-update-screenshot.png":null,"https://deanhume.com/content/images/2018/05/pwa-update-available.jpg":null,"https://deanhume.com/content/images/2018/05/new-version-available-notification.png":null,"https://deanhume.com/content/images/2018/05/service-worker-waiting.png":null,"https://deanhume.com/content/images/2018/05/service-worker-installed.png":null,"http://feeds.feedburner.com/~ff/DeanHumesBlog?d=yIl2AUoC8zA":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn73@2020_6/2020/10/20/04-46-44-341_a2dd4cb28eec62a8.webp","http://feeds.feedburner.com/~r/DeanHumesBlog/~4/QciOe1bnSbw":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn90@2020_5/2020/10/20/04-46-44-217_82ffa76e6f9a163d.webp"},"publishedOrCreatedDate":1603169203158}],"record":{"createdTime":"2020-10-20 12:46:43","updatedTime":"2020-10-20 12:46:43","feedId":38838,"fetchDate":"Tue, 20 Oct 2020 04:46:43 +0000","fetchMs":287,"handleMs":48,"totalMs":33142,"newArticles":0,"totalArticles":15,"status":1,"type":0,"ip":"73ea241ae7d255271935defd73b6cde0","hostName":"us-024*","requestId":"b962baf4d26e444d9dda2064acdc6768_38838","contentType":"text/xml; charset=UTF-8","totalBytes":14658,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":8,"articlesImgsGithubTotal":3,"successGithubMap":{"myreaderx15":1,"myreaderx4":1,"myreaderx29":1},"failGithubMap":{}},"feed":{"createdTime":"2020-09-07 03:15:26","updatedTime":"2020-09-07 05:30:57","id":38838,"name":"Dean Hume's Blog","url":"http://feeds.feedburner.com/DeanHumesBlog","subscriber":83,"website":null,"icon":"http://deanhume.com/favicon.png","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx65/cdn60@2020_4/2020/09/06/21-30-54-224_b76916e030c5d309.png","description":"My name is Dean Hume, and I am an author, blogger, and software developer.","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2020-10-20 12:47:15","updatedTime":"2020-10-20 12:47:15","id":null,"feedId":38838,"linkMd5":"f2a48d6a0f2bb6d3ea6d23c5d795fd84"}],"tmpCommonImgCdnBytes":14276,"tmpBodyImgCdnBytes":382,"tmpBgImgCdnBytes":0,"extra4":{"start":1603169202808,"total":0,"statList":[{"spend":302,"msg":"获取xml内容"},{"spend":48,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":31782,"msg":"正文链接上传到cdn"}]},"extra5":8,"extra6":8,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"https://deanhume.com/content/images/2018/05/service-worker-update-screenshot.png","sourceStatusCode":522,"sourceBytes":0,"destBytes":0,"feedId":38838,"totalSpendMs":15602,"convertSpendMs":0,"createdTime":"2020-10-20 12:46:44","host":"us-021*","referer":"http://feedproxy.google.com/~r/DeanHumesBlog/~3/QciOe1bnSbw/","linkMd5ListStr":"f2a48d6a0f2bb6d3ea6d23c5d795fd84","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[522],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"https://deanhume.com/content/images/2018/05/service-worker-installed.png","sourceStatusCode":522,"sourceBytes":0,"destBytes":0,"feedId":38838,"totalSpendMs":15604,"convertSpendMs":0,"createdTime":"2020-10-20 12:46:44","host":"us-034*","referer":"http://feedproxy.google.com/~r/DeanHumesBlog/~3/QciOe1bnSbw/","linkMd5ListStr":"f2a48d6a0f2bb6d3ea6d23c5d795fd84","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[522],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"https://deanhume.com/content/images/2018/05/new-version-available-notification.png","sourceStatusCode":522,"sourceBytes":0,"destBytes":0,"feedId":38838,"totalSpendMs":15507,"convertSpendMs":0,"createdTime":"2020-10-20 12:46:44","host":"europe-60*","referer":"http://feedproxy.google.com/~r/DeanHumesBlog/~3/QciOe1bnSbw/","linkMd5ListStr":"f2a48d6a0f2bb6d3ea6d23c5d795fd84","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[522],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"https://deanhume.com/content/images/2018/05/service-worker-waiting.png","sourceStatusCode":522,"sourceBytes":0,"destBytes":0,"feedId":38838,"totalSpendMs":15641,"convertSpendMs":0,"createdTime":"2020-10-20 12:46:44","host":"europe-56*","referer":"http://feedproxy.google.com/~r/DeanHumesBlog/~3/QciOe1bnSbw/","linkMd5ListStr":"f2a48d6a0f2bb6d3ea6d23c5d795fd84","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[522],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"https://deanhume.com/content/images/2018/05/pwa-update-available.jpg","sourceStatusCode":522,"sourceBytes":0,"destBytes":0,"feedId":38838,"totalSpendMs":15747,"convertSpendMs":0,"createdTime":"2020-10-20 12:46:44","host":"europe-22*","referer":"http://feedproxy.google.com/~r/DeanHumesBlog/~3/QciOe1bnSbw/","linkMd5ListStr":"f2a48d6a0f2bb6d3ea6d23c5d795fd84","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[522],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"https://deanhume.com/content/images/2018/05/service-worker-installed.png","sourceStatusCode":522,"sourceBytes":0,"destBytes":0,"feedId":38838,"totalSpendMs":15352,"convertSpendMs":0,"createdTime":"2020-10-20 12:46:59","host":"us-009*","referer":"http://feedproxy.google.com/~r/DeanHumesBlog/~3/QciOe1bnSbw/","linkMd5ListStr":"f2a48d6a0f2bb6d3ea6d23c5d795fd84","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[522],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"https://deanhume.com/content/images/2018/05/new-version-available-notification.png","sourceStatusCode":522,"sourceBytes":0,"destBytes":0,"feedId":38838,"totalSpendMs":15211,"convertSpendMs":0,"createdTime":"2020-10-20 12:46:59","host":"europe68*","referer":"http://feedproxy.google.com/~r/DeanHumesBlog/~3/QciOe1bnSbw/","linkMd5ListStr":"f2a48d6a0f2bb6d3ea6d23c5d795fd84","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[522],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"https://deanhume.com/content/images/2018/05/service-worker-waiting.png","sourceStatusCode":522,"sourceBytes":0,"destBytes":0,"feedId":38838,"totalSpendMs":15407,"convertSpendMs":0,"createdTime":"2020-10-20 12:46:59","host":"us-009*","referer":"http://feedproxy.google.com/~r/DeanHumesBlog/~3/QciOe1bnSbw/","linkMd5ListStr":"f2a48d6a0f2bb6d3ea6d23c5d795fd84","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[522],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"https://deanhume.com/content/images/2018/05/service-worker-update-screenshot.png","sourceStatusCode":522,"sourceBytes":0,"destBytes":0,"feedId":38838,"totalSpendMs":15689,"convertSpendMs":0,"createdTime":"2020-10-20 12:46:59","host":"europe68*","referer":"http://feedproxy.google.com/~r/DeanHumesBlog/~3/QciOe1bnSbw/","linkMd5ListStr":"f2a48d6a0f2bb6d3ea6d23c5d795fd84","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[522],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"https://deanhume.com/content/images/2018/05/pwa-update-available.jpg","sourceStatusCode":522,"sourceBytes":0,"destBytes":0,"feedId":38838,"totalSpendMs":15722,"convertSpendMs":0,"createdTime":"2020-10-20 12:47:00","host":"europe68*","referer":"http://feedproxy.google.com/~r/DeanHumesBlog/~3/QciOe1bnSbw/","linkMd5ListStr":"f2a48d6a0f2bb6d3ea6d23c5d795fd84","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[522],"sourceSize":"0","destSize":"0"}],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://europe-56.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[522]},"http://europe68.herokuapp.com/":{"failCount":3,"successCount":1,"resultList":[200,522,522,522]},"http://us-021.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[522]},"http://us-034.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[522]},"http://europe-22.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[522]},"http://us-009.herokuapp.com/":{"failCount":2,"successCount":1,"resultList":[200,522,522]},"http://europe-60.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[522]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://deanhume.com/content/images/2018/05/new-version-available.PNG","sourceStatusCode":200,"destWidth":964,"destHeight":320,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx15/cdn69@2020_5/2020/10/20/04-46-43-327_495ce3b06b4b7216.webp","sourceBytes":12808,"destBytes":14276,"targetWebpQuality":75,"feedId":38838,"totalSpendMs":953,"convertSpendMs":17,"createdTime":"2020-10-20 12:46:43","host":"us-005*","referer":"http://feedproxy.google.com/~r/DeanHumesBlog/~3/QciOe1bnSbw/","linkMd5ListStr":"f2a48d6a0f2bb6d3ea6d23c5d795fd84,f2a48d6a0f2bb6d3ea6d23c5d795fd84","githubUser":"myreaderx15","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"12.5 KB","destSize":"13.9 KB","compressRate":"111.5%"},{"code":1,"isDone":false,"source":"http://feeds.feedburner.com/~r/DeanHumesBlog/~4/QciOe1bnSbw","sourceStatusCode":200,"destWidth":1,"destHeight":1,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn90@2020_5/2020/10/20/04-46-44-217_82ffa76e6f9a163d.webp","sourceBytes":43,"destBytes":72,"targetWebpQuality":75,"feedId":38838,"totalSpendMs":778,"convertSpendMs":4,"createdTime":"2020-10-20 12:46:44","host":"us-009*","referer":"http://feedproxy.google.com/~r/DeanHumesBlog/~3/QciOe1bnSbw/","linkMd5ListStr":"f2a48d6a0f2bb6d3ea6d23c5d795fd84","githubUser":"myreaderx29","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"43 B","destSize":"72 B","compressRate":"167.4%"},{"code":1,"isDone":false,"source":"http://feeds.feedburner.com/~ff/DeanHumesBlog?d=yIl2AUoC8zA","sourceStatusCode":200,"destWidth":62,"destHeight":24,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn73@2020_6/2020/10/20/04-46-44-341_a2dd4cb28eec62a8.webp","sourceBytes":997,"destBytes":310,"targetWebpQuality":75,"feedId":38838,"totalSpendMs":953,"convertSpendMs":8,"createdTime":"2020-10-20 12:46:44","host":"europe68*","referer":"http://feedproxy.google.com/~r/DeanHumesBlog/~3/QciOe1bnSbw/","linkMd5ListStr":"f2a48d6a0f2bb6d3ea6d23c5d795fd84","githubUser":"myreaderx4","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"997 B","destSize":"310 B","compressRate":"31.1%"}],"successGithubMap":{"myreaderx15":1,"myreaderx4":1,"myreaderx29":1},"failGithubMap":{}}