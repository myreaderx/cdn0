{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-11-17 01:29:09","updatedTime":"2020-11-17 01:29:09","title":"åŸºäº Serverless çš„ Valine å¯èƒ½å¹¶æ²¡æœ‰é‚£ä¹ˆé¦™","link":"https://segmentfault.com/a/1190000038175985","description":"<p><img src=\"https://segmentfault.com/img/remote/1460000038175988\" alt=\"\" title=\"\" /></p>\n<p><a href=\"https://valine.js.org\" rel=\"nofollow noreferrer\">Valine</a> æ˜¯ä¸€æ¬¾æ ·å¼ç²¾ç¾ï¼Œéƒ¨ç½²ç®€å•çš„è¯„è®ºç³»ç»Ÿï¼Œ ç¬¬ä¸€æ¬¡æ¥è§¦ä¾¿è¢«å®ƒç²¾ç¾çš„æ ·å¼ï¼Œæ— æœåŠ¡ç«¯çš„ç‰¹æ€§ç»™å¸å¼•äº†ã€‚å®ƒæœ€å¤§çš„ç‰¹è‰²æ˜¯åŸºäº <a href=\"https://leancloud.app\" rel=\"nofollow noreferrer\">LeanCloud</a> ç›´æ¥åœ¨å‰ç«¯è¿›è¡Œæ•°æ®åº“æ“ä½œè€Œæ— éœ€æœåŠ¡ç«¯ï¼Œæå¤§çš„ç¼©å‡äº†éƒ¨ç½²æµç¨‹ï¼Œä»…éœ€è¦åœ¨é™æ€é¡µå¼•å…¥ Valine SDK å³å¯ã€‚</p>\n<h2>ğŸ‘¨â€ğŸ’»â€ åˆè¯† Valine</h2>\n<p>ä»¥ä¸‹æ˜¯ Valine å®˜ç½‘æä¾›çš„å¿«é€Ÿéƒ¨ç½²è„šæœ¬ï¼Œå…¶ä¸­ <code>appId</code> å’Œ <code>appKey</code> æ˜¯ä½ åœ¨ LeanCloud ä¸Šåˆ›å»ºåº”ç”¨åå¯¹åº”çš„åº”ç”¨å¯†é’¥ã€‚ä¹Ÿæ­£æ˜¯åŸºäºè¿™å¯¹å¯†é’¥ï¼ŒValine åœ¨å†…éƒ¨è°ƒç”¨äº† LeanCloud SDK è¿›è¡Œæ•°æ®çš„è·å–ï¼Œæœ€ç»ˆå°†æ•°æ®æ¸²æŸ“åœ¨ <code>#vcomments</code> è¿™ä¸ª DOM ä¸Šã€‚è¿™ä¾¿æ˜¯ Valine çš„å¤§æ¦‚åŸç†ã€‚</p>\n<pre><code class=\"html\">&lt;head&gt;\n  ..\n  &lt;script src='//unpkg.com/valine/dist/Valine.min.js'&gt;&lt;/script&gt;\n  ...\n&lt;/head&gt;\n&lt;body&gt;\n  ...\n  &lt;div id=\"vcomments\"&gt;&lt;/div&gt;\n  &lt;script&gt;\n    new Valine({\n      el: '#vcomments',\n      appId: 'Your appId',\n      appKey: 'Your appKey'\n    })\n  &lt;/script&gt;\n&lt;/body&gt;</code></pre>\n<p>æœ‰åŒå­¦å¯èƒ½ä¼šæœ‰ç–‘é—®äº†ï¼Œ<code>appId</code> å’Œ <code>appKey</code> éƒ½ç›´æ¥å†™åœ¨å‰ç«¯äº†ï¼Œé‚£å²‚ä¸æ˜¯è°éƒ½å¯ä»¥ä¿®æ”¹æ•°æ®äº†ï¼Ÿè¿™å°±éœ€è¦ç‰µæ‰¯åˆ° LeanCloud çš„æ•°æ®å®‰å…¨é—®é¢˜äº†ï¼Œå®˜æ–¹ä¸“é—¨å†™äº†ç¯‡æ–‡æ¡£<a href=\"https://leancloud.cn/docs/data_security.html\" rel=\"nofollow noreferrer\">ã€Šæ•°æ®å’Œå®‰å…¨ã€‹</a> æ¥è¯´æ˜è¿™ä¸ªé—®é¢˜ã€‚ç®€å•çš„ç†è§£å°±æ˜¯é’ˆå¯¹æ•°æ®è®¾ç½®ç”¨æˆ·çš„è¯»å†™æƒé™ï¼Œç¡®ä¿æ­£ç¡®çš„äººå¯¹æ•°æ®æœ‰ä¸”ä»…æœ‰æ­£ç¡®çš„æƒé™æ¥ä¿è¯æ•°æ®çš„å®‰å…¨ã€‚</p>\n<p>ä¹å¬ä¸€ä¸‹ï¼Œä¿è¯ç”¨æˆ·æ•°æ®åªè¯»çš„è¯ï¼Œæ„Ÿè§‰è¿˜æ˜¯æŒºå®‰å…¨çš„ã€‚å¯äº‹å®çœŸçš„å¦‚æ­¤ä¹ˆï¼Œè®©æˆ‘ä»¬ç»§ç»­æ¥çœ‹çœ‹ã€‚</p>\n<h2>ğŸ™…â€â™‚ï¸ Valine çš„é—®é¢˜</h2>\n<h3>ğŸ“– é˜…è¯»ç»Ÿè®¡ç¯¡æ”¹</h3>\n<p>Valien 1.2.0 å¢åŠ äº†æ–‡ç« é˜…è¯»ç»Ÿè®¡çš„åŠŸèƒ½ï¼Œç”¨æˆ·è®¿é—®é¡µé¢å°±ä¼šåœ¨åå° Counter è¡¨ä¸­æ ¹æ® url è®°å½•è®¿é—®æ¬¡æ•°ã€‚ç”±äºæ¯æ¬¡è®¿é—®é¡µé¢éƒ½éœ€è¦æ›´æ–°æ•°æ®ï¼Œæ‰€ä»¥åœ¨æƒé™ä¸Šå¿…é¡»è®¾ç½®æˆå¯å†™ï¼Œæ‰èƒ½è¿›è¡Œåç»­çš„å­—æ®µæ›´æ–°ã€‚è¿™æ ·å°±é€ æˆäº†ä¸€ä¸ªé—®é¢˜ï¼Œå®é™…ä¸Šè¯¥æ¡æ•°æ®æ˜¯å¯ä»¥è¢«æ›´æ–°æˆä»»æ„å€¼çš„ã€‚æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥æ‰“å¼€ <a href=\"https://valine.js.org/visitor.html\" rel=\"nofollow noreferrer\">https://valine.js.org/visitor...</a> å®˜ç½‘é¡µé¢åè¿›å…¥æ§åˆ¶å°è¾“å…¥ä»¥ä¸‹ä»£ç è¯•è¯•ã€‚è¯•å®Œäº†è®°å¾—æŠŠæ•°æ”¹å›å»å“ˆ~</p>\n<pre><code class=\"js\">const counter = new AV.Query('Counter');\nconst resp = await counter.equalTo('url', '/visitor.html').find();\nresp[0].set('time', -100001).save();\nlocation.reload();</code></pre>\n<p>å¯ä»¥çœ‹åˆ°è¯¥é¡µé¢çš„è®¿é—®ç»Ÿè®¡è¢«è®¾ç½®æˆäº† <code>-100000</code> äº†ã€‚è¿™ä¸ªé—®é¢˜å”¯ä¸€å€¼å¾—åº†å¹¸çš„æ˜¯ <code>time</code> å­—æ®µçš„å€¼æ˜¯ Number ç±»å‹çš„ï¼Œå…¶å®ƒçš„å€¼éƒ½æ— æ³•æ’å…¥ã€‚å¦‚æœæ˜¯å­—ç¬¦ä¸²ç±»å‹çš„è¯å°±æ˜¯ä¸€ä¸ª XSS æ¼æ´äº†ã€‚</p>\n<p>è¯¥é—®é¢˜æœ‰ä¸€ä¸ªè§£å†³åŠæ³•ï¼Œå°±æ˜¯ä¸ä½¿ç”¨æ¬¡æ•°ç´¯åŠ çš„å­˜å‚¨æ–¹å¼ã€‚æ›´æ”¹ä¸ºæ¯æ¬¡è®¿é—®éƒ½å­˜å‚¨ä¸€æ¡åªè¯»çš„è®¿é—®è®°å½•ï¼Œè¯»å–çš„æ—¶å€™ä½¿ç”¨ <code>count()</code> æ–¹æ³•è¿›è¡Œç»Ÿè®¡ã€‚è¿™æ ·æ‰€æœ‰æ•°æ®éƒ½æ˜¯åªè¯»çš„ï¼Œå°±ä¸å­˜åœ¨ç¯¡æ”¹çš„é—®é¢˜äº†ã€‚è¿™ç§è§£å†³æ–¹æ¡ˆå”¯ä¸€çš„é—®é¢˜å°±æ˜¯æ•°æ®é‡ä¼šæ¯”è¾ƒå¤§ï¼Œå¯¹æŸ¥è¯¢ä¼šé€ æˆä¸€å®šå‹åŠ›ã€‚å½“ç„¶å¦‚æœæ˜¯åœ¨åŸºäºåŸæ•°æ®ä¸å˜çš„æƒ…å†µä¸‹ï¼Œåªèƒ½æ˜¯å¢åŠ ä¸€å±‚æœåŠ¡ç«¯æ¥åšä¿®æ”¹æƒé™çš„éš”ç¦»äº†ã€‚</p>\n<h3>ğŸ§¯ XSS å®‰å…¨</h3>\n<p>ä»å¾ˆæ—©çš„ç‰ˆæœ¬å¼€å§‹å°±æœ‰ç”¨æˆ·æŠ¥å‘Šäº† Valine çš„ XSS é—®é¢˜ï¼Œç¤¾åŒºä¹Ÿåœ¨ä½¿ç”¨å„ç§æ–¹æ³•åœ¨ä¿®å¤è¿™äº›é—®é¢˜ã€‚åŒ…æ‹¬å¢åŠ éªŒè¯ç ï¼Œå‰ç«¯XSSè¿‡æ»¤ç­‰æ–¹å¼ã€‚ä¸è¿‡åæ¥ä½œè€…æ‰æ˜ç™½ï¼Œå‰ç«¯çš„ä¸€åˆ‡éªŒè¯éƒ½åªèƒ½é˜²å›å­ï¼Œæ‰€ä»¥æŠŠéªŒè¯ç ä¹‹ç±»çš„é™åˆ¶å»é™¤äº†ã€‚</p>\n<p>ç°æœ‰çš„é€»è¾‘é‡Œï¼Œå‰ç«¯å‘å¸ƒè¯„è®ºçš„æ—¶å€™ä¼šå°† Markdown è½¬æ¢æˆ HTML ç„¶åèµ°ä¸€ä¸‹å‰ç«¯çš„ä¸€ä¸ª XSS è¿‡æ»¤æ–¹æ³•æœ€åæäº¤åˆ° LeanCloud ä¸­ã€‚ä» LeanCloud ä¸­æ‹¿åˆ°æ•°æ®ä¹‹åå› ä¸ºæ˜¯ HTML ç›´æ¥æ’å…¥è¿›è¡Œæ˜¾ç¤ºå³å¯ã€‚å¾ˆæ˜æ˜¾ï¼Œè¿™ä¸ªæµç¨‹æ˜¯å­˜åœ¨é—®é¢˜çš„ã€‚åªè¦ç›´æ¥æäº¤çš„æ˜¯ HTML è€Œä¸”æ‹¿åˆ° HTML ä¹‹åç›´æ¥è¿›è¡Œå±•ç¤ºçš„è¯ï¼ŒXSS ä»æ ¹æœ¬ä¸Šæ˜¯æ— æ³•æ ¹é™¤çš„ã€‚</p>\n<p>é‚£æœ‰æ²¡æœ‰æ ¹æœ¬çš„è§£å†³åŠæ³•ï¼Ÿå…¶å®æ˜¯æœ‰çš„ã€‚é’ˆå¯¹å­˜å‚¨å‹çš„ XSS æ”»å‡»ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è½¬ä¹‰ç¼–ç è¿›è¡Œè§£å†³ã€‚åªè¦æ•ˆä»¿æ—©å‰ BBCode çš„åšæ³•ï¼Œæäº¤åˆ°æ•°æ®åº“çš„æ˜¯ Markdown å†…å®¹ã€‚å‰ç«¯è¯»å–åˆ°å†…å®¹å¯¹æ‰€æœ‰ HTML è¿›è¡Œç¼–ç åå†è¿›è¡Œ Markdown è½¬æ¢åå±•ç¤ºã€‚</p>\n<pre><code class=\"js\">function encodeForHTML(str){\n  return ('' + str)\n    .replace(/&amp;/g, '&amp;amp;')\n    .replace(/&lt;/g, '&amp;lt;')    \n    .replace(/&gt;/g, '&amp;gt;')\n    .replace(/\"/g, '&amp;quot;')\n    .replace(/'/g, '&amp;#x27;')\n    .replace(/\\//g, '&amp;#x2F;');\n};</code></pre>\n<p>ç”±äº Serverless æ”»å‡»è€…æ˜¯å¯ä»¥ç›´è¾¾å­˜å‚¨é˜¶æ®µï¼Œæ‰€ä»¥æ•°æ®å­˜å‚¨ä¹‹å‰çš„ä¸€åˆ‡é˜²èŒƒæ˜¯æ— æ•ˆçš„ï¼Œåªèƒ½åœ¨è¯»å–å±•ç¤ºè¿‡ç¨‹å¤„ç†ã€‚ç”±äºæ‰€æœ‰çš„ HTML è½¬ä¹‰åæ— æ³•è§£æï¼ŒMarkdown ç›¸å½“äºæˆ‘ä»¬æ ¹æ®è‡ªå®šä¹‰çš„è¯­æ³•è§£ææˆ HTMLï¼Œä¿è¯è½¬æ¢åçš„ HTML æ²¡æœ‰è¢«æ’å…¥çš„æœºä¼šã€‚</p>\n<p>ä¸è¿‡è¿™ä¸ªæ–¹æ³•å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯å¯¹è€æ•°æ®å­˜åœ¨ä¸å…¼å®¹ã€‚å› ä¸ºè¿™ç›¸å½“äºä¿®æ”¹äº†å­˜å‚¨å’Œå±•ç¤ºçš„è§„åˆ™ï¼Œè€Œä¹‹å‰ä¸€ç›´å­˜å‚¨çš„éƒ½æ˜¯ HTML å†…å®¹ï¼Œä¿®å¤åä¹‹å‰çš„æ•°æ®å°†æ— æ³•å±•ç¤º HTML æ ·å¼ã€‚è€Œä¸ºäº†èƒ½åœ¨å­˜å‚¨çš„è¿˜æ˜¯ HTML æƒ…å†µä¸‹è§„é¿ XSS å®‰å…¨é—®é¢˜ï¼Œå”¯ä¸€çš„åŠæ³•å°±æ˜¯å¢åŠ æœåŠ¡ç«¯ä¸­é—´å±‚ã€‚å­˜å‚¨é˜¶æ®µå¢åŠ ä¸€é“é˜€é—¨ï¼Œå°†è½¬ä¹‰é˜¶æ®µæå‰è‡³å­˜å‚¨é˜¶æ®µï¼Œä¿è¯æ–°è€æ•°æ®çš„é€šç”¨ã€‚</p>\n<h3>ğŸ–¼ éšç§æ³„éœ²</h3>\n<p>è¯´å®Œäº†å­˜å‚¨çš„é—®é¢˜ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹è¯»å–çš„é—®é¢˜ã€‚æ”»å‡»è€…é™¤äº†å¯ä»¥ç›´è¾¾å­˜å‚¨ï¼Œä¹Ÿå¯ä»¥ç›´è¾¾è¯»å–ï¼Œå½“ä¸€ä¸ªæ•°æ®åº“çš„å­—æ®µå¼€æ”¾äº†è¯»å–æƒé™åï¼Œç›¸å½“äºè¯¥å­—æ®µçš„å†…å®¹å¯¹æ”»å‡»è€…æ˜¯é€æ˜çš„ã€‚</p>\n<p>åœ¨è¯„è®ºæ•°æ®ä¸­ï¼Œæœ‰ä¸¤ä¸ªå­—æ®µæ˜¯ç”¨æˆ·æ¯”è¾ƒæ•æ„Ÿçš„æ•°æ®ï¼Œåˆ†åˆ«æ˜¯ IP å’Œé‚®ç®±ã€‚ç¯å¤§ç”šè‡³ä¸“é—¨å†™äº†ä¸€ç¯‡æ–‡ç« æ¥æ‰¹åˆ¤è¯¥é—®é¢˜ <a href=\"https://ttys3.net/post/hugo/please-stop-using-valine-js-comment-system-until-it-fixed-the-privacy-leaking-problem/\" rel=\"nofollow noreferrer\">ã€Šè¯·é©¬ä¸Šåœæ­¢ä½¿ç”¨Valine.jsè¯„è®ºç³»ç»Ÿï¼Œé™¤éå®ƒä¿®å¤äº†ç”¨æˆ·éšç§æ³„éœ²é—®é¢˜ã€‹</a>ã€‚ç”šè‡³æ˜é‡‘ç¤¾åŒºåœ¨æ—©æœŸä½¿ç”¨ LeanCloud çš„æ—¶å€™ä¹Ÿæš´å‡ºè¿‡<a href=\"https://m.weibo.cn/detail/4568007327622344?cid=4568044392682999\" rel=\"nofollow noreferrer\">æ³„éœ²ç”¨æˆ·æ‰‹æœºå·</a>çš„å®‰å…¨é—®é¢˜ã€‚</p>\n<p><img src=\"https://segmentfault.com/img/remote/1460000038179286\" alt=\"\" title=\"\" /></p>\n<p>ä¸ºäº†è§„é¿è¿™ä¸ªé—®é¢˜ï¼ŒValine ä½œè€…å¢åŠ äº† <code>recordIP</code> é…ç½®ç”¨æ¥è®¾ç½®æ˜¯å¦å…è®¸è®°å½•ç”¨æˆ· IPã€‚ç”±äºæ˜¯ Serverlessï¼Œç›®å‰èƒ½æƒ³åˆ°çš„ä¹Ÿåªæ˜¯ä¸å­˜å‚¨çš„æ–¹å¼è§£å†³äº†ã€‚ä¸è¿‡è¯¥é…ç½®é¡¹ä¼šå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è¯¥é…ç½®é¡¹çš„é…ç½®æƒåœ¨ç½‘ç«™ï¼Œéšç§çš„é—®é¢˜æ˜¯è¯„è®ºè€…é‡åˆ°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´è¯„è®ºè€…æ˜¯æ— æƒç®¡ç†è‡ªå·±çš„éšç§çš„ã€‚</p>\n<p>é™¤äº†è¿™ä¸ªçŸ›ç›¾ç‚¹ä¹‹å¤–ï¼Œè¿˜æœ‰å°±æ˜¯é‚®ç®±çš„é—®é¢˜ã€‚é‚®ç®±æœ¬è´¨ä¸Šåªéœ€è¦è¿”å› md5 ç”¨æ¥è·å– Gravatar å¤´åƒå³å¯ã€‚ä½†æ˜¯ç”±äºæ— æœåŠ¡ç«¯çš„é™åˆ¶ï¼Œåªèƒ½è¿”å›åŸå§‹å†…å®¹ç”±å‰ç«¯è®¡ç®—ã€‚è€Œé‚®ç®±æˆ‘ä»¬åˆéœ€è¦è·å–åˆ°åŸå§‹å€¼ï¼Œæ–¹ä¾¿åšè¯„è®ºå›å¤é‚®ä»¶é€šçŸ¥åŠŸèƒ½ã€‚æ‰€ä»¥æˆ‘ä»¬ä¹Ÿä¸èƒ½ä¸å­˜å‚¨ï¼Œæˆ–è€…å­˜å‚¨ md5 åçš„å€¼ã€‚</p>\n<p>è¯¥é—®é¢˜çš„è§£å†³æ–¹æ¡ˆåªèƒ½æ˜¯å¢åŠ ä¸€å±‚æœåŠ¡ç«¯ï¼Œé€šè¿‡æœåŠ¡ç«¯è¿‡æ»¤æ•æ„Ÿä¿¡æ¯è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>\n<h2>ğŸŠ Walineï¼</h2>\n<p>åŸºäºä»¥ä¸ŠåŸå› ï¼Œæˆ‘ä»¬å‘ç°åªæœ‰å¢åŠ ä¸€å±‚æœåŠ¡ç«¯ä¸­é—´å±‚æ‰èƒ½å¾ˆå¥½çš„è§£å†³ Valine çš„å®‰å…¨é—®é¢˜ï¼Œæ‰€ä»¥ <a href=\"https://waline.js.org\" rel=\"nofollow noreferrer\">Waline</a> æ¨ªç©ºå‡ºä¸–äº†ï¼Waline ä¸ Valine æœ€å¤§çš„ä¸åŒå°±æ˜¯å¢åŠ äº†æœåŠ¡ç«¯ä¸­é—´å±‚ï¼Œè§£å†³ Valine æš´éœ²å‡ºæ¥çš„å®‰å…¨é—®é¢˜ã€‚åŒæ—¶åŸºäºæœåŠ¡ç«¯çš„ç‰¹æ€§ï¼Œæä¾›äº†<strong>é‚®ä»¶é€šçŸ¥</strong>ã€<strong>å¾®ä¿¡é€šçŸ¥</strong>ã€<strong>è¯„è®ºåå°ç®¡ç†</strong>ã€LeanCloud, MySQL, MongoDB, SQLite, PostgreSQL <strong>å¤šå­˜å‚¨æœåŠ¡æ”¯æŒ</strong>ç­‰è¯¸å¤šç‰¹æ€§ã€‚ä¸ä»…å¦‚æ­¤ï¼ŒWaline é»˜è®¤ä½¿ç”¨ <a href=\"https://vercel.com\" rel=\"nofollow noreferrer\">Vercel</a> éƒ¨ç½²ï¼Œå®ç°å®Œå…¨å…è´¹éƒ¨ç½²ï¼</p>\n<p>Waline æœ€åˆçš„ç›®æ ‡ä»…ä»…æ˜¯ä¸º Valine å¢åŠ ä¸ŠæœåŠ¡ç«¯ä¸­é—´å±‚ã€‚ä½†æ˜¯ç”±äºä½œè€…ä¸çŸ¥ä¸ºä½•ä» <code>1.4.0</code> ç‰ˆæœ¬å¼€å§‹åªæ¨é€ç¼–è¯‘åçš„æ–‡ä»¶åˆ° Github ä»“åº“ä¸­ï¼Œæºæ–‡ä»¶åœæ­¢æ›´æ–°ã€‚å¯¼è‡´æˆ‘åªèƒ½è¿å¸¦å‰ç«¯ä¹Ÿå®ç°ä¸€éã€‚å½“ç„¶å‰ç«¯çš„å¾ˆå¤šä»£ç å’Œé€»è¾‘ä¸ºäº†å’Œ Valine çš„é…ç½®ä¿æŒä¸€è‡´éƒ½æœ‰å‚è€ƒ Valineï¼Œç”šè‡³åœ¨åå­—ä¸Šï¼Œæˆ‘ä¹Ÿæ˜¯ä» Valine ä¸Šè¡ç”Ÿçš„ï¼Œè®©å¤§å®¶èƒ½æ˜ç™½è¿™ä¸ªé¡¹ç›®æ˜¯ Valine çš„è¡ç”Ÿç‰ˆã€‚</p>\n<h2>ğŸ“” åè®°</h2>\n<p>Serverless çš„æ¦‚å¿µç«äº†éå¸¸å¤šå¹´ï¼Œä½†æŠ€æœ¯æ²¡æœ‰é“¶å¼¹ï¼Œæˆ‘ä»¬åœ¨çœ‹åˆ°å®ƒçš„ä¼˜ç‚¹çš„åŒæ—¶ï¼Œä¹Ÿè¦æ­£è§†å®ƒæ‰€å¸¦æ¥çš„é—®é¢˜ã€‚è€Œ Serverless è‡ªå·±å¯èƒ½ä¹Ÿæ„è¯†åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œä»æ—©æœŸçš„<strong>æ— æœåŠ¡ç«¯</strong>æ…¢æ…¢è½¬å‘äº†<strong>æ— æœåŠ¡å™¨</strong>ï¼Œæ›´åå‘ BaaS äº†ã€‚ä¸è¿‡ç”±äº Valine æ²¡æœ‰å¼€æ”¾æºä»£ç ï¼Œæ‰€ä»¥ä¸Šé¢è¯´çš„ä¸€äº›é—®é¢˜å’Œè§£å†³æ–¹æ³•åªèƒ½ç­‰å¾…ä½œè€…è‡ªå·±å‘ç°è¿™ä»¶äº‹äº†ã€‚</p>","descriptionType":"html","publishedDate":"Mon, 16 Nov 2020 01:30:00 +0000","feedId":23280,"bgimg":"https://segmentfault.com/img/remote/1460000038175988","linkMd5":"2592d74cb4b42cc606022b7de92c5d37","destWidth":800,"destHeight":340,"sourceBytes":66110,"destBytes":66110,"author":"å…¬å­","articleImgCdnMap":{"https://segmentfault.com/img/remote/1460000038175988":null,"https://segmentfault.com/img/remote/1460000038179286":"https://cdn.jsdelivr.net/gh/myreaderx33/cdn50@2020_3/2020/11/16/17-29-22-135_5f4202e6fc64d6d0.webp"},"publishedOrCreatedDate":1605547749332}],"record":{"createdTime":"2020-11-17 01:29:09","updatedTime":"2020-11-17 01:29:09","feedId":23280,"fetchDate":"Mon, 16 Nov 2020 17:29:09 +0000","fetchMs":3150,"handleMs":8179,"totalMs":26210,"newArticles":0,"totalArticles":50,"status":1,"type":0,"ip":"cbcb76b0cfd4c81b7517574dc7255395","hostName":"europe65*","requestId":"316ae40b5af34a1e84fc055153e0cc30_23280","contentType":"application/atom+xml; charset=UTF-8","totalBytes":80226,"bgimgsTotal":1,"bgimgsGithubTotal":0,"articlesImgsTotal":2,"articlesImgsGithubTotal":1,"successGithubMap":{"myreaderx33":1},"failGithubMap":{"myreaderx23":1}},"feed":{"createdTime":"2020-09-07 02:29:58","updatedTime":"2020-11-12 13:51:25","id":23280,"name":"SegmentFault æœ€æ–°çš„æ–‡ç« ","url":"https://segmentfault.com/feeds/blogs","subscriber":142,"website":null,"icon":"https://segmentfault.com/favicon.ico","icon_jsdelivr":null,"description":"","weekly":null,"link":"https://segmentfault.com"},"noPictureArticleList":[{"createdTime":"2020-11-17 01:29:23","updatedTime":"2020-11-17 01:29:23","id":null,"feedId":23280,"linkMd5":"2592d74cb4b42cc606022b7de92c5d37"}],"tmpCommonImgCdnBytes":0,"tmpBodyImgCdnBytes":80226,"tmpBgImgCdnBytes":0,"extra4":{"start":1605547736988,"total":0,"statList":[{"spend":4166,"msg":"è·å–xmlå†…å®¹"},{"spend":8179,"msg":"è§£é‡Šæ–‡ç« "},{"spend":0,"msg":"ä¸Šä¼ å°é¢å›¾åˆ°cdn"},{"spend":0,"msg":"ä¿®æ­£å°é¢å›¾ä¸Šä¼ å¤±è´¥é‡æ–°ä¸Šä¼ "},{"spend":5567,"msg":"æ­£æ–‡é“¾æ¥ä¸Šä¼ åˆ°cdn"}]},"extra5":2,"extra6":2,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"https://segmentfault.com/img/remote/1460000038175988","sourceStatusCode":200,"destWidth":800,"destHeight":340,"sourceBytes":66110,"destBytes":66110,"feedId":23280,"totalSpendMs":4139,"convertSpendMs":0,"createdTime":"2020-11-17 01:29:11","host":"europe67*","referer":"https://segmentfault.com/a/1190000038175985","linkMd5ListStr":"2592d74cb4b42cc606022b7de92c5d37,2592d74cb4b42cc606022b7de92c5d37","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx23/cdn43/contents/2020/11/16/17-29-15-584_8649fe79fea7ea8f.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 69189253.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Mon, 16 Nov 2020 17:29:16 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["8B9A:7087:7DBE37D:90D55E1:5FB2B6EB"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1605548745"],"x-ratelimit-used":["60"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx23/cdn43/contents/2020/11/16/17-29-15-584_8649fe79fea7ea8f.webp","historyStatusCode":[],"spendMs":405},"base64UserPassword":null,"token":"df0b9******************************93a6e"},"githubUser":"myreaderx23","githubHttpCode":403,"extra22GetBytesInfo":"1ã€æ²¡æœ‰Refererå­—æ®µ","extra23historyStatusCode":[200],"sourceSize":"64.6 KB","destSize":"64.6 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://segmentfault.com/img/remote/1460000038175988","sourceStatusCode":200,"destWidth":800,"destHeight":340,"sourceBytes":66110,"destBytes":66110,"feedId":23280,"totalSpendMs":1627,"convertSpendMs":0,"createdTime":"2020-11-17 01:29:16","host":"europe67*","referer":"https://segmentfault.com/a/1190000038175985","linkMd5ListStr":"2592d74cb4b42cc606022b7de92c5d37,2592d74cb4b42cc606022b7de92c5d37","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx23/cdn43/contents/2020/11/16/17-29-17-279_8649fe79fea7ea8f.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 69189253.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Mon, 16 Nov 2020 17:29:17 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["86B8:E4B7:793C51C:8BB97FA:5FB2B6EC"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1605548745"],"x-ratelimit-used":["60"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx23/cdn43/contents/2020/11/16/17-29-17-279_8649fe79fea7ea8f.webp","historyStatusCode":[],"spendMs":347},"base64UserPassword":null,"token":"df0b9******************************93a6e"},"githubUser":"myreaderx23","githubHttpCode":403,"extra22GetBytesInfo":"1ã€æ²¡æœ‰Refererå­—æ®µ","extra23historyStatusCode":[200],"sourceSize":"64.6 KB","destSize":"64.6 KB","compressRate":"100%"}],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://us-55.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://segmentfault.com/img/remote/1460000038179286","sourceStatusCode":200,"destWidth":580,"destHeight":800,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx33/cdn50@2020_3/2020/11/16/17-29-22-135_5f4202e6fc64d6d0.webp","sourceBytes":80226,"destBytes":80226,"feedId":23280,"totalSpendMs":5399,"convertSpendMs":0,"createdTime":"2020-11-17 01:29:17","host":"us-55*","referer":"https://segmentfault.com/a/1190000038175985","linkMd5ListStr":"2592d74cb4b42cc606022b7de92c5d37","githubUser":"myreaderx33","githubHttpCode":201,"extra22GetBytesInfo":"1ã€æ²¡æœ‰Refererå­—æ®µ","extra23historyStatusCode":[200],"sourceSize":"78.3 KB","destSize":"78.3 KB","compressRate":"100%"}],"successGithubMap":{"myreaderx33":1},"failGithubMap":{"myreaderx23":1}}