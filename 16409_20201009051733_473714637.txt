{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-09 13:16:47","updatedTime":"2020-10-09 13:16:47","title":"Azure Static Web Apps with .NET and Blazor","link":"https://devblogs.microsoft.com/aspnet/?p=24135","description":"<p><a href=\"https://aka.ms/blazor-swa/docs\">Azure Static Web Apps</a> is a service that automatically builds and deploys full stack web apps from a GitHub repository. Azure Static Web Apps consist of a static web frontend, and an Azure Functions based backend. When you create a Static Web Apps resource, Azure sets up a GitHub Actions workflow in the app&#8217;s source code repository that monitors a branch of your choice. Every time you push commits to the watched branch, the GitHub Action automatically builds and deploys your app and its API.</p>\n<p>As of today, <a href=\"https://aka.ms/azure-ignite-releases\">Azure Static Web Apps now has first-class support for Blazor WebAssembly and .NET Functions</a> in preview, available in all supported regions. This was one of the top user requests since Static Web Apps was announced at Build. You can develop and deploy a frontend and a serverless API written entirely in .NET.</p>\n<p>Let&#8217;s give it a try!</p>\n<h2 id=\"getting-started\">Getting Started</h2>\n<p>To help you get started, we&#8217;ve created a <a href=\"https://aka.ms/blazor-swa/template\">GitHub repository template</a>, which you can use as a starting point for your own projects.</p>\n<p>In GitHub, click on the <strong>Use this template</strong> button to create a new GitHub repository using the template, providing it a name of your choosing (we&#8217;ll use <em>my-blazor-app</em> here) and click <strong>Create repository from template</strong>.</p>\n<p>There are three folders in the template:</p>\n<ul>\n<li><strong>Client:</strong> The Blazor WebAssembly sample application</li>\n<li><strong>API:</strong> A C# Azure Functions API, which the Blazor application will call</li>\n<li><strong>Shared:</strong> A C# class library with a shared data model between the Blazor and Functions application</li>\n</ul>\n<p>To run the app locally, start both the API and Client projects. The &#8220;Fetch data&#8221; page in the Blazor app requests weather forecast data form the backend Function API and display it on the page.</p>\n<p>To run the app from the command-line, you&#8217;ll need to install the <a href=\"https://docs.microsoft.com/azure/azure-functions/functions-run-local\">Azure Functions Core Tools</a> for your platform of choice.</p>\n<h2 id=\"deploying-to-static-web-apps\">Deploying to Static Web Apps</h2>\n<p>To deploy this app as an Azure Static Web App, log into your Azure account (sign up for a <a href=\"https://aka.ms/blazor-swa/signup\">free one here</a>) and search for <em>Static Web Apps</em>.</p>\n<p><img src=\"https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/09/swa-landing-screen.png\" alt=\"Static Web Apps in the portal\" /></p>\n<p>Click <strong>Create</strong>, provide a <em>Subscription</em>, <em>Resource Group</em> and name for the application.</p>\n<p>Next, sign into GitHub and locate your GitHub repo (<em>my-blazor-app</em>) and select the branch you wish to deploy.</p>\n<p>Finally, select <strong>Blazor</strong> from the <em>Build Presets</em>, which will populate the <em>App location</em>, <em>API location</em> and <em>App artifact location</em> with <strong>Client</strong>, <strong>API</strong> and <strong>wwwroot</strong>. The first and second values are the path within the Git repository to where the project files for the Blazor and Functions app resides, so if you&#8217;ve modified the structure of the Git repository, make sure these values are updated to reflect. The third value is the output path that Blazor will compile into and doesn&#8217;t need updating.</p>\n<p><img src=\"https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/09/complete-blazor-info.png\" alt=\"Azure Static Web App wizard\" /></p>\n<p>Complete the wizard and Static Web Apps will create the GitHub Actions workflow file for you and deploy your application to Azure.</p>\n<p><img src=\"https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/09/blazor-swa-in-action.gif\" alt=\"gif of Action completing and then going to the portal to open the deployed app\" /></p>\n<h2 id=\"summary\">Summary</h2>\n<p>We started by forking a GitHub repository (but you could&#8217;ve also used a project created in Visual Studio/Visual Studio Code/etc.), created a Static Web App in Azure, and it setup a GitHub Actions workflow for us, automatically building and deploying our Blazor and Functions application. We&#8217;ve now got a statically hosted application with a serverless backend, ready to scale for our demands.</p>\n<h2 id=\"additional-resources\">Additional Resources</h2>\n<p>To learn more about Blazor WebAssembly and .NET Functions on Static Web Apps, check out the <a href=\"https://aka.ms/blazor-swa/quickstart\">quickstart docs</a>, the <a href=\"https://aka.ms/blazor-swa/learn\">Microsoft Learn module</a>, as well as the comprehensive <a href=\"https://aka.ms/blazor-swa/docs\">Static Web Apps docs</a>.</p>\n<h2 id=\"give-feedback\">Give Feedback</h2>\n<p>We&#8217;re excited to have Blazor WebAssembly and .NET Functions supported by Azure Static Web Apps, and can&#8217;t wait to see what you build with them. Let us know what you think by filing an issue on <a href=\"https://aka.ms/blazor-swa/issues\">GitHub</a>.</p>\n<p>The post <a rel=\"nofollow\" href=\"https://devblogs.microsoft.com/aspnet/azure-static-web-apps-with-blazor/\">Azure Static Web Apps with .NET and Blazor</a> appeared first on <a rel=\"nofollow\" href=\"https://devblogs.microsoft.com/aspnet\">ASP.NET Blog</a>.</p>\n","descriptionType":"html","publishedDate":"Tue, 22 Sep 2020 16:00:45 +0000","feedId":16409,"bgimg":"https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/09/swa-landing-screen.png","linkMd5":"8769107b6cf00db34c6f178594d6887c","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn93@2020_1/2020/10/09/05-16-48-068_3ac43acf1aee8904.webp","destWidth":663,"destHeight":705,"sourceBytes":58187,"destBytes":40940,"author":"aapowell","articleImgCdnMap":{"https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/09/swa-landing-screen.png":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn93@2020_1/2020/10/09/05-16-48-068_3ac43acf1aee8904.webp","https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/09/complete-blazor-info.png":"https://cdn.jsdelivr.net/gh/myreaderx25/cdn98@2020_6/2020/10/09/05-16-49-050_f490a129cb5ae0e8.webp","https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/09/blazor-swa-in-action.gif":null},"publishedOrCreatedDate":1602220607839}],"record":{"createdTime":"2020-10-09 13:16:47","updatedTime":"2020-10-09 13:16:47","feedId":16409,"fetchDate":"Fri, 09 Oct 2020 05:16:47 +0000","fetchMs":206,"handleMs":68,"totalMs":45376,"newArticles":0,"totalArticles":10,"status":1,"type":0,"ip":"c95099efafc17f9e0beaf843cecd5c56","hostName":"us-024*","requestId":"92793141d92942d59c2d235ea5ca4458_16409","contentType":"application/rss+xml; charset=UTF-8","totalBytes":94872,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":3,"articlesImgsGithubTotal":2,"successGithubMap":{"myreaderx25":1,"myreaderx19":1},"failGithubMap":{"myreaderx14":1}},"feed":{"createdTime":"2020-09-07 02:12:47","updatedTime":"2020-09-07 02:39:34","id":16409,"name":"ASP.NET Blog","url":"https://blogs.msdn.microsoft.com/webdev/feed/","subscriber":204,"website":null,"icon":"https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2018/10/Microsoft-Favicon.png","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx63/cdn61@2020_2/2020/09/06/18-39-33-803_69a01f2d26fbb501.png","description":"An open source web framework for building modern web apps and services with .NET.","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2020-10-09 13:17:32","updatedTime":"2020-10-09 13:17:32","id":null,"feedId":16409,"linkMd5":"8769107b6cf00db34c6f178594d6887c"}],"tmpCommonImgCdnBytes":40940,"tmpBodyImgCdnBytes":53932,"tmpBgImgCdnBytes":0,"extra4":{"start":1602220607555,"total":0,"statList":[{"spend":217,"msg":"获取xml内容"},{"spend":68,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":44025,"msg":"正文链接上传到cdn"}]},"extra5":3,"extra6":3,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/09/blazor-swa-in-action.gif","sourceStatusCode":200,"destWidth":1531,"destHeight":1451,"sourceBytes":1767530,"destBytes":1841204,"targetWebpQuality":75,"feedId":16409,"totalSpendMs":21794,"convertSpendMs":21371,"createdTime":"2020-10-09 13:16:48","host":"us-017*","referer":"https://devblogs.microsoft.com/aspnet/?p=24135","linkMd5ListStr":"8769107b6cf00db34c6f178594d6887c","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn1/contents/2020/10/09/05-17-10-467_5d5f2d65ca90809e.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Fri, 09 Oct 2020 05:17:10 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["A588:0FF7:203A911:33AFF30:5F7FF253"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, read:packages, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1602221702"],"x-ratelimit-used":["60"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn1/contents/2020/10/09/05-17-10-467_5d5f2d65ca90809e.webp","historyStatusCode":[],"spendMs":209},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.7 MB","destSize":"1.8 MB","compressRate":"104.2%"},{"code":1,"isDone":false,"source":"https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/09/blazor-swa-in-action.gif","sourceStatusCode":200,"destWidth":1531,"destHeight":1451,"sourceBytes":1767530,"destBytes":1841204,"targetWebpQuality":75,"feedId":16409,"totalSpendMs":22102,"convertSpendMs":21720,"createdTime":"2020-10-09 13:17:10","host":"us-017*","referer":"https://devblogs.microsoft.com/aspnet/?p=24135","linkMd5ListStr":"8769107b6cf00db34c6f178594d6887c","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn1/contents/2020/10/09/05-17-32-783_5d5f2d65ca90809e.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Fri, 09 Oct 2020 05:17:32 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["A588:0FF7:203B3BC:33B0872:5F7FF25E"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, read:packages, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1602221702"],"x-ratelimit-used":["60"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn1/contents/2020/10/09/05-17-32-783_5d5f2d65ca90809e.webp","historyStatusCode":[],"spendMs":121},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.7 MB","destSize":"1.8 MB","compressRate":"104.2%"}],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://us-017.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-030.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/09/swa-landing-screen.png","sourceStatusCode":200,"destWidth":663,"destHeight":705,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn93@2020_1/2020/10/09/05-16-48-068_3ac43acf1aee8904.webp","sourceBytes":58187,"destBytes":40940,"targetWebpQuality":75,"feedId":16409,"totalSpendMs":1017,"convertSpendMs":53,"createdTime":"2020-10-09 13:16:47","host":"us-52*","referer":"https://devblogs.microsoft.com/aspnet/?p=24135","linkMd5ListStr":"8769107b6cf00db34c6f178594d6887c,8769107b6cf00db34c6f178594d6887c","githubUser":"myreaderx19","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"56.8 KB","destSize":"40 KB","compressRate":"70.4%"},{"code":1,"isDone":false,"source":"https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/09/complete-blazor-info.png","sourceStatusCode":200,"destWidth":662,"destHeight":1185,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx25/cdn98@2020_6/2020/10/09/05-16-49-050_f490a129cb5ae0e8.webp","sourceBytes":90532,"destBytes":53932,"targetWebpQuality":75,"feedId":16409,"totalSpendMs":1342,"convertSpendMs":52,"createdTime":"2020-10-09 13:16:48","host":"us-030*","referer":"https://devblogs.microsoft.com/aspnet/?p=24135","linkMd5ListStr":"8769107b6cf00db34c6f178594d6887c","githubUser":"myreaderx25","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"88.4 KB","destSize":"52.7 KB","compressRate":"59.6%"}],"successGithubMap":{"myreaderx25":1,"myreaderx19":1},"failGithubMap":{"myreaderx14":1}}