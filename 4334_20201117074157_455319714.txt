{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-11-17 15:41:21","updatedTime":"2020-11-17 15:41:21","title":"Немецкие датчики качества воздуха на Народном мониторинге","link":"https://ammo1.livejournal.com/1193269.html","description":"Уже девять месяцев у меня за окном работает самодельная \n<a href=\"https://ammo1.livejournal.com/1114143.html\" target=\"_blank\">станция мониторинга качества воздуха</a>, собранная по немецкому проекту \n<a href=\"https://sensor.community/ru/\" target=\"_blank\">sensor.community</a>.\n<br />С сегодняшнего дня данные с таких станций может отображать российский сервис Народный мониторинг.\n<br />\n<br />\n<center>\n <img src=\"https://ammo1.ru/aa/pic20b/pmnarmon01.png\" align=\"center\" loading=\"lazy\" />\n</center>\n<br />\n<br />\n<br />Благодаря статье про Облачный термометр за 10 минут и 300 рублей (\n<a href=\"https://ammo1.livejournal.com/1192892.html\" target=\"_blank\">https://ammo1.livejournal.com/1192892.html</a>), я познакомился с создателем сервиса Народный мониторинг.\n<br />\n<br />Этот сервис отображает на карте данные с огромного количества датчиков (температуры, влажности, давления, пыли, радиации и других параметров), установленных по всей стране тысячами энтузиастов. Кроме того он умеет показывать данные в мобильном приложении и через телеграм-бот, оповещать о выходе параметров за указанные пределы. Датчики могут быть как публичные, данные с которых видны всем посетителям сайта \n<a href=\"https://narodmon.ru\" target=\"_blank\">narodmon.ru</a>, так и приватные, данные с которых видны только их владельцу. \n<br />\n<br />С помощью Сергея Андреева, написавшего движок сайта \n<a href=\"https://Lamptest.ru\" target=\"_blank\">Lamptest.ru</a>, мы разобрались, как немецкая прошивка может отправлять данные на указанный сервер. А создатель Народного мониторинга сделал поддержку этих данных в своём проекте.\n<br />\n<br />Для того, чтобы добавить станцию мониторинга качества воздуха на Народный мониторинг нужно сделать следующее:\n<br />\n<br />1. Заходим в web-интерфейс станции, нажимаем \"Конфигурация\" - \"Дополнительные настройки\". Устанавливаем \"Измерительный интервал\" 300 (по умолчанию там 145).\n<br />\n<br />\n<center>\n <img src=\"https://ammo1.ru/aa/pic20b/pmnarmon02.png\" align=\"center\" loading=\"lazy\" />\n</center>\n<br />\n<br />2. Нажимаем сверху \"APIs\", ставим галку \"Отправлять в InfluxDB\". Указываем сервер \"narodmon.ru\", путь \"/post.php\", порт \"80\". Всё остальное не меняем. Записываем ID сверху страницы. Нажимаем \"Сохранить и перезагрузить\".\n<br />\n<br />\n<center>\n <img src=\"https://ammo1.ru/aa/pic20b/pmnarmon03.png\" align=\"center\" loading=\"lazy\" />\n</center>\n<br />\n<br />3. Если ещё не зарегистрированы, регистрируемся на Народном мониторинге, заходим в \"Профиль - Мои датчики\".\n<br />\n<br />\n<center>\n <img src=\"https://ammo1.ru/aa/pic20b/cloudthermo13.png\" align=\"center\" loading=\"lazy\" />\n</center>\n<br />\n<br />Нажимаем \"Добавить\" и вводим \"esp8266-\" и наш ID, в данном случае \"esp8266-3323232\" (не пытайтесь вводить этот ID, он здесь для примера и его не существует).\n<br />\n<br />\n<center>\n <img src=\"https://ammo1.ru/aa/pic20b/pmnarmon05.png\" align=\"center\" loading=\"lazy\" />\n</center>\n<br />\n<br />Данные со станции тут же отобразятся в разделе датчиков.\n<br />\n<br />\n<center>\n <img src=\"https://ammo1.ru/aa/pic20b/pmnarmon04.png\" align=\"center\" loading=\"lazy\" />\n</center>\n<br />\n<br />Огромный плюс того, что станцию теперь можно добавить в Народный мониторинг, в том, что можно настроить уведомления при превышении уровня концентрации пыли и сервис с помощью E-mail, СМС, push в приложение, Telegram и Viber (на выбор) будет уведомлять о том, что с загрязнением воздуха сегодня всё плохо и лучше меньше времени проводить на улице.\n<br />\n<br />На всякий случай напомню, что нужно для того, чтобы собрать свою станцию мониторинга качества воздуха:\n<br />\n<br />1. Датчик пыли \n<a href=\"http://ali.pub/4e35gt\" target=\"_blank\">Nova PM SDS011 за $17.71</a>;\n<br />\n<br />2. Микрокомпьютер \n<a href=\"http://ali.pub/4e35u8\" target=\"_blank\">NodeMcu V3 (выбрать CH340) за $2.03</a>;\n<br />\n<br />3. Датчик температуры, влажности, давления \n<a href=\"http://ali.pub/4e368f\" target=\"_blank\">BME280 за $2.07</a>;\n<br />\n<br />Три первые позиции у одного продавца, нужно выбрать Aliexpress Standard Shipping и можно заказать быструю доставку в магазины Пятёрочка (самовывоз).\n<br />\n<br />4. \n<a href=\"http://ali.pub/4e37ml\" target=\"_blank\">Трубка (выбрать 6x8 мм) за $1.17</a>;\n<br />\n<br />5. Распределительная коробка (в любом магазине электротоваров или хозтоваров) - 50 руб;\n<br />\n<br />6. USB-зарядка с током не менее 500 mA.\n<br />\n<br />Дополнительно могут понадобится:\n<br />\n<br />6. Соединительные провода \n<a href=\"http://ali.pub/4e36nz\" target=\"_blank\">Dupont (выбрать F-F) за $0.58</a>;\n<br />\n<br />7. Плоский \n<a href=\"http://ali.pub/4e37a5\" target=\"_blank\">кабель USB-MicoUSB (выбрать нужную длину 2 или 3 м) за $1.85-2.32</a>.\n<br />\n<br />Подробная инструкция по подключению, прошивке, регистрации в системе лежит \n<a href=\"https://docs.google.com/document/d/1cDL0KtBHc0Q2Dq_zfSVBFS6UNHIDVBUb3gaUc5YoP2w/edit\" target=\"_blank\">тут</a>.\n<br />\n<br />\n<br />Спасибо администрации Народного мониторинга и Сергею Андрееву за то, что отправку данных со станции на narodmon.ru удалось реализовать всего за один сегодняшний день.\n<br />\n<br />\n<br />© 2020, Алексей Надёжин\n<br />\n<br />\n<center></center>\n<br />\n<br />\n<hr>\n Десять лет я каждый день пишу о технике, скидках, интересных местах и событиях. Читайте мой блог на сайте \n <a href=\"http://ammo1.ru\" target=\"_blank\">ammo1.ru</a>, в \n <a href=\"https://ammo1.livejournal.com\" target=\"_blank\">ЖЖ</a>, \n <a href=\"https://zen.yandex.ru/ammo1\" target=\"_blank\">Дзен</a>, \n <a href=\"https://ammo1.mirtesen.ru\" target=\"_blank\">МирТесен</a>.\n <br />Мои проекты: \n <br />\n <a href=\"http://lamptest.ru\" target=\"_blank\">Lamptest.ru</a>. Тестирую светодиодные лампы и помогаю разобраться, какие из них хорошие, а какие не очень.\n <br />\n <a href=\"https://elerus.ru\" target=\"_blank\">Elerus.ru</a>. Собираю информацию об отечественных электронных устройствах для личного использования и делюсь ей.\n <br />Вы можете связаться со мной в Телеграм \n <a href=\"https://t.me/ammo1\" target=\"_blank\">@ammo1</a> и по почте \n <a href=\"mailto:ammo1@mail.ru\" target=\"_blank\">ammo1@mail.ru</a>.\n <br />\n <a name=\"cutid1-end\"></a>\n</hr>","descriptionType":"text/html","publishedDate":"Sat, 07 Nov 2020 18:00:19 +0000","feedId":4334,"bgimg":"https://ammo1.ru/aa/pic20b/pmnarmon01.png","linkMd5":"369fcfdc1730dd15fd94214f9f913c1a","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn41@2020_2/2020/11/17/07-41-32-511_04e6e35ac6d2a442.webp","destWidth":900,"destHeight":600,"sourceBytes":105297,"destBytes":108900,"author":"ammo1","articleImgCdnMap":{"https://ammo1.ru/aa/pic20b/pmnarmon01.png":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn41@2020_2/2020/11/17/07-41-32-511_04e6e35ac6d2a442.webp","https://ammo1.ru/aa/pic20b/pmnarmon02.png":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn54@2020_4/2020/11/17/07-41-41-823_3bc4655e5179f41e.webp","https://ammo1.ru/aa/pic20b/pmnarmon03.png":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn49@2020_4/2020/11/17/07-41-34-303_95636df7f335d8a7.webp","https://ammo1.ru/aa/pic20b/cloudthermo13.png":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn45@2020_1/2020/11/17/07-41-34-574_2b25de63d5fc06f7.webp","https://ammo1.ru/aa/pic20b/pmnarmon05.png":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn61@2020_6/2020/11/17/07-41-55-996_41d42b913540706d.webp","https://ammo1.ru/aa/pic20b/pmnarmon04.png":"https://cdn.jsdelivr.net/gh/myreaderx14/cdn57@2020_4/2020/11/17/07-41-39-221_967770ed8215f645.webp"},"publishedOrCreatedDate":1605598881822}],"record":{"createdTime":"2020-11-17 15:41:21","updatedTime":"2020-11-17 15:41:21","feedId":4334,"fetchDate":"Tue, 17 Nov 2020 07:41:21 +0000","fetchMs":1979,"handleMs":33,"totalMs":37797,"newArticles":0,"totalArticles":25,"status":1,"type":0,"ip":"c394e3bd901301b53ebc0f0839c4c752","hostName":"us-002*","requestId":"7be522e7559e4783b059f1fc9338a681_4334","contentType":"text/xml; charset=utf-8","totalBytes":702826,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":6,"articlesImgsGithubTotal":6,"successGithubMap":{"myreaderx14":1,"myreaderx7":1,"myreaderx21":1,"myreaderx10":1,"myreaderx12":1,"myreaderx19":1},"failGithubMap":{}},"feed":{"createdTime":"2020-08-25 04:29:42","updatedTime":"2020-09-01 10:47:43","id":4334,"name":"Жизнь, полная впечатлений","url":"https://ammo1.livejournal.com/data/rss","subscriber":null,"website":null,"icon":"https://l-userpic.livejournal.com/72832746/8125164","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx65/cdn97@2020_6/2020/09/01/02-47-39-543_87de1c32188ca208.jpg","description":"Жизнь, полная впечатлений - LiveJournal.com","weekly":null,"link":null},"noPictureArticleList":[],"tmpCommonImgCdnBytes":108900,"tmpBodyImgCdnBytes":593926,"tmpBgImgCdnBytes":0,"extra4":{"start":1605598879807,"total":0,"statList":[{"spend":1983,"msg":"获取xml内容"},{"spend":33,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":24053,"msg":"正文链接上传到cdn"}]},"extra5":6,"extra6":6,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"https://ammo1.ru/aa/pic20b/pmnarmon05.png","sourceStatusCode":0,"sourceBytes":0,"destBytes":0,"feedId":4334,"totalSpendMs":21735,"convertSpendMs":0,"createdTime":"2020-11-17 15:41:33","host":"us-016*","referer":"https://ammo1.livejournal.com/1193269.html","linkMd5ListStr":"369fcfdc1730dd15fd94214f9f913c1a","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[0],"destSize":"0","sourceSize":"0"}],"extra10_invalidATagHrefValue":{"https://ammo1.livejournal.com/1193269.html_mailto:ammo1@mail.ru":"mailto:ammo1@mail.ru"},"extra111_proxyServerAndStatMap":{"http://europe-24.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://europe62.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-028.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-016.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[0]},"http://us-040.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://ammo1.ru/aa/pic20b/pmnarmon01.png","sourceStatusCode":200,"destWidth":900,"destHeight":600,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn41@2020_2/2020/11/17/07-41-32-511_04e6e35ac6d2a442.webp","sourceBytes":105297,"destBytes":108900,"targetWebpQuality":75,"feedId":4334,"totalSpendMs":11700,"convertSpendMs":28,"createdTime":"2020-11-17 15:41:21","host":"us-012*","referer":"https://ammo1.livejournal.com/1193269.html","linkMd5ListStr":"369fcfdc1730dd15fd94214f9f913c1a,369fcfdc1730dd15fd94214f9f913c1a","githubUser":"myreaderx12","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"106.3 KB","compressRate":"103.4%","sourceSize":"102.8 KB"},{"code":1,"isDone":false,"source":"https://ammo1.ru/aa/pic20b/cloudthermo13.png","sourceStatusCode":200,"destWidth":1279,"destHeight":853,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn45@2020_1/2020/11/17/07-41-34-574_2b25de63d5fc06f7.webp","sourceBytes":236725,"destBytes":215686,"targetWebpQuality":75,"feedId":4334,"totalSpendMs":2154,"convertSpendMs":63,"createdTime":"2020-11-17 15:41:33","host":"europe-24*","referer":"https://ammo1.livejournal.com/1193269.html","linkMd5ListStr":"369fcfdc1730dd15fd94214f9f913c1a","githubUser":"myreaderx19","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"210.6 KB","compressRate":"91.1%","sourceSize":"231.2 KB"},{"code":1,"isDone":false,"source":"https://ammo1.ru/aa/pic20b/pmnarmon03.png","sourceStatusCode":200,"destWidth":727,"destHeight":996,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn49@2020_4/2020/11/17/07-41-34-303_95636df7f335d8a7.webp","sourceBytes":26389,"destBytes":57602,"targetWebpQuality":75,"feedId":4334,"totalSpendMs":2790,"convertSpendMs":27,"createdTime":"2020-11-17 15:41:33","host":"europe62*","referer":"https://ammo1.livejournal.com/1193269.html","linkMd5ListStr":"369fcfdc1730dd15fd94214f9f913c1a","githubUser":"myreaderx7","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"56.3 KB","compressRate":"218.3%","sourceSize":"25.8 KB"},{"code":1,"isDone":false,"source":"https://ammo1.ru/aa/pic20b/pmnarmon04.png","sourceStatusCode":200,"destWidth":1136,"destHeight":757,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx14/cdn57@2020_4/2020/11/17/07-41-39-221_967770ed8215f645.webp","sourceBytes":47851,"destBytes":110358,"targetWebpQuality":75,"feedId":4334,"totalSpendMs":6716,"convertSpendMs":51,"createdTime":"2020-11-17 15:41:33","host":"us-028*","referer":"https://ammo1.livejournal.com/1193269.html","linkMd5ListStr":"369fcfdc1730dd15fd94214f9f913c1a","githubUser":"myreaderx14","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"107.8 KB","compressRate":"230.6%","sourceSize":"46.7 KB"},{"code":1,"isDone":false,"source":"https://ammo1.ru/aa/pic20b/pmnarmon02.png","sourceStatusCode":200,"destWidth":727,"destHeight":680,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn54@2020_4/2020/11/17/07-41-41-823_3bc4655e5179f41e.webp","sourceBytes":20440,"destBytes":51188,"targetWebpQuality":75,"feedId":4334,"totalSpendMs":9172,"convertSpendMs":19,"createdTime":"2020-11-17 15:41:33","host":"us-040*","referer":"https://ammo1.livejournal.com/1193269.html","linkMd5ListStr":"369fcfdc1730dd15fd94214f9f913c1a","githubUser":"myreaderx21","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"50 KB","compressRate":"250.4%","sourceSize":"20 KB"},{"code":1,"isDone":false,"source":"https://ammo1.ru/aa/pic20b/pmnarmon05.png","sourceStatusCode":200,"destWidth":1274,"destHeight":849,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn61@2020_6/2020/11/17/07-41-55-996_41d42b913540706d.webp","sourceBytes":211908,"destBytes":159092,"targetWebpQuality":75,"feedId":4334,"totalSpendMs":2058,"convertSpendMs":53,"createdTime":"2020-11-17 15:41:55","host":"europe-24*","referer":"https://ammo1.livejournal.com/1193269.html","linkMd5ListStr":"369fcfdc1730dd15fd94214f9f913c1a","githubUser":"myreaderx10","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"155.4 KB","compressRate":"75.1%","sourceSize":"206.9 KB"}],"successGithubMap":{"myreaderx14":1,"myreaderx7":1,"myreaderx21":1,"myreaderx10":1,"myreaderx12":1,"myreaderx19":1},"failGithubMap":{}}