{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-13 06:41:53","updatedTime":"2020-10-13 06:41:53","title":"Restricting Notification Permission Prompts in Firefox","link":"https://blog.mozilla.org/futurereleases/?p=2673","description":"<p>In April we <a href=\"https://blog.nightly.mozilla.org/2019/04/01/reducing-notification-permission-prompt-spam-in-firefox/\">announced our intent</a> to reduce the amount of annoying permission prompts for receiving desktop notifications that our users are seeing on a daily basis. To that effect, we ran a series of studies and experiments around restricting these prompts.</p>\n<p><b>Based on these studies, we will require user interaction on all notification permission prompts, starting in Firefox 72. </b>That is, before a site can ask for notification permission, the user will have to perform a tap, click, or press a key.</p>\n<p>In this blog post I will give a detailed overview of the study results and further outline our plans for the future.</p>\n<h2>Experiments</h2>\n<p>As previously described, we designed a measurement using Firefox Telemetry that allows us to report details around when and how a user interacts with a permission prompt without revealing personal information. <a href=\"https://searchfox.org/mozilla-central/rev/06bd14ced96f25ff1dbd5352cb985fc0fa12a64e/toolkit/components/telemetry/Events.yaml#1224\">The full probe definition can be seen in our source code</a>. It was enabled for a randomly chosen pool of study participants (0.1% of the user population) on Firefox Release, as well as for all users of Firefox Nightly. The Release study additionally differentiated between new users and existing users, to account for an inherent bias of existing users towards denying permission requests (because they usually already “have” the right permissions on sites relevant to them).</p>\n<p>We further enabled requiring user interaction for notification permission prompts in Nightly and Beta.</p>\n<h2>Results</h2>\n<p>Most of the heavy lifting here was done by Felix Lawrence, who performed a thorough analysis of the data we collected. You can read his full report for <a href=\"https://mozilla.report/post/projects/notification_permissions.kp/index.html\">our Firefox Release study</a>. I will highlight some of the key takeaways:</p>\n<p><b>Notification prompts are </b><b><i>very</i></b><b> unpopular. </b>On Release, about 99% of notification prompts go unaccepted, with 48% being actively denied by the user. This is even worse than what we’ve seen on Nightly, and it paints a dire picture of the user experience on the web. To add from related telemetry data, during a single month of the Firefox 63 Release, a total of 1.45 <i>Billion</i> prompts were shown to users, of which only 23.66 <i>Million</i> were accepted. I.e, for each prompt that is accepted, sixty are denied or ignored. In about 500 Million cases during that month, users actually spent the time to click on “Not Now”.</p>\n<p><b>Users are unlikely to accept a prompt when it is shown more than once for the same site. </b>We had previously given websites the ability to ask users for notification every time they visit a site in a new tab. The underlying assumption that users would want to take several visits to make up their minds turns out to be wrong. As Felix notes, around 85% of prompts were accepted without the user ever having previously clicked “Not Now”.</p>\n<p><b>Most notification prompts don’t follow user interaction. </b>Especially on Release, the overall number of prompts that are already compatible with this intervention is very low.</p>\n<p><b>Prompts that are shown as a result of user interaction have significantly better interaction metrics. </b>This is an important takeaway. Along with the significant decrease in overall volume, we can see a significantly better rate of first-time allow decisions (52%) after enforcing user interaction on Nightly. The same can be observed for prompts with user interaction in our Release study, where existing users will accept 24% of first-time prompts with user interaction and new users would accept a whopping 56% of first-time prompts with user interaction.</p>\n<h2>Changes</h2>\n<p>Based on the outlined results we have decided to enact two new restrictions:</p>\n<ul>\n<li>Starting from Firefox 70, replace the default “Not Now” option with “Never”, which will effectively hide the prompt on a page forever.</li>\n<li>Starting from Firefox 72, require user interaction to show notification permission prompts. Prompts without interaction will only show a small icon in the url bar.</li>\n</ul>\n<p>When a permission prompt is denied by Firefox, the user still has the ability to override this automatic decision by clicking the small permission icon that appears in the address bar. This lets users use the feature on websites with that prompt without waiting for user interaction.</p>\n<p><a href=\"https://blog.mozilla.org/futurereleases/files/2019/11/Screen-Recording-2019-04-01-at-11.58.00.gif\"><img class=\"aligncenter size-full wp-image-2675\" src=\"https://blog.mozilla.org/futurereleases/files/2019/11/Screen-Recording-2019-04-01-at-11.58.00.gif\" alt=\"\" width=\"808\" height=\"392\" /></a></p>\n<p>&#160;</p>\n<p>Besides the clear improvements in user interaction rates that our study has shown, these restrictions were derived from a few other considerations:</p>\n<ul>\n<li><b>Easy to upgrade. </b>Requiring user interaction allows for an easy upgrade path for affected websites, while hiding annoying “on load” prompts.</li>\n<li><b>Transparent. </b>Unlike other heuristics (such as “did the user visit this site a lot in the past”), interaction is easy to understand for both developers and users.</li>\n<li><b>Encourages pre-prompting</b>. We want to websites to use in-content controls to enable notifications, as long as they have an informative style and do not try to mimic native browser UI. Faking (“spoofing”) browser UI is considered a security risk and will be met with stronger enforcement in the future. A good pre-prompt follows the style of the page and adds additional context to the request. Pre-prompting, when done well, will increase the chance of users opting to receive notifications. Annoying users, as our data shows, will lead to churn.</li>\n</ul>\n<p>We will release additional information and resources for web developers on our <a href=\"https://hacks.mozilla.org/\">Mozilla Hacks</a> blog.</p>\n<p>We hope that these restrictions will lead to an overall better and less annoying user experience for all our users while retaining the functionality for those that need notifications.</p>\n<p>The post <a rel=\"nofollow\" href=\"https://blog.mozilla.org/futurereleases/2019/11/04/restricting-notification-permission-prompts-in-firefox/\">Restricting Notification Permission Prompts in Firefox</a> appeared first on <a rel=\"nofollow\" href=\"https://blog.mozilla.org/futurereleases\">Future Releases</a>.</p>\n","descriptionType":"html","publishedDate":"Mon, 04 Nov 2019 14:38:44 +0000","feedId":24555,"bgimg":"https://blog.mozilla.org/futurereleases/files/2019/11/Screen-Recording-2019-04-01-at-11.58.00.gif","linkMd5":"34f6e4dcbea5b2f3ccc7418038b632a2","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn12@2020_6/2020/10/12/22-42-16-910_e3343b15701bbcb0.webp","destWidth":808,"destHeight":392,"sourceBytes":297646,"destBytes":842662,"author":"Mozilla","articleImgCdnMap":{"https://blog.mozilla.org/futurereleases/files/2019/11/Screen-Recording-2019-04-01-at-11.58.00.gif":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn12@2020_6/2020/10/12/22-42-16-910_e3343b15701bbcb0.webp"},"publishedOrCreatedDate":1602542513296}],"record":{"createdTime":"2020-10-13 06:41:53","updatedTime":"2020-10-13 06:41:53","feedId":24555,"fetchDate":"Mon, 12 Oct 2020 22:41:53 +0000","fetchMs":780,"handleMs":6,"totalMs":26161,"newArticles":0,"totalArticles":10,"status":1,"type":0,"ip":"9128a42e23caa7de0e7439c434c47fc1","hostName":"europe63*","requestId":"36945833e45b451e92ef0448aee1c654_24555","contentType":"application/rss+xml; charset=UTF-8","totalBytes":842662,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":1,"articlesImgsGithubTotal":1,"successGithubMap":{"myreaderx22":1},"failGithubMap":{}},"feed":{"createdTime":"2020-09-07 02:33:30","updatedTime":"2020-09-07 04:29:34","id":24555,"name":"Future Releases","url":"https://blog.mozilla.org/futurereleases/feed/","subscriber":134,"website":null,"icon":"https://blog.mozilla.org/favicon.ico","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx61/cdn1@2020_6/2020/09/06/20-29-33-915_c52da32fd175adca.jpg","description":"Be the first to know what's new with upcoming Firefox releases.","weekly":null,"link":null},"noPictureArticleList":[],"tmpCommonImgCdnBytes":842662,"tmpBodyImgCdnBytes":0,"tmpBgImgCdnBytes":0,"extra4":{"start":1602542512377,"total":0,"statList":[{"spend":913,"msg":"获取xml内容"},{"spend":6,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":0,"msg":"正文链接上传到cdn"}]},"extra5":1,"extra6":1,"extra7ImgCdnFailResultVector":[],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://blog.mozilla.org/futurereleases/files/2019/11/Screen-Recording-2019-04-01-at-11.58.00.gif","sourceStatusCode":200,"destWidth":808,"destHeight":392,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn12@2020_6/2020/10/12/22-42-16-910_e3343b15701bbcb0.webp","sourceBytes":297646,"destBytes":842662,"targetWebpQuality":75,"feedId":24555,"totalSpendMs":25045,"convertSpendMs":22678,"createdTime":"2020-10-13 06:41:53","host":"us-020*","referer":"https://blog.mozilla.org/futurereleases/?p=2673","linkMd5ListStr":"34f6e4dcbea5b2f3ccc7418038b632a2,34f6e4dcbea5b2f3ccc7418038b632a2","githubUser":"myreaderx22","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"290.7 KB","destSize":"822.9 KB","compressRate":"283.1%"}],"successGithubMap":{"myreaderx22":1},"failGithubMap":{}}