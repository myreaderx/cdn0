{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-12-11 16:00:26","updatedTime":"2020-12-11 16:00:26","title":"Enabling HTTPS Connections to Percona Monitoring and Management Using Custom Certificates","link":"https://www.percona.com/blog/?p=72846","description":"<img width=\"200\" height=\"112\" src=\"https://www.percona.com/blog/wp-content/uploads/2020/12/HTTPS-Connections-to-Percona-Monitoring-and-Management-200x112.png\" class=\"webfeedsFeaturedVisual wp-post-image\" alt=\"HTTPS Connections to Percona Monitoring and Management\" loading=\"lazy\" style=\"display: block; margin-bottom: 5px; clear:both;max-width: 100%;\" link_thumbnail=\"\" srcset=\"https://www.percona.com/blog/wp-content/uploads/2020/12/HTTPS-Connections-to-Percona-Monitoring-and-Management-200x112.png 200w, https://www.percona.com/blog/wp-content/uploads/2020/12/HTTPS-Connections-to-Percona-Monitoring-and-Management-300x168.png 300w, https://www.percona.com/blog/wp-content/uploads/2020/12/HTTPS-Connections-to-Percona-Monitoring-and-Management-1024x572.png 1024w, https://www.percona.com/blog/wp-content/uploads/2020/12/HTTPS-Connections-to-Percona-Monitoring-and-Management-367x205.png 367w, https://www.percona.com/blog/wp-content/uploads/2020/12/HTTPS-Connections-to-Percona-Monitoring-and-Management.png 1200w\" sizes=\"(max-width: 200px) 100vw, 200px\" /><p><img loading=\"lazy\" class=\"alignright size-medium wp-image-73034\" src=\"https://www.percona.com/blog/wp-content/uploads/2020/12/HTTPS-Connections-to-Percona-Monitoring-and-Management-300x168.png\" alt=\"HTTPS Connections to Percona Monitoring and Management\" width=\"300\" height=\"168\" srcset=\"https://www.percona.com/blog/wp-content/uploads/2020/12/HTTPS-Connections-to-Percona-Monitoring-and-Management-300x168.png 300w, https://www.percona.com/blog/wp-content/uploads/2020/12/HTTPS-Connections-to-Percona-Monitoring-and-Management-1024x572.png 1024w, https://www.percona.com/blog/wp-content/uploads/2020/12/HTTPS-Connections-to-Percona-Monitoring-and-Management-200x112.png 200w, https://www.percona.com/blog/wp-content/uploads/2020/12/HTTPS-Connections-to-Percona-Monitoring-and-Management-367x205.png 367w, https://www.percona.com/blog/wp-content/uploads/2020/12/HTTPS-Connections-to-Percona-Monitoring-and-Management.png 1200w\" sizes=\"(max-width: 300px) 100vw, 300px\" />Whichever way you installed <a target=\"_blank\" href=\"https://www.percona.com/software/database-tools/percona-monitoring-and-management\">Percona Monitoring and Management 2</a> (PMM2), using the docker image or an OVF image for your supported virtualized environment, PMM2 enables, by default, two ports for the web connections: 80 for HTTP and 443 for HTTPS. Using HTTPS certificates are requested for encrypting the connection for better security.</p>\n<p>All the installation images contain self-signed certificates already configured, so every PMM2 deployment should work properly when using HTTPS.</p>\n<p>This is cool, but sometimes self-signed certificates are not permitted, based on the security policy adopted by your company. If your company uses a Certification Authority to sign certificates and keys for encryption, most probably you are forced to use the files provided by the CA for all your services, even for PMM2 monitoring.</p>\n<p>In this article, we&#8217;ll show how to use your custom certificates to enable HTTPS connections to PMM2, according to your security policy.</p>\n<h2>PMM2 Deployed as a Docker Image</h2>\n<p>If PMM Server is running as a Docker image, use <code>docker cp</code> to copy certificates. This example copies certificate files from the current working directory to a running PMM Server docker container.</p>\n<div class=\"highlight\">\n<pre class=\"crayon-plain-tag\">docker cp certificate.crt pmm-server:/srv/nginx/certificate.crt\ndocker cp certificate.key pmm-server:/srv/nginx/certificate.key\ndocker cp ca-certs.pem pmm-server:/srv/nginx/ca-certs.pem\ndocker cp dhparam.pem pmm-server:/srv/nginx/dhparam.pem</pre>\n</div>\n<p>If you&#8217;re going to deploy the container, you can use the following to use your own certificates instead of the built-in ones. Let&#8217;s suppose your certificates are in <code>/etc/pmm-certs</code>:</p><pre class=\"crayon-plain-tag\">docker run -d -p 443:443 --volumes-from pmm-data \\\n  --name pmm-server -v /etc/pmm-certs:/srv/nginx \\\n  --restart always percona/pmm-server:2</pre><p></p>\n<ul>\n<li>The certificates must be owned by root.</li>\n<li>The mounted certificate directory must contain the files <code>certificate.crt</code>, <code>certificate.key</code>, <code>ca-certs.pem</code> and <code>dhparam.pem</code>.</li>\n<li>For SSL encryption, the container must publish on port 443 instead of 80.</li>\n</ul>\n<h2>PMM2 Deployed Using a Virtual Appliance Image</h2>\n<p>In such cases, you need to connect to the virtual machine and replace the certificate files in <code>/srv/nginx</code>:</p>\n<ul>\n<li>connect to the virtual machine<br />\n<pre class=\"crayon-plain-tag\">$&#62; ssh root@pmm2.mydomain.com</pre>\n</li>\n<li>place CA, certificate, and key files into the <code>/srv/nginx</code> directory. The file must be named <code>certificate.crt</code>, <code>certificate.key</code>, <code>ca-certs.pem</code> and <code>dhparam.pem</code></li>\n<li>if you would like to use different file names you can modify the nginx configuration file <code>/etc/nginx/conf.d/pmm.conf</code>. The following variables must be set:<br />\n<pre class=\"crayon-plain-tag\">ssl_certificate /srv/nginx/my_custom_certificate.crt;\nssl_certificate_key /srv/nginx/my_custom_certificate.key;\nssl_trusted_certificate /srv/nginx/my_custom_ca_certs.pem;\nssl_dhparam /srv/nginx/my_dhparam.pem</pre>\n</li>\n<li>restart nginx<br />\n<pre class=\"crayon-plain-tag\">[root@pmm2]&gt; supervisorctl restart nginx</pre>\n</li>\n</ul>\n<h2>Conclusion</h2>\n<p><a target=\"_blank\" href=\"https://www.percona.com/software/database-tools/percona-monitoring-and-management\">Percona Monitoring and Management</a> is widely used for monitoring MySQL, Proxysql, MongoDB, PostgreSQL, and OSes. Setting up customer certificates for the connection encryption, according to the security policy adopted by your company, is quite simple. You can rely on PMM2 for troubleshooting your environments in a secure way.</p>\n<p>Take a look at the demo site: <a target=\"_blank\" href=\"https://pmmdemo.percona.com\">https://pmmdemo.percona.com</a></p>\n","descriptionType":"html","publishedDate":"Wed, 09 Dec 2020 15:09:09 +0000","feedId":11,"bgimg":"","linkMd5":"df8bfcfae9ef0ce95c7ca635fa0db89e","bgimgJsdelivr":"","metaImg":"","author":"Corrado Pandiani","articleImgCdnMap":{"https://www.percona.com/blog/wp-content/uploads/2020/12/HTTPS-Connections-to-Percona-Monitoring-and-Management-200x112.png":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn11@2020_2/2020/12/11/08-00-27-390_ffb3cc105aaab81d.webp","https://www.percona.com/blog/wp-content/uploads/2020/12/HTTPS-Connections-to-Percona-Monitoring-and-Management-300x168.png":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn13@2020_4/2020/12/11/08-00-27-407_3771e97bdedc6341.webp"},"publishedOrCreatedDate":1607673626281},{"createdTime":"2020-12-11 16:00:26","updatedTime":"2020-12-11 16:00:26","title":"Not Ready to Give Up MySQL 5.6? Get Post EOL Support from Percona!","link":"https://www.percona.com/blog/?p=72999","description":"<img width=\"200\" height=\"105\" src=\"https://www.percona.com/blog/wp-content/uploads/2020/12/MySQL5_6_EOL-200x105.png\" class=\"webfeedsFeaturedVisual wp-post-image\" alt=\"Not Ready to Give Up MySQL 5.6?\" loading=\"lazy\" style=\"display: block; margin-bottom: 5px; clear:both;max-width: 100%;\" link_thumbnail=\"\" srcset=\"https://www.percona.com/blog/wp-content/uploads/2020/12/MySQL5_6_EOL-200x105.png 200w, https://www.percona.com/blog/wp-content/uploads/2020/12/MySQL5_6_EOL-300x157.png 300w, https://www.percona.com/blog/wp-content/uploads/2020/12/MySQL5_6_EOL-1024x536.png 1024w, https://www.percona.com/blog/wp-content/uploads/2020/12/MySQL5_6_EOL-1536x804.png 1536w, https://www.percona.com/blog/wp-content/uploads/2020/12/MySQL5_6_EOL-1140x595.png 1140w, https://www.percona.com/blog/wp-content/uploads/2020/12/MySQL5_6_EOL-367x192.png 367w, https://www.percona.com/blog/wp-content/uploads/2020/12/MySQL5_6_EOL.png 1920w\" sizes=\"(max-width: 200px) 100vw, 200px\" /><p><span><img loading=\"lazy\" class=\"wp-image-73007 size-medium alignright\" src=\"https://www.percona.com/blog/wp-content/uploads/2020/12/MySQL5_6_EOL-300x157.png\" alt=\"Not Ready to Give Up MySQL 5.6?\" width=\"300\" height=\"157\" srcset=\"https://www.percona.com/blog/wp-content/uploads/2020/12/MySQL5_6_EOL-300x157.png 300w, https://www.percona.com/blog/wp-content/uploads/2020/12/MySQL5_6_EOL-1024x536.png 1024w, https://www.percona.com/blog/wp-content/uploads/2020/12/MySQL5_6_EOL-200x105.png 200w, https://www.percona.com/blog/wp-content/uploads/2020/12/MySQL5_6_EOL-1536x804.png 1536w, https://www.percona.com/blog/wp-content/uploads/2020/12/MySQL5_6_EOL-1140x595.png 1140w, https://www.percona.com/blog/wp-content/uploads/2020/12/MySQL5_6_EOL-367x192.png 367w, https://www.percona.com/blog/wp-content/uploads/2020/12/MySQL5_6_EOL.png 1920w\" sizes=\"(max-width: 300px) 100vw, 300px\" />As you may know, MySQL 5.6 will <a target=\"_blank\" href=\"https://endoflife.software/applications/databases/mysql\">reach EOL</a> (&#8220;End of Life&#8221;) in February 2021. This means in about two months, there will be no more updates, and more importantly, no more security fixes for discovered vulnerabilities.     </span></p>\n<p><span>You may be well ahead of the curve and have already updated to MySQL 5.7 or MySQL 8.0, or even better, migrated to </span><a target=\"_blank\" href=\"https://www.percona.com/software/mysql-database/percona-server\"><span>Percona Server for MySQL</span></a><span>, or maybe not. Perhaps it takes more time than anticipated to adjust your application to be compatible with MySQL 5.7 or higher, or maybe you planned to decommission your application, but life got in the way. Now the EOL date is looming, and there is just no way to decommission your last MySQL 5.6 instance in time.</span></p>\n<p><span>We have great news for our MySQL Luddites! Percona is pleased to offer </span><b>MySQL 5.6 Post EOL Support,</b><span> which will allow you to run MySQL 5.6 based applications for up to three more years. Keep access to security patches, stay in compliance, and best of all, you can reduce the risk of making the front page of your favorite security news publication!</span></p>\n<p><span>Subscribing to </span><a target=\"_blank\" href=\"https://www.percona.com/services/support/mysql-support\"><span>Percona Support for MySQL</span></a><span> with the </span><b>MySQL 5.6 Post EOL Support Option</b><span> will provide you with all the awesome features of Percona Support, with extended coverage for Percona Server for MySQL 5.6 post its planned end of life, providing critical fixes for any security issues and bugs you may encounter.</span></p>\n<p><span>Not ready to give up MySQL 5.6? Talk to our sales team about </span><b>MySQL 5.6 Post EOL Support.</b></p>\n<p style=\"text-align: center;\"><a target=\"_blank\" class=\"btn btn-primary btn-lg\" href=\"https://www.percona.com/services/support/mysql-support/5-6-eol-support?source=blog\" target=\"_blank\" rel=\"noopener\">Contact Us Today!</a></p>\n","descriptionType":"html","publishedDate":"Mon, 07 Dec 2020 21:55:15 +0000","feedId":11,"bgimg":"","linkMd5":"674d7bb784361d2caf463686ccebadd2","bgimgJsdelivr":"","metaImg":"","author":"Peter Zaitsev","articleImgCdnMap":{"https://www.percona.com/blog/wp-content/uploads/2020/12/MySQL5_6_EOL-200x105.png":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn36@2020_5/2020/12/11/08-00-35-957_739d8d79e33039c3.webp","https://www.percona.com/blog/wp-content/uploads/2020/12/MySQL5_6_EOL-300x157.png":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn16@2020_2/2020/12/11/08-00-31-373_2e61c91e11dde1c4.webp"},"publishedOrCreatedDate":1607673626281},{"createdTime":"2020-12-11 16:00:26","updatedTime":"2020-12-11 16:00:26","title":"Running MongoDB on Amazon EKS Distro","link":"https://www.percona.com/blog/?p=72981","description":"<img width=\"200\" height=\"105\" src=\"https://www.percona.com/blog/wp-content/uploads/2020/12/EKS-Distro-1-200x105.png\" class=\"webfeedsFeaturedVisual wp-post-image\" alt=\"MongoDB on AWS EKS-D\" loading=\"lazy\" style=\"display: block; margin-bottom: 5px; clear:both;max-width: 100%;\" link_thumbnail=\"\" srcset=\"https://www.percona.com/blog/wp-content/uploads/2020/12/EKS-Distro-1-200x105.png 200w, https://www.percona.com/blog/wp-content/uploads/2020/12/EKS-Distro-1-300x157.png 300w, https://www.percona.com/blog/wp-content/uploads/2020/12/EKS-Distro-1-1024x536.png 1024w, https://www.percona.com/blog/wp-content/uploads/2020/12/EKS-Distro-1-1536x804.png 1536w, https://www.percona.com/blog/wp-content/uploads/2020/12/EKS-Distro-1-1140x595.png 1140w, https://www.percona.com/blog/wp-content/uploads/2020/12/EKS-Distro-1-367x192.png 367w, https://www.percona.com/blog/wp-content/uploads/2020/12/EKS-Distro-1.png 1920w\" sizes=\"(max-width: 200px) 100vw, 200px\" /><p><span><img loading=\"lazy\" class=\"wp-image-73012 size-medium alignright\" src=\"https://www.percona.com/blog/wp-content/uploads/2020/12/EKS-Distro-1-300x157.png\" alt=\"MongoDB on AWS EKS-D\" width=\"300\" height=\"157\" srcset=\"https://www.percona.com/blog/wp-content/uploads/2020/12/EKS-Distro-1-300x157.png 300w, https://www.percona.com/blog/wp-content/uploads/2020/12/EKS-Distro-1-1024x536.png 1024w, https://www.percona.com/blog/wp-content/uploads/2020/12/EKS-Distro-1-200x105.png 200w, https://www.percona.com/blog/wp-content/uploads/2020/12/EKS-Distro-1-1536x804.png 1536w, https://www.percona.com/blog/wp-content/uploads/2020/12/EKS-Distro-1-1140x595.png 1140w, https://www.percona.com/blog/wp-content/uploads/2020/12/EKS-Distro-1-367x192.png 367w, https://www.percona.com/blog/wp-content/uploads/2020/12/EKS-Distro-1.png 1920w\" sizes=\"(max-width: 300px) 100vw, 300px\" />Last year AWS </span><a target=\"_blank\" href=\"https://www.crn.com.au/news/aws-forbids-partners-even-mentioning-multi-cloud-529598\"><span>was about to ban</span></a><span> the “multi-cloud” term in co-branding guides for Partners, </span><a target=\"_blank\" href=\"https://flipboard.com/@BusinessInsider/amazon-eases-its-rules-on-banned-words-at-its-cloud-conference---business-inside/a-vfu-ZDPeQcGxo5pzpaQ4rA%3Aa%3A48159484-8d2ced2f69%2Fbusinessinsider.com\"><span>removed the ban</span></a><span> after community and partners critique, and now embraces multi-cloud strategy.</span></p>\n<p><span>One of the products that AWS announced during its last re:Invent was </span><a target=\"_blank\" href=\"https://aws.amazon.com/blogs/opensource/introducing-amazon-eks-distro/\"><span>Amazon EKS Distro</span></a><span> — Kubernetes distribution based on and used by Amazon Elastic Kubernetes Service. It is interesting because it is the first step to the new service — </span><a target=\"_blank\" href=\"https://techcrunch.com/2020/12/01/aws-brings-ecs-eks-services-to-the-data-center-open-sources-eks/\"><span>EKS Anywhere</span></a><span> — which enables AWS customers to run EKS anywhere, even on bare-metal or any other cloud, and later allows them to seamlessly migrate from on-prem EKS directly to AWS.</span></p>\n<p><span>In this blog post, we will show how easy it is to spin up Amazon EKS Distro (EKS-D) and set up MongoDB with </span><a target=\"_blank\" href=\"https://www.percona.com/doc/kubernetes-operator-for-psmongodb/index.html\"><span>Percona Kubernetes Operator for Percona Server for MongoDB</span></a><span>.</span></p>\n<h1><span>Let the Show Begin</span></h1>\n<h2><span>Give Me the Cluster</span></h2>\n<p><span>I just spun up the brand new Ubuntu 20.10 virtual machine. You can spin it up anywhere, I myself use </span><a target=\"_blank\" href=\"https://multipass.run/\"><span>Multipass</span></a><span> — it gives command-line interface to launch Linux machines locally in seconds.</span></p>\n<p><span>Installing EKS-D on Ubuntu is one command “effort”:</span></p><pre class=\"crayon-plain-tag\">$ sudo snap install eks --classic --edge\nRun configure hook of \"eks\" snap if present                                                                                                                                                                                                                                                     \neks (1.18/edge) v1.18.9 from Canonical✓ installed</pre><p><span>EKS on Ubuntu gives the same look and feel as </span><a target=\"_blank\" href=\"https://microk8s.io/\"><span>microk8s</span></a><span> — it has its own command line (eks) and allows you to add/remove nodes easily if needed. Read more </span><a target=\"_blank\" href=\"https://snapcraft.io/eks\"><span>here</span></a><span>.</span></p>\n<p><span>Check if EKS is up and running:</span></p><pre class=\"crayon-plain-tag\"># eks status\neks is running\nhigh-availability: no\n  datastore master nodes: 127.0.0.1:19001\n  datastore standby nodes: none</pre><p><span><pre class=\"crayon-plain-tag\">eks kubectl</pre> gives you direct access to regular Kubernetes API. <em>Hint:</em> you can get configuration from eks and put it into <pre class=\"crayon-plain-tag\">.kube</pre> </span><span>folder to control EKS with <pre class=\"crayon-plain-tag\">kubectl</pre> (you may need to install it). I’m lazy and will continue using <pre class=\"crayon-plain-tag\">eks kubectl</pre></span><span>.</span></p><pre class=\"crayon-plain-tag\"># mkdir ~/.kube/ ; eks config &#62; ~/.kube/config\n# eks kubectl get pods -n kube-system\nNAME                                       READY   STATUS    RESTARTS   AGE\ncalico-node-rrsbd                          1/1     Running   1          15m\ncalico-kube-controllers-555fc8cc5c-2ll8f   1/1     Running   0          15m\ncoredns-6788f546c9-x8q7l                   1/1     Running   0          15m\nmetrics-server-768748c8f4-qpxnp            1/1     Running   0          15m\nhostpath-provisioner-66667bf7f-pfg8s       1/1     Running   0          15m</pre><p><span><pre class=\"crayon-plain-tag\">hostpath-provisioner</pre> is running, which means the host path based storage class needed for the database is already there.</span></p>\n<h2><span>Give Me the Database</span></h2>\n<p><span>As promised we will use <a target=\"_blank\" href=\"https://www.percona.com/software/percona-kubernetes-operators\">Percona Kubernetes Operator for Percona Server for MongoDB</a> to spin up the database. And it is the same process described in our </span><a target=\"_blank\" href=\"https://www.percona.com/doc/kubernetes-operator-for-psmongodb/minikube.html\"><span>minikube installation guide</span></a><span> (as long as you run 1 node only).</span></p>\n<p><span>Get the code from <a target=\"_blank\" href=\"https://github.com/percona/percona-server-mongodb-operator/\">github</a>:</span></p><pre class=\"crayon-plain-tag\"># git clone -b v1.5.0 https://github.com/percona/percona-server-mongodb-operator\n# cd percona-server-mongodb-operator</pre><p><span>Deploy the operator:</span></p><pre class=\"crayon-plain-tag\"># eks kubectl apply -f deploy/bundle.yaml\ncustomresourcedefinition.apiextensions.k8s.io/perconaservermongodbs.psmdb.percona.com created\ncustomresourcedefinition.apiextensions.k8s.io/perconaservermongodbbackups.psmdb.percona.com created\ncustomresourcedefinition.apiextensions.k8s.io/perconaservermongodbrestores.psmdb.percona.com created\nrole.rbac.authorization.k8s.io/percona-server-mongodb-operator created\nserviceaccount/percona-server-mongodb-operator created\nrolebinding.rbac.authorization.k8s.io/service-account-percona-server-mongodb-operator created\ndeployment.apps/percona-server-mongodb-operator created</pre><p><span>I have one node in my fancy EKS cluster and I will</span></p>\n<ul>\n<li><span>Change the number of nodes in a replica set to 1 (<pre class=\"crayon-plain-tag\">size: 1</pre></span><span>)</span></li>\n<li><span>Remove the <pre class=\"crayon-plain-tag\">antiAffinity</pre></span><span> configuration </span></li>\n<li><span>Set <pre class=\"crayon-plain-tag\">allowUnsafeConfigurations</pre> </span><span>flag to </span><span>true</span><span> in <pre class=\"crayon-plain-tag\">deploy/cr.yaml</pre></span><span>. This flag set to <pre class=\"crayon-plain-tag\">true</pre> allows users to run unsafe configurations (like 1 node MongoDB cluster), this is useful for development or testing purposes, but of course not recommended for production.</span></li>\n</ul>\n<p></p><pre class=\"crayon-plain-tag\">spec:\n...\n  allowUnsafeConfigurations: true\n  replsets:\n  - name: rs0\n    size: 1\n#    affinity:\n#      antiAffinityTopologyKey: \"kubernetes.io/hostname\"</pre><p><span>Now, give me the database:</span></p><pre class=\"crayon-plain-tag\"># eks kubectl apply -f deploy/cr.yaml\n1 minute later…\n# eks kubectl get pods\nNAME                                               READY   STATUS    RESTARTS   AGE\npercona-server-mongodb-operator-6b5dbccbd5-jh9x8   1/1     Running   0          7m35s\nmy-cluster-name-rs0-0                              2/2     Running   0          77s</pre><p><span>Simple as that!</span></p>\n<h1><span>Conclusion</span></h1>\n<p><span>Setting up Kubernetes locally can be easily done not only with EKS Distro, but with minikube, microk8s, k3s, and other distributions. The true value of EKS-D will be shown once EKS Anywhere goes live in 2021 and unlocks the multi-cloud Kubernetes. Percona has always been an open source company: we embrace, value, and heavily invest in multi-cloud ecosystems. Our </span><a target=\"_blank\" href=\"https://www.percona.com/software/percona-kubernetes-operators\"><span>Kubernetes Operators for Percona XtraDB Cluster and MongoDB</span></a><span> enable businesses to run their data on Kubernetes on any public or private cloud without lock-in. We also provide full support for our operators and databases running on your Kubernetes cluster.</span></p>\n","descriptionType":"html","publishedDate":"Mon, 07 Dec 2020 21:30:03 +0000","feedId":11,"bgimg":"","linkMd5":"b9e93f10657343c3f7452d6fb6abb0e8","bgimgJsdelivr":"","metaImg":"","author":"Sergey Pronin","articleImgCdnMap":{"https://www.percona.com/blog/wp-content/uploads/2020/12/EKS-Distro-1-200x105.png":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn31@2020_4/2020/12/11/08-00-28-803_b5c49cbc5fc34c15.webp","https://www.percona.com/blog/wp-content/uploads/2020/12/EKS-Distro-1-300x157.png":"https://cdn.jsdelivr.net/gh/myreaderx14/cdn39@2020_5/2020/12/11/08-00-26-775_010924677e6afc53.webp"},"publishedOrCreatedDate":1607673626283},{"createdTime":"2020-12-11 16:00:26","updatedTime":"2020-12-11 16:00:26","title":"How to Configure MySQL SSL With Public Certificates","link":"https://www.percona.com/blog/?p=69584","description":"<img width=\"200\" height=\"112\" src=\"https://www.percona.com/blog/wp-content/uploads/2020/12/How-to-Configure-MySQL-SSL-With-Public-Certificates-200x112.png\" class=\"webfeedsFeaturedVisual wp-post-image\" alt=\"How to Configure MySQL SSL With Public Certificates\" loading=\"lazy\" style=\"display: block; margin-bottom: 5px; clear:both;max-width: 100%;\" link_thumbnail=\"\" srcset=\"https://www.percona.com/blog/wp-content/uploads/2020/12/How-to-Configure-MySQL-SSL-With-Public-Certificates-200x112.png 200w, https://www.percona.com/blog/wp-content/uploads/2020/12/How-to-Configure-MySQL-SSL-With-Public-Certificates-300x168.png 300w, https://www.percona.com/blog/wp-content/uploads/2020/12/How-to-Configure-MySQL-SSL-With-Public-Certificates-1024x572.png 1024w, https://www.percona.com/blog/wp-content/uploads/2020/12/How-to-Configure-MySQL-SSL-With-Public-Certificates-367x205.png 367w, https://www.percona.com/blog/wp-content/uploads/2020/12/How-to-Configure-MySQL-SSL-With-Public-Certificates.png 1200w\" sizes=\"(max-width: 200px) 100vw, 200px\" /><p><img loading=\"lazy\" class=\"alignright size-medium wp-image-72988\" src=\"https://www.percona.com/blog/wp-content/uploads/2020/12/How-to-Configure-MySQL-SSL-With-Public-Certificates-300x168.png\" alt=\"How to Configure MySQL SSL With Public Certificates\" width=\"300\" height=\"168\" srcset=\"https://www.percona.com/blog/wp-content/uploads/2020/12/How-to-Configure-MySQL-SSL-With-Public-Certificates-300x168.png 300w, https://www.percona.com/blog/wp-content/uploads/2020/12/How-to-Configure-MySQL-SSL-With-Public-Certificates-1024x572.png 1024w, https://www.percona.com/blog/wp-content/uploads/2020/12/How-to-Configure-MySQL-SSL-With-Public-Certificates-200x112.png 200w, https://www.percona.com/blog/wp-content/uploads/2020/12/How-to-Configure-MySQL-SSL-With-Public-Certificates-367x205.png 367w, https://www.percona.com/blog/wp-content/uploads/2020/12/How-to-Configure-MySQL-SSL-With-Public-Certificates.png 1200w\" sizes=\"(max-width: 300px) 100vw, 300px\" />Getting MySQL working with self-signed SSL certificates is pretty simple. Having it working with a certificate signed by a trusted authority is also very simple, we just need to set the correct path and privileges to the file. The problem comes when we need to make MySQL validate the certificate signature against the authority public key.</p>\n<p>I&#8217;ve searched on the internet but wasn&#8217;t able to find much information about it. There are a good number of posts on how to set up your own certificate authority and self-sign your certificates, but not much about how to use one signed by a public trusted authority.</p>\n<p>I used a certificate signed by a <a target=\"_blank\" href=\"https://letsencrypt.org/\">Let&#8217;s Encrypt</a> on my tests but the concepts and steps shared here should work for any public trusted authority. I also generated one certificate to be used by MySQL server and another one to be used by the client. It is possible to use the same certificate on the server and the client, but it defeats the security purpose of using certificates.</p>\n<p>Let&#8217;s Encrypt gives us a package with four files, which are:</p>\n<ul>\n<li>The &#60;host&#62; public certificate, signed by the CA</li>\n<li>The &#60;host&#62; private key</li>\n<li>The CA public certificate</li>\n<li>A bundle with the signed &#60;host&#62; public certificate and the CA public certificate</li>\n</ul>\n<p></p><pre class=\"crayon-plain-tag\">[root@master ~]# ll /root/certs/proxy/\ntotal 16\n# The server public certificate signed by the CA\n-rw-r--r--. 1 root root 1915 May 30 00:14 cert1.pem\n\n# The CA public certificate to validate the server signed certificate\n-rw-r--r--. 1 root root 1647 May 30 00:14 chain1.pem\n\n# A bundle with the server public certificate, the signature and the CA certificate\n-rw-r--r--. 1 root root 3562 May 30 00:14 fullchain1.pem\n\n# The server private key\n-rw-------. 1 root root 1704 May 30 00:14 privkey1.pem</pre><p>The first step is to get MySQL using the certificates. For simplicity I&#8217;ve just removed the old certificates from the server &#60;data_dir&#62; (I was using /var/lib/mysql), renamed the certificates that I received from Let&#8217;s Encrypt, moved into /var/lib/mysql, and restarted the MySQL service. All good, the server was able to start without issues.</p>\n<p>I tried to connect using MySQL client but without using the certificate given by Let&#8217;s Encrypt &#8211; and that worked flawlessly. The first problem happened when I tried to validate the server certificate on the client:</p><pre class=\"crayon-plain-tag\">[root@master ~]# mysql -h 192.168.70.10 \\\n&#62; -uusrtest -p123 \\\n&#62; --ssl-ca=/root/certs/proxy/cert1.pem\nmysql: [Warning] Using a password on the command line interface can be insecure.\n<strong>ERROR 2026 (HY000): SSL connection error: error:14090086:SSL routines:ssl3_get_server_certificate:certificate verify failed</strong></pre><p>I wasn&#8217;t expecting to get this error because I was using the exactly same CA certificate used on the server, but the validation failed. I thought that it was an issue on my MySQL server and I tested many configuration changes using the CA certificate (chain1.pem) and using the bundle (fullchain1.pem) for example, but none of them worked. I decided then to debug the issue. At first on MySQL server, but I found the issue wasn&#8217;t on the server, at least not this very one. I then went to debug the MySQL client and ended up in the function <a target=\"_blank\" href=\"https://github.com/percona/percona-server/blob/5.7/vio/viossl.c#L343\"><strong>ssl_handshake_loop</strong></a>[1] which calls the function <a target=\"_blank\" href=\"https://github.com/openssl/openssl/blob/OpenSSL_1_0_2-stable/ssl/ssl_lib.c#L1002\"><strong>SSL_connect</strong></a>[2] from the <strong>OpenSSL library</strong>. At this point, I realized the error was coming from the OpenSSL library!</p>\n<p>I recompiled MySQL and the OpenSSL library with debug symbols to be able to use client the &#8220;<a target=\"_blank\" href=\"https://dev.mysql.com/doc/refman/5.7/en/debugging-client.html\"><strong>&#8211;debug</strong></a>&#8220;[3] option on my MySQL client to get some debug messages directly from the client and make it easier to debug. Following the execution path through the MySQL client and OpenSSL library, I found that the OpenSSL was trying to validate the whole CA chain of trust but the CA chain key that Let&#8217;s Encrypt gave me didn&#8217;t have the full chain of trust. As they explain in their website <a target=\"_blank\" href=\"https://letsencrypt.org/certificates/\">here</a>[5] under normal circumstances, certificates issued by Let’s Encrypt will come from “R3”, an RSA intermediate which is an intermediate CA. At this point, I only had the certificate of the intermediate CA and OpenSSL was refusing to validate the server certificate without having the whole chain. This was the issue!</p>\n<p>The solution was pretty simple. Let’s Encrypt is a publicly trusted certificate authority and all browsers and other tools have an up-to-date file with the chain of publicly trusted CA&#8217;s. I downloaded the certificate chain from the <a target=\"_blank\" href=\"https://curl.haxx.se/docs/caextract.html\">curl website</a>[4] and used at the client side to make MySQL client connect to the server:</p><pre class=\"crayon-plain-tag\">[root@master ~]# mysql -h 192.168.70.10 \\\n&#62; -uusrtest -p123 \\\n&#62; --ssl-ca=/root/certs/proxy/cacert-2020-01-01.pem\nmysql: [Warning] Using a password on the command line interface can be insecure.\nWelcome to the MySQL monitor. Commands end with ; or \\g.\nYour MySQL connection id is 1199\n\n&#60;...&#62;\n\nmysql&#62; \\s\n--------------\nmysql Ver 14.14 Distrib 5.7.30-33, for Linux (x86_64) using 6.2\n\nConnection id: 1199\nCurrent database:\nCurrent user: usrtest@master-test.percona.com\nSSL: Cipher in use is ECDHE-RSA-AES128-GCM-SHA256\nCurrent pager: stdout\nUsing outfile: ''\nUsing delimiter: ;\nServer version: 5.7.30-33 Percona Server (GPL), Release 33, Revision 6517692\nProtocol version: 10</pre><p>Now that I understood what was the problem I also used this same CA&#8217;s chain certificate on the MySQL server side because if we want to use a certificate on client-side it needs to be validated by the server against the CA chain of trust. The error would be similar without using the proper CA&#8217;s certificate, for example:</p><pre class=\"crayon-plain-tag\"># Configuration file /etc/my.cnf:\nssl_ca=chain1.pem\nssl_cert=cert1.pem\nssl_key=privkey1.pem\n\n[root@master ~]# mysql -h 192.168.70.10 \\\n&#62; -uusrtest -p123 \\\n&#62; --ssl-mode=VERIFY_CA \\\n&#62; --ssl-cert=/root/certs/client/cert1.pem \\\n&#62; --ssl-key=/root/certs/client/privkey1.pem \\\n&#62; --ssl-ca=/root/certs/client/cacert-2020-01-01.pem\nmysql: [Warning] Using a password on the command line interface can be insecure.\nERROR 2026 (HY000): SSL connection error: error:14094418:SSL routines:ssl3_read_bytes:tlsv1 alert unknown ca</pre><p>But if we check the error log we can see:</p><pre class=\"crayon-plain-tag\">2020-06-02T23:11:22.675173Z 7 [Note] Bad handshake</pre><p>I then used the same CA file:</p><pre class=\"crayon-plain-tag\"># Configuration file /etc/my.cnf:\nssl_ca=cacert-2020-01-01.pem\nssl_cert=cert1.pem\nssl_key=privkey1.pem</pre><p>But it gave me a &#8220;certificate verify failed&#8221; error. Note that this is not the CA chain validation error anymore but the OpenSSL on the server wasn&#8217;t able to validate the certificate:</p><pre class=\"crayon-plain-tag\">ERROR 2026 (HY000): SSL connection error: error:14090086:SSL routines:ssl3_get_server_certificate:certificate verify failed</pre><p>It was clear that for whatever reason the chain didn&#8217;t have CA certificate that Let’s Encrypt used to sign. I then just added it to the chain:</p><pre class=\"crayon-plain-tag\">[root@master master]# cat /root/certs/proxy/chain1.pem &#62;&#62; /var/lib/mysql/cacert-2020-01-01.pem\n[root@master master]# systemctl restart mysqld\n[root@master ~]# mysql -h 192.168.70.10 \\\n&#62;   -uusrtest -p123 \\\n&#62;   --ssl-mode=VERIFY_CA \\\n&#62;   --ssl-cert=/root/certs/client/cert1.pem \\\n&#62;   --ssl-key=/root/certs/client/privkey1.pem \\\n&#62;   --ssl-ca=/root/certs/client/cacert-2020-01-01.pem\nmysql: [Warning] Using a password on the command line interface can be insecure.\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 9\n&#60;...&#62;\n\nmysql&#62; \\s\n--------------\nmysql  Ver 14.14 Distrib 5.7.30-33, for Linux (x86_64) using  6.2\n\n\nConnection id:          9\nCurrent database:\nCurrent user:           usrtest@master-test.percona.com\nSSL:                    Cipher in use is ECDHE-RSA-AES128-GCM-SHA256\nCurrent pager:          stdout\nUsing outfile:          ''\nUsing delimiter:        ;\nServer version:         5.7.30-33 Percona Server (GPL), Release 33, Revision 6517692\nProtocol version:       10</pre><p>As I said, it works using the same certificate on both MySQL server and client. I tested it to make sure it works, and it did work on my setup, but I would not recommend it because of security issues and because some versions of the SSL libraries do not work well with the same certificates used on both server and client. I would suggest having different certificates for MySQL server and MySQL client. All servers can use the same certificate, it wouldn&#8217;t be a big issue. Also, all MySQL clients may share the same certificate. However, remember that sharing certificates on both the server and client-side increases the security risk.</p>\n<p>A final note here is that some versions of the library may validate the hostname against the certificate common name (CN). It wasn&#8217;t the case here, and I was able to use certificates with a CN different from the server&#8217;s hostname.</p>\n<p><span style=\"font-size: 13px;\">[1] <a target=\"_blank\" href=\"https://github.com/percona/percona-server/blob/5.7/vio/viossl.c#L343\">https://github.com/percona/percona-server/blob/5.7/vio/viossl.c#L343</a></span><br />\n<span style=\"font-size: 13px;\">[2] <a target=\"_blank\" href=\"https://github.com/openssl/openssl/blob/OpenSSL_1_0_2-stable/ssl/ssl_lib.c#L1002\">https://github.com/openssl/openssl/blob/OpenSSL_1_0_2-stable/ssl/ssl_lib.c#L1002</a></span><br />\n<span style=\"font-size: 13px;\">[3] <a target=\"_blank\" href=\"https://dev.mysql.com/doc/refman/5.7/en/debugging-client.html\">https://dev.mysql.com/doc/refman/5.7/en/debugging-client.html</a></span><br />\n<span style=\"font-size: 13px;\">[4] <a target=\"_blank\" href=\"https://curl.haxx.se/docs/caextract.html\">https://curl.haxx.se/docs/caextract.html</a></span><br />\n<span style=\"font-size: 13px;\">[5] <a target=\"_blank\" href=\"https://letsencrypt.org/certificates/\">https://letsencrypt.org/certificates/</a></span></p>\n","descriptionType":"html","publishedDate":"Fri, 04 Dec 2020 20:17:41 +0000","feedId":11,"bgimg":"","linkMd5":"964b5334185b14f9f742bcb60a1f5fc2","bgimgJsdelivr":"","metaImg":"","author":"Charly Batista","articleImgCdnMap":{"https://www.percona.com/blog/wp-content/uploads/2020/12/How-to-Configure-MySQL-SSL-With-Public-Certificates-200x112.png":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn10@2020_1/2020/12/11/08-00-49-661_6975a5507b49ea67.webp","https://www.percona.com/blog/wp-content/uploads/2020/12/How-to-Configure-MySQL-SSL-With-Public-Certificates-300x168.png":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn7@2020_1/2020/12/11/08-00-45-609_659d6bf05e8c294e.webp"},"publishedOrCreatedDate":1607673626283},{"createdTime":"2020-12-11 16:00:26","updatedTime":"2020-12-11 16:00:26","title":"VictoriaMetrics in PMM, Percona Server for MongoDB Version Updates: Release Roundup December 8, 2020","link":"https://www.percona.com/blog/?p=72792","description":"<img width=\"200\" height=\"112\" src=\"https://www.percona.com/blog/wp-content/uploads/2020/12/Percona-Releases-December-8-200x112.png\" class=\"webfeedsFeaturedVisual wp-post-image\" alt=\"Percona Releases December 8\" loading=\"lazy\" style=\"display: block; margin-bottom: 5px; clear:both;max-width: 100%;\" link_thumbnail=\"\" srcset=\"https://www.percona.com/blog/wp-content/uploads/2020/12/Percona-Releases-December-8-200x112.png 200w, https://www.percona.com/blog/wp-content/uploads/2020/12/Percona-Releases-December-8-300x169.png 300w, https://www.percona.com/blog/wp-content/uploads/2020/12/Percona-Releases-December-8-367x206.png 367w, https://www.percona.com/blog/wp-content/uploads/2020/12/Percona-Releases-December-8.png 712w\" sizes=\"(max-width: 200px) 100vw, 200px\" /><h2>It&#8217;s release roundup time here at Percona!</h2>\n<p><img loading=\"lazy\" class=\"alignright size-medium wp-image-73019\" src=\"https://www.percona.com/blog/wp-content/uploads/2020/12/Percona-Releases-December-8-300x169.png\" alt=\"Percona Releases December 8\" width=\"300\" height=\"169\" srcset=\"https://www.percona.com/blog/wp-content/uploads/2020/12/Percona-Releases-December-8-300x169.png 300w, https://www.percona.com/blog/wp-content/uploads/2020/12/Percona-Releases-December-8-200x112.png 200w, https://www.percona.com/blog/wp-content/uploads/2020/12/Percona-Releases-December-8-367x206.png 367w, https://www.percona.com/blog/wp-content/uploads/2020/12/Percona-Releases-December-8.png 712w\" sizes=\"(max-width: 300px) 100vw, 300px\" />Our Release Roundups <span class=\"s1\">showcase the latest Percona software updates, tools, and features to help you manage and deploy our software. It offers</span> highlights and critical information, as well as links to the full release notes and direct links to the software or service itself to download.</p>\n<p>Today&#8217;s post includes those releases and updates that have come out since November 23, 2020, including several Percona Distribution for MongoDB versions and Percona Monitoring and Management 2.12.0, which highlights VictoriaMetrics replacing Prometheus as the default data source.</p>\n<p>&#160;</p>\n<h2>Percona Distribution for MongoDB 4.4.2</h2>\n<p><a target=\"_blank\" href=\"https://www.percona.com/doc/percona-distribution-for-mongodb/4.4/release-notes-v4.4.2.html\">Percona Distribution for MongoDB 4.4.2</a> was released on December 1, 2020. It is a collection of solutions, including Percona Server for MongoDB and Percona Backup for MongoDB, to run and operate your MongoDB efficiently with the data being consistently backed up.</p>\n<p><a target=\"_blank\" href=\"https://www.percona.com/downloads/percona-distribution-mongodb-LATEST/\">Download Percona Distribution for MongoDB 4.4.2</a></p>\n<p>&#160;</p>\n<h2>Percona Distribution for MongoDB 4.2.11</h2>\n<p>On December 7, 2020, <a target=\"_blank\" href=\"https://www.percona.com/doc/percona-distribution-for-mongodb/4.2/release-notes-v4.2.11.html\">Percona Distribution for MongoDB 4.2.11</a> was released.  This release of Percona Distribution for MongoDB is based on Percona Server for MongoDB 4.2.11-12 and Percona Backup for MongoDB 1.3.4.</p>\n<p><a target=\"_blank\" href=\"https://www.percona.com/downloads/percona-distribution-mongodb-4.2/LATEST/\">Download Percona Distribution for MongoDB 4.2.11</a></p>\n<p>&#160;</p>\n<h2>Percona Distribution for PostgreSQL 13.1</h2>\n<p><a target=\"_blank\" href=\"https://www.percona.com/doc/postgresql/13/release-notes-v13.1.html\">Percona Distribution for PostgreSQL 13.1</a> was released on December 2, 2020. It is a collection of tools to assist you in managing PostgreSQL, that installs PostgreSQL and complements it with a selection of extensions that enable solving essential practical tasks efficiently. This release of Percona Distribution for PostgreSQL is based on PostgreSQL 13.1.</p>\n<p><a target=\"_blank\" href=\"https://www.percona.com/downloads/postgresql-distribution-13/LATEST/\">Download Percona Distribution for PostgreSQL 13.1</a></p>\n<p>&#160;</p>\n<h2>Percona Distribution for PostgreSQL 12.5</h2>\n<p>On December 7, 2020, we released <a target=\"_blank\" href=\"https://www.percona.com/doc/postgresql/12/release-notes-v12.5.html\">Percona Distribution for PostgreSQL 12.5.</a> Extensions available in Percona Distribution for PostgreSQL include pg_repack, Pgaudit, pgBackRest, pg_stat_monitor, and the libpq library.</p>\n<p><a target=\"_blank\" href=\"https://www.percona.com/downloads/postgresql-distribution-12/LATEST/\">Download Percona Distribution for PostgreSQL 12.5</a></p>\n<p>&#160;</p>\n<h2>Percona Monitoring and Management 2.12.0</h2>\n<p><a target=\"_blank\" href=\"https://www.percona.com/doc/percona-monitoring-and-management/2.x/release-notes/2.12.0.html\">Percona Monitoring and Management 2.12.0</a> was released on December 1, 2020. It is a free and open-source platform for managing and monitoring MySQL, MongoDB, and PostgreSQL performance. Highlights for this release include the replacement of Prometheus with VictoraMetrics, the PMM Client can be run as a Docker image, and the ‘Add Instance’ page and forms have been redesigned and look much better. In addition, there are many improvements and bug fixes, which can be read about in the release notes.</p>\n<p><a target=\"_blank\" href=\"https://www.percona.com/software/database-tools/percona-monitoring-and-management\">Download Percona Monitoring and Management 2.12.0</a></p>\n<p>&#160;</p>\n<h2>Percona Server for MongoDB 4.4.2-4</h2>\n<p>Released on December 1, 2020, <a target=\"_blank\" href=\"https://www.percona.com/doc/percona-server-for-mongodb/4.4/release_notes/4.4.2-4.html\">Percona Server for MongoDB 4.4.2-4</a> is an open source and highly-scalable database that is a drop-in replacement for MongoDB 4.4.2 Community Edition. There are several improvements in this release, including the addition of both mongobridge as a part of percona-server-mongodb-server package and ldapDebug, ldapFollowReferrals, and ldapConnectionPoolSizePerHost server parameters. A full list of bug fixes is available in the release notes, but a few notable ones include a fix for when a user can’t be authorized via LDAP due to ‘LDAP search failed with error: Referral’, createBackup using AWS remote location fails with “EntityTooLarge”, and binaries perconadecrypt and mongobridge do not have a version.</p>\n<p><a target=\"_blank\" href=\"https://www.percona.com/software/mongodb/percona-server-for-mongodb\">Download Percona Server for MongoDB 4.4.2-4</a></p>\n<p>&#160;</p>\n<h2>Percona Server for MongoDB 4.0.21-15</h2>\n<p>On November 23, 2020, <a target=\"_blank\" href=\"https://www.percona.com/doc/percona-server-for-mongodb/4.0/release_notes/4.0.21-15.html\">Percona Server for MongoDB 4.0.21-15</a> was released. An enhanced, open source database that is a fully-compatible, drop-in replacement for MongoDB 4.0.21 Community Edition and supporting MongoDB 4.0.21 protocols and drivers. An improvement in audit log performance is in this release, as well as several bug fixes, available in the release notes.</p>\n<p><a target=\"_blank\" href=\"https://www.percona.com/downloads/percona-server-mongodb-4.0/LATEST/\">Download Percona Server for MongoDB 4.0.21-15</a></p>\n<p>&#160;</p>\n<h2>Percona Server for MongoDB 3.6.21-10</h2>\n<p>November 26, 2020, saw the release of <a target=\"_blank\" href=\"https://www.percona.com/doc/percona-server-for-mongodb/3.6/release_notes/3.6.21-10.0.html\">Percona Server for MongoDB 3.6.21-10</a>. It is an enhanced, open source, and highly-scalable database that is a fully-compatible, drop-in replacement for MongoDB 3.6.21 Community Edition and supports MongoDB 3.6.21 protocols and drivers. Improvements include the addition of mongobridge as a part of percona-server-mongodb-server package and the addition of ldapDebug, ldapFollowReferrals and ldapConnectionPoolSizePerHost server parameters.</p>\n<p><a target=\"_blank\" href=\"https://www.percona.com/downloads/percona-server-mongodb-3.6/LATEST/\">Download Percona Server for MongoDB 3.6.21-10</a></p>\n<p>&#160;</p>\n<h2>Percona Server for MongoDB 4.2.11-12</h2>\n<p><a target=\"_blank\" href=\"https://www.percona.com/doc/percona-server-for-mongodb/4.2/release_notes/4.2.11-12.html\">Percona Server for MongoDB 4.2.11-12</a> was released on December 7, 2020. It is a drop-in replacement for MongoDB 4.2.11 Community Edition, supporting MongoDB 4.2.11 protocols and drivers. An improvement in this release is the addition of mongobridge as a part of percona-server-mongodb-server package and a bug fix is a redirect of openldap debug messages to mongodb log.</p>\n<p><a target=\"_blank\" href=\"https://www.percona.com/downloads/percona-server-mongodb-4.2/LATEST/\">Download Percona Server for MongoDB 4.2.11-12</a></p>\n<p>&#160;</p>\n<h2>Percona Server for MySQL 5.7.32-35</h2>\n<p><a target=\"_blank\" href=\"https://www.percona.com/doc/percona-server/5.7/release-notes/Percona-Server-5.7.32-35.html\">Percona Server for MySQL 5.7.32-35</a> was released on November 24, 2020, and includes all the features and bug fixes available in MySQL 5.7.32 Community Edition in addition to enterprise-grade features developed by Percona. A new feature adds the Backport Data Masking plugin to 5.7 (<em>Thanks to user Surenda Kumar Gupta for reporting this issue</em>) and there are several bug fixes as well, which can be seen in the release notes.</p>\n<p><a target=\"_blank\" href=\"https://www.percona.com/downloads/Percona-Server-5.7/\">Download Percona Server for MySQL 5.7.32-35</a></p>\n<p>&#160;</p>\n<p>That&#8217;s it for this roundup, and be sure to <a target=\"_blank\" href=\"https://twitter.com/Percona\" target=\"_blank\" rel=\"&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;noopener&#34; noopener noreferrer\">follow us on Twitter</a> to stay up-to-date on the most recent releases! Percona is a leader in providing best-of-breed enterprise-class support, consulting, managed services, training, and software for MySQL, MongoDB, PostgreSQL, MariaDB, and other open source databases in on-premises and cloud environments.</p>\n<hr />\n<p>We understand that choosing open source software for your business can be a potential minefield. You need to select the best available options, which fully support and adapt to your changing needs. Choosing the right open source software can allow you access to enterprise-level features, without the associated costs.</p>\n<p>In our white paper, we discuss the key features that make open source software attractive, and why Percona&#8217;s software might be the best option for your business.</p>\n<p style=\"text-align: center;\"><a target=\"_blank\" class=\"btn btn-primary btn-lg\" href=\"https://www.percona.com/resources/white-papers/when-percona-software-right-choice?utm_source=blog&#38;utm_medium=download&#38;utm_campaign=roundup&#38;utm_content=whitepaper\" rel=\"noopener\">Download: When is Percona Software the Right Choice?</a></p>\n","descriptionType":"html","publishedDate":"Tue, 08 Dec 2020 14:13:38 +0000","feedId":11,"bgimg":"","linkMd5":"ceaf18b6af1d473b5f08b76f527d9bd6","bgimgJsdelivr":"","metaImg":"","author":"David Quilty","articleImgCdnMap":{"https://www.percona.com/blog/wp-content/uploads/2020/12/Percona-Releases-December-8-200x112.png":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn3@2020_5/2020/12/11/08-00-31-446_5ff7abefca3aa17b.webp","https://www.percona.com/blog/wp-content/uploads/2020/12/Percona-Releases-December-8-300x169.png":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn28@2020_5/2020/12/11/08-00-42-966_1aeae6bcb14c4dee.webp"},"publishedOrCreatedDate":1607673626283}],"record":{"createdTime":"2020-12-11 16:00:26","updatedTime":"2020-12-11 16:00:26","feedId":11,"fetchDate":"Fri, 11 Dec 2020 08:00:26 +0000","fetchMs":417,"handleMs":1379,"totalMs":26468,"newArticles":0,"totalArticles":40,"status":1,"type":0,"ip":"a77cebc3d29407d432e99f31d60614ae","hostName":"us-017*","requestId":"183aaca70c9444d8a9d7f6f078ea9ee9_11","contentType":"application/rss+xml; charset=UTF-8","totalBytes":67562,"bgimgsTotal":0,"bgimgsGithubTotal":0,"articlesImgsTotal":10,"articlesImgsGithubTotal":10,"successGithubMap":{"myreaderx14":1,"myreaderx7":1,"myreaderx6":1,"myreaderx16":1,"myreaderx27":1,"myreaderx32":1,"myreaderx10":1,"myreaderx12":1,"myreaderx2":1,"myreaderx31":1},"failGithubMap":{}},"feed":{"createdTime":"2020-05-30 17:21:38","updatedTime":"2020-09-01 09:23:03","id":11,"name":"Percona Database Performance Blog","url":"https://www.percona.com/blog/feed/","subscriber":null,"website":null,"icon":"https://www.percona.com/blog/wp-content/uploads/2018/09/percona-32x32.png","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx63/cdn89@2020_6/2020/09/01/01-23-01-358_b72bb3b39c378fe6.png","description":"","weekly":null,"link":null},"noPictureArticleList":[],"tmpCommonImgCdnBytes":0,"tmpBodyImgCdnBytes":67562,"tmpBgImgCdnBytes":0,"extra4":{"start":1607673624420,"total":0,"statList":[{"spend":504,"msg":"获取xml内容"},{"spend":1380,"msg":"解释文章"},{"spend":21,"msg":"上传封面图到cdn"},{"spend":2,"msg":"修正封面图上传失败重新上传"},{"spend":24339,"msg":"正文链接上传到cdn"}]},"extra5":10,"extra6":10,"extra7ImgCdnFailResultVector":[],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://europe62.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-004.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe63.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-59.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://europe61.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-51.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-016.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-60.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-029.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://www.percona.com/blog/wp-content/uploads/2020/12/EKS-Distro-1-300x157.png","sourceStatusCode":200,"destWidth":300,"destHeight":157,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx14/cdn39@2020_5/2020/12/11/08-00-26-775_010924677e6afc53.webp","sourceBytes":20671,"destBytes":5932,"targetWebpQuality":75,"feedId":11,"totalSpendMs":892,"convertSpendMs":6,"createdTime":"2020-12-11 16:00:26","host":"us-004*","referer":"https://www.percona.com/blog/?p=72981","linkMd5ListStr":"b9e93f10657343c3f7452d6fb6abb0e8","githubUser":"myreaderx14","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"20.2 KB","destSize":"5.8 KB","compressRate":"28.7%"},{"code":1,"isDone":false,"source":"https://www.percona.com/blog/wp-content/uploads/2020/12/HTTPS-Connections-to-Percona-Monitoring-and-Management-200x112.png","sourceStatusCode":200,"destWidth":200,"destHeight":112,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn11@2020_2/2020/12/11/08-00-27-390_ffb3cc105aaab81d.webp","sourceBytes":20147,"destBytes":5238,"targetWebpQuality":75,"feedId":11,"totalSpendMs":1534,"convertSpendMs":4,"createdTime":"2020-12-11 16:00:26","host":"europe62*","referer":"https://www.percona.com/blog/?p=72846","linkMd5ListStr":"df8bfcfae9ef0ce95c7ca635fa0db89e","githubUser":"myreaderx16","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"19.7 KB","destSize":"5.1 KB","compressRate":"26%"},{"code":1,"isDone":false,"source":"https://www.percona.com/blog/wp-content/uploads/2020/12/HTTPS-Connections-to-Percona-Monitoring-and-Management-300x168.png","sourceStatusCode":200,"destWidth":300,"destHeight":168,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn13@2020_4/2020/12/11/08-00-27-407_3771e97bdedc6341.webp","sourceBytes":35433,"destBytes":9766,"targetWebpQuality":75,"feedId":11,"totalSpendMs":2073,"convertSpendMs":11,"createdTime":"2020-12-11 16:00:26","host":"europe63*","referer":"https://www.percona.com/blog/?p=72846","linkMd5ListStr":"df8bfcfae9ef0ce95c7ca635fa0db89e","githubUser":"myreaderx27","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"34.6 KB","destSize":"9.5 KB","compressRate":"27.6%"},{"code":1,"isDone":false,"source":"https://www.percona.com/blog/wp-content/uploads/2020/12/EKS-Distro-1-200x105.png","sourceStatusCode":200,"destWidth":200,"destHeight":105,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn31@2020_4/2020/12/11/08-00-28-803_b5c49cbc5fc34c15.webp","sourceBytes":11284,"destBytes":3482,"targetWebpQuality":75,"feedId":11,"totalSpendMs":951,"convertSpendMs":4,"createdTime":"2020-12-11 16:00:28","host":"us-029*","referer":"https://www.percona.com/blog/?p=72981","linkMd5ListStr":"b9e93f10657343c3f7452d6fb6abb0e8","githubUser":"myreaderx7","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"11 KB","destSize":"3.4 KB","compressRate":"30.9%"},{"code":1,"isDone":false,"source":"https://www.percona.com/blog/wp-content/uploads/2020/12/MySQL5_6_EOL-300x157.png","sourceStatusCode":200,"destWidth":300,"destHeight":157,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn16@2020_2/2020/12/11/08-00-31-373_2e61c91e11dde1c4.webp","sourceBytes":38091,"destBytes":8972,"targetWebpQuality":75,"feedId":11,"totalSpendMs":1751,"convertSpendMs":10,"createdTime":"2020-12-11 16:00:30","host":"europe-59*","referer":"https://www.percona.com/blog/?p=72999","linkMd5ListStr":"674d7bb784361d2caf463686ccebadd2","githubUser":"myreaderx2","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"37.2 KB","destSize":"8.8 KB","compressRate":"23.6%"},{"code":1,"isDone":false,"source":"https://www.percona.com/blog/wp-content/uploads/2020/12/Percona-Releases-December-8-200x112.png","sourceStatusCode":200,"destWidth":200,"destHeight":112,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn3@2020_5/2020/12/11/08-00-31-446_5ff7abefca3aa17b.webp","sourceBytes":42391,"destBytes":5130,"targetWebpQuality":75,"feedId":11,"totalSpendMs":1792,"convertSpendMs":6,"createdTime":"2020-12-11 16:00:30","host":"europe-59*","referer":"https://www.percona.com/blog/?p=72792","linkMd5ListStr":"ceaf18b6af1d473b5f08b76f527d9bd6","githubUser":"myreaderx10","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"41.4 KB","destSize":"5 KB","compressRate":"12.1%"},{"code":1,"isDone":false,"source":"https://www.percona.com/blog/wp-content/uploads/2020/12/MySQL5_6_EOL-200x105.png","sourceStatusCode":200,"destWidth":200,"destHeight":105,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn36@2020_5/2020/12/11/08-00-35-957_739d8d79e33039c3.webp","sourceBytes":21489,"destBytes":5062,"targetWebpQuality":75,"feedId":11,"totalSpendMs":1259,"convertSpendMs":26,"createdTime":"2020-12-11 16:00:35","host":"us-016*","referer":"https://www.percona.com/blog/?p=72999","linkMd5ListStr":"674d7bb784361d2caf463686ccebadd2","githubUser":"myreaderx31","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"21 KB","destSize":"4.9 KB","compressRate":"23.6%"},{"code":1,"isDone":false,"source":"https://www.percona.com/blog/wp-content/uploads/2020/12/Percona-Releases-December-8-300x169.png","sourceStatusCode":200,"destWidth":300,"destHeight":169,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn28@2020_5/2020/12/11/08-00-42-966_1aeae6bcb14c4dee.webp","sourceBytes":86420,"destBytes":10684,"targetWebpQuality":75,"feedId":11,"totalSpendMs":1021,"convertSpendMs":20,"createdTime":"2020-12-11 16:00:42","host":"us-51*","referer":"https://www.percona.com/blog/?p=72792","linkMd5ListStr":"ceaf18b6af1d473b5f08b76f527d9bd6","githubUser":"myreaderx12","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"84.4 KB","destSize":"10.4 KB","compressRate":"12.4%"},{"code":1,"isDone":false,"source":"https://www.percona.com/blog/wp-content/uploads/2020/12/How-to-Configure-MySQL-SSL-With-Public-Certificates-300x168.png","sourceStatusCode":200,"destWidth":300,"destHeight":168,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn7@2020_1/2020/12/11/08-00-45-609_659d6bf05e8c294e.webp","sourceBytes":39537,"destBytes":8688,"targetWebpQuality":75,"feedId":11,"totalSpendMs":1544,"convertSpendMs":8,"createdTime":"2020-12-11 16:00:44","host":"europe-60*","referer":"https://www.percona.com/blog/?p=69584","linkMd5ListStr":"964b5334185b14f9f742bcb60a1f5fc2","githubUser":"myreaderx6","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"38.6 KB","destSize":"8.5 KB","compressRate":"22%"},{"code":1,"isDone":false,"source":"https://www.percona.com/blog/wp-content/uploads/2020/12/How-to-Configure-MySQL-SSL-With-Public-Certificates-200x112.png","sourceStatusCode":200,"destWidth":200,"destHeight":112,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn10@2020_1/2020/12/11/08-00-49-661_6975a5507b49ea67.webp","sourceBytes":20255,"destBytes":4608,"targetWebpQuality":75,"feedId":11,"totalSpendMs":1794,"convertSpendMs":16,"createdTime":"2020-12-11 16:00:49","host":"europe61*","referer":"https://www.percona.com/blog/?p=69584","linkMd5ListStr":"964b5334185b14f9f742bcb60a1f5fc2","githubUser":"myreaderx32","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"19.8 KB","destSize":"4.5 KB","compressRate":"22.7%"}],"successGithubMap":{"myreaderx14":1,"myreaderx7":1,"myreaderx6":1,"myreaderx16":1,"myreaderx27":1,"myreaderx32":1,"myreaderx10":1,"myreaderx12":1,"myreaderx2":1,"myreaderx31":1},"failGithubMap":{}}