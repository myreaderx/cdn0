{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-11-17 15:56:30","updatedTime":"2020-11-17 15:56:30","title":"如何在公司项目中使用 WebSocket— 入门实战指南","link":"https://juejin.im/post/6895978021937741832","description":"<div class=\"markdown-body\">\n <style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:\"\"}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style>\n <p>本文从 WebSocket 基础概念出发，介绍在实际开发中从本地联调到部署上线的流程以及注意事项，让 WebSocket 小白以最小成本应用到项目中。</p> \n <h1 data-id=\"heading-0\">一、WebSocket 基础</h1> \n <h2 data-id=\"heading-1\">1、什么是 WebSocket</h2> \n <blockquote> \n  <p>WebSocket 是一种<a href=\"https://zh.wikipedia.org/wiki/%E7%BD%91%E7%BB%9C%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">网络传输协议</a>，可在单个 <a href=\"https://zh.wikipedia.org/wiki/%E4%BC%A0%E8%BE%93%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AE\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">TCP</a> 连接上进行<a href=\"https://zh.wikipedia.org/wiki/%E9%9B%99%E5%B7%A5#%E5%85%A8%E9%9B%99%E5%B7%A5\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">全双工</a>通信</p> \n </blockquote> \n <h2 data-id=\"heading-2\">2、对比 http</h2> \n <ul> \n  <li>两者都位于应用层，都依赖TCP协议</li> \n  <li>WebSocket 协议一般以ws://或wss://开头</li> \n  <li>HTTP 不支持全双工通信，一般使用轮询方式</li> \n </ul> \n <h2 data-id=\"heading-3\">3、WebSocket 基础用法</h2> \n <p>兼容性：</p> \n <p><img alt=\"\" class=\"lazyload\" src=\"https://static001.geekbang.org/infoq/03/033d15cde567493934b474676b442991.webp\" data-width=\"800\" data-height=\"600\" referrerpolicy=\"no-referrer\" /></p> \n <p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/WebSocket\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">developer.mozilla.org/zh-CN/docs/…</a></p> \n <p>一个简单的 Demo</p> \n <p><img alt=\"\" class=\"lazyload\" src=\"https://static001.geekbang.org/infoq/63/63ed2ccf4ffdfa43c99804620d84a9c8.webp\" data-width=\"800\" data-height=\"600\" referrerpolicy=\"no-referrer\" /></p> \n <p>(<a href=\"https://mp.weixin.qq.com/s/QY9mYVpqp25Ga-TSfJ6H_A\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">视频详见原文</a>）</p> \n <p>客户端可以在控制台 -network-ws下看到 WebSocket 消息</p> \n <p><img alt=\"\" class=\"lazyload\" src=\"https://static001.geekbang.org/infoq/a2/a2e18b823e1d332ac80b930cd29a81eb.webp\" data-width=\"800\" data-height=\"600\" referrerpolicy=\"no-referrer\" /></p> \n <p>注意请求头里的几个关键字段</p> \n <p><img alt=\"\" class=\"lazyload\" src=\"https://static001.geekbang.org/infoq/23/23620f20c3697fade5b742d21739fbe6.webp\" data-width=\"800\" data-height=\"600\" referrerpolicy=\"no-referrer\" /></p> \n <ol> \n  <li>请求地址为 ws:// 或 wss:// 开头</li> \n  <li>Connection 必须设置 Upgrade，表示客户端希望连接升级</li> \n  <li>Upgrade字段必须设置 WebSocket，表示希望升级到 WebSocket 协议。</li> \n  <li>如果服务端支持 websocket，会在响应头中返回相同的信息，并且连接状态置为101（协议切换成功</li> \n </ol> \n <h1 data-id=\"heading-4\">二、如何在项目中使用 WebSocke</h1> \n <p>下面以一个实际项目为例，展示如何实现一个WebSocket接口，包含<strong>开发-&gt;联调-&gt;部署→上线</strong>整个流程。</p> \n <h2 data-id=\"heading-5\">1、开发环境</h2> \n <p>将上面的 Demo简单封装一下，在项目中调用如下：</p> \n <p><img alt=\"\" class=\"lazyload\" src=\"https://static001.geekbang.org/infoq/5a/5a0c8c361ffd5022738e5060f99ca82a.webp\" data-width=\"800\" data-height=\"600\" referrerpolicy=\"no-referrer\" /></p> \n <p>配置 webpack 代理</p> \n <p><img alt=\"\" class=\"lazyload\" src=\"https://static001.geekbang.org/infoq/79/7950e0fa7d1402cea5b12b6bdec054ba.webp\" data-width=\"800\" data-height=\"600\" referrerpolicy=\"no-referrer\" /></p> \n <p>说明：</p> \n <ul> \n  <li>WebSocket接口要和http接口分开</li> \n  <li>域名使用location.host并且通过反向代理转发，目的是保留cookie和头信息。</li> \n </ul> \n <h2 data-id=\"heading-6\">2、心跳检测&amp;断线重连</h2> \n <p>为了保证连接稳定，需要考虑一些异常情况，如网络波动导致连接中断，服务器超时等。</p> \n <p>心跳检测即客户端定时向服务端发送心跳消息，保持连接稳定；</p> \n <p>断线重连即发送消息前，检测连接状态，若连接中断，尝试n次连接；</p> \n <p>封装如下：</p> \n <p><img alt=\"\" class=\"lazyload\" src=\"https://static001.geekbang.org/infoq/1b/1b9a49b69d02b90602feb49fdab3d939.webp\" data-width=\"800\" data-height=\"600\" referrerpolicy=\"no-referrer\" /></p> \n <p>也可选择第三方库处理。</p> \n <h2 data-id=\"heading-7\">3、Nginx配置</h2> \n <blockquote> \n  <div>\n   The WebSocket protocol is different from the HTTP protocol, but the WebSocket handshake is compatible with HTTP, using the HTTP Upgrade facility to upgrade the connection from HTTP to WebSocket.\n  </div> \n  <div>\n   This allows WebSocket applications to more easily fit into existing infrastructures.\n  </div> \n  <div>\n   For example, WebSocket applications can use the standard HTTP ports 80 and 443, thus allowing the use of existing firewall rules.\n  </div> \n </blockquote> \n <div> \n  <pre><code class=\"copyable\">location /websocket {\n    proxy_pass http://xx.xxx.xx.xx; # websocket服务器。不用管 ws://\n    proxy_http_version 1.1; # http协议切换\n\n    proxy_set_header Host $host; # 保留源信息\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header Upgrade $http_upgrade; # 请求协议升级，如果生产环境有报400错误，可以尝试将值设置为websocket\n    proxy_set_header Connection $connection_upgrade;\n}\n<span class=\"copy-code-btn\">复制代码</span></code></pre> \n  <p><img alt=\"\" class=\"lazyload\" src=\"https://juejin.im/post/data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" data-width=\"800\" data-height=\"600\" referrerpolicy=\"no-referrer\"><img alt=\"\" title=\"点击并拖拽以移动\" class=\"lazyload\" src=\"https://juejin.im/post/data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" data-width=\"800\" data-height=\"600\" referrerpolicy=\"no-referrer\" /></img></p>\n </div>\n <p></p> \n <h1 data-id=\"heading-8\">三、其他</h1> \n <h2 data-id=\"heading-9\">sockiet.io</h2> \n <p><a href=\"http://sockiet.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">sockiet.io</a> 是基于 Node 的实时应用程序框架，对比原生 WebSocket，封装了更多通用能力，且在不支持WebSocket的浏览器上，可以降级为轮询方式通信。</p> \n <p>**优点：**成熟，开箱即用，兼容性好。</p> \n <p>**缺点：**体积较大，前后端必须统一，即后端使用 <a href=\"http://socket.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">socket.io</a> 则前端必须使用 <a href=\"http://socket.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">socket.io</a>-client 对应。</p> \n <blockquote> \n  <p>作者：vivo 商业化大前端团队</p> \n </blockquote>\n</div> \n<div class=\"image-viewer-box\" data-v-78c9b824=\"\">\n <!---->\n</div>","descriptionType":"text/html","publishedDate":"Mon, 16 Nov 2020 22:37:13 +0000","feedId":12740,"bgimg":"https://static001.geekbang.org/infoq/03/033d15cde567493934b474676b442991.webp","linkMd5":"a5f089e59997e97c785bb1038e1e51aa","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn32@2020_5/2020/11/17/07-59-28-127_9e7f794397f2bf1f.webp","destWidth":1080,"destHeight":363,"sourceBytes":26832,"destBytes":26832,"author":"vivo互联网技术","articleImgCdnMap":{"https://static001.geekbang.org/infoq/03/033d15cde567493934b474676b442991.webp":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn32@2020_5/2020/11/17/07-59-28-127_9e7f794397f2bf1f.webp","https://static001.geekbang.org/infoq/63/63ed2ccf4ffdfa43c99804620d84a9c8.webp":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn52@2020_6/2020/11/17/07-59-31-181_163d2e51652bb451.webp","https://static001.geekbang.org/infoq/a2/a2e18b823e1d332ac80b930cd29a81eb.webp":"https://cdn.jsdelivr.net/gh/myreaderx25/cdn35@2020_2/2020/11/17/07-59-31-471_79e42cdaf9835213.webp","https://static001.geekbang.org/infoq/23/23620f20c3697fade5b742d21739fbe6.webp":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn55@2020_3/2020/11/17/07-59-30-021_442dd2057ec17e66.webp","https://static001.geekbang.org/infoq/5a/5a0c8c361ffd5022738e5060f99ca82a.webp":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn44@2020_4/2020/11/17/07-59-30-329_1d5b1dabe0ee3359.webp","https://static001.geekbang.org/infoq/79/7950e0fa7d1402cea5b12b6bdec054ba.webp":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn40@2020_5/2020/11/17/07-59-30-724_9c174be881702e17.webp","https://static001.geekbang.org/infoq/1b/1b9a49b69d02b90602feb49fdab3d939.webp":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn48@2020_4/2020/11/17/07-59-30-476_b6d5af621bede342.webp","https://juejin.im/post/data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==":"https://cdn.jsdelivr.net/gh/myreaderx/cdn60@2020_3/2020/11/17/07-59-32-262_68b57dfdba0939ae.jpg"},"publishedOrCreatedDate":1605599790801}],"record":{"createdTime":"2020-11-17 15:56:30","updatedTime":"2020-11-17 15:56:30","feedId":12740,"fetchDate":"Tue, 17 Nov 2020 07:56:30 +0000","fetchMs":101,"handleMs":49,"totalMs":182672,"newArticles":0,"totalArticles":5,"status":1,"type":0,"ip":"1bc2e11d54d94d2e8b384096218a63f0","hostName":"us-030*","requestId":"ce4afc0bf05f4a5cb951e986a709dc85_12740","contentType":"application/xml; charset=utf-8","totalBytes":325488,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":8,"articlesImgsGithubTotal":8,"successGithubMap":{"myreaderx25":1,"myreaderx27":1,"myreaderx32":1,"myreaderx10":1,"myreaderx4":1,"myreaderx3":1,"myreaderx2":1,"myreaderx":1},"failGithubMap":{}},"feed":{"createdTime":"2020-08-25 04:37:55","updatedTime":"2020-09-05 16:40:22","id":12740,"name":"掘金前端","url":"https://rsshub.app/juejin/category/frontend","subscriber":243,"website":null,"icon":"https://juejin.im/favicon.ico","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx65/cdn53@2020_2/2020/09/05/08-40-02-078_24cb365749d306f2.ico","description":"掘金前端 - Made with love by RSSHub(https://github.com/DIYgod/RSSHub)","weekly":null,"link":null},"noPictureArticleList":[],"tmpCommonImgCdnBytes":26832,"tmpBodyImgCdnBytes":298656,"tmpBgImgCdnBytes":0,"extra4":{"start":1605599790647,"total":0,"statList":[{"spend":107,"msg":"获取xml内容"},{"spend":49,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":4230,"msg":"正文链接上传到cdn"}]},"extra5":8,"extra6":8,"extra7ImgCdnFailResultVector":[],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://us-039.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-23.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-002.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe61.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-010.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-014.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-026.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://static001.geekbang.org/infoq/03/033d15cde567493934b474676b442991.webp","sourceStatusCode":200,"destWidth":1080,"destHeight":363,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn32@2020_5/2020/11/17/07-59-28-127_9e7f794397f2bf1f.webp","sourceBytes":26832,"destBytes":26832,"feedId":12740,"totalSpendMs":2209,"convertSpendMs":0,"createdTime":"2020-11-17 15:59:26","host":"us-022*","referer":"https://juejin.im/post/6895978021937741832","linkMd5ListStr":"a5f089e59997e97c785bb1038e1e51aa,a5f089e59997e97c785bb1038e1e51aa","githubUser":"myreaderx3","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"26.2 KB","destSize":"26.2 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://static001.geekbang.org/infoq/5a/5a0c8c361ffd5022738e5060f99ca82a.webp","sourceStatusCode":200,"destWidth":1080,"destHeight":234,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn44@2020_4/2020/11/17/07-59-30-329_1d5b1dabe0ee3359.webp","sourceBytes":14830,"destBytes":14830,"feedId":12740,"totalSpendMs":2097,"convertSpendMs":0,"createdTime":"2020-11-17 15:59:29","host":"europe61*","referer":"https://juejin.im/post/6895978021937741832","linkMd5ListStr":"a5f089e59997e97c785bb1038e1e51aa","githubUser":"myreaderx4","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"14.5 KB","destSize":"14.5 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://static001.geekbang.org/infoq/1b/1b9a49b69d02b90602feb49fdab3d939.webp","sourceStatusCode":200,"destWidth":1080,"destHeight":1167,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn48@2020_4/2020/11/17/07-59-30-476_b6d5af621bede342.webp","sourceBytes":53058,"destBytes":53058,"feedId":12740,"totalSpendMs":2383,"convertSpendMs":0,"createdTime":"2020-11-17 15:59:29","host":"us-039*","referer":"https://juejin.im/post/6895978021937741832","linkMd5ListStr":"a5f089e59997e97c785bb1038e1e51aa","githubUser":"myreaderx27","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"51.8 KB","destSize":"51.8 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://static001.geekbang.org/infoq/79/7950e0fa7d1402cea5b12b6bdec054ba.webp","sourceStatusCode":200,"destWidth":899,"destHeight":237,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn40@2020_5/2020/11/17/07-59-30-724_9c174be881702e17.webp","sourceBytes":10492,"destBytes":10492,"feedId":12740,"totalSpendMs":2539,"convertSpendMs":0,"createdTime":"2020-11-17 15:59:29","host":"europe-23*","referer":"https://juejin.im/post/6895978021937741832","linkMd5ListStr":"a5f089e59997e97c785bb1038e1e51aa","githubUser":"myreaderx32","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"10.2 KB","destSize":"10.2 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://static001.geekbang.org/infoq/23/23620f20c3697fade5b742d21739fbe6.webp","sourceStatusCode":200,"destWidth":1080,"destHeight":1198,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn55@2020_3/2020/11/17/07-59-30-021_442dd2057ec17e66.webp","sourceBytes":53374,"destBytes":53374,"feedId":12740,"totalSpendMs":2950,"convertSpendMs":0,"createdTime":"2020-11-17 15:59:29","host":"us-014*","referer":"https://juejin.im/post/6895978021937741832","linkMd5ListStr":"a5f089e59997e97c785bb1038e1e51aa","githubUser":"myreaderx10","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"52.1 KB","destSize":"52.1 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://static001.geekbang.org/infoq/63/63ed2ccf4ffdfa43c99804620d84a9c8.webp","sourceStatusCode":200,"destWidth":1080,"destHeight":523,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn52@2020_6/2020/11/17/07-59-31-181_163d2e51652bb451.webp","sourceBytes":41318,"destBytes":41318,"feedId":12740,"totalSpendMs":2987,"convertSpendMs":0,"createdTime":"2020-11-17 15:59:29","host":"us-026*","referer":"https://juejin.im/post/6895978021937741832","linkMd5ListStr":"a5f089e59997e97c785bb1038e1e51aa","githubUser":"myreaderx2","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"40.3 KB","destSize":"40.3 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://static001.geekbang.org/infoq/a2/a2e18b823e1d332ac80b930cd29a81eb.webp","sourceStatusCode":200,"destWidth":1080,"destHeight":1121,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx25/cdn35@2020_2/2020/11/17/07-59-31-471_79e42cdaf9835213.webp","sourceBytes":33868,"destBytes":33868,"feedId":12740,"totalSpendMs":3228,"convertSpendMs":0,"createdTime":"2020-11-17 15:59:29","host":"us-010*","referer":"https://juejin.im/post/6895978021937741832","linkMd5ListStr":"a5f089e59997e97c785bb1038e1e51aa","githubUser":"myreaderx25","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"33.1 KB","destSize":"33.1 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://juejin.im/post/data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==","sourceStatusCode":200,"destWidth":0,"destHeight":0,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx/cdn60@2020_3/2020/11/17/07-59-32-262_68b57dfdba0939ae.jpg","sourceBytes":91716,"destBytes":91716,"feedId":12740,"totalSpendMs":4198,"convertSpendMs":2,"createdTime":"2020-11-17 15:59:29","host":"us-002*","referer":"https://juejin.im/post/6895978021937741832","linkMd5ListStr":"a5f089e59997e97c785bb1038e1e51aa,a5f089e59997e97c785bb1038e1e51aa","githubUser":"myreaderx","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"89.6 KB","destSize":"89.6 KB","compressRate":"100%"}],"successGithubMap":{"myreaderx25":1,"myreaderx27":1,"myreaderx32":1,"myreaderx10":1,"myreaderx4":1,"myreaderx3":1,"myreaderx2":1,"myreaderx":1},"failGithubMap":{}}