{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2021-05-12 02:35:41","updatedTime":"2021-05-12 02:35:41","title":"CTO 说了，如果发现谁用 kill -9 关闭程序就开除","link":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+CTO%20%E8%AF%B4%E4%BA%86%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%8F%91%E7%8E%B0%E8%B0%81%E7%94%A8%20kill%20-9%20%E5%85%B3%E9%97%AD%E7%A8%8B%E5%BA%8F%E5%B0%B1%E5%BC%80%E9%99%A4","description":"<div><div><div id=\"media\" class=\"rich_media_thumb_wrp\">\n\n            <img class=\"rich_media_thumb\" src=\"http://content.sov5.cn/mmbiz_jpg/ruluqgBFV0YTGt6zR9y0qcpyPseqd5yGIqC5bKz5r2Ij9Em9FzxwQqQNQfv4SMpwA5aic0ulbu38mgnrYNZVXnA?imageView2/1/w/600\">\n        </div>\n    \n\n    \n\n    <div class=\"rich_media_content\" id=\"js_content\">\n                    \n\n                    \n                    \n                    \n                    <section><section><p style=\"text-align: center;\"><span style=\"font-size: 14px;letter-spacing: 0.5440000295639038px;text-align: center;max-width: 100%;color: rgb(255, 41, 65);line-height: 22.4px;\">（给</span><span style=\"font-size: 14px;letter-spacing: 0.5440000295639038px;text-align: center;max-width: 100%;line-height: 22.4px;color: rgb(0, 128, 255);\">ImportNew</span><span style=\"font-size: 14px;letter-spacing: 0.5440000295639038px;text-align: center;max-width: 100%;color: rgb(255, 41, 65);line-height: 22.4px;\">加星标，提高Java技能）</span></p><p><br></p><p><strong style=\"color: rgb(171, 25, 66);font-size: 22px;\"><span style=\"font-size: 15px;text-align: left;\">kill -9 pid ？？？</span></strong></p></section></section><section data-tool=\"mdnice编辑器\" data-website=\"https://www.mdnice.com\"><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">kill可将指定的信息送至程序。预设的信息为SIGTERM(15)，可将指定程序终止。若仍无法终止该程序，可使用SIGKILL(9)信息尝试强制删除程序。程序或工作的编号可利用ps指令或jobs指令查看（这段话来自菜鸟教程）。</p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">讲的这个复杂，简单点来说就是用来杀死linux中的进程，啥？你问我啥是进程？请自行百度。</p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">我相信很多人都用过<code style=\"\">kill -9 pid</code> 这个命令，彻底杀死进程的意思，一般情况我们使用它没有上面问题，但是在我们项目中使用它就有可能存在致命的问题。</p><h2 data-tool=\"mdnice编辑器\" style=\"font-weight: bold;color: black;font-size: 22px;margin-top: 20px;margin-right: 10px;\"><span style=\"display: none;\"></span><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">kill -9 pid 带来的问题</span></strong></span></h2><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">由于kill -9 属于暴力删除，所以会给程序带来比较严重的后果，那究竟会带来什么后果呢？</p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">举个栗子：转账功能，再给两个账户进行加钱扣钱的时候突然断电了？这个时候会发生什么事情？对于InnoDB存储引擎来说，没有什么损失，因为它支持事务，但是对于MyISAM引擎来说那简直就是灾难，为什么？假如给A账户扣了钱，现在需要将B账户加钱，这个时候停电了，就会造成，A的钱被扣了，但是B没有拿到这笔钱，这在生产环境是绝对不允许的，kill -9 相当于突然断电的效果。</p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">当然了，像转账这种，肯定不是使用MyISAM引擎，但是如今分布式火了起来，跨服务转账已经是很平常的事情，这种时候如果使用kill -9 去停止服务，那就不是你的事务能保证数据的准确性了，这个时候你可能会想到分布式事务，这个世界上没有绝对的安全系统或者架构，分布式事务也是一样，他也会存在问题，概率很小，如果一旦发生，损失有可能是无法弥补的，所以一定不能使用kill -9 去停止服务，因为你不知道他会造成什么后果。</p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">在MyISAM引擎中表现的更明显，比如用户的信息由两张表维护，管理员修改用户信息的时候需要修改两张表，但由于你的kill -9 暴力结束项目，导致只修改成功了一张表，这也会导致数据的不一致性，这是小事，因为大不了再修改一次，但是金钱、合同这些重要的信息如果由于你的暴力删除导致错乱，我觉得可能比删库跑路还严重，至少删库还能恢复，你这个都不知道错在哪里。</p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">那我们应该怎么结束项目呢？</p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">其实java给我们提供了结束项目的功能，比如：tomcat可以使用shutdown.bat/shutdown.sh进行优雅结束。</p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">什么叫优雅结束？</p><blockquote data-tool=\"mdnice编辑器\" style=\"border-width: initial;border-style: none;border-color: initial;font-size: 0.9em;overflow: auto;margin-bottom: 20px;margin-top: 20px;padding-top: 15px;padding-right: 10px;padding-bottom: 15px;line-height: 1.75;border-radius: 13px;color: rgb(53, 53, 53);background: rgb(245, 245, 245);\"><span style=\"display: block;font-size: 2em;color: rgb(248, 57, 41);font-family: Arial, serif;line-height: 1em;font-weight: 700;\">“</span><p style=\"padding-top: 8px;padding-bottom: 8px;line-height: 26px;font-size: 16px;margin-right: 10px;margin-left: 10px;\">第一步：停止接收请求和内部线程。第二步：判断是否有线程正在执行。第三步：等待正在执行的线程执行完毕。第四步：停止容器。</p><span style=\"float: right;display: block;font-size: 2em;color: rgb(248, 57, 41);font-family: Arial, serif;line-height: 1em;font-weight: 700;\">”</span></blockquote><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">以上四步才是正常的结束流程，那springboot怎么正常结束服务呢？下面我介绍几种正常结束服务的方案，请拿好小本本做好笔记。</p><h2 data-tool=\"mdnice编辑器\" style=\"font-weight: bold;color: black;font-size: 22px;margin-top: 20px;margin-right: 10px;\"><span style=\"display: none;\"></span><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">优雅结束服务</span></strong></span></h2><h3 data-tool=\"mdnice编辑器\" style=\"margin-top: 30px;margin-bottom: 15px;font-weight: bold;color: black;font-size: 20px;\"><span style=\"display: none;\"></span><span style=\"font-size: 16px;color: #222;\">kill -15 pid</span><span style=\"display: none;\"></span></h3><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">这种方式也会比较优雅的结束进程（项目），使用他的时候需要慎重，为什么呢？我们来看个例子</p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">我写了一个普通的controller方法做测试</p><pre data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;border-radius: 5px;box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\"><span style=\"display: block;background: url(\" https: no-repeat rgb></span><code style=\"overflow-x: auto;padding: 16px;color: #abb2bf;display: -webkit-box;font-family: Operator Mono, Consolas, Monaco, Menlo, monospace;font-size: 12px;-webkit-overflow-scrolling: touch;padding-top: 15px;background: #282c34;border-radius: 5px;\"><span style=\"color: #61aeee;line-height: 26px;\">@GetMapping</span>(value = <span style=\"color: #98c379;line-height: 26px;\">\"/test\"</span>)<br>    <span style=\"line-height: 26px;\"><span style=\"color: #c678dd;line-height: 26px;\">public</span> String <span style=\"color: #61aeee;line-height: 26px;\">test</span><span style=\"line-height: 26px;\">()</span></span>{<br>        log.info(<span style=\"color: #98c379;line-height: 26px;\">\"test --- start\"</span>);<br>        <span style=\"color: #c678dd;line-height: 26px;\">try</span> {<br>            Thread.sleep(<span style=\"color: #d19a66;line-height: 26px;\">100000</span>);<br>        } <span style=\"color: #c678dd;line-height: 26px;\">catch</span> (InterruptedException e) {<br>            e.printStackTrace();<br>        }<br>        log.info(<span style=\"color: #98c379;line-height: 26px;\">\"test --- end\"</span>);<br>        <span style=\"color: #c678dd;line-height: 26px;\">return</span> <span style=\"color: #98c379;line-height: 26px;\">\"test\"</span>;<br>    }<br><span style=\"color: #d19a66;line-height: 26px;\">1234567891011</span><br></code></pre><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">代码很简单，打印：test — start之后让让程序休眠100秒，然后再打印：test — end，在线程休眠中我们使用kill -15 pid来结束这个进程，你们猜 test — end会被打印吗？</p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\"><span style=\"font-weight: 700;color: rgb(248, 57, 41);\">application.yml</span></p><pre data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;border-radius: 5px;box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\"><span style=\"display: block;background: url(\" https: no-repeat rgb></span><code style=\"overflow-x: auto;padding: 16px;color: #abb2bf;display: -webkit-box;font-family: Operator Mono, Consolas, Monaco, Menlo, monospace;font-size: 12px;-webkit-overflow-scrolling: touch;padding-top: 15px;background: #282c34;border-radius: 5px;\">server:<br>  port: <span style=\"color: #d19a66;line-height: 26px;\">9988</span><br><span style=\"color: #d19a66;line-height: 26px;\">12</span><br></code></pre><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\"><span style=\"font-weight: 700;color: rgb(248, 57, 41);\">启动项目</span></p><pre data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;border-radius: 5px;box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\"><span style=\"display: block;background: url(\" https: no-repeat rgb></span><code style=\"overflow-x: auto;padding: 16px;color: #abb2bf;display: -webkit-box;font-family: Operator Mono, Consolas, Monaco, Menlo, monospace;font-size: 12px;-webkit-overflow-scrolling: touch;padding-top: 15px;background: #282c34;border-radius: 5px;\">sudo mvn spring-boot:run<br>1<br></code></pre><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;text-align: left;\">这是maven启动springboot项目的方式</p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;text-align: left;\"><img data-ratio=\"0.44959128065395093\" data-type=\"png\" data-w=\"1101\" style=\"border-radius: 6px; display: block; margin: 20px auto; object-fit: contain; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMq2RxqhUVK70ic2zFDVsLxfggLxHPo6sxpM0TOGqAiaQORVtmDf7eRpsGQ/640?wx_fmt=png\"></p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;text-align: left;\">看到这个就代表项目启动成了</p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">找到项目的进程id</p><pre data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;border-radius: 5px;box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\"><span style=\"display: block;background: url(\" https: no-repeat rgb></span><code style=\"overflow-x: auto;padding: 16px;color: #abb2bf;display: -webkit-box;font-family: Operator Mono, Consolas, Monaco, Menlo, monospace;font-size: 12px;-webkit-overflow-scrolling: touch;padding-top: 15px;background: #282c34;border-radius: 5px;\">sudo ps -ef |grep shutdown<br>1<br></code></pre><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;text-align: left;\"><img data-ratio=\"0.45161290322580644\" data-type=\"png\" data-w=\"1116\" style=\"border-radius: 6px; display: block; margin: 20px auto; object-fit: contain; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqxqZq8XNpcj0vVeT9lYiaSIqNk2gsD9cJQUrAXu8k7zXz7ickYMhPLbxg/640?wx_fmt=png\">这个就是项目的进程号，接下来我们先测试test接口，让线程进入休眠状态，然后再使用kill -15 14086停止项目</p><pre data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;border-radius: 5px;box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\"><span style=\"display: block;background: url(\" https: no-repeat rgb></span><code style=\"overflow-x: auto;padding: 16px;color: #abb2bf;display: -webkit-box;font-family: Operator Mono, Consolas, Monaco, Menlo, monospace;font-size: 12px;-webkit-overflow-scrolling: touch;padding-top: 15px;background: #282c34;border-radius: 5px;\">sudo curl 127.0.0.1:9988/test<br>1<br></code></pre><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">回到项目日志<img data-ratio=\"0.08135283363802559\" data-type=\"png\" data-w=\"1094\" style=\"border-radius: 6px; display: block; margin: 20px auto; object-fit: contain; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqL4YRUuia2UCsLmk4VR788FooIfz92LwKzdpX6WwibITP0vqibicvvDKcuQ/640?wx_fmt=png\">我们发现请求已经到达服务，并且线程已经成功进入休眠，现在我们kill -15 14086结束进程</p><pre data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;border-radius: 5px;box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\"><span style=\"display: block;background: url(\" https: no-repeat rgb></span><code style=\"overflow-x: auto;padding: 16px;color: #abb2bf;display: -webkit-box;font-family: Operator Mono, Consolas, Monaco, Menlo, monospace;font-size: 12px;-webkit-overflow-scrolling: touch;padding-top: 15px;background: #282c34;border-radius: 5px;\">sudo kill -15 14086<br>1<br></code></pre><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">回到日志</p><pre data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;border-radius: 5px;box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\"><span style=\"display: block;background: url(\" https: no-repeat rgb></span><code style=\"overflow-x: auto;padding: 16px;color: #abb2bf;display: -webkit-box;font-family: Operator Mono, Consolas, Monaco, Menlo, monospace;font-size: 12px;-webkit-overflow-scrolling: touch;padding-top: 15px;background: #282c34;border-radius: 5px;\"><span style=\"color: #d19a66;line-height: 26px;\">2020</span>-<span style=\"color: #d19a66;line-height: 26px;\">04</span>-<span style=\"color: #d19a66;line-height: 26px;\">24</span> <span style=\"color: #d19a66;line-height: 26px;\">10</span>:<span style=\"color: #d19a66;line-height: 26px;\">53</span>:<span style=\"color: #d19a66;line-height: 26px;\">14.939</span>  INFO <span style=\"color: #d19a66;line-height: 26px;\">14086</span> --- [nio-<span style=\"color: #d19a66;line-height: 26px;\">9988</span>-exec-<span style=\"color: #d19a66;line-height: 26px;\">1</span>] com.ymy.controller.TestController        : test --- start<br><span style=\"color: #d19a66;line-height: 26px;\">2020</span>-<span style=\"color: #d19a66;line-height: 26px;\">04</span>-<span style=\"color: #d19a66;line-height: 26px;\">24</span> <span style=\"color: #d19a66;line-height: 26px;\">10</span>:<span style=\"color: #d19a66;line-height: 26px;\">54</span>:<span style=\"color: #d19a66;line-height: 26px;\">02.450</span>  INFO <span style=\"color: #d19a66;line-height: 26px;\">14086</span> --- [extShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService <span style=\"color: #98c379;line-height: 26px;\">'applicationTaskExecutor'</span><br>java.lang.InterruptedException: sleep interrupted<br> at java.lang.Thread.sleep(Native Method)<br> at com.ymy.controller.TestController.test(TestController.java:<span style=\"color: #d19a66;line-height: 26px;\">26</span>)<br> at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br> at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:<span style=\"color: #d19a66;line-height: 26px;\">62</span>)<br> at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:<span style=\"color: #d19a66;line-height: 26px;\">43</span>)<br> at java.lang.reflect.Method.invoke(Method.java:<span style=\"color: #d19a66;line-height: 26px;\">498</span>)<br> at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:<span style=\"color: #d19a66;line-height: 26px;\">190</span>)<br> at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:<span style=\"color: #d19a66;line-height: 26px;\">138</span>)<br> at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:<span style=\"color: #d19a66;line-height: 26px;\">105</span>)<br> at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:<span style=\"color: #d19a66;line-height: 26px;\">879</span>)<br> at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:<span style=\"color: #d19a66;line-height: 26px;\">793</span>)<br> at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:<span style=\"color: #d19a66;line-height: 26px;\">87</span>)<br> at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:<span style=\"color: #d19a66;line-height: 26px;\">1040</span>)<br> at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:<span style=\"color: #d19a66;line-height: 26px;\">943</span>)<br> at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:<span style=\"color: #d19a66;line-height: 26px;\">1006</span>)<br> at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:<span style=\"color: #d19a66;line-height: 26px;\">898</span>)<br> at javax.servlet.http.HttpServlet.service(HttpServlet.java:<span style=\"color: #d19a66;line-height: 26px;\">634</span>)<br> at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:<span style=\"color: #d19a66;line-height: 26px;\">883</span>)<br> at javax.servlet.http.HttpServlet.service(HttpServlet.java:<span style=\"color: #d19a66;line-height: 26px;\">741</span>)<br> at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">231</span>)<br> at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">166</span>)<br> at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:<span style=\"color: #d19a66;line-height: 26px;\">53</span>)<br> at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">193</span>)<br> at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">166</span>)<br> at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:<span style=\"color: #d19a66;line-height: 26px;\">100</span>)<br> at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:<span style=\"color: #d19a66;line-height: 26px;\">119</span>)<br> at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">193</span>)<br> at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">166</span>)<br> at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:<span style=\"color: #d19a66;line-height: 26px;\">93</span>)<br> at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:<span style=\"color: #d19a66;line-height: 26px;\">119</span>)<br> at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">193</span>)<br> at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">166</span>)<br> at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:<span style=\"color: #d19a66;line-height: 26px;\">109</span>)<br> at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:<span style=\"color: #d19a66;line-height: 26px;\">119</span>)<br> at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">193</span>)<br> at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">166</span>)<br> at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:<span style=\"color: #d19a66;line-height: 26px;\">201</span>)<br> at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:<span style=\"color: #d19a66;line-height: 26px;\">119</span>)<br> at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">193</span>)<br> at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">166</span>)<br> at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:<span style=\"color: #d19a66;line-height: 26px;\">202</span>)<br> at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:<span style=\"color: #d19a66;line-height: 26px;\">96</span>)<br> at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:<span style=\"color: #d19a66;line-height: 26px;\">541</span>)<br> at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:<span style=\"color: #d19a66;line-height: 26px;\">139</span>)<br> at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:<span style=\"color: #d19a66;line-height: 26px;\">92</span>)<br> at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:<span style=\"color: #d19a66;line-height: 26px;\">74</span>)<br> at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:<span style=\"color: #d19a66;line-height: 26px;\">343</span>)<br> at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:<span style=\"color: #d19a66;line-height: 26px;\">373</span>)<br> at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:<span style=\"color: #d19a66;line-height: 26px;\">65</span>)<br> at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:<span style=\"color: #d19a66;line-height: 26px;\">868</span>)<br> at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:<span style=\"color: #d19a66;line-height: 26px;\">1594</span>)<br> at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:<span style=\"color: #d19a66;line-height: 26px;\">49</span>)<br> at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:<span style=\"color: #d19a66;line-height: 26px;\">1149</span>)<br> at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:<span style=\"color: #d19a66;line-height: 26px;\">624</span>)<br> at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:<span style=\"color: #d19a66;line-height: 26px;\">61</span>)<br> at java.lang.Thread.run(Thread.java:<span style=\"color: #d19a66;line-height: 26px;\">748</span>)<br><span style=\"color: #d19a66;line-height: 26px;\">2020</span>-<span style=\"color: #d19a66;line-height: 26px;\">04</span>-<span style=\"color: #d19a66;line-height: 26px;\">24</span> <span style=\"color: #d19a66;line-height: 26px;\">10</span>:<span style=\"color: #d19a66;line-height: 26px;\">54</span>:<span style=\"color: #d19a66;line-height: 26px;\">04.574</span>  INFO <span style=\"color: #d19a66;line-height: 26px;\">14086</span> --- [nio-<span style=\"color: #d19a66;line-height: 26px;\">9988</span>-exec-<span style=\"color: #d19a66;line-height: 26px;\">1</span>] com.ymy.controller.TestController        : test --- end<br><span style=\"color: #d19a66;line-height: 26px;\">2020</span>-<span style=\"color: #d19a66;line-height: 26px;\">04</span>-<span style=\"color: #d19a66;line-height: 26px;\">24</span> <span style=\"color: #d19a66;line-height: 26px;\">10</span>:<span style=\"color: #d19a66;line-height: 26px;\">54</span>:<span style=\"color: #d19a66;line-height: 26px;\">04.610</span> ERROR <span style=\"color: #d19a66;line-height: 26px;\">14086</span> --- [nio-<span style=\"color: #d19a66;line-height: 26px;\">9988</span>-exec-<span style=\"color: #d19a66;line-height: 26px;\">1</span>] o.s.web.servlet.HandlerExecutionChain    : HandlerInterceptor.afterCompletion threw exception<br><br>java.lang.NullPointerException: <span style=\"color: #c678dd;line-height: 26px;\">null</span><br> at org.springframework.boot.actuate.metrics.web.servlet.LongTaskTimingHandlerInterceptor.stopLongTaskTimers(LongTaskTimingHandlerInterceptor.java:<span style=\"color: #d19a66;line-height: 26px;\">123</span>) ~[spring-boot-actuator-<span style=\"color: #d19a66;line-height: 26px;\">2.2</span><span style=\"color: #d19a66;line-height: 26px;\">.6</span>.RELEASE.jar:<span style=\"color: #d19a66;line-height: 26px;\">2.2</span><span style=\"color: #d19a66;line-height: 26px;\">.6</span>.RELEASE]<br> at org.springframework.boot.actuate.metrics.web.servlet.LongTaskTimingHandlerInterceptor.afterCompletion(LongTaskTimingHandlerInterceptor.java:<span style=\"color: #d19a66;line-height: 26px;\">79</span>) ~[spring-boot-actuator-<span style=\"color: #d19a66;line-height: 26px;\">2.2</span><span style=\"color: #d19a66;line-height: 26px;\">.6</span>.RELEASE.jar:<span style=\"color: #d19a66;line-height: 26px;\">2.2</span><span style=\"color: #d19a66;line-height: 26px;\">.6</span>.RELEASE]<br> at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:<span style=\"color: #d19a66;line-height: 26px;\">179</span>) ~[spring-webmvc-<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE.jar:<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE]<br> at org.springframework.web.servlet.DispatcherServlet.triggerAfterCompletion(DispatcherServlet.java:<span style=\"color: #d19a66;line-height: 26px;\">1427</span>) [spring-webmvc-<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE.jar:<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE]<br> at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:<span style=\"color: #d19a66;line-height: 26px;\">1060</span>) [spring-webmvc-<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE.jar:<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE]<br> at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:<span style=\"color: #d19a66;line-height: 26px;\">943</span>) [spring-webmvc-<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE.jar:<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE]<br> at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:<span style=\"color: #d19a66;line-height: 26px;\">1006</span>) [spring-webmvc-<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE.jar:<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE]<br> at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:<span style=\"color: #d19a66;line-height: 26px;\">898</span>) [spring-webmvc-<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE.jar:<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE]<br> at javax.servlet.http.HttpServlet.service(HttpServlet.java:<span style=\"color: #d19a66;line-height: 26px;\">634</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:<span style=\"color: #d19a66;line-height: 26px;\">883</span>) [spring-webmvc-<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE.jar:<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE]<br> at javax.servlet.http.HttpServlet.service(HttpServlet.java:<span style=\"color: #d19a66;line-height: 26px;\">741</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">231</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">166</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:<span style=\"color: #d19a66;line-height: 26px;\">53</span>) [tomcat-embed-websocket-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">193</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">166</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:<span style=\"color: #d19a66;line-height: 26px;\">100</span>) [spring-web-<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE.jar:<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE]<br> at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:<span style=\"color: #d19a66;line-height: 26px;\">119</span>) [spring-web-<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE.jar:<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE]<br> at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">193</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">166</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:<span style=\"color: #d19a66;line-height: 26px;\">93</span>) [spring-web-<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE.jar:<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE]<br> at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:<span style=\"color: #d19a66;line-height: 26px;\">119</span>) [spring-web-<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE.jar:<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE]<br> at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">193</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">166</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:<span style=\"color: #d19a66;line-height: 26px;\">109</span>) [spring-boot-actuator-<span style=\"color: #d19a66;line-height: 26px;\">2.2</span><span style=\"color: #d19a66;line-height: 26px;\">.6</span>.RELEASE.jar:<span style=\"color: #d19a66;line-height: 26px;\">2.2</span><span style=\"color: #d19a66;line-height: 26px;\">.6</span>.RELEASE]<br> at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:<span style=\"color: #d19a66;line-height: 26px;\">119</span>) [spring-web-<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE.jar:<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE]<br> at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">193</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">166</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:<span style=\"color: #d19a66;line-height: 26px;\">201</span>) [spring-web-<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE.jar:<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE]<br> at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:<span style=\"color: #d19a66;line-height: 26px;\">119</span>) [spring-web-<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE.jar:<span style=\"color: #d19a66;line-height: 26px;\">5.2</span><span style=\"color: #d19a66;line-height: 26px;\">.5</span>.RELEASE]<br> at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">193</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:<span style=\"color: #d19a66;line-height: 26px;\">166</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:<span style=\"color: #d19a66;line-height: 26px;\">202</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:<span style=\"color: #d19a66;line-height: 26px;\">96</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:<span style=\"color: #d19a66;line-height: 26px;\">541</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:<span style=\"color: #d19a66;line-height: 26px;\">139</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:<span style=\"color: #d19a66;line-height: 26px;\">92</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:<span style=\"color: #d19a66;line-height: 26px;\">74</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:<span style=\"color: #d19a66;line-height: 26px;\">343</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:<span style=\"color: #d19a66;line-height: 26px;\">373</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:<span style=\"color: #d19a66;line-height: 26px;\">65</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:<span style=\"color: #d19a66;line-height: 26px;\">868</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:<span style=\"color: #d19a66;line-height: 26px;\">1594</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:<span style=\"color: #d19a66;line-height: 26px;\">49</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:<span style=\"color: #d19a66;line-height: 26px;\">1149</span>) [na:<span style=\"color: #d19a66;line-height: 26px;\">1.8</span><span style=\"color: #d19a66;line-height: 26px;\">.0_242</span>]<br> at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:<span style=\"color: #d19a66;line-height: 26px;\">624</span>) [na:<span style=\"color: #d19a66;line-height: 26px;\">1.8</span><span style=\"color: #d19a66;line-height: 26px;\">.0_242</span>]<br> at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:<span style=\"color: #d19a66;line-height: 26px;\">61</span>) [tomcat-embed-core-<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>.jar:<span style=\"color: #d19a66;line-height: 26px;\">9.0</span><span style=\"color: #d19a66;line-height: 26px;\">.33</span>]<br> at java.lang.Thread.run(Thread.java:<span style=\"color: #d19a66;line-height: 26px;\">748</span>) [na:<span style=\"color: #d19a66;line-height: 26px;\">1.8</span><span style=\"color: #d19a66;line-height: 26px;\">.0_242</span>]<br><br><span style=\"color: #d19a66;line-height: 26px;\">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112</span><br></code></pre><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\"><img data-ratio=\"0.6212424849699398\" data-type=\"png\" data-w=\"499\" style=\"border-radius: 6px; display: block; margin: 20px auto; object-fit: contain; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqKyPF4VMicJ8Bo8MbzWYtgMsg58tXsjjxlnJWb8u9ar0qQX0NDianW2gg/640?wx_fmt=png\">居然报错了，但是test — end是打印出来了，为什么会报错呢？这就和sleep这个方法有关了，在线程休眠期间，<code style=\"\">当调用线程的interrupt方法的时候会导致sleep抛出异常</code>，这里很明显就是kill -15 这个命令会让程序马上调用线程的interrupt方法，目的是为了让线程停止，虽然让线程停止，但线程什么时候停止还是线程自己说的算，这就是为什么我们还能看到：test — end的原因。更多的 Spring Boot 视频教程可以关注微信订阅号码匠笔记回复 Spring Boot 获取。</p><h3 data-tool=\"mdnice编辑器\" style=\"margin-top: 30px;margin-bottom: 15px;font-weight: bold;color: black;font-size: 20px;\"><span style=\"display: none;\"></span><span style=\"font-size: 16px;color: #222;\">ConfigurableApplicationContext colse</span><span style=\"display: none;\"></span></h3><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">我们先看怎么实现</p><pre data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;border-radius: 5px;box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\"><span style=\"display: block;background: url(\" https: no-repeat rgb></span><code style=\"overflow-x: auto;padding: 16px;color: #abb2bf;display: -webkit-box;font-family: Operator Mono, Consolas, Monaco, Menlo, monospace;font-size: 12px;-webkit-overflow-scrolling: touch;padding-top: 15px;background: #282c34;border-radius: 5px;\"><span style=\"color: #c678dd;line-height: 26px;\">package</span> com.ymy.controller;<br><br><span style=\"color: #c678dd;line-height: 26px;\">import</span> lombok.extern.slf4j.Slf4j;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> org.springframework.beans.BeansException;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> org.springframework.context.ApplicationContext;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> org.springframework.context.ApplicationContextAware;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> org.springframework.context.ConfigurableApplicationContext;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> org.springframework.web.bind.annotation.GetMapping;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> org.springframework.web.bind.annotation.PostMapping;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> org.springframework.web.bind.annotation.RestController;<br><br><span style=\"color: #61aeee;line-height: 26px;\">@RestController</span><br><span style=\"color: #61aeee;line-height: 26px;\">@Slf</span>4j<br><span style=\"color: #c678dd;line-height: 26px;\">public</span> <span style=\"line-height: 26px;\"><span style=\"color: #c678dd;line-height: 26px;\">class</span> <span style=\"color: #e6c07b;line-height: 26px;\">TestController</span>  <span style=\"color: #c678dd;line-height: 26px;\">implements</span> <span style=\"color: #e6c07b;line-height: 26px;\">ApplicationContextAware</span> </span>{<br><br>    <span style=\"color: #c678dd;line-height: 26px;\">private</span>  ApplicationContext  context;<br><br>    <span style=\"color: #61aeee;line-height: 26px;\">@Override</span><br>    <span style=\"line-height: 26px;\"><span style=\"color: #c678dd;line-height: 26px;\">public</span> <span style=\"color: #c678dd;line-height: 26px;\">void</span> <span style=\"color: #61aeee;line-height: 26px;\">setApplicationContext</span><span style=\"line-height: 26px;\">(ApplicationContext applicationContext)</span> <span style=\"color: #c678dd;line-height: 26px;\">throws</span> BeansException </span>{<br>        <span style=\"color: #c678dd;line-height: 26px;\">this</span>.context = applicationContext;<br>    }<br><br><br>    <span style=\"color: #61aeee;line-height: 26px;\">@GetMapping</span>(value = <span style=\"color: #98c379;line-height: 26px;\">\"/test\"</span>)<br>    <span style=\"line-height: 26px;\"><span style=\"color: #c678dd;line-height: 26px;\">public</span> String <span style=\"color: #61aeee;line-height: 26px;\">test</span><span style=\"line-height: 26px;\">()</span></span>{<br>        log.info(<span style=\"color: #98c379;line-height: 26px;\">\"test --- start\"</span>);<br>        <span style=\"color: #c678dd;line-height: 26px;\">try</span> {<br>            Thread.sleep(<span style=\"color: #d19a66;line-height: 26px;\">100000</span>);<br>        } <span style=\"color: #c678dd;line-height: 26px;\">catch</span> (InterruptedException e) {<br>            e.printStackTrace();<br>        }<br>        log.info(<span style=\"color: #98c379;line-height: 26px;\">\"test --- end\"</span>);<br>        <span style=\"color: #c678dd;line-height: 26px;\">return</span> <span style=\"color: #98c379;line-height: 26px;\">\"test\"</span>;<br>    }<br><br>    <span style=\"color: #5c6370;font-style: italic;line-height: 26px;\">/**<br>     * 停机<br>     */</span><br>    <span style=\"color: #61aeee;line-height: 26px;\">@PostMapping</span>(value = <span style=\"color: #98c379;line-height: 26px;\">\"shutdown\"</span>)<br>    <span style=\"line-height: 26px;\"><span style=\"color: #c678dd;line-height: 26px;\">public</span> <span style=\"color: #c678dd;line-height: 26px;\">void</span> <span style=\"color: #61aeee;line-height: 26px;\">shutdown</span><span style=\"line-height: 26px;\">()</span></span>{<br>        ConfigurableApplicationContext cyx = (ConfigurableApplicationContext) context;<br>        cyx.close();<br>    }<br>}<br><span style=\"color: #d19a66;line-height: 26px;\">1234567891011121314151617181920212223242526272829303132333435363738394041424344</span><br></code></pre><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">重点在：<code style=\"\">cyx.close();</code>，为什么他能停止springboot项目呢？请看源码</p><pre data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;border-radius: 5px;box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\"><span style=\"display: block;background: url(\" https: no-repeat rgb></span><code style=\"overflow-x: auto;padding: 16px;color: #abb2bf;display: -webkit-box;font-family: Operator Mono, Consolas, Monaco, Menlo, monospace;font-size: 12px;-webkit-overflow-scrolling: touch;padding-top: 15px;background: #282c34;border-radius: 5px;\"><span style=\"line-height: 26px;\"><span style=\"color: #c678dd;line-height: 26px;\">public</span> <span style=\"color: #c678dd;line-height: 26px;\">void</span> <span style=\"color: #61aeee;line-height: 26px;\">close</span><span style=\"line-height: 26px;\">()</span> </span>{<br>        <span style=\"color: #c678dd;line-height: 26px;\">synchronized</span>(<span style=\"color: #c678dd;line-height: 26px;\">this</span>.startupShutdownMonitor) {<br>            <span style=\"color: #c678dd;line-height: 26px;\">this</span>.doClose();<br>            <span style=\"color: #c678dd;line-height: 26px;\">if</span> (<span style=\"color: #c678dd;line-height: 26px;\">this</span>.shutdownHook != <span style=\"color: #c678dd;line-height: 26px;\">null</span>) {<br>                <span style=\"color: #c678dd;line-height: 26px;\">try</span> {<br>                    Runtime.getRuntime().removeShutdownHook(<span style=\"color: #c678dd;line-height: 26px;\">this</span>.shutdownHook);<br>                } <span style=\"color: #c678dd;line-height: 26px;\">catch</span> (IllegalStateException var4) {<br>                }<br>            }<br><br>        }<br>    }<br><span style=\"color: #d19a66;line-height: 26px;\">123456789101112</span><br></code></pre><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">程序在启动的时候向jvm注册了一个关闭钩子，我们在执行colse方法的时候会删除这个关闭钩子，jvm就会知道这是需要停止服务。</p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">我们看测试结果<img data-ratio=\"0.35994677312042583\" data-type=\"png\" data-w=\"1503\" style=\"border-radius: 6px; display: block; margin: 20px auto; object-fit: contain; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqribeLUELzTEYAQpKn5kNaRMdAnrFAIXYlQ3DlGwfJnUVg7uwDYW4ZAQ/640?wx_fmt=png\"><img data-ratio=\"0.0779777206512425\" data-type=\"png\" data-w=\"1167\" style=\"border-radius: 6px; display: block; margin: 20px auto; object-fit: contain; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqxuEQQXbOKxj0Jd4KaKOcwxZI78nNMPT0XKl3467j3O4xicmlf610SUw/640?wx_fmt=png\">很明显，他也出发了线程的interrupt方法导致线程报错，原理和kill -15差不多。</p><h3 data-tool=\"mdnice编辑器\" style=\"margin-top: 30px;margin-bottom: 15px;font-weight: bold;color: black;font-size: 20px;\"><span style=\"display: none;\"></span><span style=\"font-size: 16px;color: #222;\">actuator</span><span style=\"display: none;\"></span></h3><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">这种方式是通过引入依赖的方式停止服务，actuator提供了很多接口，比如健康检查，基本信息等等，我们也可以使用他来优雅的停机。</p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\"><span style=\"font-weight: 700;color: rgb(248, 57, 41);\">引入依赖</span></p><pre data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;border-radius: 5px;box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\"><span style=\"display: block;background: url(\" https: no-repeat rgb></span><code style=\"overflow-x: auto;padding: 16px;color: #abb2bf;display: -webkit-box;font-family: Operator Mono, Consolas, Monaco, Menlo, monospace;font-size: 12px;-webkit-overflow-scrolling: touch;padding-top: 15px;background: #282c34;border-radius: 5px;\"><dependency><br>            <groupid>org.springframework.boot</groupid><br>            <artifactid>spring-boot-starter-actuator</artifactid><br>        </dependency><br><br><span style=\"color: #d19a66;line-height: 26px;\">12345</span><br></code></pre><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\"><span style=\"font-weight: 700;color: rgb(248, 57, 41);\">application.yml</span></p><pre data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;border-radius: 5px;box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\"><span style=\"display: block;background: url(\" https: no-repeat rgb></span><code style=\"overflow-x: auto;padding: 16px;color: #abb2bf;display: -webkit-box;font-family: Operator Mono, Consolas, Monaco, Menlo, monospace;font-size: 12px;-webkit-overflow-scrolling: touch;padding-top: 15px;background: #282c34;border-radius: 5px;\">server:<br>  port: <span style=\"color: #d19a66;line-height: 26px;\">9988</span><br><br>management:<br>  endpoints:<br>    web:<br>      exposure:<br>        include: shutdown<br>  endpoint:<br>    shutdown:<br>      enabled: <span style=\"color: #c678dd;line-height: 26px;\">true</span><br>  server:<br>    port: <span style=\"color: #d19a66;line-height: 26px;\">8888</span><br><span style=\"color: #d19a66;line-height: 26px;\">12345678910111213</span><br></code></pre><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">我这里对actuator的接口重新给定了一个接口，这样可提高安全性，下面我们来测试一下</p><pre data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;border-radius: 5px;box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\"><span style=\"display: block;background: url(\" https: no-repeat rgb></span><code style=\"overflow-x: auto;padding: 16px;color: #abb2bf;display: -webkit-box;font-family: Operator Mono, Consolas, Monaco, Menlo, monospace;font-size: 12px;-webkit-overflow-scrolling: touch;padding-top: 15px;background: #282c34;border-radius: 5px;\"><span style=\"color: #61aeee;line-height: 26px;\">@RequestMapping</span>(value = <span style=\"color: #98c379;line-height: 26px;\">\"/test\"</span>,method = RequestMethod.GET)<br>    <span style=\"line-height: 26px;\"><span style=\"color: #c678dd;line-height: 26px;\">public</span> String <span style=\"color: #61aeee;line-height: 26px;\">test</span><span style=\"line-height: 26px;\">()</span></span>{<br>        System.out.println(<span style=\"color: #98c379;line-height: 26px;\">\"test --- start\"</span>);<br>        <span style=\"color: #c678dd;line-height: 26px;\">try</span> {<br>            Thread.sleep(<span style=\"color: #d19a66;line-height: 26px;\">10000</span>);<br>        } <span style=\"color: #c678dd;line-height: 26px;\">catch</span> (InterruptedException e) {<br>            e.printStackTrace();<br>        }<br>        System.out.println(<span style=\"color: #98c379;line-height: 26px;\">\"test --- end\"</span>);<br>        <span style=\"color: #c678dd;line-height: 26px;\">return</span> <span style=\"color: #98c379;line-height: 26px;\">\"hello\"</span>;<br>    }<br><span style=\"color: #d19a66;line-height: 26px;\">1234567891011</span><br></code></pre><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">在请求test途中停止服务<img data-ratio=\"0.34288537549407117\" data-type=\"png\" data-w=\"1012\" style=\"border-radius: 6px; display: block; margin: 20px auto; object-fit: contain; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMq9kTdpFuDTvxI7B9CZKf6xBHMu9DdWnDuFlmIgEOicjo6l6aCe4ZZf1g/640?wx_fmt=png\">我们发现发送停止服务请求之后还给我们返回了提示信息，很人性化，我们看看控制台<img data-ratio=\"0.16074074074074074\" data-type=\"png\" data-w=\"1350\" style=\"border-radius: 6px; display: block; margin: 20px auto; object-fit: contain; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMq4tM0f1RhJ5CibIiahbnobv0UonxtS1UAYYtQLW6eCiaJabujvYNticK3DA/640?wx_fmt=png\"><img data-ratio=\"0.09775784753363229\" data-type=\"png\" data-w=\"1115\" style=\"border-radius: 6px; display: block; margin: 20px auto; object-fit: contain; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqGyAWKFoFmKgbOzwia0GBRkibezFv9jMFHUYxiartrDTKtncLRibAH8F7GA/640?wx_fmt=png\">test — end被执行了，不过在停止线程池的时候还是调用了线程的interrupt方法，导致sleep报错，这三种方式都可以比较优雅的停止springboot服务，如果我项目中存在线程休眠，我希望10秒以后再停止服务可以吗？肯定是可以的，我们只需要稍微做点修改就可以了。</p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\"><span style=\"font-weight: 700;color: rgb(248, 57, 41);\">1.新增停止springboot服务类：ElegantShutdownConfig.java</span></p><pre data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;border-radius: 5px;box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\"><span style=\"display: block;background: url(\" https: no-repeat rgb></span><code style=\"overflow-x: auto;padding: 16px;color: #abb2bf;display: -webkit-box;font-family: Operator Mono, Consolas, Monaco, Menlo, monospace;font-size: 12px;-webkit-overflow-scrolling: touch;padding-top: 15px;background: #282c34;border-radius: 5px;\"><span style=\"color: #c678dd;line-height: 26px;\">package</span> com.ymy.config;<br><br><span style=\"color: #c678dd;line-height: 26px;\">import</span> org.apache.catalina.connector.Connector;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> org.springframework.boot.web.embedded.tomcat.TomcatConnectorCustomizer;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> org.springframework.context.ApplicationListener;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> org.springframework.context.event.ContextClosedEvent;<br><br><span style=\"color: #c678dd;line-height: 26px;\">import</span> java.util.concurrent.Executor;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> java.util.concurrent.ThreadPoolExecutor;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> java.util.concurrent.TimeUnit;<br><br><span style=\"color: #c678dd;line-height: 26px;\">public</span> <span style=\"line-height: 26px;\"><span style=\"color: #c678dd;line-height: 26px;\">class</span> <span style=\"color: #e6c07b;line-height: 26px;\">ElegantShutdownConfig</span> <span style=\"color: #c678dd;line-height: 26px;\">implements</span> <span style=\"color: #e6c07b;line-height: 26px;\">TomcatConnectorCustomizer</span>, <span style=\"color: #e6c07b;line-height: 26px;\">ApplicationListener</span>&lt;<span style=\"color: #e6c07b;line-height: 26px;\">ContextClosedEvent</span>&gt; </span>{<br><br>    <span style=\"color: #c678dd;line-height: 26px;\">private</span> <span style=\"color: #c678dd;line-height: 26px;\">volatile</span> Connector connector;<br>    <span style=\"color: #c678dd;line-height: 26px;\">private</span> <span style=\"color: #c678dd;line-height: 26px;\">final</span> <span style=\"color: #c678dd;line-height: 26px;\">int</span> waitTime = <span style=\"color: #d19a66;line-height: 26px;\">10</span>;<br><br>    <span style=\"color: #61aeee;line-height: 26px;\">@Override</span><br>    <span style=\"line-height: 26px;\"><span style=\"color: #c678dd;line-height: 26px;\">public</span> <span style=\"color: #c678dd;line-height: 26px;\">void</span> <span style=\"color: #61aeee;line-height: 26px;\">customize</span><span style=\"line-height: 26px;\">(Connector connector)</span> </span>{<br>        <span style=\"color: #c678dd;line-height: 26px;\">this</span>.connector = connector;<br>    }<br><br>    <span style=\"color: #61aeee;line-height: 26px;\">@Override</span><br>    <span style=\"line-height: 26px;\"><span style=\"color: #c678dd;line-height: 26px;\">public</span> <span style=\"color: #c678dd;line-height: 26px;\">void</span> <span style=\"color: #61aeee;line-height: 26px;\">onApplicationEvent</span><span style=\"line-height: 26px;\">(ContextClosedEvent event)</span> </span>{<br>        connector.pause();<br>        Executor executor = connector.getProtocolHandler().getExecutor();<br>        <span style=\"color: #c678dd;line-height: 26px;\">if</span> (executor <span style=\"color: #c678dd;line-height: 26px;\">instanceof</span> ThreadPoolExecutor) {<br>            <span style=\"color: #c678dd;line-height: 26px;\">try</span> {<br>                ThreadPoolExecutor threadPoolExecutor = (ThreadPoolExecutor) executor;<br>                threadPoolExecutor.shutdown();<br>                <span style=\"color: #c678dd;line-height: 26px;\">if</span> (!threadPoolExecutor.awaitTermination(waitTime, TimeUnit.SECONDS)) {<br>                    System.out.println(<span style=\"color: #98c379;line-height: 26px;\">\"请尝试暴力关闭\"</span>);<br>                }<br>            } <span style=\"color: #c678dd;line-height: 26px;\">catch</span> (InterruptedException ex) {<br>                System.out.println(<span style=\"color: #98c379;line-height: 26px;\">\"异常了\"</span>);<br>                Thread.currentThread().interrupt();<br>            }<br>        }<br><br>    }<br>}<br><br><span style=\"color: #d19a66;line-height: 26px;\">1234567891011121314151617181920212223242526272829303132333435363738394041</span><br></code></pre><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\"><span style=\"font-weight: 700;color: rgb(248, 57, 41);\">2.在启动类中加入bean</span></p><pre data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;border-radius: 5px;box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\"><span style=\"display: block;background: url(\" https: no-repeat rgb></span><code style=\"overflow-x: auto;padding: 16px;color: #abb2bf;display: -webkit-box;font-family: Operator Mono, Consolas, Monaco, Menlo, monospace;font-size: 12px;-webkit-overflow-scrolling: touch;padding-top: 15px;background: #282c34;border-radius: 5px;\"><span style=\"color: #c678dd;line-height: 26px;\">package</span> com.ymy;<br><br><span style=\"color: #c678dd;line-height: 26px;\">import</span> com.ymy.config.ElegantShutdownConfig;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> lombok.extern.slf4j.Slf4j;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> org.apache.catalina.connector.Connector;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> org.springframework.boot.SpringApplication;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> org.springframework.boot.web.embedded.tomcat.TomcatConnectorCustomizer;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> org.springframework.boot.web.servlet.server.ServletWebServerFactory;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> org.springframework.context.ApplicationListener;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> org.springframework.context.ConfigurableApplicationContext;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> org.springframework.context.annotation.Bean;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> org.springframework.context.event.ContextClosedEvent;<br><br><span style=\"color: #c678dd;line-height: 26px;\">import</span> java.util.concurrent.Executor;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> java.util.concurrent.ThreadPoolExecutor;<br><span style=\"color: #c678dd;line-height: 26px;\">import</span> java.util.concurrent.TimeUnit;<br><br><span style=\"color: #61aeee;line-height: 26px;\">@SpringBootApplication</span><br><span style=\"color: #c678dd;line-height: 26px;\">public</span> <span style=\"line-height: 26px;\"><span style=\"color: #c678dd;line-height: 26px;\">class</span> <span style=\"color: #e6c07b;line-height: 26px;\">ShutdownServerApplication</span> </span>{<br><br>    <span style=\"line-height: 26px;\"><span style=\"color: #c678dd;line-height: 26px;\">public</span> <span style=\"color: #c678dd;line-height: 26px;\">static</span> <span style=\"color: #c678dd;line-height: 26px;\">void</span> <span style=\"color: #61aeee;line-height: 26px;\">main</span><span style=\"line-height: 26px;\">(String[] args)</span> </span>{<br>        ConfigurableApplicationContext run = SpringApplication.run(ShutdownServerApplication<span style=\"line-height: 26px;\">.<span style=\"color: #c678dd;line-height: 26px;\">class</span>, <span style=\"color: #e6c07b;line-height: 26px;\">args</span>)</span>;<br>        run.registerShutdownHook();<br>    }<br><br><br>    <span style=\"color: #61aeee;line-height: 26px;\">@Bean</span><br>    <span style=\"line-height: 26px;\"><span style=\"color: #c678dd;line-height: 26px;\">public</span> ElegantShutdownConfig <span style=\"color: #61aeee;line-height: 26px;\">elegantShutdownConfig</span><span style=\"line-height: 26px;\">()</span> </span>{<br>        <span style=\"color: #c678dd;line-height: 26px;\">return</span> <span style=\"color: #c678dd;line-height: 26px;\">new</span> ElegantShutdownConfig();<br>    }<br><br>    <span style=\"color: #61aeee;line-height: 26px;\">@Bean</span><br>    <span style=\"line-height: 26px;\"><span style=\"color: #c678dd;line-height: 26px;\">public</span> ServletWebServerFactory <span style=\"color: #61aeee;line-height: 26px;\">servletContainer</span><span style=\"line-height: 26px;\">()</span> </span>{<br>        TomcatServletWebServerFactory tomcat = <span style=\"color: #c678dd;line-height: 26px;\">new</span> TomcatServletWebServerFactory();<br>        tomcat.addConnectorCustomizers(elegantShutdownConfig());<br>        <span style=\"color: #c678dd;line-height: 26px;\">return</span> tomcat;<br>    }<br>}<br><br><span style=\"color: #d19a66;line-height: 26px;\">1234567891011121314151617181920212223242526272829303132333435363738394041</span><br></code></pre><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">这样我们就配置好了，我们再来测试一遍，test的接口还是休眠10秒<img data-ratio=\"0.14417887432536622\" data-type=\"png\" data-w=\"1297\" style=\"border-radius: 6px; display: block; margin: 20px auto; object-fit: contain; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqD6ZICMoFWN92GYkUeROloeuKpkTJ7QVMQdRmx98GBOW04sBFgEiaTgQ/640?wx_fmt=png\">我们发现这次没有报错了，他是等待了一段时间之后再结束的线程池，这个时间就是我们在ElegantShutdownConfig类中配置的waitTime。</p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">那可能你会有疑问了，jvm没有立即停止，那这个时候在有请求会发生什么呢？如果关闭的时候有新的请求，服务将不在接收此请求。</p><h2 data-tool=\"mdnice编辑器\" style=\"font-weight: bold;color: black;font-size: 22px;margin-top: 20px;margin-right: 10px;\"><span style=\"display: none;\"></span><span style=\"font-size: 18px;color: rgb(34, 34, 34);display: inline-block;padding-left: 10px;border-left: 5px solid rgb(248, 57, 41);\">数据备份操作</span></h2><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">如果我想在服务停止的时候做点备份操作啥的，应该怎么做呢？其实很简单在你要执行的方法上添加一个注解即可：<code style=\"\">@PreDestroy</code></p><blockquote data-tool=\"mdnice编辑器\" style=\"border-width: initial;border-style: none;border-color: initial;font-size: 0.9em;overflow: auto;margin-bottom: 20px;margin-top: 20px;padding-top: 15px;padding-right: 10px;padding-bottom: 15px;line-height: 1.75;border-radius: 13px;color: rgb(53, 53, 53);background: rgb(245, 245, 245);\"><span style=\"display: block;font-size: 2em;color: rgb(248, 57, 41);font-family: Arial, serif;line-height: 1em;font-weight: 700;\">“</span><p style=\"padding-top: 8px;padding-bottom: 8px;line-height: 26px;font-size: 16px;margin-right: 10px;margin-left: 10px;\">Destroy：消灭、毁灭pre:前缀缩写</p><span style=\"float: right;display: block;font-size: 2em;color: rgb(248, 57, 41);font-family: Arial, serif;line-height: 1em;font-weight: 700;\">”</span></blockquote><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">所以合在一起的意思就是在容器停止之前执行一次，你可以在这里面做备份操作，也可以做记录停机时间等。</p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">新增服务停止备份工具类：DataBackupConfig.java</p><pre data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;border-radius: 5px;box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;\"><span style=\"display: block;background: url(\" https: no-repeat rgb></span><code style=\"overflow-x: auto;padding: 16px;color: #abb2bf;display: -webkit-box;font-family: Operator Mono, Consolas, Monaco, Menlo, monospace;font-size: 12px;-webkit-overflow-scrolling: touch;padding-top: 15px;background: #282c34;border-radius: 5px;\"><span style=\"color: #c678dd;line-height: 26px;\">package</span> com.ymy.config;<br><br><span style=\"color: #c678dd;line-height: 26px;\">import</span> org.springframework.context.annotation.Configuration;<br><br><span style=\"color: #c678dd;line-height: 26px;\">import</span> javax.annotation.PreDestroy;<br><br><span style=\"color: #61aeee;line-height: 26px;\">@Configuration</span><br><span style=\"color: #c678dd;line-height: 26px;\">public</span> <span style=\"line-height: 26px;\"><span style=\"color: #c678dd;line-height: 26px;\">class</span> <span style=\"color: #e6c07b;line-height: 26px;\">DataBackupConfig</span> </span>{<br><br>    <span style=\"color: #61aeee;line-height: 26px;\">@PreDestroy</span><br>    <span style=\"line-height: 26px;\"><span style=\"color: #c678dd;line-height: 26px;\">public</span>  <span style=\"color: #c678dd;line-height: 26px;\">void</span> <span style=\"color: #61aeee;line-height: 26px;\">backData</span><span style=\"line-height: 26px;\">()</span></span>{<br><br>        System.out.println(<span style=\"color: #98c379;line-height: 26px;\">\"正在备份数据。。。。。。。。。。。\"</span>);<br>    }<br>}<br><span style=\"color: #d19a66;line-height: 26px;\">123456789101112131415</span><br></code></pre><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;line-height: 1.75;margin-top: 0.8em;margin-bottom: 0.8em;\">我们再来测试然后打印控制台日志：<img data-ratio=\"0.17309205350118018\" data-type=\"png\" data-w=\"1271\" style=\"border-radius: 6px; display: block; margin: 20px auto; object-fit: contain; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqkyIOa21n5bcwgibDXGeWp3aVtsibzl7B03tyPlmT8IgWvnP7JibTYPCLw/640?wx_fmt=png\"></p><center><section><section><section><section><p style=\"white-space: normal;\"><br></p><p style=\"white-space: normal;color: rgb(154, 154, 154);font-size: 15px;\"><span style=\"font-size: 14px;\"></span></p><blockquote class=\"js_blockquote_wrap\" data-type=\"2\" data-url=\"\" data-author-name=\"\" data-content-utf8-length=\"71\" data-source-title=\"\" style=\"white-space: normal;\"><section class=\"js_blockquote_digest\"><section><p style=\"text-align: left;\"><span style=\"font-size: 14px;\">转自：流星007</span></p><p style=\"text-align: left;\"><span style=\"font-size: 14px;\">链接：</span>https://blog.csdn.net/qq_33220089/article/details/105708331<span style=\"font-size: 14px;\"></span></p></section></section></blockquote><p style=\"white-space: normal;\"><br></p><p style=\"white-space: normal;color: rgb(154, 154, 154);font-size: 15px;\"><span style=\"font-size: 14px;\"></span></p><p style=\"white-space: normal;text-align: center;\"><br></p><p style=\"white-space: normal;text-align: center;\"><span style=\"font-size: 15px;color: rgb(136, 136, 136);\">- EOF -</span></p><section donone=\"shifuMouseDownCard('shifu_c_030')\" label=\"Copyright Reserved by PLAYHUDONG.\" style=\"margin-top: 1em;margin-bottom: 1em;white-space: normal;text-align: start;max-width: 100%;caret-color: rgb(0, 0, 0);color: rgb(0, 0, 0);border-width: 0px;border-style: initial;border-color: initial;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><section style=\"margin-left: 1em;max-width: 100%;line-height: 1.4;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"padding: 3px 8px;max-width: 100%;border-radius: 4px;color: rgb(255, 255, 255);background-color: rgb(255, 105, 31);font-family: inherit;text-align: inherit;text-decoration: inherit;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;\">推荐阅读</span>  <span style=\"margin-left: 4px;padding: 3px 8px;max-width: 100%;border-radius: 1.2em;color: rgb(255, 255, 255);line-height: 1.2;background-color: rgb(204, 204, 204);font-family: inherit;text-align: inherit;text-decoration: inherit;border-color: rgb(249, 110, 87);font-size: 12px;box-sizing: border-box !important;overflow-wrap: break-word !important;\">点击标题可跳转</span></section><section style=\"margin-top: -11px;padding: 22px 16px 16px;max-width: 100%;border-width: 1px;border-style: solid;border-color: rgb(255, 105, 31);color: rgb(51, 51, 51);font-size: 1em;font-family: inherit;text-align: inherit;text-decoration: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"text-decoration: underline;font-size: 13px;\">1、<a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;mid=2651495048&amp;idx=2&amp;sn=2be65a337f0a3bf835f884e23de5ee9f&amp;chksm=bd25f6f78a527fe1182b99ed65b98b8f71d3caba8f75a94914d0a2770a42598375b6238db264&amp;scene=21#wechat_redirect\" data-itemshowtype=\"0\" tab=\"innerlink\" data-linktype=\"2\">还在用 Guava Cache？它才是 Java 本地缓存之王！</a></span></p><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"text-decoration: underline;font-size: 13px;\">2、<a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;mid=2651495005&amp;idx=2&amp;sn=7147f5ef35c16e7918fc39ec4f6fbdb1&amp;chksm=bd25f6228a527f34e35de28957a89f8caa8809fd38f7418851a216f5bf7044d41a0d634cfa69&amp;scene=21#wechat_redirect\" data-itemshowtype=\"0\" tab=\"innerlink\" data-linktype=\"2\">9大开源 Service Mesh 平台横向对比</a></span></p><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"text-decoration: underline;font-size: 13px;\">3、<a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;mid=2651494985&amp;idx=1&amp;sn=20b1903925eabbef5bb0c2aeaca8cb85&amp;chksm=bd25f6368a527f20d9b727f9d5b19c9f7c32b05aee31b8676a53c975bf47ca317763db0bebc0&amp;scene=21#wechat_redirect\" data-itemshowtype=\"11\" tab=\"innerlink\" data-linktype=\"2\">Java 8 ConcurrentHashMap源码中竟然隐藏着两个BUG</a></span></p></section></section><p style=\"white-space: normal;caret-color: rgb(0, 0, 0);color: rgb(0, 0, 0);text-align: start;max-width: 100%;min-height: 1em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br></p><p style=\"white-space: normal;text-align: center;\"><span style=\"max-width: 100%;font-size: 14px;color: rgb(255, 169, 0);box-sizing: border-box !important;overflow-wrap: break-word !important;\">看完本文有收获？请转发分享给更多人</span><br></p><p style=\"white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);text-align: center;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><strong style=\"max-width: 100%;color: rgb(255, 169, 0);box-sizing: border-box !important;overflow-wrap: break-word !important;\">关注「ImportNew」，提升Java技能</strong></p><p style=\"white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);text-align: center;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><img data-ratio=\"0.9166666666666666\" data-s=\"300,640\" data-type=\"jpeg\" data-w=\"600\" style=\"box-sizing: border-box !important; overflow-wrap: break-word !important; visibility: visible !important; width: 600px !important; max-width: 600px\" width=\"auto\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/2A8tXicCG8ylbWIGfdoDED35IRRySQZTXUkJ1eop9MHApzFibKnOo0diboXpl0rmS5mH78YJhsWQv0dhv718A6kUA/640?wx_fmt=jpeg\"></p><p style=\"white-space: normal;text-align: right;\"><span style=\"font-size: 14px;\"></span><span style=\"max-width: 100%;font-family: -apple-system-font, system-ui, \" helvetica neue sc sans gb yahei ui arial sans-serif center break-word border-box>点赞和在看就是最大的支持</span><span style=\"max-width: 100%;font-family: -apple-system-font, system-ui, \" helvetica neue sc sans gb yahei ui arial sans-serif center break-word border-box>❤️</span></p></section></section></section></section></center></section>\n                </div>\n\n    \n    <br>\n\n    \n        <a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;mid=2651495053&amp;idx=1&amp;sn=82a3ef80d32b8b23304e358b21005c32&amp;chksm=bd25f6f28a527fe49a912558f12af4a3249447ef8df521e8332de38fde0c69bd59527edee99b&amp;scene=0#rd\" style=\"color: blue\" class=\"media_tool_meta meta_primary\">原文</a>\n        <br>\n    \n\n    \n\n    <img alt=\"\" width=\"1px\" height=\"1px\" class=\"\" style=\"width:1px;height:1px;display:none\" src=\"http://www.jintiankansha.me/rss_static/11757/X159adTMXN\"></div></div>","descriptionType":"html","publishedDate":"Tue, 11 May 2021 10:00:00 +0000","feedId":2521,"bgimg":"http://content.sov5.cn/mmbiz_jpg/ruluqgBFV0YTGt6zR9y0qcpyPseqd5yGIqC5bKz5r2Ij9Em9FzxwQqQNQfv4SMpwA5aic0ulbu38mgnrYNZVXnA?imageView2/1/w/600","linkMd5":"5624fd5450a6436171da7b3f92cdef12","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn12@2020_4/2021/05/11/18-35-42-781_0f000705aed99b38.webp","destWidth":600,"destHeight":372,"sourceBytes":44385,"destBytes":42332,"author":"","articleImgCdnMap":{"http://content.sov5.cn/mmbiz_jpg/ruluqgBFV0YTGt6zR9y0qcpyPseqd5yGIqC5bKz5r2Ij9Em9FzxwQqQNQfv4SMpwA5aic0ulbu38mgnrYNZVXnA?imageView2/1/w/600":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn12@2020_4/2021/05/11/18-35-42-781_0f000705aed99b38.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMq2RxqhUVK70ic2zFDVsLxfggLxHPo6sxpM0TOGqAiaQORVtmDf7eRpsGQ/640?wx_fmt=png":null,"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqxqZq8XNpcj0vVeT9lYiaSIqNk2gsD9cJQUrAXu8k7zXz7ickYMhPLbxg/640?wx_fmt=png":null,"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqL4YRUuia2UCsLmk4VR788FooIfz92LwKzdpX6WwibITP0vqibicvvDKcuQ/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx15/cdn55@2020_5/2021/05/11/18-35-57-937_23169ad5f842999e.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqKyPF4VMicJ8Bo8MbzWYtgMsg58tXsjjxlnJWb8u9ar0qQX0NDianW2gg/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn17@2020_4/2021/05/11/18-35-54-202_d98d45bd56d3f93c.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqribeLUELzTEYAQpKn5kNaRMdAnrFAIXYlQ3DlGwfJnUVg7uwDYW4ZAQ/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn37@2020_4/2021/05/11/18-36-39-897_94aa9bf9e44c1ca4.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqxuEQQXbOKxj0Jd4KaKOcwxZI78nNMPT0XKl3467j3O4xicmlf610SUw/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn16@2020_2/2021/05/11/18-35-55-118_0cb7578357199460.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMq9kTdpFuDTvxI7B9CZKf6xBHMu9DdWnDuFlmIgEOicjo6l6aCe4ZZf1g/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn24@2020_5/2021/05/11/18-36-24-447_dac284b651326b55.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMq4tM0f1RhJ5CibIiahbnobv0UonxtS1UAYYtQLW6eCiaJabujvYNticK3DA/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn63@2020_3/2021/05/11/18-37-04-660_3f779ce59f31cb6b.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqGyAWKFoFmKgbOzwia0GBRkibezFv9jMFHUYxiartrDTKtncLRibAH8F7GA/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx/cdn19@2020_3/2021/05/11/18-35-57-007_6970f84da3224118.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqD6ZICMoFWN92GYkUeROloeuKpkTJ7QVMQdRmx98GBOW04sBFgEiaTgQ/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn26@2020_5/2021/05/11/18-37-12-782_2bc3f766f3b533a0.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqkyIOa21n5bcwgibDXGeWp3aVtsibzl7B03tyPlmT8IgWvnP7JibTYPCLw/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn49@2020_1/2021/05/11/18-37-35-046_ec7bc36886999da2.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/2A8tXicCG8ylbWIGfdoDED35IRRySQZTXUkJ1eop9MHApzFibKnOo0diboXpl0rmS5mH78YJhsWQv0dhv718A6kUA/640?wx_fmt=jpeg":null,"http://www.jintiankansha.me/rss_static/11757/X159adTMXN":null},"publishedOrCreatedDate":1620758141081}],"record":{"createdTime":"2021-05-12 02:35:41","updatedTime":"2021-05-12 02:35:41","feedId":2521,"fetchDate":"Tue, 11 May 2021 18:35:41 +0000","fetchMs":458,"handleMs":25,"totalMs":126346,"newArticles":0,"totalArticles":5,"status":1,"type":0,"ip":"79b59b7ab14b8d981e3d8a220e20848a","hostName":"us-008*","requestId":"fb01e11e4d634dd785c4c4db7c9554e6_2521","contentType":"application/rss+xml","totalBytes":268204,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":14,"articlesImgsGithubTotal":10,"successGithubMap":{"myreaderx15":1,"myreaderx7":1,"myreaderx27":1,"myreaderx6":1,"myreaderx12":1,"myreaderx24":1,"myreaderx1":1,"myreaderx13":1,"myreaderx30":1,"myreaderx":1},"failGithubMap":{}},"feed":{"createdTime":"2020-08-24 21:31:41","updatedTime":"2020-09-01 10:09:47","id":2521,"name":"ImportNew","url":"http://feedmaker.kindle4rss.com/feeds/importnew.weixin.xml","subscriber":null,"website":null,"icon":"http://www.sogou.com/images/logo/new/favicon.ico?v=4","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx63/cdn9@2020_3/2020/09/01/02-08-31-388_d24121c9beed1de6.ico","description":"伯乐在线旗下账号，专注Java技术分享，包括Java基础技术、进阶技能、架构设计和Java技术领域动态等。","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2021-05-12 02:37:46","updatedTime":"2021-05-12 02:37:46","id":null,"feedId":2521,"linkMd5":"5624fd5450a6436171da7b3f92cdef12"}],"tmpCommonImgCdnBytes":42332,"tmpBodyImgCdnBytes":225872,"tmpBgImgCdnBytes":0,"extra4":{"start":1620758140448,"total":0,"statList":[{"spend":609,"msg":"获取xml内容"},{"spend":25,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":123500,"msg":"正文链接上传到cdn"}]},"extra5":14,"extra6":11,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"http://www.jintiankansha.me/rss_static/11757/X159adTMXN","sourceStatusCode":405,"sourceBytes":0,"destBytes":0,"feedId":2521,"totalSpendMs":665,"convertSpendMs":0,"createdTime":"2021-05-12 02:35:43","host":"us-005*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+CTO%20%E8%AF%B4%E4%BA%86%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%8F%91%E7%8E%B0%E8%B0%81%E7%94%A8%20kill%20-9%20%E5%85%B3%E9%97%AD%E7%A8%8B%E5%BA%8F%E5%B0%B1%E5%BC%80%E9%99%A4","linkMd5ListStr":"5624fd5450a6436171da7b3f92cdef12","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[405],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"http://www.jintiankansha.me/rss_static/11757/X159adTMXN","sourceStatusCode":405,"sourceBytes":0,"destBytes":0,"feedId":2521,"totalSpendMs":579,"convertSpendMs":0,"createdTime":"2021-05-12 02:35:43","host":"us-55*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+CTO%20%E8%AF%B4%E4%BA%86%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%8F%91%E7%8E%B0%E8%B0%81%E7%94%A8%20kill%20-9%20%E5%85%B3%E9%97%AD%E7%A8%8B%E5%BA%8F%E5%B0%B1%E5%BC%80%E9%99%A4","linkMd5ListStr":"5624fd5450a6436171da7b3f92cdef12","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[405],"sourceSize":"0","destSize":"0"},null,null,null,null,null,null,null,null,null],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://europe-56.herokuapp.com/":{"failCount":1,"successCount":1,"resultList":[200,null]},"http://us-018.herokuapp.com/":{"failCount":1,"successCount":1,"resultList":[200,null]},"http://europe-24.herokuapp.com/":{"failCount":1,"successCount":1,"resultList":[200,null]},"http://us-55.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[405]},"http://europe63.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-005.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[405]},"http://us-035.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-030.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-006.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-025.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://europe-25.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://europe-57.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://europe64.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-029.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"http://content.sov5.cn/mmbiz_jpg/ruluqgBFV0YTGt6zR9y0qcpyPseqd5yGIqC5bKz5r2Ij9Em9FzxwQqQNQfv4SMpwA5aic0ulbu38mgnrYNZVXnA?imageView2/1/w/600","sourceStatusCode":200,"destWidth":600,"destHeight":372,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn12@2020_4/2021/05/11/18-35-42-781_0f000705aed99b38.webp","sourceBytes":44385,"destBytes":42332,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":2064,"convertSpendMs":12,"createdTime":"2021-05-12 02:35:41","host":"europe-23*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+CTO%20%E8%AF%B4%E4%BA%86%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%8F%91%E7%8E%B0%E8%B0%81%E7%94%A8%20kill%20-9%20%E5%85%B3%E9%97%AD%E7%A8%8B%E5%BA%8F%E5%B0%B1%E5%BC%80%E9%99%A4","linkMd5ListStr":"5624fd5450a6436171da7b3f92cdef12,5624fd5450a6436171da7b3f92cdef12","githubUser":"myreaderx12","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"43.3 KB","destSize":"41.3 KB","compressRate":"95.4%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqKyPF4VMicJ8Bo8MbzWYtgMsg58tXsjjxlnJWb8u9ar0qQX0NDianW2gg/640?wx_fmt=png","sourceStatusCode":200,"destWidth":499,"destHeight":310,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn17@2020_4/2021/05/11/18-35-54-202_d98d45bd56d3f93c.webp","sourceBytes":42332,"destBytes":14844,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":11176,"convertSpendMs":7,"createdTime":"2021-05-12 02:35:43","host":"europe-24*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+CTO%20%E8%AF%B4%E4%BA%86%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%8F%91%E7%8E%B0%E8%B0%81%E7%94%A8%20kill%20-9%20%E5%85%B3%E9%97%AD%E7%A8%8B%E5%BA%8F%E5%B0%B1%E5%BC%80%E9%99%A4","linkMd5ListStr":"5624fd5450a6436171da7b3f92cdef12","githubUser":"myreaderx13","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"41.3 KB","destSize":"14.5 KB","compressRate":"35.1%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqxuEQQXbOKxj0Jd4KaKOcwxZI78nNMPT0XKl3467j3O4xicmlf610SUw/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":84,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn16@2020_2/2021/05/11/18-35-55-118_0cb7578357199460.webp","sourceBytes":43599,"destBytes":10902,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":12097,"convertSpendMs":6,"createdTime":"2021-05-12 02:35:43","host":"us-025*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+CTO%20%E8%AF%B4%E4%BA%86%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%8F%91%E7%8E%B0%E8%B0%81%E7%94%A8%20kill%20-9%20%E5%85%B3%E9%97%AD%E7%A8%8B%E5%BA%8F%E5%B0%B1%E5%BC%80%E9%99%A4","linkMd5ListStr":"5624fd5450a6436171da7b3f92cdef12","githubUser":"myreaderx6","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"42.6 KB","destSize":"10.6 KB","compressRate":"25%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqGyAWKFoFmKgbOzwia0GBRkibezFv9jMFHUYxiartrDTKtncLRibAH8F7GA/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":106,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx/cdn19@2020_3/2021/05/11/18-35-57-007_6970f84da3224118.webp","sourceBytes":68186,"destBytes":19090,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":13975,"convertSpendMs":9,"createdTime":"2021-05-12 02:35:43","host":"europe-25*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+CTO%20%E8%AF%B4%E4%BA%86%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%8F%91%E7%8E%B0%E8%B0%81%E7%94%A8%20kill%20-9%20%E5%85%B3%E9%97%AD%E7%A8%8B%E5%BA%8F%E5%B0%B1%E5%BC%80%E9%99%A4","linkMd5ListStr":"5624fd5450a6436171da7b3f92cdef12","githubUser":"myreaderx","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"66.6 KB","destSize":"18.6 KB","compressRate":"28%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqL4YRUuia2UCsLmk4VR788FooIfz92LwKzdpX6WwibITP0vqibicvvDKcuQ/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":88,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx15/cdn55@2020_5/2021/05/11/18-35-57-937_23169ad5f842999e.webp","sourceBytes":57922,"destBytes":17968,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":14988,"convertSpendMs":8,"createdTime":"2021-05-12 02:35:43","host":"europe-56*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+CTO%20%E8%AF%B4%E4%BA%86%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%8F%91%E7%8E%B0%E8%B0%81%E7%94%A8%20kill%20-9%20%E5%85%B3%E9%97%AD%E7%A8%8B%E5%BA%8F%E5%B0%B1%E5%BC%80%E9%99%A4","linkMd5ListStr":"5624fd5450a6436171da7b3f92cdef12","githubUser":"myreaderx15","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"56.6 KB","destSize":"17.5 KB","compressRate":"31%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMq9kTdpFuDTvxI7B9CZKf6xBHMu9DdWnDuFlmIgEOicjo6l6aCe4ZZf1g/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1012,"destHeight":347,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn24@2020_5/2021/05/11/18-36-24-447_dac284b651326b55.webp","sourceBytes":33966,"destBytes":16764,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":11362,"convertSpendMs":15,"createdTime":"2021-05-12 02:36:13","host":"us-018*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+CTO%20%E8%AF%B4%E4%BA%86%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%8F%91%E7%8E%B0%E8%B0%81%E7%94%A8%20kill%20-9%20%E5%85%B3%E9%97%AD%E7%A8%8B%E5%BA%8F%E5%B0%B1%E5%BC%80%E9%99%A4","linkMd5ListStr":"5624fd5450a6436171da7b3f92cdef12","githubUser":"myreaderx1","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"33.2 KB","destSize":"16.4 KB","compressRate":"49.4%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqribeLUELzTEYAQpKn5kNaRMdAnrFAIXYlQ3DlGwfJnUVg7uwDYW4ZAQ/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":389,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn37@2020_4/2021/05/11/18-36-39-897_94aa9bf9e44c1ca4.webp","sourceBytes":278176,"destBytes":65074,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":56899,"convertSpendMs":24,"createdTime":"2021-05-12 02:35:43","host":"us-029*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+CTO%20%E8%AF%B4%E4%BA%86%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%8F%91%E7%8E%B0%E8%B0%81%E7%94%A8%20kill%20-9%20%E5%85%B3%E9%97%AD%E7%A8%8B%E5%BA%8F%E5%B0%B1%E5%BC%80%E9%99%A4","linkMd5ListStr":"5624fd5450a6436171da7b3f92cdef12","githubUser":"myreaderx24","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"271.7 KB","destSize":"63.5 KB","compressRate":"23.4%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMq4tM0f1RhJ5CibIiahbnobv0UonxtS1UAYYtQLW6eCiaJabujvYNticK3DA/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":174,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn63@2020_3/2021/05/11/18-37-04-660_3f779ce59f31cb6b.webp","sourceBytes":109558,"destBytes":30716,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":21553,"convertSpendMs":14,"createdTime":"2021-05-12 02:36:43","host":"europe-25*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+CTO%20%E8%AF%B4%E4%BA%86%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%8F%91%E7%8E%B0%E8%B0%81%E7%94%A8%20kill%20-9%20%E5%85%B3%E9%97%AD%E7%A8%8B%E5%BA%8F%E5%B0%B1%E5%BC%80%E9%99%A4","linkMd5ListStr":"5624fd5450a6436171da7b3f92cdef12","githubUser":"myreaderx27","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"107 KB","destSize":"30 KB","compressRate":"28%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqD6ZICMoFWN92GYkUeROloeuKpkTJ7QVMQdRmx98GBOW04sBFgEiaTgQ/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":156,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn26@2020_5/2021/05/11/18-37-12-782_2bc3f766f3b533a0.webp","sourceBytes":97246,"destBytes":23808,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":27587,"convertSpendMs":13,"createdTime":"2021-05-12 02:36:45","host":"us-025*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+CTO%20%E8%AF%B4%E4%BA%86%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%8F%91%E7%8E%B0%E8%B0%81%E7%94%A8%20kill%20-9%20%E5%85%B3%E9%97%AD%E7%A8%8B%E5%BA%8F%E5%B0%B1%E5%BC%80%E9%99%A4","linkMd5ListStr":"5624fd5450a6436171da7b3f92cdef12","githubUser":"myreaderx30","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"95 KB","destSize":"23.2 KB","compressRate":"24.5%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eukZ9J6BEiacleYlbeqLx3sxgDTvYibPMqkyIOa21n5bcwgibDXGeWp3aVtsibzl7B03tyPlmT8IgWvnP7JibTYPCLw/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":187,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn49@2020_1/2021/05/11/18-37-35-046_ec7bc36886999da2.webp","sourceBytes":105053,"destBytes":26706,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":21905,"convertSpendMs":15,"createdTime":"2021-05-12 02:37:13","host":"us-029*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+CTO%20%E8%AF%B4%E4%BA%86%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%8F%91%E7%8E%B0%E8%B0%81%E7%94%A8%20kill%20-9%20%E5%85%B3%E9%97%AD%E7%A8%8B%E5%BA%8F%E5%B0%B1%E5%BC%80%E9%99%A4","linkMd5ListStr":"5624fd5450a6436171da7b3f92cdef12","githubUser":"myreaderx7","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"102.6 KB","destSize":"26.1 KB","compressRate":"25.4%"}],"successGithubMap":{"myreaderx15":1,"myreaderx7":1,"myreaderx27":1,"myreaderx6":1,"myreaderx12":1,"myreaderx24":1,"myreaderx1":1,"myreaderx13":1,"myreaderx30":1,"myreaderx":1},"failGithubMap":{}}