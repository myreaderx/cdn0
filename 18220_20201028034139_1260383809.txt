{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-28 11:41:33","updatedTime":"2020-10-28 11:41:33","title":"Specify Form-Factors in Your Librem 5 Apps","link":"https://puri.sm/?p=69690","description":"<div class=\"post-content e-content\">\n<p>While more and more applications are being redesigned to take smartphones like the Librem 5 into account, PureOS still offers lots of desktop applications which are not ready to run on such devices yet.</p>\n<p>As a user you want to know which applications are relevant to install, so PureOS Store will by default only present mobile-ready applications, while still letting you opt-into showing all applications to take full advantage of the Librem 5’s convergeant docked mode. As a user you also want to know which applications are relevant to run at a given time, so Phosh will let you run desktop-only applications only when the phone is docked.</p>\n<p>This requires the applications to provide some information on which form-factors they can handle, if you are an application developer and you want your applications to work as expected on the Librem 5, please provide the relevant information as shown below.</p>\n<p>To make your application appear in PureOS Store, add the following lines to your AppStream metainfo:</p>\n<div class=\"language-xml highlighter-rouge\">\n<div class=\"highlight\">\n<pre class=\"highlight\"><code><span class=\"cp\">&#60;?xml version=\"1.0\" encoding=\"UTF-8\"?&#62;</span>\n<span class=\"nt\">&#60;component</span> <span class=\"na\">type=</span><span class=\"s\">\"desktop\"</span><span class=\"nt\">&#62;</span>\n  …\n  <span class=\"nt\">&#60;custom&#62;</span>\n    <span class=\"nt\">&#60;value</span> <span class=\"na\">key=</span><span class=\"s\">\"Purism::form_factor\"</span><span class=\"nt\">&#62;</span>workstation<span class=\"nt\">&#60;/value&#62;</span>\n    <span class=\"nt\">&#60;value</span> <span class=\"na\">key=</span><span class=\"s\">\"Purism::form_factor\"</span><span class=\"nt\">&#62;</span>mobile<span class=\"nt\">&#60;/value&#62;</span>\n  <span class=\"nt\">&#60;/custom&#62;</span>\n  …\n<span class=\"nt\">&#60;/component&#62;</span></code></pre>\n</div>\n</div>\n</div>\n<p>&#160;</p>\n<div class=\"post-content e-content\">\n<figure id=\"attachment_69706\" style=\"width: 1920px\" class=\"wp-caption aligncenter\"><img class=\"wp-image-69706 size-full\" src=\"https://puri.sm/wp-content/uploads/2020/10/store-1.png\" alt=\"\" width=\"1920\" height=\"416\" srcset=\"https://puri.sm/wp-content/uploads/2020/10/store-1.png 1920w, https://puri.sm/wp-content/uploads/2020/10/store-1-300x65.png 300w, https://puri.sm/wp-content/uploads/2020/10/store-1-768x166.png 768w, https://puri.sm/wp-content/uploads/2020/10/store-1-1024x222.png 1024w\" sizes=\"(max-width: 1920px) 100vw, 1920px\" /><figcaption class=\"wp-caption-text\">Convergent app in PureOS Store</figcaption></figure>\n<p>To make your application appear in Phosh, add the following lines to your desktop entry:</p>\n<div class=\"language-plaintext highlighter-rouge\">\n<div class=\"highlight\">\n<pre class=\"highlight\"><code>[Desktop Entry]\n…\n# Translators: Do NOT translate or transliterate this text (these are enum types)!\nX-Purism-FormFactor=Workstation;Mobile;\n…\n</code></pre>\n</div>\n</div>\n<figure id=\"attachment_68722\" style=\"width: 3968px\" class=\"wp-caption aligncenter\"><img class=\"wp-image-68722 size-full\" src=\"https://puri.sm/wp-content/uploads/2020/07/P1070375.jpg\" alt=\"\" width=\"3968\" height=\"2232\" srcset=\"https://puri.sm/wp-content/uploads/2020/07/P1070375.jpg 3968w, https://puri.sm/wp-content/uploads/2020/07/P1070375-300x169.jpg 300w, https://puri.sm/wp-content/uploads/2020/07/P1070375-768x432.jpg 768w, https://puri.sm/wp-content/uploads/2020/07/P1070375-1024x576.jpg 1024w\" sizes=\"(max-width: 3968px) 100vw, 3968px\" /><figcaption class=\"wp-caption-text\">Convergent app icons in Phosh</figcaption></figure>\n<p>If you don’t add these, your application will be assumed to only be compatible with the desktop mode.</p>\n<p>You may be intrigued by the Purism namespace in these solutions, we came up with these ad-hoc solutions to provide the form-factor compatibility information we need until better fleshed out solutions are ready. You can read more about this issue here:</p>\n<ul>\n<li><a href=\"https://lists.freedesktop.org/archives/xdg/2020-October/014404.html\">XDG: Specifying sensible device types to use an application on in the desktop file</a></li>\n<li><a href=\"https://github.com/ximion/appstream/issues/274\">AppStream: A property for “Mobile Compatiabilty”</a></li>\n<li><a href=\"https://github.com/ximion/appstream/issues/55\">AppStream: Add property about available controls</a></li>\n<li><a href=\"https://phabricator.kde.org/T10462\">KDE: Define input-output usage patterns</a></li>\n<li><a href=\"https://source.puri.sm/Librem5/epiphany/-/merge_requests/10#note_123330\">Purism: List compatible form-factors</a></li>\n<li><a href=\"https://www.freedesktop.org/software/systemd/man/hostnamectl.html#set-chassis%20TYPE\">hostnamectl chassis type</a></li>\n</ul>\n</div>\n<p>The post <a rel=\"nofollow\" href=\"https://puri.sm/posts/specify-form-factors-in-your-librem-5-apps/\">Specify Form-Factors in Your Librem 5 Apps</a> appeared first on <a rel=\"nofollow\" href=\"https://puri.sm/\">Purism</a>.</p>\n","descriptionType":"html","publishedDate":"Fri, 16 Oct 2020 15:02:14 +0000","feedId":18220,"bgimg":"https://puri.sm/wp-content/uploads/2020/10/store-1.png","linkMd5":"6ac9305679affb113f7cfb3240e429ba","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn20@2020_5/2020/10/28/03-41-34-458_01fabe568ee76497.webp","destWidth":1920,"destHeight":416,"sourceBytes":61223,"destBytes":14036,"author":"Adrien Plazas","articleImgCdnMap":{"https://puri.sm/wp-content/uploads/2020/10/store-1.png":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn20@2020_5/2020/10/28/03-41-34-458_01fabe568ee76497.webp","https://puri.sm/wp-content/uploads/2020/07/P1070375.jpg":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn24@2020_5/2020/10/28/03-41-37-712_eb6abf2128dc88d3.webp"},"publishedOrCreatedDate":1603856493062}],"record":{"createdTime":"2020-10-28 11:41:33","updatedTime":"2020-10-28 11:41:33","feedId":18220,"fetchDate":"Wed, 28 Oct 2020 03:41:33 +0000","fetchMs":1471,"handleMs":340,"totalMs":123530,"newArticles":0,"totalArticles":457,"status":1,"type":0,"ip":"c38726fefc3aa4445f75f64d0364b5db","hostName":"europe65*","requestId":"a2fa06a7bde54c208848b04deb67ab51_18220","contentType":"text/xml","totalBytes":709754,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":2,"articlesImgsGithubTotal":2,"successGithubMap":{"myreaderx11":1,"myreaderx13":1},"failGithubMap":{}},"feed":{"createdTime":"2020-09-07 02:16:59","updatedTime":"2020-09-07 02:50:00","id":18220,"name":"Purism","url":"https://puri.sm/feed/","subscriber":182,"website":null,"icon":"https://puri.sm/wp-content/uploads/2020/04/cropped-purism-logo-rectangle-1-32x32.png","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx63/cdn89@2020_2/2020/09/06/18-49-55-434_c2d7a6cdd8a20bba.png","description":"High-quality laptops that protect your freedom and privacy","weekly":null,"link":null},"noPictureArticleList":[],"tmpCommonImgCdnBytes":14036,"tmpBodyImgCdnBytes":695718,"tmpBgImgCdnBytes":0,"extra4":{"start":1603856375460,"total":0,"statList":[{"spend":117263,"msg":"获取xml内容"},{"spend":340,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":3485,"msg":"正文链接上传到cdn"}]},"extra5":2,"extra6":2,"extra7ImgCdnFailResultVector":[],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://us-036.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://puri.sm/wp-content/uploads/2020/10/store-1.png","sourceStatusCode":200,"destWidth":1920,"destHeight":416,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn20@2020_5/2020/10/28/03-41-34-458_01fabe568ee76497.webp","sourceBytes":61223,"destBytes":14036,"targetWebpQuality":75,"feedId":18220,"totalSpendMs":2380,"convertSpendMs":65,"createdTime":"2020-10-28 11:41:33","host":"europe-58*","referer":"https://puri.sm/?p=69690","linkMd5ListStr":"6ac9305679affb113f7cfb3240e429ba,6ac9305679affb113f7cfb3240e429ba","githubUser":"myreaderx11","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"59.8 KB","destSize":"13.7 KB","compressRate":"22.9%"},{"code":1,"isDone":false,"source":"https://puri.sm/wp-content/uploads/2020/07/P1070375.jpg","sourceStatusCode":200,"destWidth":3968,"destHeight":2232,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn24@2020_5/2020/10/28/03-41-37-712_eb6abf2128dc88d3.webp","sourceBytes":5436377,"destBytes":695718,"targetWebpQuality":67,"feedId":18220,"totalSpendMs":3305,"convertSpendMs":849,"createdTime":"2020-10-28 11:41:35","host":"us-036*","referer":"https://puri.sm/?p=69690","linkMd5ListStr":"6ac9305679affb113f7cfb3240e429ba","githubUser":"myreaderx13","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"5.2 MB","destSize":"679.4 KB","compressRate":"12.8%"}],"successGithubMap":{"myreaderx11":1,"myreaderx13":1},"failGithubMap":{}}