{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-19 11:38:11","updatedTime":"2020-10-19 11:38:11","title":"C++/CX: はじめてのストアアプリ","link":"http://blogs.wankuma.com/episteme/archive/2013/03/31/323951.aspx","description":"<p>C++/CLI の次は C++/CX ですか...</p><p>επιστημηといたしましては、C++/CXには少なからず期待しています。<br>だってアナタ、<strong>nativeだっつー</strong>じゃないですか。</p><p>C++/CLIはmanagedなんでref-classの<strong>縛りがキツかった</strong>んですわ。ref-class内にnativeなメンバを置けないとかref-classがstd::vectorの要素になれないとか。<br>対してC++/CXのref-classはnativeだという。ならばC++/CLIでのきっつい縛りが相当緩和されるに違いない、と。<br>んだもんで遅ればせながらC++/CXでしばらく遊んでみようかと<strong>本日突然</strong>思い立ったわけですわ。<br>つってもC++/CXで書けるのはストアアプリだけとのことなんで、まずはC++/CXで遊ぶべくストアアプリに慣れるとこから着手するです。</p><p>GUIのお試しに僕が決まって作るのは「Counter」...まずはとにかく雛形を用意するとこから。Windowsストアアプリ:「新しいアプリケーション」を選択。<br><img src=\"http://www1.c3-net.ne.jp/episteme/images/cppcx_1st/step1.png\"></p><p>わしゃわしゃとコードが吐かれ、その中にMainPage.xaml(h,cpp)があるけども、ここで一枚新たなページを作ります。プロジェクト→新しい項目の追加 から Windowsストア:「基本ページ」で TrialPage.xaml を吐いてもらいます。なんか<strong>見慣れぬダイアログ</strong>が上がってくるけど構わず[はい]って答えとく。<br><img src=\"http://www1.c3-net.ne.jp/episteme/images/cppcx_1st/step2.png\"><br><img src=\"http://www1.c3-net.ne.jp/episteme/images/cppcx_1st/step3.png\"></p><p>CounterPageを主ページとすべく、App.xaml.cpp に現れる \"MainPage\" を \"TrialPage\" に差し替えます。<br><img src=\"http://www1.c3-net.ne.jp/episteme/images/cppcx_1st/step4.png\"></p><p>ここで一度 build すれば MainPage.xamlなんちゃらは<strong>用済み</strong>なので削除します。</p><p>んでもって CounterPage に TextBlock と Button をふたつ貼り付け、それぞれ txtCount, btnInc, btnDec と命名しました。<br><img src=\"http://www1.c3-net.ne.jp/episteme/images/cppcx_1st/step5.png\"></p><p>ふたつのボタンに Click イベントハンドラをあてがい、TrialPage.xaml.h にある public ref class TrialPage sealed 内に private メンバ int count_ を追加し、TrialPage.xaml.cpp に加筆します:</p><p><font face=\"Courier New\">TrialPage::TrialPage() <font color=\"#ff0000\">: <strong>count_(0)</strong></font><br>{<br>? InitializeComponent();<br>}</font></p><p><font face=\"Courier New\">void App1::TrialPage::btnInc_Click(Platform::Object^ sender, Windows::UI::Xaml::RoutedEventArgs^ e)<br>{<br></font><font face=\"Courier New\"><strong><font color=\"#ff0000\">? ++count_;<br>? txtCount->Text = count_.ToString();<br></font></strong>}</font></p><p><br><font face=\"Courier New\">void App1::TrialPage::btnDec_Click(Platform::Object^ sender, Windows::UI::Xaml::RoutedEventArgs^ e)<br>{<br></font><font face=\"Courier New\"><strong><font color=\"#ff0000\">? --count_;<br>? txtCount->Text = count_.ToString();<br></font></strong>}</font></p><p>こんなもんでいいかな、シミュレータで動かしてみましょ。<br><img src=\"http://www1.c3-net.ne.jp/episteme/images/cppcx_1st/step6.png\"></p><p>よしよし。今日はこのへんで勘弁したらぁ。<br></p><img src =\"http://blogs.wankuma.com/episteme/aggbug/323951.aspx\" width = \"1\" height = \"1\" />","descriptionType":"text/html","publishedDate":"Sun, 31 Mar 2013 00:01:00 +0000","feedId":42717,"bgimg":"http://www1.c3-net.ne.jp/episteme/images/cppcx_1st/step1.png","linkMd5":"211145f3b6e23ad506f6714d9a481060","author":"επιστημη","articleImgCdnMap":{"http://www1.c3-net.ne.jp/episteme/images/cppcx_1st/step1.png":null,"http://www1.c3-net.ne.jp/episteme/images/cppcx_1st/step2.png":null,"http://www1.c3-net.ne.jp/episteme/images/cppcx_1st/step3.png":null,"http://www1.c3-net.ne.jp/episteme/images/cppcx_1st/step4.png":null,"http://www1.c3-net.ne.jp/episteme/images/cppcx_1st/step5.png":null,"http://www1.c3-net.ne.jp/episteme/images/cppcx_1st/step6.png":null,"http://blogs.wankuma.com/episteme/aggbug/323951.aspx":null},"publishedOrCreatedDate":1603078691003}],"record":{"createdTime":"2020-10-19 11:38:11","updatedTime":"2020-10-19 11:38:11","feedId":42717,"fetchDate":"Mon, 19 Oct 2020 03:38:11 +0000","fetchMs":1349,"handleMs":7,"totalMs":245758,"newArticles":0,"totalArticles":15,"status":1,"type":0,"ip":"0b90fceb7c6618e8146be2bf87c2c62d","hostName":"europe61*","requestId":"12a8ac92788541bc91ebd4c11c6145e4_42717","contentType":"text/xml; charset=utf-8","totalBytes":0,"bgimgsTotal":1,"bgimgsGithubTotal":0,"articlesImgsTotal":7,"articlesImgsGithubTotal":0,"successGithubMap":{},"failGithubMap":{"myreaderx23":1}},"feed":{"createdTime":"2020-09-07 03:28:31","updatedTime":"2020-09-07 05:45:37","id":42717,"name":"東方算程譚","url":"http://blogs.wankuma.com/episteme/rss.aspx","subscriber":75,"website":null,"icon":"http://blogs.wankuma.com/favicon.ico","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx65/cdn7@2020_2/2020/09/06/21-45-35-292_b6c8dd6c90018ccc.ico","description":"Oriental Code Talk ── επιστημηが与太をこく、弾幕とは無縁のシロモノ。","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2020-10-19 11:42:14","updatedTime":"2020-10-19 11:42:14","id":null,"feedId":42717,"linkMd5":"211145f3b6e23ad506f6714d9a481060"}],"tmpCommonImgCdnBytes":0,"tmpBodyImgCdnBytes":0,"tmpBgImgCdnBytes":0,"extra4":{"start":1603078688936,"total":0,"statList":[{"spend":2060,"msg":"获取xml内容"},{"spend":7,"msg":"解释文章"},{"spend":121899,"msg":"正文链接上传到cdn"},{"spend":123322,"msg":"上传封面图到cdn"},{"spend":1,"msg":"修正封面图上传失败重新上传"}]},"extra5":7,"extra6":1,"extra7ImgCdnFailResultVector":[null,null,{"code":1,"isDone":false,"source":"http://blogs.wankuma.com/episteme/aggbug/323951.aspx","sourceStatusCode":200,"destWidth":1,"destHeight":1,"sourceBytes":43,"destBytes":72,"targetWebpQuality":75,"feedId":42717,"totalSpendMs":1745,"convertSpendMs":9,"createdTime":"2020-10-19 11:40:11","host":"europe-22*","referer":"http://blogs.wankuma.com/episteme/archive/2013/03/31/323951.aspx","linkMd5ListStr":"211145f3b6e23ad506f6714d9a481060","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx23/cdn90/contents/2020/10/19/03-40-12-852_d875e55f719ce65d.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 69189253.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Mon, 19 Oct 2020 03:40:13 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["A998:179C:1C148160:2070814E:5F8D0A9C"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, read:packages, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1603080251"],"x-ratelimit-used":["60"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx23/cdn90/contents/2020/10/19/03-40-12-852_d875e55f719ce65d.webp","historyStatusCode":[],"spendMs":293},"base64UserPassword":null,"token":"df0b9******************************93a6e"},"githubUser":"myreaderx23","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"43 B","destSize":"72 B","compressRate":"167.4%"},{"code":1,"isDone":false,"source":"http://blogs.wankuma.com/episteme/aggbug/323951.aspx","sourceStatusCode":200,"destWidth":1,"destHeight":1,"sourceBytes":43,"destBytes":72,"targetWebpQuality":75,"feedId":42717,"totalSpendMs":611,"convertSpendMs":2,"createdTime":"2020-10-19 11:40:13","host":"europe-22*","referer":"http://blogs.wankuma.com/episteme/archive/2013/03/31/323951.aspx","linkMd5ListStr":"211145f3b6e23ad506f6714d9a481060","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx23/cdn90/contents/2020/10/19/03-40-13-620_d875e55f719ce65d.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 69189253.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Mon, 19 Oct 2020 03:40:13 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["A922:12BEC:E462025:107EB2AD:5F8D0A9D"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, read:packages, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1603080251"],"x-ratelimit-used":["60"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx23/cdn90/contents/2020/10/19/03-40-13-620_d875e55f719ce65d.webp","historyStatusCode":[],"spendMs":143},"base64UserPassword":null,"token":"df0b9******************************93a6e"},"githubUser":"myreaderx23","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"43 B","destSize":"72 B","compressRate":"167.4%"},null,null,null,null,null,null,null,null,null,null,null,null,null,null],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{},"extra12ImgCdnSuccessResultVector":[],"successGithubMap":{},"failGithubMap":{"myreaderx23":1}}