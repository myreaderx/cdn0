{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-10 00:24:11","updatedTime":"2020-10-10 00:24:11","title":"reGeorg 工作流程分析(以 php 为例)","link":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/","description":"<h2 id=\"0X00-前言\"><a href=\"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#0X00-前言\" class=\"headerlink\" title=\"0X00 前言\"></a><strong>0X00 前言</strong></h2>\n<p>渗透中难免会遇到内网，有内网就会有代理，那么大概率就会用到 reGeorg 这个 socks 代理工具，那么在我们拿到的服务器不能有出网的流量的时候是不是也可以用这个工具呢？想到这个问题的时候其实我也不是很清楚，毕竟这个工具的实现我也不是很了解。那么如此厉害的工具究竟是怎么实现的，使用条件有没有必须要连接外网这一条呢？本文就是对这个工具源码的简单分析。</p>\n<h2 id=\"0X01-整体流程图\"><a href=\"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#0X01-整体流程图\" class=\"headerlink\" title=\"0X01 整体流程图\"></a><strong>0X01 整体流程图</strong></h2>\n<p>我这里以 PHP tunnel 为例，画了一个工具的流程图，我们先睹为快</p>\n<p><img src=\"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B1.jpg\" alt=\"此处输入图片的描述\" /></p>\n<a id=\"more\"></a>\n<blockquote>\n <p><strong>PS:</strong>实际上这张图是一个特殊情况，因为 PHP dl() 函数被默认禁用，于是没法加载 socket 动态库，于是这里使用的是 fsocketopen 获取内网服务器的资源,另外数据也可能不会存储在文件中，直接保存变量然后 send 到服务器就好了，或者是直接从服务器 receive 到变量，然后直接返回</p>\n</blockquote>\n<h2 id=\"0X02-代码分析\"><a href=\"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#0X02-代码分析\" class=\"headerlink\" title=\"0X02 代码分析\"></a><strong>0X02 代码分析</strong></h2>\n<h3 id=\"1-reGeorgSocksProxy-py\"><a href=\"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#1-reGeorgSocksProxy-py\" class=\"headerlink\" title=\"1.reGeorgSocksProxy.py\"></a><strong>1.reGeorgSocksProxy.py</strong></h3>\n<p>这个运行起来就是本地的一个 socks 服务器，主要作用就是接受浏览器的 socks 请求，与远端代理服务器建立 session 连接，将数据从浏览器传递给远端代理服务器，或者是将代理服务器传回来的数据使用 socks 再传回到浏览器显示。</p>\n<h4 id=\"1-检查远端代理服务器的连通性\"><a href=\"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#1-检查远端代理服务器的连通性\" class=\"headerlink\" title=\"(1)检查远端代理服务器的连通性\"></a><strong>(1)检查远端代理服务器的连通性</strong></h4>\n<p>会通过 requests 请求代理服务器,看看返回值是不是预定义的那句话，如果是的话就代表访问成功，远端代理服务器正常运行</p>\n<p><img src=\"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B2.jpg\" alt=\"此处输入图片的描述\" /></p>\n<h4 id=\"2-接收浏览器的连接并与远端代理服务器建立-session\"><a href=\"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#2-接收浏览器的连接并与远端代理服务器建立-session\" class=\"headerlink\" title=\"(2)接收浏览器的连接并与远端代理服务器建立 session\"></a><strong>(2)接收浏览器的连接并与远端代理服务器建立 session</strong></h4>\n<p>入口函数</p>\n<p><img src=\"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B3.jpg\" alt=\"此处输入图片的描述\" /></p>\n<p>进行 socks 协商</p>\n<p><img src=\"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B4.jpg\" alt=\"此处输入图片的描述\" /></p>\n<p>与远端代理服务器建立 session 连接</p>\n<p><img src=\"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B5.jpg\" alt=\"此处输入图片的描述\" /></p>\n<h4 id=\"3-read-部分\"><a href=\"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#3-read-部分\" class=\"headerlink\" title=\"(3)read 部分\"></a><strong>(3)read 部分</strong></h4>\n<p>从远端代理服务器获取数据并通过 socks 发送到浏览器</p>\n<p><img src=\"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B6.jpg\" alt=\"此处输入图片的描述\" /></p>\n<h4 id=\"4-write-部分\"><a href=\"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#4-write-部分\" class=\"headerlink\" title=\"(4)write 部分\"></a><strong>(4)write 部分</strong></h4>\n<p>从 socks 中读取浏览器发送过来的数据，然后通过 POST 请求体发送给远端的代理服务器</p>\n<p><img src=\"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B7.jpg\" alt=\"此处输入图片的描述\" /></p>\n<h3 id=\"2-tunnel-nosocket-php\"><a href=\"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#2-tunnel-nosocket-php\" class=\"headerlink\" title=\"2.tunnel.nosocket.php\"></a><strong>2.tunnel.nosocket.php</strong></h3>\n<h4 id=\"1-创建与内网服务器的-socket\"><a href=\"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#1-创建与内网服务器的-socket\" class=\"headerlink\" title=\"(1)创建与内网服务器的 socket\"></a><strong>(1)创建与内网服务器的 socket</strong></h4>\n<p><img src=\"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B8.jpg\" alt=\"此处输入图片的描述\" /></p>\n<h4 id=\"2-从内网服务器读取数据\"><a href=\"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#2-从内网服务器读取数据\" class=\"headerlink\" title=\"(2)从内网服务器读取数据\"></a><strong>(2)从内网服务器读取数据</strong></h4>\n<p>使用 fgets 读取数据然后，写入 $_SESSION[‘readbuf’] 中(ps:那个 readbuff 是笔误嘛,hhh)</p>\n<p><img src=\"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B9.jpg\" alt=\"此处输入图片的描述\" /></p>\n<h4 id=\"3-将读到的数据返回到-webpage\"><a href=\"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#3-将读到的数据返回到-webpage\" class=\"headerlink\" title=\"(3)将读到的数据返回到 webpage\"></a><strong>(3)将读到的数据返回到 webpage</strong></h4>\n<p><img src=\"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B10.jpg\" alt=\"此处输入图片的描述\" /></p>\n<h4 id=\"4-从本地socks服务器接收数据\"><a href=\"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#4-从本地socks服务器接收数据\" class=\"headerlink\" title=\"(4)从本地socks服务器接收数据\"></a><strong>(4)从本地socks服务器接收数据</strong></h4>\n<p>通过 php://input 接收 post 数据然后存入 $_SESSION[‘writebuf’] 中</p>\n<p><img src=\"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B11.jpg\" alt=\"此处输入图片的描述\" /></p>\n<h4 id=\"5-从-session-中获取数据\"><a href=\"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#5-从-session-中获取数据\" class=\"headerlink\" title=\"(5)从 session 中获取数据\"></a><strong>(5)从 session 中获取数据</strong></h4>\n<p>通过 fwrite 写入到内网服务器</p>\n<p><img src=\"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B12.jpg\" alt=\"此处输入图片的描述\" /></p>\n<h2 id=\"0X03-总结\"><a href=\"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#0X03-总结\" class=\"headerlink\" title=\"0X03 总结\"></a><strong>0X03 总结</strong></h2>\n<p>其实看完代码，就可以发现整个过程其实并没有远端代理服务器访问外网的成分，另外其实我们可以发现，远端的代理服务器实际上就是一个中转数据的 api</p>\n<h2 id=\"0X04-补充\"><a href=\"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#0X04-补充\" class=\"headerlink\" title=\"0X04 补充\"></a><strong>0X04 补充</strong></h2>\n<p>文章开头说了我们这里是用 php 的nosocket 版本进行的分析，对于可以使用 socket 的情况，远端的代理服务器就是作为 socket 的客户端向内网服务器发送 socket 请求，然后直接获取数据</p>\n<h2 id=\"0X04-扩展\"><a href=\"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#0X04-扩展\" class=\"headerlink\" title=\"0X04 扩展\"></a><strong>0X04 扩展</strong></h2>\n<p>虽然不需要访问外网就能实现代理功能，但是毕竟文件比较大，上传上去还是比较明显，那么有没有更加优雅的方法呢？有的， LCTF 2018 中 zsx 师傅，将这款工具的 php 部分进行了修改，实现了只要远端有一个 一句话木马就能直接运行(实际上本质就是将这个代理脚本作为数据传到小马里面 eval，其他语言的部分其实可以根据自己所需进行修改如下图)</p>\n<p>这是读取代理脚本到变量</p>\n<p><img src=\"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B13.jpg\" alt=\"此处输入图片的描述\" /></p>\n<p>这里是将变量作为参数传入一句话</p>\n<p><img src=\"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B14.jpg\" alt=\"此处输入图片的描述\" /></p>\n<p>项目地址：<a href=\"https://github.com/zsxsoft/reGeorg\" target=\"_blank\" rel=\"noopener\">https://github.com/zsxsoft/reGeorg</a></p>","descriptionType":"html","publishedDate":"Sat, 27 Jul 2019 13:03:18 +0000","feedId":39202,"bgimg":"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B1.jpg","linkMd5":"1e32d326f820c3b3ab6d31443477dfac","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn46@2020_2/2020/10/09/16-24-19-924_2d4005de69c60e1d.webp","destWidth":1163,"destHeight":570,"sourceBytes":62124,"destBytes":21838,"author":"","articleImgCdnMap":{"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B1.jpg":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn46@2020_2/2020/10/09/16-24-19-924_2d4005de69c60e1d.webp","https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B2.jpg":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn65@2020_6/2020/10/09/16-24-25-258_625afe40ffe95bf7.webp","https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B3.jpg":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn70@2020_1/2020/10/09/16-24-26-012_f686d70fa819856a.webp","https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B4.jpg":"https://cdn.jsdelivr.net/gh/myreaderx15/cdn73@2020_6/2020/10/09/16-24-30-668_2efaee92cddd7d6e.webp","https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B5.jpg":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn49@2020_3/2020/10/09/16-24-32-637_15f50aaf86e9afc8.webp","https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B6.jpg":"https://cdn.jsdelivr.net/gh/myreaderx33/cdn51@2020_4/2020/10/09/16-24-25-281_6445dd237fae9e42.webp","https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B7.jpg":null,"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B8.jpg":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn62@2020_2/2020/10/09/16-24-25-233_7e9fbec620ba05c9.webp","https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B9.jpg":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn94@2020_3/2020/10/09/16-24-23-400_c88cad11ead0529f.webp","https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B10.jpg":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn78@2020_5/2020/10/09/16-24-28-491_2bf9a1d8ee9b6c0b.webp","https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B11.jpg":"https://cdn.jsdelivr.net/gh/myreaderx23/cdn82@2020_2/2020/10/09/16-24-32-238_348e9b1ad82e3d12.webp","https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B12.jpg":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn86@2020_1/2020/10/09/16-24-25-659_3310ae0d5bdf5bab.webp","https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B13.jpg":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn90@2020_6/2020/10/09/16-24-35-163_d87fa89ec210b618.webp","https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B14.jpg":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn98@2020_2/2020/10/09/16-24-27-705_b74ac57628a4fb58.webp"},"publishedOrCreatedDate":1602260651922}],"record":{"createdTime":"2020-10-10 00:24:11","updatedTime":"2020-10-10 00:24:11","feedId":39202,"fetchDate":"Fri, 09 Oct 2020 16:24:11 +0000","fetchMs":678,"handleMs":1243,"totalMs":31908,"newArticles":0,"totalArticles":20,"status":1,"type":0,"ip":"8f41f8a56dca4331062af167bd7997ff","hostName":"europe-59*","requestId":"e6fa74e27ee34413a537b217d41993d0_39202","contentType":"application/xml","totalBytes":487512,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":14,"articlesImgsGithubTotal":13,"successGithubMap":{"myreaderx7":1,"myreaderx15":1,"myreaderx6":1,"myreaderx32":1,"myreaderx4":1,"myreaderx10":1,"myreaderx3":1,"myreaderx33":1,"myreaderx11":1,"myreaderx23":1,"myreaderx24":1,"myreaderx1":1,"myreaderx18":1},"failGithubMap":{"myreaderx14":1}},"feed":{"createdTime":"2020-09-07 03:16:37","updatedTime":"2020-09-07 03:16:37","id":39202,"name":"K0rz3n's Blog","url":"http://www.k0rz3n.com/atom.xml","subscriber":82,"website":null,"icon":"https://www.k0rz3n.com/favicon.ico","icon_jsdelivr":null,"description":"Shell-is-Only-the-Beginning","weekly":null,"link":"https://www.k0rz3n.com"},"noPictureArticleList":[{"createdTime":"2020-10-10 00:24:41","updatedTime":"2020-10-10 00:24:41","id":null,"feedId":39202,"linkMd5":"1e32d326f820c3b3ab6d31443477dfac"}],"tmpCommonImgCdnBytes":21838,"tmpBodyImgCdnBytes":465674,"tmpBgImgCdnBytes":0,"extra4":{"start":1602260649954,"total":0,"statList":[{"spend":725,"msg":"获取xml内容"},{"spend":1243,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":21071,"msg":"正文链接上传到cdn"}]},"extra5":14,"extra6":14,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B7.jpg","sourceStatusCode":200,"destWidth":1160,"destHeight":460,"sourceBytes":110222,"destBytes":55668,"targetWebpQuality":75,"feedId":39202,"totalSpendMs":4979,"convertSpendMs":69,"createdTime":"2020-10-10 00:24:20","host":"us-039*","referer":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/","linkMd5ListStr":"1e32d326f820c3b3ab6d31443477dfac","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn58/contents/2020/10/09/16-24-25-834_9faf75ac49c8b3bb.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Fri, 09 Oct 2020 16:24:25 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["8338:2BCE:12EFFE:1F9394:5F808EAC"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, read:packages, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1602264118"],"x-ratelimit-used":["60"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn58/contents/2020/10/09/16-24-25-834_9faf75ac49c8b3bb.webp","historyStatusCode":[],"spendMs":71},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"54.4 KB","compressRate":"50.5%","sourceSize":"107.6 KB"},{"code":1,"isDone":false,"source":"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B7.jpg","sourceStatusCode":200,"destWidth":1160,"destHeight":460,"sourceBytes":110222,"destBytes":55668,"targetWebpQuality":75,"feedId":39202,"totalSpendMs":15839,"convertSpendMs":65,"createdTime":"2020-10-10 00:24:25","host":"us-039*","referer":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/","linkMd5ListStr":"1e32d326f820c3b3ab6d31443477dfac","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn58/contents/2020/10/09/16-24-41-756_9faf75ac49c8b3bb.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Fri, 09 Oct 2020 16:24:41 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["8338:2BCE:12F8BE:1FAD7C:5F808EC9"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, read:packages, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1602264118"],"x-ratelimit-used":["60"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn58/contents/2020/10/09/16-24-41-756_9faf75ac49c8b3bb.webp","historyStatusCode":[],"spendMs":62},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"54.4 KB","compressRate":"50.5%","sourceSize":"107.6 KB"}],"extra10_invalidATagHrefValue":{"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/_#0X04-扩展":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#0X04-扩展","https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/_#0X01-整体流程图":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#0X01-整体流程图","https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/_#4-write-部分":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#4-write-部分","https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/_#2-接收浏览器的连接并与远端代理服务器建立-session":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#2-接收浏览器的连接并与远端代理服务器建立-session","https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/_#1-创建与内网服务器的-socket":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#1-创建与内网服务器的-socket","https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/_#4-从本地socks服务器接收数据":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#4-从本地socks服务器接收数据","https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/_#3-将读到的数据返回到-webpage":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#3-将读到的数据返回到-webpage","https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/_#3-read-部分":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#3-read-部分","https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/_#1-reGeorgSocksProxy-py":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#1-reGeorgSocksProxy-py","https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/_#0X02-代码分析":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#0X02-代码分析","https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/_#5-从-session-中获取数据":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#5-从-session-中获取数据","https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/_#0X04-补充":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#0X04-补充","https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/_#2-从内网服务器读取数据":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#2-从内网服务器读取数据","https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/_#0X03-总结":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#0X03-总结","https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/_#2-tunnel-nosocket-php":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#2-tunnel-nosocket-php","https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/_#0X00-前言":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#0X00-前言","https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/_#1-检查远端代理服务器的连通性":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/#1-检查远端代理服务器的连通性"},"extra111_proxyServerAndStatMap":{"http://us-039.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-53.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-007.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe61.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe66.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-015.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe70.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-031.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe62.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-019.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-57.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-003.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-027.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B1.jpg","sourceStatusCode":200,"destWidth":1163,"destHeight":570,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn46@2020_2/2020/10/09/16-24-19-924_2d4005de69c60e1d.webp","sourceBytes":62124,"destBytes":21838,"targetWebpQuality":75,"feedId":39202,"totalSpendMs":8694,"convertSpendMs":29,"createdTime":"2020-10-10 00:24:12","host":"us-011*","referer":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/","linkMd5ListStr":"1e32d326f820c3b3ab6d31443477dfac,1e32d326f820c3b3ab6d31443477dfac","githubUser":"myreaderx18","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"21.3 KB","compressRate":"35.2%","sourceSize":"60.7 KB"},{"code":1,"isDone":false,"source":"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B9.jpg","sourceStatusCode":200,"destWidth":953,"destHeight":533,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn94@2020_3/2020/10/09/16-24-23-400_c88cad11ead0529f.webp","sourceBytes":72359,"destBytes":32754,"targetWebpQuality":75,"feedId":39202,"totalSpendMs":3726,"convertSpendMs":17,"createdTime":"2020-10-10 00:24:20","host":"europe70*","referer":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/","linkMd5ListStr":"1e32d326f820c3b3ab6d31443477dfac","githubUser":"myreaderx24","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"32 KB","compressRate":"45.3%","sourceSize":"70.7 KB"},{"code":1,"isDone":false,"source":"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B8.jpg","sourceStatusCode":200,"destWidth":971,"destHeight":442,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn62@2020_2/2020/10/09/16-24-25-233_7e9fbec620ba05c9.webp","sourceBytes":65635,"destBytes":30056,"targetWebpQuality":75,"feedId":39202,"totalSpendMs":5190,"convertSpendMs":63,"createdTime":"2020-10-10 00:24:20","host":"us-027*","referer":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/","linkMd5ListStr":"1e32d326f820c3b3ab6d31443477dfac","githubUser":"myreaderx4","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"29.4 KB","compressRate":"45.8%","sourceSize":"64.1 KB"},{"code":1,"isDone":false,"source":"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B2.jpg","sourceStatusCode":200,"destWidth":843,"destHeight":889,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn65@2020_6/2020/10/09/16-24-25-258_625afe40ffe95bf7.webp","sourceBytes":112068,"destBytes":54476,"targetWebpQuality":75,"feedId":39202,"totalSpendMs":5278,"convertSpendMs":25,"createdTime":"2020-10-10 00:24:20","host":"us-015*","referer":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/","linkMd5ListStr":"1e32d326f820c3b3ab6d31443477dfac","githubUser":"myreaderx3","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"53.2 KB","compressRate":"48.6%","sourceSize":"109.4 KB"},{"code":1,"isDone":false,"source":"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B12.jpg","sourceStatusCode":200,"destWidth":923,"destHeight":432,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn86@2020_1/2020/10/09/16-24-25-659_3310ae0d5bdf5bab.webp","sourceBytes":76296,"destBytes":35618,"targetWebpQuality":75,"feedId":39202,"totalSpendMs":5612,"convertSpendMs":17,"createdTime":"2020-10-10 00:24:20","host":"us-019*","referer":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/","linkMd5ListStr":"1e32d326f820c3b3ab6d31443477dfac","githubUser":"myreaderx32","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"34.8 KB","compressRate":"46.7%","sourceSize":"74.5 KB"},{"code":1,"isDone":false,"source":"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B6.jpg","sourceStatusCode":200,"destWidth":1080,"destHeight":673,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx33/cdn51@2020_4/2020/10/09/16-24-25-281_6445dd237fae9e42.webp","sourceBytes":121760,"destBytes":59200,"targetWebpQuality":75,"feedId":39202,"totalSpendMs":5740,"convertSpendMs":30,"createdTime":"2020-10-10 00:24:20","host":"europe62*","referer":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/","linkMd5ListStr":"1e32d326f820c3b3ab6d31443477dfac","githubUser":"myreaderx33","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"57.8 KB","compressRate":"48.6%","sourceSize":"118.9 KB"},{"code":1,"isDone":false,"source":"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B3.jpg","sourceStatusCode":200,"destWidth":766,"destHeight":745,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn70@2020_1/2020/10/09/16-24-26-012_f686d70fa819856a.webp","sourceBytes":104066,"destBytes":53756,"targetWebpQuality":75,"feedId":39202,"totalSpendMs":6179,"convertSpendMs":22,"createdTime":"2020-10-10 00:24:20","host":"us-003*","referer":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/","linkMd5ListStr":"1e32d326f820c3b3ab6d31443477dfac","githubUser":"myreaderx7","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"52.5 KB","compressRate":"51.7%","sourceSize":"101.6 KB"},{"code":1,"isDone":false,"source":"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B14.jpg","sourceStatusCode":200,"destWidth":923,"destHeight":74,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn98@2020_2/2020/10/09/16-24-27-705_b74ac57628a4fb58.webp","sourceBytes":8728,"destBytes":4588,"targetWebpQuality":75,"feedId":39202,"totalSpendMs":7764,"convertSpendMs":18,"createdTime":"2020-10-10 00:24:20","host":"europe-57*","referer":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/","linkMd5ListStr":"1e32d326f820c3b3ab6d31443477dfac","githubUser":"myreaderx11","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"4.5 KB","compressRate":"52.6%","sourceSize":"8.5 KB"},{"code":1,"isDone":false,"source":"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B10.jpg","sourceStatusCode":200,"destWidth":858,"destHeight":558,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn78@2020_5/2020/10/09/16-24-28-491_2bf9a1d8ee9b6c0b.webp","sourceBytes":68809,"destBytes":32824,"targetWebpQuality":75,"feedId":39202,"totalSpendMs":8543,"convertSpendMs":172,"createdTime":"2020-10-10 00:24:20","host":"us-53*","referer":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/","linkMd5ListStr":"1e32d326f820c3b3ab6d31443477dfac","githubUser":"myreaderx10","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"32.1 KB","compressRate":"47.7%","sourceSize":"67.2 KB"},{"code":1,"isDone":false,"source":"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B4.jpg","sourceStatusCode":200,"destWidth":993,"destHeight":696,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx15/cdn73@2020_6/2020/10/09/16-24-30-668_2efaee92cddd7d6e.webp","sourceBytes":94887,"destBytes":47680,"targetWebpQuality":75,"feedId":39202,"totalSpendMs":11141,"convertSpendMs":22,"createdTime":"2020-10-10 00:24:20","host":"europe66*","referer":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/","linkMd5ListStr":"1e32d326f820c3b3ab6d31443477dfac","githubUser":"myreaderx15","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"46.6 KB","compressRate":"50.2%","sourceSize":"92.7 KB"},{"code":1,"isDone":false,"source":"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B11.jpg","sourceStatusCode":200,"destWidth":871,"destHeight":191,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx23/cdn82@2020_2/2020/10/09/16-24-32-238_348e9b1ad82e3d12.webp","sourceBytes":32048,"destBytes":15918,"targetWebpQuality":75,"feedId":39202,"totalSpendMs":12421,"convertSpendMs":16,"createdTime":"2020-10-10 00:24:20","host":"us-031*","referer":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/","linkMd5ListStr":"1e32d326f820c3b3ab6d31443477dfac","githubUser":"myreaderx23","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"15.5 KB","compressRate":"49.7%","sourceSize":"31.3 KB"},{"code":1,"isDone":false,"source":"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B5.jpg","sourceStatusCode":200,"destWidth":1477,"destHeight":850,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn49@2020_3/2020/10/09/16-24-32-637_15f50aaf86e9afc8.webp","sourceBytes":172779,"destBytes":84614,"targetWebpQuality":75,"feedId":39202,"totalSpendMs":13205,"convertSpendMs":43,"createdTime":"2020-10-10 00:24:20","host":"europe61*","referer":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/","linkMd5ListStr":"1e32d326f820c3b3ab6d31443477dfac","githubUser":"myreaderx6","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"82.6 KB","compressRate":"49%","sourceSize":"168.7 KB"},{"code":1,"isDone":false,"source":"https://picture-1253331270.cos.ap-beijing.myqcloud.com/reGeorg%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B13.jpg","sourceStatusCode":200,"destWidth":1073,"destHeight":134,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn90@2020_6/2020/10/09/16-24-35-163_d87fa89ec210b618.webp","sourceBytes":17288,"destBytes":14190,"targetWebpQuality":75,"feedId":39202,"totalSpendMs":15085,"convertSpendMs":30,"createdTime":"2020-10-10 00:24:20","host":"us-007*","referer":"https://www.k0rz3n.com/2019/07/27/reGeorg 工作流程分析(以 php 为例)/","linkMd5ListStr":"1e32d326f820c3b3ab6d31443477dfac","githubUser":"myreaderx1","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"13.9 KB","compressRate":"82.1%","sourceSize":"16.9 KB"}],"successGithubMap":{"myreaderx7":1,"myreaderx15":1,"myreaderx6":1,"myreaderx32":1,"myreaderx4":1,"myreaderx10":1,"myreaderx3":1,"myreaderx33":1,"myreaderx11":1,"myreaderx23":1,"myreaderx24":1,"myreaderx1":1,"myreaderx18":1},"failGithubMap":{"myreaderx14":1}}