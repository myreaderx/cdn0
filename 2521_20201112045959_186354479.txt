{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-11-12 12:58:53","updatedTime":"2020-11-12 12:58:53","title":"双 11 的狂欢，干了这碗「流量防控」汤","link":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E5%8F%8C%C2%A011%C2%A0%E7%9A%84%E7%8B%82%E6%AC%A2%EF%BC%8C%E5%B9%B2%E4%BA%86%E8%BF%99%E7%A2%97%E3%80%8C%E6%B5%81%E9%87%8F%E9%98%B2%E6%8E%A7%E3%80%8D%E6%B1%A4","description":"<div><div><div id=\"media\" class=\"rich_media_thumb_wrp\">\n\n            <img class=\"rich_media_thumb\" src=\"http://img.100weidu.com/mmbiz_jpg/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeKmj0lstJOb53Jedv9HbO8zqopvzujam1GeMl2XgNQZgia3iaQicdIN9AQ?imageView2/1/w/600\">\n        </div>\n    \n\n    \n\n    <div class=\"rich_media_content\" id=\"js_content\">\n                    \n\n                    \n\n                    \n                    \n                    <p style=\"text-align: center;\"><span style=\"font-size: 14px;letter-spacing: 0.5440000295639038px;text-align: center;max-width: 100%;color: rgb(255, 41, 65);line-height: 22.4px;\">（给</span><span style=\"font-size: 14px;letter-spacing: 0.5440000295639038px;text-align: center;max-width: 100%;line-height: 22.4px;color: rgb(0, 128, 255);\">ImportNew</span><span style=\"font-size: 14px;letter-spacing: 0.5440000295639038px;text-align: center;max-width: 100%;color: rgb(255, 41, 65);line-height: 22.4px;\">加星标，提高Java技能）</span></p><blockquote><p style=\"letter-spacing: 0.5440000295639038px;white-space: normal;background-color: rgb(255, 255, 255);max-width: 100%;min-height: 1em;text-align: left;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: 14px;box-sizing: border-box !important;overflow-wrap: break-word !important;\">转自：悟空聊架构</span><span style=\"font-size: 14px;\"><br></span></p></blockquote><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">临近双十一，从 2009 年第一届双十一开始，成交量只有 5000 万，到去年 2019 年，成交量达到了 2684 亿。今年迎来了第十二届双十一，想想都挺激动。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><br><span style=\"font-size: 15px;\"></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">阿里人喜欢将双十一视为 Team Building（团队建设），广为流传的一句话：<strong>打仗是最好的团建，没有参加过双十一的叫同事，参加过双十一的叫战友</strong>。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><br><span style=\"font-size: 15px;\"></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;mid=2651490869&amp;idx=1&amp;sn=26a94ee7beedb11af2bebc4f0635ddc0&amp;chksm=bd25e64a8a526f5ce513e05f33e9832f94a337b2c632bff9742fb8385792766cd1ac1e495464&amp;scene=21#wechat_redirect\" textvalue=\"上一篇我通过三国故事讲解了服务雪崩和熔断的机制\" data-itemshowtype=\"11\" tab=\"innerlink\" data-linktype=\"2\"><span style=\"font-size: 15px;\">上一篇我通过三国故事讲解了</span><span style=\"font-size: 15px;\">服务雪崩和熔断的机制</span></a><span style=\"font-size: 15px;\">，而且自己造了一个轮子：熔断器。而这一篇会讲解被一线大厂使用的两款流量防控组件：Sentinel 和 Hystrix，以及对它们的横向对比，以及该如何选型。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><span style=\"font-size: 15px;\">本篇主要内容如下：</span><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p style=\"text-align: center;\"><img class=\"rich_pages js_insertlocalimg\" data-ratio=\"0.3234375\" data-s=\"300,640\" data-type=\"png\" data-w=\"1280\" style=\"max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IegFVsBhKSLAicvjuJb2IspyPibcmCEXxo61qSGqb7pcyvxYmck9Ut2PHA/640?wx_fmt=png\"></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><br></p><h2 data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">1. 熔断 &amp; 降级 &amp; 限流 &amp; 隔离</span></strong></span></h2><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">面对高并发的流量，我们通常会使用四种方式（熔断 &amp; 降级 &amp; 限流 &amp; 隔离）来防止瞬时大流量对系统的冲击。而今天要介绍的这两款流量防卫兵，是专门用在这方面的。下面我先给同学扫个小盲。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br><span style=\"font-size: 15px;\"></span></p><section data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__16\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">1.1 什么是熔断</span></strong></span></section><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><br></p><p style=\"text-align: center;\"><img class=\"rich_pages js_insertlocalimg\" data-ratio=\"0.39232053422370616\" data-s=\"300,640\" data-type=\"png\" data-w=\"1198\" style=\"width: 506px; height: 199px; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4Iedgiatia4wH29UuuqlRicDPcUib7TZ8feOeafia9RdCCX3piaMZxoMXD2jvVQ/640?wx_fmt=png\"></p><p style=\"text-align: center;\"><span style=\"font-size: 12px;color: rgb(136, 136, 136);\">熔断场景图</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><br></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">关键字：<strong>断路保护</strong><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">比如\n A 服务调用 B 服务，由于网络问题或 B 服务宕机了或 B \n服务的处理时间长，导致请求的时间超长。如果在一定时间内多次出现这种情况，就可以直接将 B 断路了（A 不再请求B）。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">而调用 B \n服务的请求直接返回降级数据，不必等待 B 服务的执行。因此 B 服务的问题，不会级联影响到 A 服务。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><br></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">1.2 什么是降级</span></strong></span><span style=\"font-size: 15px;\"></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><br></p><p style=\"text-align: center;\"><img class=\"rich_pages js_insertlocalimg\" data-ratio=\"0.5711645101663586\" data-s=\"300,640\" data-type=\"png\" data-w=\"1082\" style=\"width: 476px; height: 272px; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeMw4PibmicUDkkTDmf7tiavs2AyGJicxbLtEHLTOG6AXvrNe3dJtTj9Bia5Q/640?wx_fmt=png\"></p><p style=\"text-align: center;\"><span style=\"font-size: 12px;color: rgb(136, 136, 136);\">降级场景图</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><br></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">关键字：<strong>返回降级数据</strong><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">网站处于流量高峰期，服务器压力剧增，根据当前业务情况及流量，对一些服务和页面进行有策略的降级（停止服务，所有的调用直接返回降级数据）。以此缓解服务器资源的压力，保证核心业务的正常运行，保持了客户和大部分客户得到正确的响应。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">降级数据可以简单理解为快速返回了一个 false，前端页面告诉用户：“<strong>服务器当前正忙，请稍后再试</strong>”。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><br></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">1.3 什么是限流</span></strong></span><br></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><br></p><p style=\"text-align: center;\"><img class=\"rich_pages js_insertlocalimg\" data-ratio=\"0.36171875\" data-s=\"300,640\" data-type=\"png\" data-w=\"1280\" style=\"max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeNdvHplUDunAuhOnNd3UzW3RU1yApEJicr0Sh359T2V06Sz05kfuyGSw/640?wx_fmt=png\"></p><p style=\"text-align: center;\"><span style=\"font-size: 12px;color: rgb(136, 136, 136);\">限流场景图</span></p><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__24\"><br></p><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__24\"><span style=\"font-size: 15px;\">对请求的流量进行控制， 只放行部分请求，使服务能够承担不超过自己能力的流量压力。<br></span></p><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__27\"><br></p><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__27\"><strong><span style=\"font-size: 15px;\">熔断和降级的相同点</span></strong><span style=\"font-size: 15px;\"><br></span></p><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__27\"><span style=\"font-size: 15px;\"><br></span></p><ul style=\"list-style-type: disc;\" class=\"list-paddingleft-2\"><li><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__27\"><span style=\"font-size: 15px;\">熔断和限流都是为了保证集群大部分服务的可用性和可靠性，防止核心服务崩溃；</span><span style=\"font-size: 15px;\"><br></span></p></li><li><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__27\"><span style=\"font-size: 15px;\">给终端用户的感受就是某个功能不可用。<br></span></p></li></ul><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__34\"><br></p><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__34\"><strong><span style=\"font-size: 15px;\">熔断和降级的不同点</span></strong><span style=\"font-size: 15px;\"><br></span></p><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__34\"><span style=\"font-size: 15px;\"><br></span></p><ul style=\"list-style-type: disc;\" class=\"list-paddingleft-2\"><li><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__34\"><span style=\"font-size: 15px;\">熔断是被调用方出现了故障，主动触发的操作；</span><span style=\"font-size: 15px;\"><br></span></p></li><li><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__34\"><span style=\"font-size: 15px;\">降级是基于全局考虑，停止某些正常服务，释放资源。<br></span></p></li></ul><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__39\"><br></p><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__39\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">1.4 什么是隔离</span></strong></span><span style=\"font-size: 15px;\"><br></span></p><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__39\"><span style=\"font-size: 15px;\"><br></span></p><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__39\"><span style=\"font-size: 15px;\">每个服务看作一个独立运行的系统，即使某一个系统有问题，也不会影响其他服务。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><br></p><h2 data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">2. Hystrix</span></strong></span></h2><h3 data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br><span style=\"font-size: 15px;\"></span></h3><h3 data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">2.1 Hystrix 是什么</span></strong></span></h3><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">Hystrix 是一个高可用性保障框架，由 Netflix 出品（Netflix可以理解为国内的爱奇艺等视频网站）。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br><span style=\"font-size: 15px;\"></span></p><h3 data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">2.2 Hystrix 的历史</span></strong></span></h3><p><br></p><ul data-tool=\"mdnice编辑器\" style=\"text-align: left;\" class=\"list-paddingleft-2\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__43\"><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__44\"><span style=\"font-size: 15px;\">2011 年，其中的 API 团队为了提升系统的可用性和稳定性，发展出了 Hystrix 框架；</span></p></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__45\"><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__46\"><span style=\"font-size: 15px;\">2012 年，Hystrix 区域比较成熟稳定。其他团队也开始使用 Hystrix；</span></p></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__47\"><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__48\"><span style=\"font-size: 15px;\">2018 年 11 月，Hystrix在其 Github 主页宣布，不再开放新功能，推荐开发者使用其他仍然活跃的开源项目。但是 Hystrix 价值依旧很大，功能强大，国内很多一线互联网公司在使用。</span></p></section></li></ul><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><br></p><h3 data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">2.2 Hystrix 设计理念</span></strong></span></h3><p><br></p><ul data-tool=\"mdnice编辑器\" style=\"text-align: left;\" class=\"list-paddingleft-2\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__49\"><span style=\"font-size: 15px;\">阻止服务的雪崩效应；</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__50\"><span style=\"font-size: 15px;\">快速失败和快速恢复；</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__51\"><span style=\"font-size: 15px;\">优雅降级；</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__52\"><span style=\"font-size: 15px;\">使用资源隔离技术，如 bulkhead（舱壁隔离技术）、swimlane（泳道技术）、circuit breaker（断路技术）；</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__53\"><span style=\"font-size: 15px;\">近实时的监控、报警及运维操作。</span></section></li></ul><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><br></p><h3 data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">2.3 Hystrix 线程池隔离技术</span></strong></span></h3><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">使用线程池隔离：<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">比如说有 3 个服务 A、B、C，每个服务的线程池分配 10、20、30 个线程。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">当 A 服务线程池中的 10 个线程都拿出来使用后，如果调用服务 A 的请求量增加，还想再增加线程是不行的，因为 A 服务分配的线程已经用完了，不会拿其他的服务的线程。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">这样就不会影响其他服务了。Hystrix 默认使用线程池隔离模式。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><br></p><p style=\"text-align: center;\"><img class=\"rich_pages js_insertlocalimg\" data-ratio=\"0.56171875\" data-s=\"300,640\" data-type=\"png\" data-w=\"1280\" style=\"max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeSxtyXR4oDmqFPIZAZ2f28y29Zjlx4eCkh1L6nEaAAy3ptqNsvMl3OA/640?wx_fmt=png\"></p><p style=\"text-align: center;\"><span style=\"font-size: 12px;color: rgb(136, 136, 136);\">线程池隔离技术</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><br><span style=\"font-size: 15px;\"></span><span style=\"font-size: 15px;\"></span></p><h4 data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><strong><span style=\"font-size: 15px;\">线程池隔离技术优点</span></strong></h4><p><br></p><ul data-tool=\"mdnice编辑器\" style=\"text-align: left;\" class=\"list-paddingleft-2\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__54\"><span style=\"font-size: 15px;\">依赖的服务都有隔离的线程池，即使自己的线程池满了，也不会影响任何其他其他的服务调用；</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__55\"><span style=\"font-size: 15px;\">线程池的健康状态会上报，可以近实时修改依赖服务的调用配置；</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__56\"><span style=\"font-size: 15px;\">线程池具有异步特性，可以构建一层异步调用层；</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__57\"><span style=\"font-size: 15px;\">具有超时检测的机制，尤其在服务间调用特别有用。</span></section></li></ul><h4 data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br><span style=\"font-size: 15px;\"></span></h4><h4 data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><strong><span style=\"font-size: 15px;\">线程池隔离技术缺点</span></strong></h4><p><br></p><ul data-tool=\"mdnice编辑器\" style=\"text-align: left;\" class=\"list-paddingleft-2\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__58\"><span style=\"font-size: 15px;\">线程池本身就会带来一些问题，比如线程切换、线程管理，无疑增加了 CPU 的开销；</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__59\"><span style=\"font-size: 15px;\">如果线程池中的线程利用率很低，则无疑是一种浪费。</span></section></li></ul><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__59\"><span style=\"font-size: 15px;\"><br></span></section><h3 data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">2.4 Hystrix 信号量隔离技术</span></strong></span></h3><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">如下图所示：简单来说就是一个池子里面放着一定数量的信号量。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">服务 A 每次调用服务 B 之前，需要从池子里面申请信号量，申请成功才能去调用 B 服务。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br></p><p style=\"text-align: center;\"><img class=\"rich_pages js_insertlocalimg\" data-ratio=\"0.7806563039723662\" data-s=\"300,640\" data-type=\"png\" data-w=\"1158\" style=\"width: 479px; height: 374px; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeD2dMz9bkaVtLjpicdo6IT0RicU4Y8BR5aDosuiaPfVVKf40A4ylROIjIw/640?wx_fmt=png\"></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"></span></p><figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;display: flex;flex-direction: column;justify-content: center;align-items: center;padding: 0px 0.5em;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><figcaption style=\"text-align: center;\" data-darkmode-color-16047339993967=\"rgb(136, 136, 136)\" data-darkmode-original-color-16047339993967=\"rgb(136, 136, 136)\"><span style=\"font-size: 12px;color: rgb(136, 136, 136);\">获取信号量</span></figcaption></figure><h4 data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><strong><span style=\"font-size: 15px;\">线程池隔离和信号量的场景对比</span></strong></h4><p><br></p><ul data-tool=\"mdnice编辑器\" style=\"text-align: left;\" class=\"list-paddingleft-2\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__60\"><span style=\"font-size: 15px;\">线程池隔离技术：适合大部分场景，但需要设置服务的超时时间；</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__62\"><span style=\"font-size: 15px;\">信号量隔离技术：适合内部比较复杂的业务，不涉及网络请求问题。</span></section></li></ul><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047332304224=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047332304224=\"rgb(0,0,0)\"><br></p><h2 data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">3. Sentinel</span></strong></span></h2><h3 data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br><span style=\"font-size: 15px;\"></span></h3><h3 data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">3.1 Sentinel 是什么</span></strong></span></h3><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">Sentinel 是一个面向分布式服务架构的流量控制组件。主要以流量为切入点，从限流、流量整形、熔断降级、系统负载保护、热点防护等多个维度来帮助开发者保障微服务的稳定性。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br><span style=\"font-size: 15px;\"></span></p><h3 data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">3.2 Sentinel 的历史</span></strong></span></h3><p><br></p><ul data-tool=\"mdnice编辑器\" style=\"text-align: left;\" class=\"list-paddingleft-2\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__65\"><span style=\"font-size: 15px;\">2012 年，Sentinel 诞生，主要功能为入口流量控制；</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__66\"><span style=\"font-size: 15px;\">2013 ～ 2017 年，Sentinel 在阿里巴巴集团内部迅速发展，成为基础技术模块，覆盖了所有的核心场景。Sentinel 也因此积累了大量的流量归整场景以及生产实践；</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__67\"><span style=\"font-size: 15px;\">2018 年，Sentinel 开源，并持续演进；</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__68\"><span style=\"font-size: 15px;\">2019 年，Sentinel 朝着多语言扩展的方向不断探索，推出 C++ 原生版本。同时针对 Service Mesh 场景也推出了 Envoy 集群流量控制支持，以解决 Service Mesh 架构下多语言限流的问题；</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__69\"><span style=\"font-size: 15px;\">2020 年，推出 Sentinel Go 版本，继续朝着云原生方向演进。</span></section></li></ul><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__69\"><br></section><h3 data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">3.3 Sentinel 的特点</span></strong></span></h3><p><br></p><ul data-tool=\"mdnice编辑器\" style=\"text-align: left;\" class=\"list-paddingleft-2\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__70\"><span style=\"font-size: 15px;\">丰富的应用场景。支撑阿里的双十一核心场景，如秒杀、消息削峰填谷、集群流量控制、实时熔断下游不可用;</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__72\"><span style=\"font-size: 15px;\">完备的实时监控。可以看到接入应用的单台机器秒级数据，以及集群的汇总情况;</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__74\"><span style=\"font-size: 15px;\">广泛的开源生态。Spring Cloud、Dubbo、gRPC 都可以接入 Sentinel;</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__76\"><span style=\"font-size: 15px;\">完善的 SPI 扩展点。实现扩展接口来快速定制逻辑。</span></section></li></ul><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__76\"><span style=\"font-size: 15px;\"><br></span></section><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">用一张图来总结：<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p style=\"text-align: center;\"><img class=\"rich_pages js_insertlocalimg\" data-ratio=\"0.47109375\" data-s=\"300,640\" data-type=\"png\" data-w=\"1280\" style=\"max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeQgj3snXUtmEJbnBLDHN2CibibZ4Ss5fEzczFhF3Xjpc84t9pKNSPiawwA/640?wx_fmt=png\"><span style=\"text-align: center;\"></span></p><figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;display: flex;flex-direction: column;justify-content: center;align-items: center;padding: 0px 0.5em;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"text-align: center;\"><figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;display: flex;flex-direction: column;justify-content: center;align-items: center;padding: 0px 0.5em;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 12px;color: rgb(136, 136, 136);\">Sentilel 的主要特性</span></figure></span></figure><h3 data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">3.4 Sentinel 的组成</span></strong></span></h3><p><br></p><ul data-tool=\"mdnice编辑器\" style=\"text-align: left;\" class=\"list-paddingleft-2\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__78\"><span style=\"font-size: 15px;\">核心库（Java 客户端）不依赖任何框架/库，能在所有的 Java 运行时环境运行，且对 Spring Cloud、Dubbo 等框架有较好的支持；</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__79\"><span style=\"font-size: 15px;\">控制台（Dashboard）基于 Spring Boot 开发，打包后可以直接运行，不需要额外的 Tomcat 等应用容器。</span></section></li></ul><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__79\"><br></section><h3 data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">3.5 Sentinel 的资源</span></strong></span></h3><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">Sentinel 中的资源是核心概念，可以是 Java 应用程序中的任何内容，可以是提供的服务，甚至是一段代码。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br><span style=\"font-size: 15px;\"></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">可以通过 Sentinel API 定义的代码，就是资源，能够被 Sentinel保护起来。可以如下几种方式来标识资源：<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br><span style=\"font-size: 15px;\"></span></p><ul data-tool=\"mdnice编辑器\" style=\"text-align: left;\" class=\"list-paddingleft-2\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__80\"><span style=\"font-size: 15px;\">方法签名</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__81\"><span style=\"font-size: 15px;\">URL</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__82\"><span style=\"font-size: 15px;\">服务名称等</span></section></li></ul><h3 data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br><span style=\"font-size: 15px;\"></span></h3><h3 data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">3.6 Sentinel 的设计理念</span></strong></span></h3><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">Sentinel 作为一个流量控制器，可以根据需要把随机的请求调整成合适的形状。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">如下图所示：<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br></p><p style=\"text-align: center;\"><img class=\"rich_pages js_insertlocalimg\" data-ratio=\"0.534375\" data-s=\"300,640\" data-type=\"png\" data-w=\"1280\" style=\"max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeFYIoPhIZYbv1bxic52Youeibs35IsbvL35WUWuRhvyKyk176V6jrUO3Q/640?wx_fmt=png\"></p><figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;display: flex;flex-direction: column;justify-content: center;align-items: center;padding: 0px 0.5em;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><figcaption style=\"margin-top: 5px;text-align: center;color: #888;font-size: 14px;\" data-darkmode-color-16047339993967=\"rgb(136, 136, 136)\" data-darkmode-original-color-16047339993967=\"rgb(136, 136, 136)\"><span style=\"font-size: 12px;color: rgb(136, 136, 136);\">流量整形</span></figcaption></figure><h2 data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">4. 对比</span></strong></span></h2><p><br></p><h3 data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">4.1 隔离设计上对比</span></strong></span></h3><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__84\"><span style=\"font-size: 15px;\"><br><strong>Hystrix</strong></span></section><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">Hystrix 提供两种隔离策略，线程池隔离和信号量隔离。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">Hystrix 中最推荐的也是最常用的是线程池隔离。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><ul style=\"list-style-type: disc;\" class=\"list-paddingleft-2\"><li><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">线程池隔离的好处是隔离度很高，不会影响其他资源；<br></span></p></li><li><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">但是线程本身也有自己的问题：线程上下文切换时比较耗 CPU 资源的。<br></span></p></li></ul><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">如果对低延时要求比较高，<strong>影响还是挺大的</strong>。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">而且创建线程是需要分配内存的，创建的线程越多，需要分配的内存也会更多。而且如果对每个资源都创建一个线程池，那线程切换会带来更大的损耗。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br><span style=\"font-size: 15px;\"></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">而 Hystrix 的信号量隔离，可以对某个资源调用的并发数进行限制。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><ul style=\"list-style-type: disc;\" class=\"list-paddingleft-2\"><li><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">这种限制是轻量级的，不用显式创建线程池；<br></span></p></li><li><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">缺点是不能对慢调用进行自动降级，只能等客户端那边超时，还是有可能出现级联阻塞的情形。<br></span></p></li></ul><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br><span style=\"font-size: 15px;\"></span></p><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__85\"><strong><span style=\"font-size: 15px;\">Sentinel</span></strong><span style=\"font-size: 15px;\"><br><br></span></section><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">Sentinel 可以通过并发线程数模式的流量控制来提供信号量隔离的功能，而且它还具备响应时间的熔断降级模式，防止过多的慢调用占满并发数而影响整个系统。</span></p><h3 data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">4.2 熔断降级的对比</span></strong></span></h3><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">Sentinel 和 Hystrix 都是基于<strong>熔断器模式</strong>，都支持基于<strong>异常比率</strong>来进行熔断。但 Sentinel <strong>更强大</strong>，可以基于响应时间、异常比率和异常数来进行熔断降级。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br><span style=\"font-size: 15px;\"></span></p><h3 data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">4.3 实时统计的对比</span></strong></span></h3><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">Sentinel 和 Hystrix 都是基于<strong>滑动窗口</strong>进行实时统计。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">但 Hystrix 是基于 RxJava 的<strong>事件驱动模型</strong>。在服务调用成功、失败、超时的时候发布响应的事件。通过一系列的变换和聚合最终得到实时的指标统计数据流，可以被熔断器或 Dashboard 消费。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">而 Sentinel 是基于 <strong>LeapArray</strong> 的滑动窗口。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br><span style=\"font-size: 15px;\"></span></p><h2 data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">5. Sentinel 的突出特性</span></strong></span></h2><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">除了上面提到的 三大对比外，Sentinel 还有一些 Hystrix 不具备的功能。</span></p><h3 data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br><span style=\"font-size: 15px;\"></span></h3><h3 data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">5.1 流量控制</span></strong></span></h3><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">流量控制的原理是监控应用流量的 QPS 或并发线程数等指标，当达到指定的阈值时对流量进行控制。避免被瞬时的流量高峰冲垮，从而保障应用的高可用性。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br><span style=\"font-size: 15px;\"></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">Sentinel 可以基于 QPS 或并发数进行流量控制，也可以基于调用关系进行流量控制。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br><span style=\"font-size: 15px;\"></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">基于 QPS 进行流量控制有以下几种方式：<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br><span style=\"font-size: 15px;\"></span></p><ul style=\"list-style-type: disc;\" class=\"list-paddingleft-2\"><li><p><strong><span style=\"font-size: 15px;\">直接拒绝</span></strong><span style=\"font-size: 15px;\">：当 QPS  超过一定阈值时，直接拒绝。适用于对系统处理能力确切已知的情况；</span></p></li><li><p><strong><span style=\"font-size: 15px;\">慢启动预热</span></strong><span style=\"font-size: 15px;\">：系统长期处于低水位，当流量突然增加时，直接把系统拉升到高水位可能瞬间把系统压垮。通过\"冷启动\"，让通过的流量缓慢增加，在一定时间内逐渐增加到阈值上限，给冷系统一个预热的时间，避免冷系统被压垮；</span></p></li></ul><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__89\"><br></section><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__91\"><br></section><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__91\"><br></section><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: center;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><img class=\"rich_pages js_insertlocalimg\" data-ratio=\"0.8647686832740213\" data-s=\"300,640\" data-type=\"png\" data-w=\"1124\" style=\"width: 501px; height: 433px; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4Ie9qCDvvUx2j08UN0gjkyMmLxrMoxAmEunAS2lmFb0OezVicu7wBDrVpA/640?wx_fmt=png\"></p><figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;display: flex;flex-direction: column;justify-content: center;align-items: center;padding: 0px 0.5em;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"></figure><figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;display: flex;flex-direction: column;justify-content: center;align-items: center;padding: 0px 0.5em;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 12px;color: rgb(136, 136, 136);\">慢启动预热模式原理图</span></figure><ul style=\"list-style-type: disc;\" class=\"list-paddingleft-2\"><li><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">匀速排队：请求以均匀的速度通过，对应的是漏桶算法。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br></p></li></ul><p style=\"text-align: center;\"><img class=\"rich_pages js_insertlocalimg\" data-ratio=\"0.35625\" data-s=\"300,640\" data-type=\"png\" data-w=\"1280\" style=\"width: 503px; height: 179px; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IepufZCrReMTV892KAZ9MnE1uMpmGqF6Wf6B3jJ7HIqQiceSYiafM1ZxCA/640?wx_fmt=png\"></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"></span></p><figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;display: flex;flex-direction: column;justify-content: center;align-items: center;padding: 0px 0.5em;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><figcaption style=\"font-size: 12px;color: rgb(136, 136, 136);\" data-darkmode-color-16047339993967=\"rgb(136, 136, 136)\" data-darkmode-original-color-16047339993967=\"rgb(136, 136, 136)\"><figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px;margin-bottom: 10px;display: flex;flex-direction: column;justify-content: center;align-items: center;padding: 0px 0.5em;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\">匀速排队模式原理图</figure></figcaption></figure><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><strong><span style=\"font-size: 15px;\">基于调用关系的流量控制：</span></strong><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br><span style=\"font-size: 15px;\"></span></p><ul data-tool=\"mdnice编辑器\" style=\"text-align: left;\" class=\"list-paddingleft-2\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__95\"><span style=\"font-size: 15px;\">根据调用方限流；</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__96\"><span style=\"font-size: 15px;\">根据调用链路入口限流：链路限流；</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__97\"><span style=\"font-size: 15px;\">根据具有关系的资源流量限流：关联流量限流。</span></section></li></ul><section style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\" data-style=\"margin-top: 5px; margin-bottom: 5px; line-height: 26px; color: rgb(1, 1, 1);\" class=\"js_darkmode__98\"><br data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(1, 1, 1)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">5.2 系统自适应限流</span></strong></span></section><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">Sentinel 系统自适应限流从<strong>整体维度</strong>对应用入口流量进行控制。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><ul style=\"list-style-type: disc;\" class=\"list-paddingleft-2\"><li><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">借助 TCP BBR 思想；<br></span></p></li><li><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">结合应用的负载、CPU 使用率、总体平均 RT、入口 QPS 和并发线程数等几个维度的监控指标；<br></span></p></li><li><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">通过自适应的流控策略。<br></span></p></li></ul><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">让系统的入口流量和系统的负载达到一个平衡，让系统尽可能跑在最大吞吐量的同时保证系统整体的稳定性。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><img class=\"rich_pages js_insertlocalimg\" data-ratio=\"0.15390625\" data-s=\"300,640\" data-type=\"png\" data-w=\"1280\" style=\"max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeD8ibxGVeQKpVJVianT4wGMdV6KNSJUEdoxtJqXoUqjicetM0hgUOJseNg/640?wx_fmt=png\"><br></p><figure data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><figcaption data-darkmode-color-16047339993967=\"rgb(136, 136, 136)\" data-darkmode-original-color-16047339993967=\"rgb(136, 136, 136)\"><figure data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><figure data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"></figure><figure data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" style=\"text-align: center;\"><span style=\"font-size: 12px;color: rgb(136, 136, 136);\">自适应限流原理图</span></figure><figure data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"></figure></figure><figure data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"></figure></figcaption></figure><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">我们把系统处理请求的过程想象为一个水管，到来的请求是往这个水管灌水。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><ul style=\"list-style-type: disc;\" class=\"list-paddingleft-2\"><li><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">当系统处理顺畅的时候，请求不需要排队，直接从水管中穿过，这个请求的RT是最短的；<br></span></p></li><li><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">反之，当请求堆积的时候，那么处理请求的时间则会变为：<strong>排队时间 + 最短处理时间</strong>。<br></span></p></li></ul><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__101\"><br></p><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__101\"><strong><span style=\"font-size: 15px;\">推论1</span></strong><span style=\"font-size: 15px;\"><br></span></p><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__101\"><span style=\"font-size: 15px;\"><br></span></p><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__101\"><span style=\"font-size: 15px;\">如果我们能够保证水管里的水量，能够让水顺畅的流动，则不会增加排队的请求。也就是说，这个时候的系统负载不会进一步恶化。<br></span></p><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__103\"><br></p><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__103\"><strong><span style=\"font-size: 15px;\">推论2</span></strong><span style=\"font-size: 15px;\"><br></span></p><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__103\"><span style=\"font-size: 15px;\"><br></span></p><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__103\"><span style=\"font-size: 15px;\">当保持入口的流量是水管出来的流量的最大的值的时候，可以最大利用水管的处理能力。<br></span></p><p style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" data-style=\"padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black;\" class=\"js_darkmode__103\"><br><span style=\"font-size: 15px;\"></span></p><h3 data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">5.3 实时监控和控制面板</span></strong></span></h3><p><br></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">Sentinel 提供一个轻量级的开源控制台，它提供机器发现以及健康情况管理、监控（单机和集群），规则管理和推送的功能。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br></p><p style=\"text-align: center;\"><img class=\"rich_pages js_insertlocalimg\" data-ratio=\"0.484375\" data-s=\"300,640\" data-type=\"png\" data-w=\"1280\" style=\"max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IexfwTp7ABy0hZVUtcibQ0II4gJMh6LoTHO43LRQibsvEtLiaSyhibQlCrRw/640?wx_fmt=png\"></p><figure data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><figcaption data-darkmode-color-16047339993967=\"rgb(136, 136, 136)\" data-darkmode-original-color-16047339993967=\"rgb(136, 136, 136)\"><figure data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><figure data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><figure data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" style=\"text-align: center;\"><span style=\"font-size: 12px;color: rgb(136, 136, 136);\">Sentinel 控制台</span></figure></figure></figure></figcaption></figure><h3 data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\"></span></strong></span></h3><h3 data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">5.4 发展及生态</span></strong></span></h3><p><br></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">Sentinel 针对 Spring Cloud、Dubbo、gRPC 都进行了适配，引入依赖和简单的配置即可快速接入 Sentinel。<br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"font-size: 15px;\">相信 Sentinel 将是未来流量防控的一大利器。我比较看好 Sentinel。</span></p><h3 data-tool=\"mdnice编辑器\" style=\"text-align: left;\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><br><span style=\"font-size: 15px;\"></span></h3><h3 data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">5.5 Sentinel 和 Hystrix 对比总结</span></strong></span></h3><p><br></p><p style=\"margin-top: 5px;\"><img class=\"rich_pages js_insertlocalimg\" data-ratio=\"0.415625\" data-s=\"300,640\" data-type=\"png\" data-w=\"1280\" style=\"max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeTVkqaqS1Uo7eJgOMbexdWg0ENJTO0V922CWLybicvZRUtQuk21hpv4w/640?wx_fmt=png\"></p><figure data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><figcaption data-darkmode-color-16047339993967=\"rgb(136, 136, 136)\" data-darkmode-original-color-16047339993967=\"rgb(136, 136, 136)\"><figure data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><figure data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><figure data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\"><figure data-tool=\"mdnice编辑器\" data-darkmode-color-16047339993967=\"rgb(163, 163, 163)\" data-darkmode-original-color-16047339993967=\"rgb(0,0,0)\" style=\"text-align: center;\"><span style=\"color: rgb(136, 136, 136);font-size: 12px;\">Hystix 和 Sentinel 对比总结</span><br></figure></figure></figure></figure></figcaption></figure><p><span style=\"font-size: 15px;text-align: left;\"></span></p><section donone=\"shifuMouseDownCard('shifu_c_030')\" label=\"Copyright Reserved by PLAYHUDONG.\" style=\"text-align: start;white-space: normal;margin-top: 1em;margin-bottom: 1em;caret-color: rgb(0, 0, 0);color: rgb(0, 0, 0);border-color: currentcolor;border-style: none;border-width: 0px;\"><section style=\"margin-left: 1em;line-height: 1.4;\"><span style=\"padding: 3px 8px;border-top-left-radius: 4px;border-top-right-radius: 4px;border-bottom-right-radius: 4px;border-bottom-left-radius: 4px;color: rgb(255, 255, 255);background-color: rgb(255, 105, 31);font-family: inherit;text-align: inherit;text-decoration: inherit;font-size: 16px;\">推荐阅读</span>  <span style=\"margin-left: 4px;padding: 3px 8px;border-top-left-radius: 1.2em;border-top-right-radius: 1.2em;border-bottom-right-radius: 1.2em;border-bottom-left-radius: 1.2em;color: rgb(255, 255, 255);line-height: 1.2;background-color: rgb(204, 204, 204);font-family: inherit;text-align: inherit;text-decoration: inherit;border-color: rgb(249, 110, 87);font-size: 12px;\">点击标题可跳转</span></section><section style=\"margin-top: -11px;padding: 22px 16px 16px;border-color: rgb(255, 105, 31);border-style: solid;border-width: 1px;color: rgb(51, 51, 51);font-size: 1em;font-family: inherit;text-align: inherit;text-decoration: inherit;\"><a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;mid=2651485115&amp;idx=1&amp;sn=af350019daf36c1fc076e0ef1349422a&amp;chksm=bd251fc48a5296d269a709e02eecd44fb7a5ca10eb9b20b67b12e5461b02e329e40070eff908&amp;scene=21#wechat_redirect\" data-itemshowtype=\"11\" tab=\"innerlink\" style=\"font-size: 12px;text-decoration: underline;\" data-linktype=\"2\"><span style=\"font-size: 12px;\">轻拢慢捻，微服务熔断大总管</span></a><br><a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;mid=2651478797&amp;idx=3&amp;sn=bbbb028674d1c0fecb247dfe7a5b5688&amp;chksm=bd2537728a52be64a9bcb22e0e355087c4c8c62477423dabd543ce060fd92c1a45a5ae637da3&amp;scene=21#wechat_redirect\" data-itemshowtype=\"0\" tab=\"innerlink\" style=\"font-size: 12px;text-decoration: underline;\" data-linktype=\"2\"><span style=\"font-size: 12px;\">使用 Hystrix 实现自动降级与依赖隔离</span></a><br><a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;mid=2651481397&amp;idx=1&amp;sn=052619f7ddb547fc0307d3da901ed4c5&amp;chksm=bd25094a8a52805c9ff268b50b889aa40a8315b012158b78ed88acd364a537221e6c94762603&amp;scene=21#wechat_redirect\" data-itemshowtype=\"0\" tab=\"innerlink\" style=\"font-size: 12px;text-decoration: underline;\" data-linktype=\"2\"><span style=\"font-size: 12px;\">深入 Spring Boot : 快速集成 Dubbo + Hystrix</span></a><br></section></section><p style=\"caret-color: rgb(0, 0, 0);color: rgb(0, 0, 0);text-align: start;white-space: normal;\"><br></p><p style=\"white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);text-align: center;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"max-width: 100%;font-size: 14px;color: rgb(255, 169, 0);box-sizing: border-box !important;overflow-wrap: break-word !important;\">看完本文有收获？请转发分享给更多人</span></p><p style=\"white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);text-align: center;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><strong style=\"max-width: 100%;color: rgb(255, 169, 0);box-sizing: border-box !important;overflow-wrap: break-word !important;\">关注「ImportNew」，提升Java技能</strong></p><p style=\"white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);text-align: center;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><img data-ratio=\"0.9166666666666666\" data-s=\"300,640\" data-type=\"jpeg\" data-w=\"600\" style=\"box-sizing: border-box !important; overflow-wrap: break-word !important; visibility: visible !important; width: 600px !important; max-width: 600px\" width=\"auto\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/2A8tXicCG8ylbWIGfdoDED35IRRySQZTXUkJ1eop9MHApzFibKnOo0diboXpl0rmS5mH78YJhsWQv0dhv718A6kUA/640?wx_fmt=jpeg\"></p><p style=\"text-align: right;\"><span style=\"font-size: 14px;text-align: right;\">好文章，我</span><span style=\"font-size: 14px;text-align: right;color: rgb(255, 41, 65);\">在看</span><span style=\"font-size: 14px;text-align: right;\">❤️</span></p><p><br></p>\n                </div>\n\n    \n    <br>\n\n    \n        <a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;mid=2651491030&amp;idx=1&amp;sn=602267dca6149c393cd1c866a8dfc8c8&amp;chksm=bd25e6a98a526fbffb2932f0825850b97e769fb4cb2ab0893e72aeb8997700de79450cff1225&amp;scene=0#rd\" style=\"color: blue\" class=\"media_tool_meta meta_primary\">原文</a>\n        <br>\n    \n\n    \n\n    <img alt=\"\" width=\"1px\" height=\"1px\" class=\"\" style=\"width:1px;height:1px;display:none\" src=\"http://www.jintiankansha.me/rss_static/11757/zvAH4BnKOY\"></div></div>","descriptionType":"html","publishedDate":"Tue, 10 Nov 2020 03:30:00 +0000","feedId":2521,"bgimg":"http://img.100weidu.com/mmbiz_jpg/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeKmj0lstJOb53Jedv9HbO8zqopvzujam1GeMl2XgNQZgia3iaQicdIN9AQ?imageView2/1/w/600","linkMd5":"0206c328af3f38e7457d9a4ea70821b6","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn12@2020_1/2020/11/12/04-58-55-221_271f2650ba1c306e.webp","destWidth":500,"destHeight":213,"sourceBytes":15485,"destBytes":13174,"author":"","articleImgCdnMap":{"http://img.100weidu.com/mmbiz_jpg/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeKmj0lstJOb53Jedv9HbO8zqopvzujam1GeMl2XgNQZgia3iaQicdIN9AQ?imageView2/1/w/600":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn12@2020_1/2020/11/12/04-58-55-221_271f2650ba1c306e.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IegFVsBhKSLAicvjuJb2IspyPibcmCEXxo61qSGqb7pcyvxYmck9Ut2PHA/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn27@2020_4/2020/11/12/04-58-59-022_ea3300d2f1682add.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4Iedgiatia4wH29UuuqlRicDPcUib7TZ8feOeafia9RdCCX3piaMZxoMXD2jvVQ/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn64@2020_2/2020/11/12/04-59-04-949_5864d8aaad643a41.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeMw4PibmicUDkkTDmf7tiavs2AyGJicxbLtEHLTOG6AXvrNe3dJtTj9Bia5Q/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn15@2020_5/2020/11/12/04-59-11-462_e65eb093d315530a.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeNdvHplUDunAuhOnNd3UzW3RU1yApEJicr0Sh359T2V06Sz05kfuyGSw/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn47@2020_4/2020/11/12/04-58-58-052_f0ae88b0b79370b8.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeSxtyXR4oDmqFPIZAZ2f28y29Zjlx4eCkh1L6nEaAAy3ptqNsvMl3OA/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn56@2020_6/2020/11/12/04-59-14-808_9cd95c2e88711f64.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeD2dMz9bkaVtLjpicdo6IT0RicU4Y8BR5aDosuiaPfVVKf40A4ylROIjIw/640?wx_fmt=png":null,"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeQgj3snXUtmEJbnBLDHN2CibibZ4Ss5fEzczFhF3Xjpc84t9pKNSPiawwA/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn52@2020_6/2020/11/12/04-59-07-204_7eb9d767fa3d2bb8.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeFYIoPhIZYbv1bxic52Youeibs35IsbvL35WUWuRhvyKyk176V6jrUO3Q/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn65@2020_1/2020/11/12/04-59-10-038_868332f8f50dfb96.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4Ie9qCDvvUx2j08UN0gjkyMmLxrMoxAmEunAS2lmFb0OezVicu7wBDrVpA/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn44@2020_4/2020/11/12/04-59-11-443_5e72b59d0cbac8a5.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IepufZCrReMTV892KAZ9MnE1uMpmGqF6Wf6B3jJ7HIqQiceSYiafM1ZxCA/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn70@2020_6/2020/11/12/04-59-07-847_68b4acb3be2339e9.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeD8ibxGVeQKpVJVianT4wGMdV6KNSJUEdoxtJqXoUqjicetM0hgUOJseNg/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn24@2020_6/2020/11/12/04-59-11-475_e77774f07a76d236.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IexfwTp7ABy0hZVUtcibQ0II4gJMh6LoTHO43LRQibsvEtLiaSyhibQlCrRw/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn39@2020_5/2020/11/12/04-59-00-316_f77a204998570a1d.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeTVkqaqS1Uo7eJgOMbexdWg0ENJTO0V922CWLybicvZRUtQuk21hpv4w/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn18@2020_1/2020/11/12/04-59-08-253_fe5cd0e64b5f9c47.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/2A8tXicCG8ylbWIGfdoDED35IRRySQZTXUkJ1eop9MHApzFibKnOo0diboXpl0rmS5mH78YJhsWQv0dhv718A6kUA/640?wx_fmt=jpeg":null,"http://www.jintiankansha.me/rss_static/11757/zvAH4BnKOY":null},"publishedOrCreatedDate":1605157133309}],"record":{"createdTime":"2020-11-12 12:58:53","updatedTime":"2020-11-12 12:58:53","feedId":2521,"fetchDate":"Thu, 12 Nov 2020 04:58:53 +0000","fetchMs":735,"handleMs":60,"totalMs":67355,"newArticles":0,"totalArticles":5,"status":1,"type":0,"ip":"127b947ffb830011589be2c07906fee5","hostName":"us-003*","requestId":"ce81b99a4fb64b64bc1d91582962661a_2521","contentType":"application/rss+xml","totalBytes":254418,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":16,"articlesImgsGithubTotal":13,"successGithubMap":{"myreaderx7":1,"myreaderx6":1,"myreaderx27":1,"myreaderx21":1,"myreaderx22":1,"myreaderx2":1,"myreaderx24":1,"myreaderx13":1,"myreaderx1":1,"myreaderx30":1,"myreaderx5oss":1,"myreaderx18":1,"myreaderx29":1},"failGithubMap":{"myreaderx14":1,"myreaderx23":1}},"feed":{"createdTime":"2020-08-24 21:31:41","updatedTime":"2020-09-01 10:09:47","id":2521,"name":"ImportNew","url":"http://feedmaker.kindle4rss.com/feeds/importnew.weixin.xml","subscriber":null,"website":null,"icon":"http://www.sogou.com/images/logo/new/favicon.ico?v=4","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx63/cdn9@2020_3/2020/09/01/02-08-31-388_d24121c9beed1de6.ico","description":"伯乐在线旗下账号，专注Java技术分享，包括Java基础技术、进阶技能、架构设计和Java技术领域动态等。","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2020-11-12 12:59:59","updatedTime":"2020-11-12 12:59:59","id":null,"feedId":2521,"linkMd5":"0206c328af3f38e7457d9a4ea70821b6"}],"tmpCommonImgCdnBytes":13174,"tmpBodyImgCdnBytes":241244,"tmpBgImgCdnBytes":0,"extra4":{"start":1605157132356,"total":0,"statList":[{"spend":893,"msg":"获取xml内容"},{"spend":60,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":63658,"msg":"正文链接上传到cdn"}]},"extra5":16,"extra6":16,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"http://www.jintiankansha.me/rss_static/11757/zvAH4BnKOY","sourceStatusCode":405,"sourceBytes":0,"destBytes":0,"feedId":2521,"totalSpendMs":414,"convertSpendMs":0,"createdTime":"2020-11-12 12:58:56","host":"us-027*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E5%8F%8C%C2%A011%C2%A0%E7%9A%84%E7%8B%82%E6%AC%A2%EF%BC%8C%E5%B9%B2%E4%BA%86%E8%BF%99%E7%A2%97%E3%80%8C%E6%B5%81%E9%87%8F%E9%98%B2%E6%8E%A7%E3%80%8D%E6%B1%A4","linkMd5ListStr":"0206c328af3f38e7457d9a4ea70821b6","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[405],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/2A8tXicCG8ylbWIGfdoDED35IRRySQZTXUkJ1eop9MHApzFibKnOo0diboXpl0rmS5mH78YJhsWQv0dhv718A6kUA/640?wx_fmt=jpeg","sourceStatusCode":200,"destWidth":600,"destHeight":550,"sourceBytes":37143,"destBytes":31608,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":768,"convertSpendMs":18,"createdTime":"2020-11-12 12:58:56","host":"us-015*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E5%8F%8C%C2%A011%C2%A0%E7%9A%84%E7%8B%82%E6%AC%A2%EF%BC%8C%E5%B9%B2%E4%BA%86%E8%BF%99%E7%A2%97%E3%80%8C%E6%B5%81%E9%87%8F%E9%98%B2%E6%8E%A7%E3%80%8D%E6%B1%A4","linkMd5ListStr":"0206c328af3f38e7457d9a4ea70821b6","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn35/contents/2020/11/12/04-58-56-814_f93d0239d4369c75.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Thu, 12 Nov 2020 04:58:56 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["AAE6:468A:A3B355:16D3426:5FACC10F"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1605160176"],"x-ratelimit-used":["64"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn35/contents/2020/11/12/04-58-56-814_f93d0239d4369c75.webp","historyStatusCode":[],"spendMs":31},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"36.3 KB","destSize":"30.9 KB","compressRate":"85.1%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeQgj3snXUtmEJbnBLDHN2CibibZ4Ss5fEzczFhF3Xjpc84t9pKNSPiawwA/640?wx_fmt=png","sourceStatusCode":403,"sourceBytes":0,"destBytes":0,"feedId":2521,"totalSpendMs":797,"convertSpendMs":0,"createdTime":"2020-11-12 12:58:56","host":"us-031*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E5%8F%8C%C2%A011%C2%A0%E7%9A%84%E7%8B%82%E6%AC%A2%EF%BC%8C%E5%B9%B2%E4%BA%86%E8%BF%99%E7%A2%97%E3%80%8C%E6%B5%81%E9%87%8F%E9%98%B2%E6%8E%A7%E3%80%8D%E6%B1%A4","linkMd5ListStr":"0206c328af3f38e7457d9a4ea70821b6","extra22GetBytesInfo":"2、Referer字段 ： http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E5%8F%8C%C2%A011%C2%A0%E7%9A%84%E7%8B%82%E6%AC%A2%EF%BC%8C%E5%B9%B2%E4%BA%86%E8%BF%99%E7%A2%97%E3%80%8C%E6%B5%81%E9%87%8F%E9%98%B2%E6%8E%A7%E3%80%8D%E6%B1%A4","extra23historyStatusCode":[403,403],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/2A8tXicCG8ylbWIGfdoDED35IRRySQZTXUkJ1eop9MHApzFibKnOo0diboXpl0rmS5mH78YJhsWQv0dhv718A6kUA/640?wx_fmt=jpeg","sourceStatusCode":200,"destWidth":600,"destHeight":550,"sourceBytes":37143,"destBytes":31608,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":776,"convertSpendMs":19,"createdTime":"2020-11-12 12:58:56","host":"us-015*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E5%8F%8C%C2%A011%C2%A0%E7%9A%84%E7%8B%82%E6%AC%A2%EF%BC%8C%E5%B9%B2%E4%BA%86%E8%BF%99%E7%A2%97%E3%80%8C%E6%B5%81%E9%87%8F%E9%98%B2%E6%8E%A7%E3%80%8D%E6%B1%A4","linkMd5ListStr":"0206c328af3f38e7457d9a4ea70821b6","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn35/contents/2020/11/12/04-58-57-596_f93d0239d4369c75.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Thu, 12 Nov 2020 04:58:57 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["CA70:221C:1264DB0:1DE95A8:5FACC10E"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1605160176"],"x-ratelimit-used":["64"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn35/contents/2020/11/12/04-58-57-596_f93d0239d4369c75.webp","historyStatusCode":[],"spendMs":36},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"36.3 KB","destSize":"30.9 KB","compressRate":"85.1%"},{"code":1,"isDone":false,"source":"http://www.jintiankansha.me/rss_static/11757/zvAH4BnKOY","sourceStatusCode":405,"sourceBytes":0,"destBytes":0,"feedId":2521,"totalSpendMs":1041,"convertSpendMs":0,"createdTime":"2020-11-12 12:58:56","host":"europe-25*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E5%8F%8C%C2%A011%C2%A0%E7%9A%84%E7%8B%82%E6%AC%A2%EF%BC%8C%E5%B9%B2%E4%BA%86%E8%BF%99%E7%A2%97%E3%80%8C%E6%B5%81%E9%87%8F%E9%98%B2%E6%8E%A7%E3%80%8D%E6%B1%A4","linkMd5ListStr":"0206c328af3f38e7457d9a4ea70821b6","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[405],"sourceSize":"0","destSize":"0"},null,{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeD2dMz9bkaVtLjpicdo6IT0RicU4Y8BR5aDosuiaPfVVKf40A4ylROIjIw/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":843,"sourceBytes":86963,"destBytes":15668,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":3470,"convertSpendMs":62,"createdTime":"2020-11-12 12:59:56","host":"us-002*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E5%8F%8C%C2%A011%C2%A0%E7%9A%84%E7%8B%82%E6%AC%A2%EF%BC%8C%E5%B9%B2%E4%BA%86%E8%BF%99%E7%A2%97%E3%80%8C%E6%B5%81%E9%87%8F%E9%98%B2%E6%8E%A7%E3%80%8D%E6%B1%A4","linkMd5ListStr":"0206c328af3f38e7457d9a4ea70821b6","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx23/cdn59/contents/2020/11/12/04-59-59-608_4287ade5471760e6.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 69189253.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Thu, 12 Nov 2020 04:59:59 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["BD22:3BCF:5A51E38:DA00900:5FACC14F"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1605160176"],"x-ratelimit-used":["66"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx23/cdn59/contents/2020/11/12/04-59-59-608_4287ade5471760e6.webp","historyStatusCode":[],"spendMs":95},"base64UserPassword":null,"token":"df0b9******************************93a6e"},"githubUser":"myreaderx23","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"84.9 KB","destSize":"15.3 KB","compressRate":"18%"}],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://europe-56.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-039.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-53.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe65.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-002.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-007.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-034.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-035.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe61.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-015.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://europe-60.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-25.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[405]},"http://europe-23.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-031.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[403]},"http://us-019.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-22.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-027.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[405]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"http://img.100weidu.com/mmbiz_jpg/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeKmj0lstJOb53Jedv9HbO8zqopvzujam1GeMl2XgNQZgia3iaQicdIN9AQ?imageView2/1/w/600","sourceStatusCode":200,"destWidth":500,"destHeight":213,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn12@2020_1/2020/11/12/04-58-55-221_271f2650ba1c306e.webp","sourceBytes":15485,"destBytes":13174,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":2698,"convertSpendMs":7,"createdTime":"2020-11-12 12:58:53","host":"us-023*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E5%8F%8C%C2%A011%C2%A0%E7%9A%84%E7%8B%82%E6%AC%A2%EF%BC%8C%E5%B9%B2%E4%BA%86%E8%BF%99%E7%A2%97%E3%80%8C%E6%B5%81%E9%87%8F%E9%98%B2%E6%8E%A7%E3%80%8D%E6%B1%A4","linkMd5ListStr":"0206c328af3f38e7457d9a4ea70821b6,0206c328af3f38e7457d9a4ea70821b6","githubUser":"myreaderx24","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"15.1 KB","destSize":"12.9 KB","compressRate":"85.1%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeNdvHplUDunAuhOnNd3UzW3RU1yApEJicr0Sh359T2V06Sz05kfuyGSw/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":391,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn47@2020_4/2020/11/12/04-58-58-052_f0ae88b0b79370b8.webp","sourceBytes":35582,"destBytes":8282,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":2728,"convertSpendMs":40,"createdTime":"2020-11-12 12:58:56","host":"us-53*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E5%8F%8C%C2%A011%C2%A0%E7%9A%84%E7%8B%82%E6%AC%A2%EF%BC%8C%E5%B9%B2%E4%BA%86%E8%BF%99%E7%A2%97%E3%80%8C%E6%B5%81%E9%87%8F%E9%98%B2%E6%8E%A7%E3%80%8D%E6%B1%A4","linkMd5ListStr":"0206c328af3f38e7457d9a4ea70821b6","githubUser":"myreaderx21","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"34.7 KB","destSize":"8.1 KB","compressRate":"23.3%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IegFVsBhKSLAicvjuJb2IspyPibcmCEXxo61qSGqb7pcyvxYmck9Ut2PHA/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":349,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn27@2020_4/2020/11/12/04-58-59-022_ea3300d2f1682add.webp","sourceBytes":77981,"destBytes":14390,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":3821,"convertSpendMs":44,"createdTime":"2020-11-12 12:58:56","host":"us-039*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E5%8F%8C%C2%A011%C2%A0%E7%9A%84%E7%8B%82%E6%AC%A2%EF%BC%8C%E5%B9%B2%E4%BA%86%E8%BF%99%E7%A2%97%E3%80%8C%E6%B5%81%E9%87%8F%E9%98%B2%E6%8E%A7%E3%80%8D%E6%B1%A4","linkMd5ListStr":"0206c328af3f38e7457d9a4ea70821b6","githubUser":"myreaderx5oss","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"76.2 KB","destSize":"14.1 KB","compressRate":"18.5%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IexfwTp7ABy0hZVUtcibQ0II4gJMh6LoTHO43LRQibsvEtLiaSyhibQlCrRw/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":523,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn39@2020_5/2020/11/12/04-59-00-316_f77a204998570a1d.webp","sourceBytes":121113,"destBytes":21238,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":5127,"convertSpendMs":28,"createdTime":"2020-11-12 12:58:56","host":"us-002*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E5%8F%8C%C2%A011%C2%A0%E7%9A%84%E7%8B%82%E6%AC%A2%EF%BC%8C%E5%B9%B2%E4%BA%86%E8%BF%99%E7%A2%97%E3%80%8C%E6%B5%81%E9%87%8F%E9%98%B2%E6%8E%A7%E3%80%8D%E6%B1%A4","linkMd5ListStr":"0206c328af3f38e7457d9a4ea70821b6","githubUser":"myreaderx1","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"118.3 KB","destSize":"20.7 KB","compressRate":"17.5%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4Iedgiatia4wH29UuuqlRicDPcUib7TZ8feOeafia9RdCCX3piaMZxoMXD2jvVQ/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":424,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn64@2020_2/2020/11/12/04-59-04-949_5864d8aaad643a41.webp","sourceBytes":37766,"destBytes":7598,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":9672,"convertSpendMs":20,"createdTime":"2020-11-12 12:58:56","host":"europe-56*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E5%8F%8C%C2%A011%C2%A0%E7%9A%84%E7%8B%82%E6%AC%A2%EF%BC%8C%E5%B9%B2%E4%BA%86%E8%BF%99%E7%A2%97%E3%80%8C%E6%B5%81%E9%87%8F%E9%98%B2%E6%8E%A7%E3%80%8D%E6%B1%A4","linkMd5ListStr":"0206c328af3f38e7457d9a4ea70821b6","githubUser":"myreaderx27","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"36.9 KB","destSize":"7.4 KB","compressRate":"20.1%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeQgj3snXUtmEJbnBLDHN2CibibZ4Ss5fEzczFhF3Xjpc84t9pKNSPiawwA/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":509,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn52@2020_6/2020/11/12/04-59-07-204_7eb9d767fa3d2bb8.webp","sourceBytes":142641,"destBytes":27702,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":11288,"convertSpendMs":29,"createdTime":"2020-11-12 12:58:57","host":"europe-60*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E5%8F%8C%C2%A011%C2%A0%E7%9A%84%E7%8B%82%E6%AC%A2%EF%BC%8C%E5%B9%B2%E4%BA%86%E8%BF%99%E7%A2%97%E3%80%8C%E6%B5%81%E9%87%8F%E9%98%B2%E6%8E%A7%E3%80%8D%E6%B1%A4","linkMd5ListStr":"0206c328af3f38e7457d9a4ea70821b6","githubUser":"myreaderx2","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"139.3 KB","destSize":"27.1 KB","compressRate":"19.4%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IepufZCrReMTV892KAZ9MnE1uMpmGqF6Wf6B3jJ7HIqQiceSYiafM1ZxCA/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":385,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn70@2020_6/2020/11/12/04-59-07-847_68b4acb3be2339e9.webp","sourceBytes":105353,"destBytes":20202,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":12622,"convertSpendMs":23,"createdTime":"2020-11-12 12:58:56","host":"us-035*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E5%8F%8C%C2%A011%C2%A0%E7%9A%84%E7%8B%82%E6%AC%A2%EF%BC%8C%E5%B9%B2%E4%BA%86%E8%BF%99%E7%A2%97%E3%80%8C%E6%B5%81%E9%87%8F%E9%98%B2%E6%8E%A7%E3%80%8D%E6%B1%A4","linkMd5ListStr":"0206c328af3f38e7457d9a4ea70821b6","githubUser":"myreaderx6","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"102.9 KB","destSize":"19.7 KB","compressRate":"19.2%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeTVkqaqS1Uo7eJgOMbexdWg0ENJTO0V922CWLybicvZRUtQuk21hpv4w/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":449,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn18@2020_1/2020/11/12/04-59-08-253_fe5cd0e64b5f9c47.webp","sourceBytes":228389,"destBytes":46162,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":13437,"convertSpendMs":29,"createdTime":"2020-11-12 12:58:56","host":"europe-23*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E5%8F%8C%C2%A011%C2%A0%E7%9A%84%E7%8B%82%E6%AC%A2%EF%BC%8C%E5%B9%B2%E4%BA%86%E8%BF%99%E7%A2%97%E3%80%8C%E6%B5%81%E9%87%8F%E9%98%B2%E6%8E%A7%E3%80%8D%E6%B1%A4","linkMd5ListStr":"0206c328af3f38e7457d9a4ea70821b6","githubUser":"myreaderx18","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"223 KB","destSize":"45.1 KB","compressRate":"20.2%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeFYIoPhIZYbv1bxic52Youeibs35IsbvL35WUWuRhvyKyk176V6jrUO3Q/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":577,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn65@2020_1/2020/11/12/04-59-10-038_868332f8f50dfb96.webp","sourceBytes":292579,"destBytes":26044,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":14832,"convertSpendMs":52,"createdTime":"2020-11-12 12:58:56","host":"us-034*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E5%8F%8C%C2%A011%C2%A0%E7%9A%84%E7%8B%82%E6%AC%A2%EF%BC%8C%E5%B9%B2%E4%BA%86%E8%BF%99%E7%A2%97%E3%80%8C%E6%B5%81%E9%87%8F%E9%98%B2%E6%8E%A7%E3%80%8D%E6%B1%A4","linkMd5ListStr":"0206c328af3f38e7457d9a4ea70821b6","githubUser":"myreaderx22","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"285.7 KB","destSize":"25.4 KB","compressRate":"8.9%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeD8ibxGVeQKpVJVianT4wGMdV6KNSJUEdoxtJqXoUqjicetM0hgUOJseNg/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":166,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn24@2020_6/2020/11/12/04-59-11-475_e77774f07a76d236.webp","sourceBytes":37224,"destBytes":5518,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":16166,"convertSpendMs":10,"createdTime":"2020-11-12 12:58:56","host":"europe61*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E5%8F%8C%C2%A011%C2%A0%E7%9A%84%E7%8B%82%E6%AC%A2%EF%BC%8C%E5%B9%B2%E4%BA%86%E8%BF%99%E7%A2%97%E3%80%8C%E6%B5%81%E9%87%8F%E9%98%B2%E6%8E%A7%E3%80%8D%E6%B1%A4","linkMd5ListStr":"0206c328af3f38e7457d9a4ea70821b6","githubUser":"myreaderx13","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"36.4 KB","destSize":"5.4 KB","compressRate":"14.8%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4Ie9qCDvvUx2j08UN0gjkyMmLxrMoxAmEunAS2lmFb0OezVicu7wBDrVpA/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":934,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn44@2020_4/2020/11/12/04-59-11-443_5e72b59d0cbac8a5.webp","sourceBytes":290120,"destBytes":30358,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":16289,"convertSpendMs":54,"createdTime":"2020-11-12 12:58:56","host":"europe65*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E5%8F%8C%C2%A011%C2%A0%E7%9A%84%E7%8B%82%E6%AC%A2%EF%BC%8C%E5%B9%B2%E4%BA%86%E8%BF%99%E7%A2%97%E3%80%8C%E6%B5%81%E9%87%8F%E9%98%B2%E6%8E%A7%E3%80%8D%E6%B1%A4","linkMd5ListStr":"0206c328af3f38e7457d9a4ea70821b6","githubUser":"myreaderx30","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"283.3 KB","destSize":"29.6 KB","compressRate":"10.5%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeMw4PibmicUDkkTDmf7tiavs2AyGJicxbLtEHLTOG6AXvrNe3dJtTj9Bia5Q/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":617,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn15@2020_5/2020/11/12/04-59-11-462_e65eb093d315530a.webp","sourceBytes":63529,"destBytes":13314,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":16361,"convertSpendMs":27,"createdTime":"2020-11-12 12:58:56","host":"europe-22*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E5%8F%8C%C2%A011%C2%A0%E7%9A%84%E7%8B%82%E6%AC%A2%EF%BC%8C%E5%B9%B2%E4%BA%86%E8%BF%99%E7%A2%97%E3%80%8C%E6%B5%81%E9%87%8F%E9%98%B2%E6%8E%A7%E3%80%8D%E6%B1%A4","linkMd5ListStr":"0206c328af3f38e7457d9a4ea70821b6","githubUser":"myreaderx7","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"62 KB","destSize":"13 KB","compressRate":"21%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/eZzl4LXykQxJSYOoEgsXDqS10GEMr4IeSxtyXR4oDmqFPIZAZ2f28y29Zjlx4eCkh1L6nEaAAy3ptqNsvMl3OA/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":607,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn56@2020_6/2020/11/12/04-59-14-808_9cd95c2e88711f64.webp","sourceBytes":90560,"destBytes":20436,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":19703,"convertSpendMs":60,"createdTime":"2020-11-12 12:58:56","host":"us-019*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E5%8F%8C%C2%A011%C2%A0%E7%9A%84%E7%8B%82%E6%AC%A2%EF%BC%8C%E5%B9%B2%E4%BA%86%E8%BF%99%E7%A2%97%E3%80%8C%E6%B5%81%E9%87%8F%E9%98%B2%E6%8E%A7%E3%80%8D%E6%B1%A4","linkMd5ListStr":"0206c328af3f38e7457d9a4ea70821b6","githubUser":"myreaderx29","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"88.4 KB","destSize":"20 KB","compressRate":"22.6%"}],"successGithubMap":{"myreaderx7":1,"myreaderx6":1,"myreaderx27":1,"myreaderx21":1,"myreaderx22":1,"myreaderx2":1,"myreaderx24":1,"myreaderx13":1,"myreaderx1":1,"myreaderx30":1,"myreaderx5oss":1,"myreaderx18":1,"myreaderx29":1},"failGithubMap":{"myreaderx14":1,"myreaderx23":1}}