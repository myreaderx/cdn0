{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-13 23:01:21","updatedTime":"2020-10-13 23:01:21","title":"Search Plugin で、SQL Query: validateSearch エラー","link":"http://cakephp.seesaa.net/article/386426491.html","description":"\nひさしぶりにCakePHPのプログラムを書いています。ほんとにひさしぶりだな～。<br />CakePHP 1.X の時代から 2.X に突然ジャンプしたので、覚えることがけっこうあります。<br />あれ、core.php にはもう、あのSecurity.levelとかなくなってるぞ！！<br /><br />こちらの記事、非常に興味深く読みました。<br /><br />あかつきのお宿<br />Security.levelはどこへ消えた？（CakePHP2系の話）<br /><a href=\"http://norm-nois.com/blog/archives/2290\" target=\"_blank\">http://norm-nois.com/blog/archives/2290</a><br /><br />そうなのか！！<br />で、本題ですが、SecurityPlugin で下記のようなエラーが出ました。<br />（ちなみにPostgreSQLです。）<br />---------------------------------------<br />Database Error<br />Error: SQLSTATE[42601]: Syntax error: 7 ERROR: \"validateSearch\"またはその近辺で構文エラー LINE 1: validateSearch ^<br />SQL Query: validateSearch<br />Notice: If you want to customize this error message, create app\\View\\Errors\\pdo_error.ctp<br />---------------------------------------<br />Cakeの規約に従っていないテーブルを使わなきゃいけないからかなーとか、色々考えてしまったのですが、結局この原因は、「SearchableBehavior.phpが正しく読み込めていないから」でした。<br /><br />いろいろ見返して、結局、<br />public $actsAs=array(\"Search.Searchable\");<br />とではなく、<br />public $actAs=array(\"Search.Searchable\");<br />と書いてあるのに気がついて直しました。<br /><br />そしたらきちんと動きました。（泣<br />恥ずかしながらドジりました（古いな―<a name=\"more\"></a>\n\n\n","descriptionType":"html","publishedDate":"Wed, 29 Jan 2014 08:04:01 +0000","feedId":46095,"bgimg":"","linkMd5":"ccf8563233f4f15c8b76e3884bf7e2df","bgimgJsdelivr":"","metaImg":"","author":"SDozono","publishedOrCreatedDate":1602601281389}],"record":{"createdTime":"2020-10-13 23:01:21","updatedTime":"2020-10-13 23:01:21","feedId":46095,"fetchDate":"Tue, 13 Oct 2020 15:01:21 +0000","fetchMs":334,"handleMs":28325,"totalMs":28663,"newArticles":0,"totalArticles":15,"status":1,"type":0,"ip":"2f2e31f84110f5c573417212a13762a1","hostName":"us-008*","requestId":"7592bf5e667f4f6895134cb8af9d2d0a_46095","contentType":"application/xml","totalBytes":0,"bgimgsTotal":0,"bgimgsGithubTotal":0,"articlesImgsTotal":0,"articlesImgsGithubTotal":0,"successGithubMap":{},"failGithubMap":{}},"feed":{"createdTime":"2020-09-07 03:40:34","updatedTime":"2020-09-07 05:59:20","id":46095,"name":"CakePHP のおいしい食べ方","url":"http://cakephp.seesaa.net/index.rdf","subscriber":69,"website":null,"icon":"http://cakephp.seesaa.net/favicon.ico","icon_jsdelivr":null,"description":"CakePHPは、PHP言語の高速開発用フレームワークです。日々、発展を遂げる各種フレームワークの動向を見極めつつ、日本発のCakePHP応援ブログとして、最新情報をお届けします。","weekly":null,"link":"http://cakephp.seesaa.net"},"noPictureArticleList":[],"tmpCommonImgCdnBytes":0,"tmpBodyImgCdnBytes":0,"tmpBgImgCdnBytes":0,"extra4":{"start":1602601252727,"total":0,"statList":[{"spend":337,"msg":"获取xml内容"},{"spend":28325,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"正文链接上传到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"}]},"extra5":0,"extra6":0,"extra7ImgCdnFailResultVector":[],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{},"extra12ImgCdnSuccessResultVector":[],"successGithubMap":{},"failGithubMap":{}}