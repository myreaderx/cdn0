{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-11-16 19:50:08","updatedTime":"2020-11-16 19:50:08","title":"お気に入りのScalaライブラリ・ツールをだらだら紹介する","link":"https://labs.septeni.co.jp/entry/2019/12/06/120000","description":"<p>この記事は <a href=\"https://qiita.com/advent-calendar/2019/scala\">Scala Advent Calendar 2019</a> の6日目です。</p>\n\n<p>こんにちは。最近は<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/PYXIS\">PYXIS</a>のデータ基盤チームでSREっぽいことしている 門脇(<a href=\"https://twitter.com/blac_k_ey/\">@blac_k_ey</a>)です。<br/>\nTETRIS99の次は<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%DD%A5%B1%A5%E2%A5%F3\">ポケモン</a>に進捗を奪われる日々を送っています。</p>\n\n<hr />\n\n<p>締め切りギリギリまで <s><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%DD%A5%B1%A5%E2%A5%F3\">ポケモン</a>で忙しかった</s> 「これ書きたい!」というテーマが思いつかなかったので、個人的に最近の<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Scala\">Scala</a>開発でお世話になっているライブラリやツールなどを紹介していこうと思います。</p>\n\n<p>詳細はあまり書かず、「ここが好き!」ぐらいのお気持ち表明ぐらいの文章でしかないので、ゆるく暖かい気持ちで読んでくれたら幸いです。</p>\n\n<h2><a href=\"http://ammonite.io/\">Ammonite</a></h2>\n\n<p>リッチなScalaREPL、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Scala\">Scala</a><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%EA%A5%D7%A5%C8\">スクリプト</a>。</p>\n\n<p>自分の<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Scala\">Scala</a>生活が豊かになっている大きな要因のひとつ。</p>\n\n<p><a href=\"http://ammonite.io/#MagicImports\">Magic Imports</a>を使って、ライブラリをちょっと試したいときにササッと使えるし、</p>\n\n<pre class=\"code lang-scala\" data-lang=\"scala\" data-unlink>$ amm\nLoading...\nWelcome to the Ammonite Repl <span class=\"synConstant\">1.7.1</span>\n(Scala <span class=\"synConstant\">2.12.10</span> Java <span class=\"synConstant\">1.8.0</span>_181)\nIf you like Ammonite, please support our development at www.patreon.com/lihaoyi\n@ <span class=\"synPreProc\">import</span> $ivy.`com.typesafe.play::play-json:<span class=\"synConstant\">2.7.4</span>`\nhttps:<span class=\"synComment\">//repo1.maven.org/maven2/com/typesafe/play/play-json_2.12/2.7.4/play-json_2.12-2.7.4.pom</span>\n  <span class=\"synConstant\">100.0</span>% [##########] <span class=\"synConstant\">4.2</span> KiB (<span class=\"synConstant\">1.0</span> KiB / s)\nhttps:<span class=\"synComment\">//repo1.maven.org/maven2/com/typesafe/play/play-functional_2.12/2.7.4/play-functional_2.12-2.7.4.pom</span>\n  <span class=\"synConstant\">100.0</span>% [##########] <span class=\"synConstant\">1.5</span> KiB (<span class=\"synConstant\">12.0</span> KiB / s)\nhttps:<span class=\"synComment\">//repo1.maven.org/maven2/com/typesafe/play/play-functional_2.12/2.7.4/play-functional_2.12-2.7.4-sources.jar</span>\n  <span class=\"synConstant\">100.0</span>% [##########] <span class=\"synConstant\">9.7</span> KiB (<span class=\"synConstant\">79.4</span> KiB / s)\nhttps:<span class=\"synComment\">//repo1.maven.org/maven2/com/typesafe/play/play-functional_2.12/2.7.4/play-functional_2.12-2.7.4.jar</span>\n  <span class=\"synConstant\">100.0</span>% [##########] <span class=\"synConstant\">175.5</span> KiB (<span class=\"synConstant\">389.2</span> KiB / s)\nhttps:<span class=\"synComment\">//repo1.maven.org/maven2/com/typesafe/play/play-json_2.12/2.7.4/play-json_2.12-2.7.4-sources.jar</span>\n  <span class=\"synConstant\">100.0</span>% [##########] <span class=\"synConstant\">52.5</span> KiB (<span class=\"synConstant\">94.5</span> KiB / s)\nhttps:<span class=\"synComment\">//repo1.maven.org/maven2/com/typesafe/play/play-json_2.12/2.7.4/play-json_2.12-2.7.4.jar</span>\n  <span class=\"synConstant\">100.0</span>% [##########] <span class=\"synConstant\">706.6</span> KiB (<span class=\"synConstant\">705.2</span> KiB / s)\n<span class=\"synPreProc\">import</span> $ivy.$\n\n@ <span class=\"synPreProc\">import</span> play.api.libs.json._\n<span class=\"synPreProc\">import</span> play.api.libs.json._\n\n@ <span class=\"synType\">val</span> json = Json.parse(<span class=\"synConstant\">&quot;&quot;&quot;{&quot;</span>language<span class=\"synConstant\">&quot;: &quot;</span>Scala<span class=\"synConstant\">&quot;, &quot;</span>repl<span class=\"synConstant\">&quot;: &quot;</span>Ammonite<span class=\"synConstant\">&quot;}&quot;&quot;&quot;</span>)\njson: JsValue = JsObject(Map(<span class=\"synConstant\">&quot;language&quot;</span> -&gt; JsString(<span class=\"synConstant\">&quot;Scala&quot;</span>), <span class=\"synConstant\">&quot;repl&quot;</span> -&gt; JsString(<span class=\"synConstant\">&quot;Ammonite&quot;</span>)))\n</pre>\n\n\n<p>スケジュール実行に対応したCIツールを使えば、手元で書いたちょっとした<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%EA%A5%D7%A5%C8\">スクリプト</a>でささっと自動化できるし、</p>\n\n<p><a href=\"https://gist.github.com/NomadBlacky/2c56814a1993e327ed2c2e3d8da01eed\">(esa.ioのメトリクスをDatadogに送信する例)</a></p>\n\n<pre class=\"code lang-yaml\" data-lang=\"yaml\" data-unlink><span class=\"synComment\"># .gitlab-ci.yml</span>\n\n<span class=\"synIdentifier\">image</span><span class=\"synSpecial\">:</span> openjdk:8\n\n<span class=\"synIdentifier\">scheduled_post_stats</span><span class=\"synSpecial\">:</span>\n  <span class=\"synIdentifier\">only</span><span class=\"synSpecial\">:</span>\n    <span class=\"synIdentifier\">refs</span><span class=\"synSpecial\">:</span>\n      <span class=\"synStatement\">- </span>schedules\n    <span class=\"synIdentifier\">variables</span><span class=\"synSpecial\">:</span>\n      <span class=\"synStatement\">- </span>$SCHEDULED_JOB_POST_STATS\n  <span class=\"synIdentifier\">script</span><span class=\"synSpecial\">:</span>\n    <span class=\"synStatement\">- </span>./amm esa-stats-to-datadog.sc --team septeni-original\n</pre>\n\n\n<p><span itemscope itemtype=\"http://schema.org/Photograph\"><img src=\"https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191205/20191205234130.png\" alt=\"f:id:Nomad_Blacky:20191205234130p:plain\" title=\"f:id:Nomad_Blacky:20191205234130p:plain\" class=\"hatena-fotolife\" itemprop=\"image\"></span></p>\n\n<p><span itemscope itemtype=\"http://schema.org/Photograph\"><img src=\"https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191205/20191205234756.png\" alt=\"f:id:Nomad_Blacky:20191205234756p:plain\" title=\"f:id:Nomad_Blacky:20191205234756p:plain\" class=\"hatena-fotolife\" itemprop=\"image\"></span></p>\n\n<p>何度閉じてもダイアログが開くという<s>犯罪臭のする</s><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%EA%A5%D7%A5%C8\">スクリプト</a>だって書けちゃう!!(?)</p>\n\n<pre class=\"code lang-scala\" data-lang=\"scala\" data-unlink><span class=\"synPreProc\">import</span> java.awt._, event._\n<span class=\"synPreProc\">import</span> javax.swing._\n\n<span class=\"synPreProc\">import</span> scala.util.Random\n\n<span class=\"synType\">val</span> (screenCenterW, screenCenterH) = {\n  <span class=\"synType\">val</span> ss = Toolkit.getDefaultToolkit().getScreenSize\n  (ss.getWidth.toInt / <span class=\"synConstant\">2</span>, ss.getHeight.toInt / <span class=\"synConstant\">2</span>)\n}\n\n<span class=\"synType\">val</span> label = <span class=\"synStatement\">new</span> JLabel(<span class=\"synConstant\">&quot;何回閉じても無駄ですよ～ww&quot;</span>)\n\n<span class=\"synIdentifier\">def</span> randomLocation(): (Int, Int) =\n  (screenCenterW + Random.nextInt(<span class=\"synConstant\">200</span>) - <span class=\"synConstant\">200</span>, screenCenterH + Random.nextInt(<span class=\"synConstant\">200</span>) - <span class=\"synConstant\">200</span>)\n\n<span class=\"synIdentifier\">def</span> newDialog(): Unit = {\n  <span class=\"synType\">val</span> dialog = <span class=\"synStatement\">new</span> JDialog()\n  dialog.setSize(<span class=\"synConstant\">300</span>, <span class=\"synConstant\">200</span>)\n  <span class=\"synType\">val</span> (x, y) = randomLocation()\n  dialog.setLocation(x, y)\n  dialog.add(label)\n  dialog.setVisible(<span class=\"synConstant\">true</span>)\n  dialog.addWindowListener(<span class=\"synStatement\">new</span> WindowAdapter {\n    <span class=\"synType\">override</span><span class=\"synIdentifier\"> def</span> windowClosing(e: WindowEvent): Unit = {\n      newDialog()\n    }\n  })\n}\n\nnewDialog()\n</pre>\n\n\n<p><span itemscope itemtype=\"http://schema.org/Photograph\"><img src=\"https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191206/20191206000910.gif\" alt=\"f:id:Nomad_Blacky:20191206000910g:plain\" title=\"f:id:Nomad_Blacky:20191206000910g:plain\" class=\"hatena-fotolife\" itemprop=\"image\"></span></p>\n\n<p>こうしてAmmoniteは自分の<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Scala\">Scala</a>生活に欠かせないものになっていきました。</p>\n\n<p>気になった人は以下のコマンドを実行して早速インストール! (執筆時点の最新版)</p>\n\n<pre class=\"code\" data-lang=\"\" data-unlink>$ sudo sh -c &#39;(echo &#34;#!/usr/bin/env sh&#34; &amp;&amp; curl -L https://github.com/lihaoyi/Ammonite/releases/download/1.8.2/2.13-1.8.2) &gt; /usr/local/bin/amm &amp;&amp; chmod +x /usr/local/bin/amm&#39; &amp;&amp; amm</pre>\n\n\n<p>Ammoniteに関してはいくつか資料を公開していますので、そちらもご覧いただけると幸いです。</p>\n\n<ul>\n<li><a href=\"https://speakerdeck.com/nomadblacky/let-scala-scripts-do-the-troublesome-things\">面倒なことはScalaスクリプトにやらせよう</a></li>\n<li><a href=\"http://labs.septeni.co.jp/entry/2018/12/20/120000\">IntelliJ IDEA + AmmoniteでScalaスクリプトの開発を始めよう</a></li>\n</ul>\n\n\n<h2><a href=\"http://www.lihaoyi.com/upickle/\">upickle</a></h2>\n\n<p><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/JSON\">JSON</a>, MessagePack に対応したシ<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%EA%A5%A2%A5%E9\">リアラ</a>イゼーションライブラリ。<br/>\nAmmoniteの依存に含まれるため、上記のコマンドでインストールした方はすぐお試しできます。</p>\n\n<pre class=\"code lang-scala\" data-lang=\"scala\" data-unlink>@ <span class=\"synPreProc\">import</span> upickle.default._\n<span class=\"synPreProc\">import</span> upickle.default._\n\n@ <span class=\"synType\">case</span> <span class=\"synType\">class</span> Post(id: Int, name: <span class=\"synConstant\">String</span>, tags: Seq[<span class=\"synConstant\">String</span>])\ndefined <span class=\"synType\">class</span> Post\n\n@ implicit <span class=\"synType\">val</span> postRW: ReadWriter[Post] = macroRW\npostRW: ReadWriter[Post] = upickle.core.Types$ReadWriter$$anon$<span class=\"synConstant\">3</span>@73fb1d7f\n\n@ <span class=\"synType\">val</span> json = <span class=\"synConstant\">&quot;&quot;&quot;</span>\n<span class=\"synConstant\">    [</span>\n<span class=\"synConstant\">      {&quot;</span>id<span class=\"synConstant\">&quot;:1, &quot;</span>name<span class=\"synConstant\">&quot;:&quot;</span>post1<span class=\"synConstant\">&quot;, &quot;</span>tags<span class=\"synConstant\">&quot;:[&quot;</span>Java<span class=\"synConstant\">&quot;]},</span>\n<span class=\"synConstant\">      {&quot;</span>id<span class=\"synConstant\">&quot;:2, &quot;</span>name<span class=\"synConstant\">&quot;:&quot;</span>post2<span class=\"synConstant\">&quot;, &quot;</span>tags<span class=\"synConstant\">&quot;:[&quot;</span>Scala<span class=\"synConstant\">&quot;, &quot;</span>Ammonite<span class=\"synConstant\">&quot;]}</span>\n<span class=\"synConstant\">    ]</span>\n<span class=\"synConstant\">    &quot;&quot;&quot;</span>\njson: <span class=\"synConstant\">String</span> = <span class=\"synConstant\">&quot;&quot;&quot;</span>\n<span class=\"synConstant\">  [</span>\n<span class=\"synConstant\">    {&quot;</span>id<span class=\"synConstant\">&quot;:1, &quot;</span>name<span class=\"synConstant\">&quot;:&quot;</span>post1<span class=\"synConstant\">&quot;, &quot;</span>tags<span class=\"synConstant\">&quot;:[&quot;</span>Java<span class=\"synConstant\">&quot;]},</span>\n<span class=\"synConstant\">    {&quot;</span>id<span class=\"synConstant\">&quot;:2, &quot;</span>name<span class=\"synConstant\">&quot;:&quot;</span>post2<span class=\"synConstant\">&quot;, &quot;</span>tags<span class=\"synConstant\">&quot;:[&quot;</span>Scala<span class=\"synConstant\">&quot;, &quot;</span>Ammonite<span class=\"synConstant\">&quot;]}</span>\n<span class=\"synConstant\">  ]</span>\n<span class=\"synConstant\">  &quot;&quot;&quot;</span>\n\n@ <span class=\"synType\">val</span> posts = read[Seq[Post]](json)\nposts: Seq[Post] = Vector(Post(<span class=\"synConstant\">1</span>, <span class=\"synConstant\">&quot;post1&quot;</span>, Vector(<span class=\"synConstant\">&quot;Java&quot;</span>)), Post(<span class=\"synConstant\">2</span>, <span class=\"synConstant\">&quot;post2&quot;</span>, Vector(<span class=\"synConstant\">&quot;Scala&quot;</span>, <span class=\"synConstant\">&quot;Ammonite&quot;</span>)))\n\n@ write(posts)\nres5: <span class=\"synConstant\">String</span> = <span class=\"synConstant\">&quot;[{\\&quot;</span>id\\<span class=\"synConstant\">&quot;:1,\\&quot;</span>name\\<span class=\"synConstant\">&quot;:\\&quot;</span>post1\\<span class=\"synConstant\">&quot;,\\&quot;</span>tags\\<span class=\"synConstant\">&quot;:[\\&quot;</span>Java\\<span class=\"synConstant\">&quot;]},{\\&quot;</span>id\\<span class=\"synConstant\">&quot;:2,\\&quot;</span>name\\<span class=\"synConstant\">&quot;:\\&quot;</span>post2\\<span class=\"synConstant\">&quot;,\\&quot;</span>tags\\<span class=\"synConstant\">&quot;:[\\&quot;</span>Scala\\<span class=\"synConstant\">&quot;,\\&quot;</span>Ammonite\\<span class=\"synConstant\">&quot;]}]&quot;</span>\n</pre>\n\n\n<p>macroによって、最低限のボイラープレートで<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/JSON\">JSON</a>の読み書きを実現できていますね。</p>\n\n<p>他の<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/JSON\">JSON</a>ライブラリと比べて好きなところとしては、自身以外のライブラリに依存していないところでしょうか。</p>\n\n<pre class=\"code\" data-lang=\"\" data-unlink>$ coursier resolve --tree com.lihaoyi::upickle:0.8.0\n  Result:\n└─ com.lihaoyi:upickle_2.13:0.8.0\n   ├─ com.lihaoyi:ujson_2.13:0.8.0\n   │  └─ com.lihaoyi:upickle-core_2.13:0.8.0\n   │     └─ org.scala-lang.modules:scala-collection-compat_2.13:2.0.0\n   │        └─ org.scala-lang:scala-library:2.13.0\n   ├─ com.lihaoyi:upack_2.13:0.8.0\n   │  └─ com.lihaoyi:upickle-core_2.13:0.8.0\n   │     └─ org.scala-lang.modules:scala-collection-compat_2.13:2.0.0\n   │        └─ org.scala-lang:scala-library:2.13.0\n   └─ com.lihaoyi:upickle-implicits_2.13:0.8.0\n      └─ com.lihaoyi:upickle-core_2.13:0.8.0\n         └─ org.scala-lang.modules:scala-collection-compat_2.13:2.0.0\n            └─ org.scala-lang:scala-library:2.13.0\n\n$ coursier resolve --tree com.typesafe.play::play-json:2.7.4\n  Result:\n└─ com.typesafe.play:play-json_2.13:2.7.4\n   ├─ com.fasterxml.jackson.core:jackson-annotations:2.9.8\n   ├─ com.fasterxml.jackson.core:jackson-core:2.9.8\n   ├─ com.fasterxml.jackson.core:jackson-databind:2.9.8\n   │  ├─ com.fasterxml.jackson.core:jackson-annotations:2.9.0 -&gt; 2.9.8\n   │  └─ com.fasterxml.jackson.core:jackson-core:2.9.8\n   ├─ com.fasterxml.jackson.datatype:jackson-datatype-jdk8:2.9.8\n   │  ├─ com.fasterxml.jackson.core:jackson-core:2.9.8\n   │  └─ com.fasterxml.jackson.core:jackson-databind:2.9.8\n   │     ├─ com.fasterxml.jackson.core:jackson-annotations:2.9.0 -&gt; 2.9.8\n   │     └─ com.fasterxml.jackson.core:jackson-core:2.9.8\n   ├─ com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.9.8\n   │  ├─ com.fasterxml.jackson.core:jackson-annotations:2.9.0 -&gt; 2.9.8\n   │  ├─ com.fasterxml.jackson.core:jackson-core:2.9.8\n   │  └─ com.fasterxml.jackson.core:jackson-databind:2.9.8\n   │     ├─ com.fasterxml.jackson.core:jackson-annotations:2.9.0 -&gt; 2.9.8\n   │     └─ com.fasterxml.jackson.core:jackson-core:2.9.8\n   ├─ com.typesafe.play:play-functional_2.13:2.7.4\n   │  └─ org.scala-lang:scala-library:2.13.0\n   ├─ joda-time:joda-time:2.10.1\n   ├─ org.scala-lang:scala-library:2.13.0\n   └─ org.scala-lang:scala-reflect:2.13.0\n      └─ org.scala-lang:scala-library:2.13.0\n\n$ coursier resolve --tree org.json4s::json4s-native:3.6.7\n  Result:\n└─ org.json4s:json4s-native_2.13:3.6.7\n   ├─ org.json4s:json4s-core_2.13:3.6.7\n   │  ├─ com.thoughtworks.paranamer:paranamer:2.8\n   │  ├─ org.json4s:json4s-ast_2.13:3.6.7\n   │  │  └─ org.scala-lang:scala-library:2.13.0\n   │  ├─ org.json4s:json4s-scalap_2.13:3.6.7\n   │  │  └─ org.scala-lang:scala-library:2.13.0\n   │  └─ org.scala-lang:scala-library:2.13.0\n   └─ org.scala-lang:scala-library:2.13.0\n\n$ coursier resolve --tree io.circe::circe-core:0.11.1\n  Result:\n└─ io.circe:circe-core_2.12:0.11.1\n   ├─ io.circe:circe-numbers_2.12:0.11.1\n   │  └─ org.scala-lang:scala-library:2.12.8\n   ├─ org.scala-lang:scala-library:2.12.8\n   └─ org.typelevel:cats-core_2.12:1.5.0\n      ├─ org.scala-lang:scala-library:2.12.7 -&gt; 2.12.8\n      ├─ org.typelevel:cats-kernel_2.12:1.5.0\n      │  └─ org.scala-lang:scala-library:2.12.7 -&gt; 2.12.8\n      ├─ org.typelevel:cats-macros_2.12:1.5.0\n      │  ├─ org.scala-lang:scala-library:2.12.7 -&gt; 2.12.8\n      │  └─ org.typelevel:machinist_2.12:0.6.6\n      │     ├─ org.scala-lang:scala-library:2.12.6 -&gt; 2.12.8\n      │     └─ org.scala-lang:scala-reflect:2.12.6\n      │        └─ org.scala-lang:scala-library:2.12.6 -&gt; 2.12.8\n      └─ org.typelevel:machinist_2.12:0.6.6\n         ├─ org.scala-lang:scala-library:2.12.6 -&gt; 2.12.8\n         └─ org.scala-lang:scala-reflect:2.12.6\n            └─ org.scala-lang:scala-library:2.12.6 -&gt; 2.12.8</pre>\n\n\n<p><a href=\"http://www.lihaoyi.com/upickle/#ScalaJS\">Scala.js対応</a>している点も人によっては嬉しいかもしれません。</p>\n\n<p>あと、<a href=\"http://www.lihaoyi.com/upickle/#Performance\">他のJSONライブラリと比較してパフォーマンスが良いそう</a>ですが、自身で試してないので深くは言及しません。</p>\n\n<h2><a href=\"https://github.com/lihaoyi/requests-scala\">requests</a></h2>\n\n<p>とてもシンプルなHTTPクライアント。<br/>\n<a href=\"https://2.python-requests.org/en/master/\">PythonのRequests</a>から影響を受けているみたいです。</p>\n\n<p>これもAmmoniteの依存に含まれます。</p>\n\n<pre class=\"code\" data-lang=\"\" data-unlink>@ val response = requests.get(&#34;https://google.com&#34;)\nresponse: requests.Response = Response(\n  &#34;https://www.google.com/&#34;,\n  200,\n  &#34;OK&#34;,\n  Map(\n    &#34;expires&#34; -&gt; Buffer(&#34;-1&#34;),\n    &#34;server&#34; -&gt; Buffer(&#34;gws&#34;),\n    &#34;p3p&#34; -&gt; Buffer(&#34;CP=\\&#34;This is not a P3P policy! See g.co/p3phelp for more info.\\&#34;&#34;),\n    &#34;x-xss-protection&#34; -&gt; Buffer(&#34;0&#34;),\n    &#34;cache-control&#34; -&gt; Buffer(&#34;private, max-age=0&#34;),\n    &#34;date&#34; -&gt; Buffer(&#34;Thu, 05 Dec 2019 12:54:14 GMT&#34;),\n    &#34;content-type&#34; -&gt; Buffer(&#34;text/html; charset=ISO-8859-1&#34;),\n    &#34;transfer-encoding&#34; -&gt; Buffer(&#34;chunked&#34;),\n    &#34;x-frame-options&#34; -&gt; Buffer(&#34;SAMEORIGIN&#34;),\n    &#34;alt-svc&#34; -&gt; Buffer(\n      &#34;quic=\\&#34;:443\\&#34;; ma=2592000; v=\\&#34;46,43\\&#34;,h3-Q050=\\&#34;:443\\&#34;; ma=2592000,h3-Q049=\\&#34;:443\\&#34;; ma=2592000,h3-Q048=\\&#34;:443\\...\n\n@ response.text.take(100)\nres1: String = &#34;&lt;!doctype html&gt;&lt;html itemscope=\\&#34;\\&#34; itemtype=\\&#34;http://schema.org/WebPage\\&#34; lang=\\&#34;ja\\&#34;&gt;&lt;head&gt;&lt;meta content&#34;</pre>\n\n\n<p>import文なしにそのまま書ける点が地味ながらすき。</p>\n\n<p>前述のupickleと合わせればWebAPIを叩く<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%EA%A5%D7%A5%C8\">スクリプト</a>も組めますね。</p>\n\n<h2><a href=\"https://github.com/cb372/sbt-explicit-dependencies\">sbt-explicit-dependencies</a></h2>\n\n<p><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%B3%A5%F3%A5%D1%A5%A4%A5%EB\">コンパイル</a>時に不要なライブラリや、暗黙的に依存しているライブラリを見つけてくれるsbt<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%D7%A5%E9%A5%B0%A5%A4%A5%F3\">プラグイン</a>です。</p>\n\n<p>ここでの「暗黙的に依存している」とは、ライブラリAが依存するライブラリBをアプリケーションコードが直接利用していることを指します。\n(例: Circeの依存を追加して、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%BD%A1%BC%A5%B9%A5%B3%A1%BC%A5%C9\">ソースコード</a>上でcatsを利用している)</p>\n\n<p>↓インストール方法↓</p>\n\n<pre class=\"code lang-scala\" data-lang=\"scala\" data-unlink><span class=\"synComment\">// 執筆時点の最新版</span>\naddSbtPlugin(<span class=\"synConstant\">&quot;com.github.cb372&quot;</span> % <span class=\"synConstant\">&quot;sbt-explicit-dependencies&quot;</span> % <span class=\"synConstant\">&quot;0.2.11&quot;</span>)\n</pre>\n\n\n<p>たとえば、以下のようなプロジェクトがあったとします。</p>\n\n<pre class=\"code lang-scala\" data-lang=\"scala\" data-unlink><span class=\"synComment\">// build.sbt</span>\nlazy <span class=\"synType\">val</span> root = (project in file(<span class=\"synConstant\">&quot;.&quot;</span>))\n  .settings(\n    name := <span class=\"synConstant\">&quot;explicitdeps&quot;</span>,\n    libraryDependencies ++= Seq(\n      <span class=\"synConstant\">&quot;com.lihaoyi&quot;</span> % <span class=\"synConstant\">&quot;ammonite&quot;</span> % <span class=\"synConstant\">&quot;1.8.2&quot;</span> cross CrossVersion.full\n    )\n  )\n</pre>\n\n\n\n\n<pre class=\"code lang-scala\" data-lang=\"scala\" data-unlink><span class=\"synComment\">// Hello.scala</span>\n<span class=\"synType\">object</span> Hello <span class=\"synType\">extends</span> App {\n  println(ujson.Obj(<span class=\"synConstant\">&quot;key&quot;</span> -&gt; <span class=\"synConstant\">&quot;value&quot;</span>, <span class=\"synConstant\">&quot;foo&quot;</span> -&gt; <span class=\"synConstant\">&quot;bar&quot;</span>).render(indent = <span class=\"synConstant\">2</span>))\n}\n</pre>\n\n\n<p>sbtを起動して、 <code>unusedCompileDependencies</code>, <code>undeclaredCompileDependencies</code> を実行します。</p>\n\n<pre class=\"code\" data-lang=\"\" data-unlink>sbt:explicitdeps&gt; unusedCompileDependencies\n[warn] explicitdeps &gt;&gt;&gt; The following libraries are declared in libraryDependencies but are not needed for compilation:\n[warn]  - &#34;com.lihaoyi&#34; % &#34;ammonite&#34; % &#34;1.8.2&#34;\n[success] Total time: 0 s, completed Dec 5, 2019 11:28:04 PM\n\nsbt:explicitdeps&gt; undeclaredCompileDependencies\n[warn] explicitdeps &gt;&gt;&gt; The project depends on the following libraries for compilation but they are not declared in libraryDependencies:\n[warn]  - &#34;com.lihaoyi&#34; %% &#34;ujson&#34; % &#34;0.8.0&#34;\n[success] Total time: 0 s, completed Dec 5, 2019 11:28:17 PM</pre>\n\n\n<p>前者でライブラリ依存に加えているのに使われていない <code>ammonite</code> の依存が検出され、<br/>\n後者でアプリケーションコードで使われているのに明示的に依存していない <code>ujson</code> が検出されました。</p>\n\n<p>これで、闇のライブラリ依存に対する防衛術が手に入りましたね。べんり!</p>\n\n<p>不正な依存があった場合にエラーとなる <code>unusedCompileDependenciesTest</code>, <code>undeclaredCompileDependencies</code> コマンドもあるので、CIに組み込むといい感じになります。</p>\n\n<p>例えば、<a href=\"https://github.com/NomadBlacky/digdag-plugin-datadog/blob/master/.github/workflows/scala.yml#L17-L37\">GitHub Actionsで使う場合はこんな感じ</a></p>\n\n<pre class=\"code\" data-lang=\"\" data-unlink>check_unused_compile_dependencies:\n  runs-on: ubuntu-latest\n  steps:\n    - uses: actions/checkout@v1\n    - name: Set up JDK 1.8\n      uses: actions/setup-java@v1\n      with:\n        java-version: &#39;1.8&#39;\n    - name: Check unused compile dependencies\n      run: sbt test/unusedCompileDependenciesTest\n\ncheck_undeclared_compile_dependencies:\n  runs-on: ubuntu-latest\n  steps:\n    - uses: actions/checkout@v1\n    - name: Set up JDK 1.8\n      uses: actions/setup-java@v1\n      with:\n        java-version: &#39;1.8&#39;\n    - name: Check undeclared compile dependencies\n      run: sbt test/undeclaredCompileDependenciesTest</pre>\n\n\n<p>プロジェクト導入初期からぜひ入れたい<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%D7%A5%E9%A5%B0%A5%A4%A5%F3\">プラグイン</a>ですね!</p>\n\n<h2><a href=\"https://github.com/fthomas/scala-steward\">scala-steward</a></h2>\n\n<p>依存ライブラリのアップデートを探して<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%EA%A5%DD%A5%B8%A5%C8%A5%EA\">リポジトリ</a>にプルリク<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A8%A5%B9\">エス</a>トを投げてくれるとてもかしこい<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/bot\">bot</a>。<br/>\n似たものとしては<a href=\"https://dependabot.com/\">dependabot</a>などがあります。<br/>\n(こちらはsbtに非対応)</p>\n\n<p>自分で動かすことも可能ですが、今回はコミュニティで定期的に動かしてくれているものを使いましょう。</p>\n\n<p><a href=\"https://github.com/scala-steward-org/repos/blob/master/repos.md\">このファイル</a>に自身が公開している<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/GitHub\">GitHub</a><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%EA%A5%DD%A5%B8%A5%C8%A5%EA\">リポジトリ</a>を加えて、<a href=\"https://github.com/scala-steward-org/repos/pull/84\">プルリクエスト</a>を出します。</p>\n\n<p><span itemscope itemtype=\"http://schema.org/Photograph\"><img src=\"https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191205/20191205235415.png\" alt=\"f:id:Nomad_Blacky:20191205235415p:plain\" title=\"f:id:Nomad_Blacky:20191205235415p:plain\" class=\"hatena-fotolife\" itemprop=\"image\"></span></p>\n\n<p>そのうち筆者の<a href=\"https://github.com/fthomas\">fthomasさん</a>がマージしてくれます。(感謝)</p>\n\n<p>すると、1日1回ぐらい(?)の頻度でライブラリのアップデートを確認して、自身の<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%EA%A5%DD%A5%B8%A5%C8%A5%EA\">リポジトリ</a>に<a href=\"https://github.com/NomadBlacky/digdag-plugin-datadog/pull/9\">プルリクエスト</a>を出してくれます。</p>\n\n<p><span itemscope itemtype=\"http://schema.org/Photograph\"><img src=\"https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191205/20191205235445.png\" alt=\"f:id:Nomad_Blacky:20191205235445p:plain\" title=\"f:id:Nomad_Blacky:20191205235445p:plain\" class=\"hatena-fotolife\" itemprop=\"image\"></span></p>\n\n<p><span itemscope itemtype=\"http://schema.org/Photograph\"><img src=\"https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191205/20191205235548.png\" alt=\"f:id:Nomad_Blacky:20191205235548p:plain\" title=\"f:id:Nomad_Blacky:20191205235548p:plain\" class=\"hatena-fotolife\" itemprop=\"image\"></span></p>\n\n<p>自分でライブラリのアップデートを確認する作業は骨が折れるので、とても便利ですね!<br/>\n便利と感じたら、ぜひ感謝の気持ちとして<a href=\"https://github.com/fthomas/scala-steward#wanna-have-a-badge\">Badge</a>を付けましょう。</p>\n\n<p><span itemscope itemtype=\"http://schema.org/Photograph\"><img src=\"https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191205/20191205235626.png\" alt=\"f:id:Nomad_Blacky:20191205235626p:plain\" title=\"f:id:Nomad_Blacky:20191205235626p:plain\" class=\"hatena-fotolife\" itemprop=\"image\"></span></p>\n\n<h2>まとめ</h2>\n\n<p><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Scala\">Scala</a>すき…</p>\n","descriptionType":"html","publishedDate":"Fri, 06 Dec 2019 03:00:00 +0000","feedId":37385,"bgimg":"https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191206/20191206000335.png","linkMd5":"c06d11acbab4199d533192d359ccf00f","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn2@2020_4/2020/11/16/11-50-08-739_f6e1e3f301ad24a6.webp","destWidth":373,"destHeight":167,"sourceBytes":9886,"destBytes":6578,"author":"Nomad_Blacky","enclosureType":"image/png","enclosureUrl":"https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191206/20191206000335.png","articleImgCdnMap":{"https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191205/20191205234130.png":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn13@2020_2/2020/11/16/11-50-09-219_f4c50ffb009bdabd.webp","https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191205/20191205234756.png":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn10@2020_2/2020/11/16/11-50-08-487_66cca4017037929a.webp","https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191206/20191206000910.gif":null,"https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191205/20191205235415.png":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn22@2020_5/2020/11/16/11-50-08-907_f88c12a93ebd4ffc.webp","https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191205/20191205235445.png":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn28@2020_3/2020/11/16/11-50-08-492_2c66523c8f9d98f6.webp","https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191205/20191205235548.png":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn26@2020_2/2020/11/16/11-50-08-470_e36ee06a6755676e.webp","https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191205/20191205235626.png":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn6@2020_5/2020/11/16/11-50-08-467_f16d0d3b8eeda880.webp"},"publishedOrCreatedDate":1605527408056}],"record":{"createdTime":"2020-11-16 19:50:08","updatedTime":"2020-11-16 19:50:08","feedId":37385,"fetchDate":"Mon, 16 Nov 2020 11:50:08 +0000","fetchMs":1657,"handleMs":5514,"totalMs":32183,"newArticles":0,"totalArticles":30,"status":1,"type":0,"ip":"135b586132fb35cbb1669fe09384b6b7","hostName":"us-034*","requestId":"3812d90206f243458262b803b0c44809_37385","contentType":"application/atom+xml; charset=utf-8","totalBytes":155570,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":7,"articlesImgsGithubTotal":6,"successGithubMap":{"myreaderx8":1,"myreaderx27":1,"myreaderx6":1,"myreaderx10":1,"myreaderx13":1,"myreaderx30":1,"myreaderx29":1},"failGithubMap":{"myreaderx14":1}},"feed":{"createdTime":"2020-09-07 03:10:44","updatedTime":"2020-09-07 03:10:44","id":37385,"name":"Septeni Engineer's Blog","url":"http://labs.septeni.co.jp/feed","subscriber":86,"website":null,"icon":"https://labs.septeni.co.jp/favicon.ico","icon_jsdelivr":null,"description":"セプテーニ・オリジナルのエンジニアが綴る技術ブログ","weekly":null,"link":"https://labs.septeni.co.jp"},"noPictureArticleList":[{"createdTime":"2020-11-16 19:50:32","updatedTime":"2020-11-16 19:50:32","id":null,"feedId":37385,"linkMd5":"c06d11acbab4199d533192d359ccf00f"}],"tmpCommonImgCdnBytes":0,"tmpBodyImgCdnBytes":155570,"tmpBgImgCdnBytes":0,"extra4":{"start":1605527400531,"total":0,"statList":[{"spend":2011,"msg":"获取xml内容"},{"spend":5514,"msg":"解释文章"},{"spend":1689,"msg":"上传封面图到cdn"},{"spend":1,"msg":"修正封面图上传失败重新上传"},{"spend":24655,"msg":"正文链接上传到cdn"}]},"extra5":7,"extra6":7,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191206/20191206000910.gif","sourceStatusCode":200,"destWidth":1200,"destHeight":537,"sourceBytes":463509,"destBytes":1760182,"targetWebpQuality":75,"feedId":37385,"totalSpendMs":15903,"convertSpendMs":15207,"createdTime":"2020-11-16 19:50:08","host":"us-52*","referer":"https://labs.septeni.co.jp/entry/2019/12/06/120000","linkMd5ListStr":"c06d11acbab4199d533192d359ccf00f","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn17/contents/2020/11/16/11-50-23-846_0b12f98bd2a572f1.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Mon, 16 Nov 2020 11:50:23 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["A4BA:0BFF:226F5D1:3AAB606:5FB26773"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1605528617"],"x-ratelimit-used":["61"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn17/contents/2020/11/16/11-50-23-846_0b12f98bd2a572f1.webp","historyStatusCode":[],"spendMs":103},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"452.6 KB","destSize":"1.7 MB","compressRate":"379.8%"},{"code":1,"isDone":false,"source":"https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191206/20191206000910.gif","sourceStatusCode":200,"destWidth":1200,"destHeight":537,"sourceBytes":463509,"destBytes":1760182,"targetWebpQuality":75,"feedId":37385,"totalSpendMs":8719,"convertSpendMs":8454,"createdTime":"2020-11-16 19:50:23","host":"us-001*","referer":"https://labs.septeni.co.jp/entry/2019/12/06/120000","linkMd5ListStr":"c06d11acbab4199d533192d359ccf00f","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn17/contents/2020/11/16/11-50-32-632_0b12f98bd2a572f1.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Mon, 16 Nov 2020 11:50:32 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["E0EA:424E:1511F89:2E6FD64:5FB26788"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1605528617"],"x-ratelimit-used":["61"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn17/contents/2020/11/16/11-50-32-632_0b12f98bd2a572f1.webp","historyStatusCode":[],"spendMs":66},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"452.6 KB","destSize":"1.7 MB","compressRate":"379.8%"}],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://us-013.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-001.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-004.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-005.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe64.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-52.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-029.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191205/20191205235626.png","sourceStatusCode":200,"destWidth":896,"destHeight":208,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn6@2020_5/2020/11/16/11-50-08-467_f16d0d3b8eeda880.webp","sourceBytes":19234,"destBytes":10382,"targetWebpQuality":75,"feedId":37385,"totalSpendMs":1172,"convertSpendMs":22,"createdTime":"2020-11-16 19:50:08","host":"us-013*","referer":"https://labs.septeni.co.jp/entry/2019/12/06/120000","linkMd5ListStr":"c06d11acbab4199d533192d359ccf00f","githubUser":"myreaderx27","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"18.8 KB","destSize":"10.1 KB","compressRate":"54%"},{"code":1,"isDone":false,"source":"https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191205/20191205235548.png","sourceStatusCode":200,"destWidth":1200,"destHeight":283,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn26@2020_2/2020/11/16/11-50-08-470_e36ee06a6755676e.webp","sourceBytes":115010,"destBytes":27222,"targetWebpQuality":75,"feedId":37385,"totalSpendMs":1225,"convertSpendMs":31,"createdTime":"2020-11-16 19:50:08","host":"us-004*","referer":"https://labs.septeni.co.jp/entry/2019/12/06/120000","linkMd5ListStr":"c06d11acbab4199d533192d359ccf00f","githubUser":"myreaderx10","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"112.3 KB","destSize":"26.6 KB","compressRate":"23.7%"},{"code":1,"isDone":false,"source":"https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191205/20191205234756.png","sourceStatusCode":200,"destWidth":1200,"destHeight":487,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn10@2020_2/2020/11/16/11-50-08-487_66cca4017037929a.webp","sourceBytes":107871,"destBytes":28568,"targetWebpQuality":75,"feedId":37385,"totalSpendMs":1305,"convertSpendMs":45,"createdTime":"2020-11-16 19:50:08","host":"us-001*","referer":"https://labs.septeni.co.jp/entry/2019/12/06/120000","linkMd5ListStr":"c06d11acbab4199d533192d359ccf00f","githubUser":"myreaderx8","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"105.3 KB","destSize":"27.9 KB","compressRate":"26.5%"},{"code":1,"isDone":false,"source":"https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191205/20191205235415.png","sourceStatusCode":200,"destWidth":1200,"destHeight":296,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn22@2020_5/2020/11/16/11-50-08-907_f88c12a93ebd4ffc.webp","sourceBytes":90344,"destBytes":21536,"targetWebpQuality":75,"feedId":37385,"totalSpendMs":1657,"convertSpendMs":24,"createdTime":"2020-11-16 19:50:08","host":"us-029*","referer":"https://labs.septeni.co.jp/entry/2019/12/06/120000","linkMd5ListStr":"c06d11acbab4199d533192d359ccf00f","githubUser":"myreaderx29","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"88.2 KB","destSize":"21 KB","compressRate":"23.8%"},{"code":1,"isDone":false,"source":"https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191206/20191206000335.png","sourceStatusCode":200,"destWidth":373,"destHeight":167,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn2@2020_4/2020/11/16/11-50-08-739_f6e1e3f301ad24a6.webp","sourceBytes":9886,"destBytes":6578,"targetWebpQuality":75,"feedId":37385,"totalSpendMs":1666,"convertSpendMs":7,"createdTime":"2020-11-16 19:50:08","host":"us-025*","referer":"https://labs.septeni.co.jp/entry/2019/12/06/120000","linkMd5ListStr":"c06d11acbab4199d533192d359ccf00f","githubUser":"myreaderx30","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"9.7 KB","destSize":"6.4 KB","compressRate":"66.5%"},{"code":1,"isDone":false,"source":"https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191205/20191205235445.png","sourceStatusCode":200,"destWidth":910,"destHeight":440,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn28@2020_3/2020/11/16/11-50-08-492_2c66523c8f9d98f6.webp","sourceBytes":81521,"destBytes":36524,"targetWebpQuality":75,"feedId":37385,"totalSpendMs":1687,"convertSpendMs":27,"createdTime":"2020-11-16 19:50:08","host":"us-005*","referer":"https://labs.septeni.co.jp/entry/2019/12/06/120000","linkMd5ListStr":"c06d11acbab4199d533192d359ccf00f","githubUser":"myreaderx6","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"79.6 KB","destSize":"35.7 KB","compressRate":"44.8%"},{"code":1,"isDone":false,"source":"https://cdn-ak.f.st-hatena.com/images/fotolife/N/Nomad_Blacky/20191205/20191205234130.png","sourceStatusCode":200,"destWidth":1200,"destHeight":498,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn13@2020_2/2020/11/16/11-50-09-219_f4c50ffb009bdabd.webp","sourceBytes":130136,"destBytes":31338,"targetWebpQuality":75,"feedId":37385,"totalSpendMs":2210,"convertSpendMs":27,"createdTime":"2020-11-16 19:50:08","host":"europe64*","referer":"https://labs.septeni.co.jp/entry/2019/12/06/120000","linkMd5ListStr":"c06d11acbab4199d533192d359ccf00f","githubUser":"myreaderx13","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"127.1 KB","destSize":"30.6 KB","compressRate":"24.1%"}],"successGithubMap":{"myreaderx8":1,"myreaderx27":1,"myreaderx6":1,"myreaderx10":1,"myreaderx13":1,"myreaderx30":1,"myreaderx29":1},"failGithubMap":{"myreaderx14":1}}