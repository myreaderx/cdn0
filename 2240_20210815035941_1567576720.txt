{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2021-08-15 11:59:01","updatedTime":"2021-08-15 11:59:01","title":"我C，一个库里Curry几百个表，这谁受得了？","link":"http://weixin.sogou.com/weixin?type=2&query=%E6%9E%B6%E6%9E%84%E5%B8%88%E4%B9%8B%E8%B7%AF+%E6%88%91C%EF%BC%8C%E4%B8%80%E4%B8%AA%E5%BA%93%E9%87%8CCurry%E5%87%A0%E7%99%BE%E4%B8%AA%E8%A1%A8%EF%BC%8C%E8%BF%99%E8%B0%81%E5%8F%97%E5%BE%97%E4%BA%86%EF%BC%9F","description":"<div><div><div id=\"media\" class=\"rich_media_thumb_wrp\">\n\n            <img class=\"rich_media_thumb\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/sz_mmbiz_jpg/YrezxckhYOyGoBwSHNfXCWEWZibhpqTCD0wV8Iqnib0F0BxhZQEtUTBxvWL1YiayOiag3nicSGHrPNG8W8obTNZegvg/0?wx_fmt=jpeg?imageView2/1/w/600\">\n        </div>\n    \n\n    \n\n    <div class=\"rich_media_content\" id=\"js_content\">\n                    \n\n                    \n                    \n                    \n                    <section style=\"line-height: 1.75em;\" data-mpa-powered-by=\"yiban.io\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>随着业务越来越复杂，数据量越来越大，并发量越来越大，数据库的性能越来越低。好不容易找运维申请了两台机器，让DBA部署了几个实例，想把一些业务库拆分出来，却发现</span><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif rgb>一个库里几百个表</span><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>，拆不出来，扩不了容，尴尬！</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif> </span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><strong>因为数据库强关联在一起，无法通过增加数据库实例扩容，就是一个耦合的典型案例。</strong></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif> </span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><strong>什么样的场景会出现这类耦合？</strong></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>举个栗子。<br></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><br></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>有一个公共用户数据库DB_USER，里面table_user存放了<span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif rgb>通用的用户数据</span>：</span></section><p style=\"line-height: normal;\"><span style=\"font-size: 12px;\"><em><span style=\"color: rgb(0, 82, 255);font-family: \" helvetica neue sans gb yahei arial sans-serif>table_user (uid, name, passwd, …)</span></em></span><span style=\"color: rgb(0, 82, 255);font-family: \" helvetica neue sans gb yahei arial sans-serif></span></p><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif> </span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>在数据量比较小，并发量比较小，业务还没有这么复杂的时候，为了提高资源利用率（程序员才没有考虑什么资源利用率，更多的是图方便），业务A把<span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif rgb>用户个性化的数</span>据也放在这个库里：</span></section><p style=\"line-height: normal;\"><span style=\"color: rgb(0, 82, 255);font-family: \" helvetica neue sans gb yahei arial sans-serif><em>table_A(uid, A业务的个性化属性)</em></span></p><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif> </span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>业务A有一个需求，<span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif rgb>即要展现用户公共属性，又要展现业务A个性化属性</span>，程序员经常这么实现的：</span></section><p style=\"line-height: normal;\"><span style=\"color: rgb(0, 82, 255);font-family: \" helvetica neue sans gb yahei arial sans-serif><em>select * from table_user, table_A</em></span></p><p style=\"line-height: normal;\"><span style=\"color: rgb(0, 82, 255);font-family: \" helvetica neue sans gb yahei arial sans-serif><em>      where table_user.uid = table_A.uid</em></span></p><p style=\"line-height: normal;\"><span style=\"color: rgb(0, 82, 255);font-family: \" helvetica neue sans gb yahei arial sans-serif><em>      and table_user.uid = $uid</em></span></p><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif> </span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>初期关联查询没有任何问题，单条记录访问，命中索引，一次查询所有数据，简单高效。</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif> </span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><strong>如何产生各业务数据耦合？</strong></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>通过join实现业务，导致通用表table_user和业务表table_A必须存在于一个数据库实例里。</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><br></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>如果业务B也这么做，业务C也这么做，会导致</span><strong style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>公用业务，业务A，业务B，业务C都<span style=\"color: rgb(255, 76, 0);\">必须存在于一个数据库实例</span>里</strong><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>。</span></section><section style=\"line-height: 1.75em;\"><br></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><strong>会产生什么潜在问题呢？</strong></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>假如A业务线上线了一个新功能，不小心进行了全表扫描，导致数据库CPU100%，数据库实例性能下降，由于实例共用，通用业务，业务B和业务C都会受影响。</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif> </span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>即某个业务线的数据库性能急剧下降导致所有业务都受影响，这种耦合，历史总是惊人的相似：</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><strong> - 业务B的大boss</strong>在群里首先发飙：“<span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif rgb>技术都干啥了，怎么系统挂了</span>”</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><strong> - 业务B的rd</strong>一脸无辜：“<span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif rgb>业务A上线了，所以我们挂了</span>”</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>额，然而，这个理由，好像在大boss那解释不通…</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><strong> - 业务B的大boss</strong>：“<span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif rgb>赶紧加几台机器，拆分开</span>”</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><strong> - 业务B的rd</strong>一脸无奈：“<span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif rgb>加机器加实例也扩容不了</span>”</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><strong> - 业务B的大boss</strong>对业务2的rd吼道“<span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif rgb>还想甩锅，拖出去祭天</span>”</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif> - ...<br></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><br></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>唉，加了几台机器，加了几个实例，然而并没有什么卵用，都耦合在一个实例里，完全扩不了容。</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif> </span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><strong>那，如何解除公共数据库与业务数据库的耦合？</strong></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><strong><br></strong></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><strong>第一步：公共数据访问下沉<span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif rgb>服务化。</span></strong></span></section><section style=\"line-height: 1.75em;\"><img data-copyright=\"0\" data-ratio=\"0.3855855855855856\" data-s=\"300,640\" data-type=\"png\" data-w=\"555\" style=\"max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/YrezxckhYOycklag15ia3xJzuSMfPkWJ8LzZZjh7wiaAdutVJo1zWNiaMeKmiaeObew2fNEDj5DUPt8FURjd1cFUEg/640?wx_fmt=png\"></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>还是上面的例子，当公共的user数据访问服务化之后，依据服务化的原则：</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>（1）业务层只能通过服务RPC接口访问数据；</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>（2）底层user库属于user服务私有；</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>（3）任何上游不允许跨过服务访问底层的user库；</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><br></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><strong>第二步：<span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif rgb>垂直拆分</span>，个性化数据访问上浮。</strong></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>原来业务方：</span><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>通过join一次性获取通用的数据和个性化的业务数据数据。</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><br></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>服务化+垂直拆分后，变成两次访问：</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>（1）一次取得业务数据（业务可以直接调用自己的数据库，也可以自己做业务服务调用RPC接口）；</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>（2）一次取得共性数据（调用通用的RPC接口）；</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><br></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>两种方式相比：</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><strong>（1）之前的方式</strong>其实<span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif rgb>业务代码可能会更简单一些</span>，因为它是将这个业务逻辑放在了SQL语句中，但是导致<strong>数据库耦合</strong>在了一起；</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><strong>（2）后面这种方式</strong>就是<span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif rgb>业务的代码会更复杂</span>，会变成多次访问，将<span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif rgb>原来在SQL中进行的逻辑计算变成业务代码中的逻辑计算<span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif rgb>，但是<strong>数据库解耦了；</strong></span></span></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif rgb><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif rgb><strong><br></strong></span></span></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>业务复杂，数据量大，并发老大，对扩展性要求更高的架构，一定是后者。<br></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><br></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>此时各业务有自己的库，公共有公共的库：</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><strong>（1）早期</strong>：可以放在一个数据库实例里；</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><strong>（2）后期</strong>：可以很容易地通过新增数据库实例，把user库或者业务A/B/C的库拆分出来，实现<span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif rgb>增加机器增加实例就实现扩容；</span></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><br></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><strong>个性业务数据访问<span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif rgb>垂直拆分</span>，共性数据访问<span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif rgb>服务化</span>下沉</strong>，只是一个很小的优化点，但对于<span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif rgb>数据库解耦</span>却是非常的有效。</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif><br></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>希望大家每天收获一点点，这样架构就能美好一点点。</span></section><section class=\"mp_profile_iframe_wrp\"><mpprofile class=\"js_uneditable custom_select_card mp_profile_iframe\" data-pluginname=\"mpprofile\" data-id=\"MjM5ODYxMDA5OQ==\" data-headimg=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/YrezxckhYOxbibeY4UQvLjjG76dIsbXYGaaKCJpqU0kzRuu3r2CXosccgtc57I15CePibfpQMd5dBibXZDNNZYtkg/0?wx_fmt=png\" data-nickname=\"架构师之路\" data-alias=\"road5858\" data-signature=\"架构师之路，坚持撰写接地气的架构文章\" data-from=\"0\"></mpprofile></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>你见过一个库里耦合了几百个表吗？</span><br><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif></span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif>那帮<span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif rgb>转</span>下。</span></section><section style=\"line-height: 1.75em;\"><span style=\"font-family:Helvetica Neue, Helvetica, Hiragino Sans GB, Microsoft YaHei, Arial, sans-serif;\"><span style=\"font-size: 15px;letter-spacing: 1px;\"><br></span></span></section><section style=\"font-family: -apple-system, BlinkMacSystemFont, \" helvetica neue sc sans gb yahei ui arial sans-serif normal rgb><strong><span style=\"font-size: 15px;letter-spacing: 1px;\">推荐文章</span></strong><span style=\"font-size: 15px;letter-spacing: 1px;\">：</span></section><section style=\"font-family: -apple-system, BlinkMacSystemFont, \" helvetica neue sc sans gb yahei ui arial sans-serif normal rgb><span style=\"font-size: 15px;letter-spacing: 1px;\">《<a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&amp;mid=2651968260&amp;idx=1&amp;sn=7452a6de3dd01fbe16fafbd41974dccd&amp;chksm=bd2d66d88a5aefcec46049d31add7a57ae2e73f0aa70563c74acb9b2ce8b135224a83ad1ca1b&amp;scene=21#wechat_redirect\" data-itemshowtype=\"0\" tab=\"innerlink\" data-linktype=\"2\" hasload=\"1\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);cursor: pointer;\">每秒100W次的计数，架构这样设计</a>》</span></section><section style=\"font-family: -apple-system, BlinkMacSystemFont, \" helvetica neue sc sans gb yahei ui arial sans-serif normal rgb><span style=\"font-size: 15px;letter-spacing: 1px;\">《<a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&amp;mid=2651968409&amp;idx=1&amp;sn=0d99c4f5977e3eada6eee94119651c24&amp;chksm=bd2d66458a5aef535f35a0ab9813be776581ef54ea32ed3d1b11b844d7255f41d74082845ea0&amp;scene=21#wechat_redirect\" data-itemshowtype=\"0\" tab=\"innerlink\" data-linktype=\"2\" hasload=\"1\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);cursor: pointer;\">数据库软件架构，到底要设计些什么</a>》</span></section><section style=\"font-family: -apple-system, BlinkMacSystemFont, \" helvetica neue sc sans gb yahei ui arial sans-serif normal rgb><span style=\"font-size: 15px;letter-spacing: 1px;\">《<a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&amp;mid=2651968497&amp;idx=1&amp;sn=0ff641f7bf22f3528705e1ca2f8bb6c3&amp;chksm=bd2d662d8a5aef3b7e1cbaa5d39b4837ec97e658bb5aac6acc5a55507619c5c9ed9428f8c73e&amp;scene=21#wechat_redirect\" data-itemshowtype=\"0\" tab=\"innerlink\" data-linktype=\"2\">拷贝代码，居然还有这等好处？</a>》</span></section><section style=\"font-family: -apple-system, BlinkMacSystemFont, \" helvetica neue sc sans gb yahei ui arial sans-serif normal rgb><span style=\"font-size: 15px;letter-spacing: 1px;\"></span></section><section style=\"font-family: -apple-system, BlinkMacSystemFont, \" helvetica neue sc sans gb yahei ui arial sans-serif normal rgb><span style=\"font-size: 15px;letter-spacing: 1px;\">《<a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&amp;mid=2651968479&amp;idx=1&amp;sn=2ddbf715d8aa34b3e5ab898e9a97003e&amp;chksm=bd2d66038a5aef15967f48ca2167b42526b2d1bfdcf7f56df8a61346639abd63c4ff9cc16213&amp;scene=21#wechat_redirect\" data-itemshowtype=\"0\" tab=\"innerlink\" data-linktype=\"2\">没钱就是没钱，那不是吃苦</a>》</span><span style=\"font-family: \" helvetica neue sans gb yahei arial sans-serif></span></section>\n                </div>\n\n    \n        <br>\n        <div id=\"js_toobar3\" class=\"rich_media_tool\">\n            <a target=\"_blank\" href=\"https://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==%5Cx26amp;mid=2651968497%5Cx26amp;idx=1%5Cx26amp;sn=0ff641f7bf22f3528705e1ca2f8bb6c3%5Cx26amp;chksm=bd2d662d8a5aef3b7e1cbaa5d39b4837ec97e658bb5aac6acc5a55507619c5c9ed9428f8c73e%5Cx26amp;token=2025249901%5Cx26amp;lang=zh_CN#rd\" id=\"js_view_source\" class=\"media_tool_meta meta_primary\">阅读原文</a>\n        </div>\n    \n    <br>\n\n    \n        <a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&amp;mid=2651968541&amp;idx=1&amp;sn=8398c61500a0b22a14a9b3f4674eb8f2&amp;chksm=bd2d61c18a5ae8d7d97da4810e06ce4c33cd6758c927394151a09b49f87a5df531dc0d1bd6d6&amp;scene=0#rd\" style=\"color: blue\" class=\"media_tool_meta meta_primary\">原文</a>\n        <br>\n    \n\n    \n        </div>","descriptionType":"html","publishedDate":"Fri, 13 Aug 2021 13:01:00 +0000","feedId":2240,"bgimg":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/sz_mmbiz_jpg/YrezxckhYOyGoBwSHNfXCWEWZibhpqTCD0wV8Iqnib0F0BxhZQEtUTBxvWL1YiayOiag3nicSGHrPNG8W8obTNZegvg/0?wx_fmt=jpeg?imageView2/1/w/600","linkMd5":"bce32ee6119a22cd348ac9c8ad38c959","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn65@2020_6/2021/08/15/03-59-25-826_d3eac2b01d7a0004.webp","destWidth":853,"destHeight":363,"sourceBytes":36643,"destBytes":28942,"author":"","articleImgCdnMap":{"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/sz_mmbiz_jpg/YrezxckhYOyGoBwSHNfXCWEWZibhpqTCD0wV8Iqnib0F0BxhZQEtUTBxvWL1YiayOiag3nicSGHrPNG8W8obTNZegvg/0?wx_fmt=jpeg?imageView2/1/w/600":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn65@2020_6/2021/08/15/03-59-25-826_d3eac2b01d7a0004.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/YrezxckhYOycklag15ia3xJzuSMfPkWJ8LzZZjh7wiaAdutVJo1zWNiaMeKmiaeObew2fNEDj5DUPt8FURjd1cFUEg/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn94@2020_1/2021/08/15/03-59-41-451_37f101d3feb91c69.webp"},"publishedOrCreatedDate":1628999941697}],"record":{"createdTime":"2021-08-15 11:59:01","updatedTime":"2021-08-15 11:59:01","feedId":2240,"fetchDate":"Sun, 15 Aug 2021 03:59:01 +0000","fetchMs":171,"handleMs":11,"totalMs":40325,"newArticles":0,"totalArticles":5,"status":1,"type":0,"ip":"245d88d7b2d8f26704713c23b090d029","hostName":"us-006*","requestId":"4cbf4bdaf9b9438faaca7069ce6efe5e_2240","contentType":"application/rss+xml","totalBytes":42050,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":2,"articlesImgsGithubTotal":2,"successGithubMap":{"myreaderx4":1,"myreaderx32":1},"failGithubMap":{}},"feed":{"createdTime":"2020-08-24 21:31:38","updatedTime":"2020-09-01 10:02:14","id":2240,"name":"架构师之路","url":"http://feedmaker.kindle4rss.com/feeds/gh_10a6b96351a9.weixin.xml","subscriber":null,"website":null,"icon":"http://www.sogou.com/images/logo/new/favicon.ico?v=4","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx63/cdn89@2020_4/2020/09/01/02-02-15-297_d24121c9beed1de6.ico","description":"架构师之路，坚持撰写接地气的架构文章","weekly":null,"link":null},"noPictureArticleList":[],"tmpCommonImgCdnBytes":28942,"tmpBodyImgCdnBytes":13108,"tmpBgImgCdnBytes":0,"extra4":{"start":1628999941515,"total":0,"statList":[{"spend":172,"msg":"获取xml内容"},{"spend":11,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":15579,"msg":"正文链接上传到cdn"}]},"extra5":2,"extra6":2,"extra7ImgCdnFailResultVector":[],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://europe66.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/sz_mmbiz_jpg/YrezxckhYOyGoBwSHNfXCWEWZibhpqTCD0wV8Iqnib0F0BxhZQEtUTBxvWL1YiayOiag3nicSGHrPNG8W8obTNZegvg/0?wx_fmt=jpeg?imageView2/1/w/600","sourceStatusCode":200,"destWidth":853,"destHeight":363,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn65@2020_6/2021/08/15/03-59-25-826_d3eac2b01d7a0004.webp","sourceBytes":36643,"destBytes":28942,"targetWebpQuality":75,"feedId":2240,"totalSpendMs":24416,"convertSpendMs":11,"createdTime":"2021-08-15 11:59:01","host":"europe-22*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E6%9E%B6%E6%9E%84%E5%B8%88%E4%B9%8B%E8%B7%AF+%E6%88%91C%EF%BC%8C%E4%B8%80%E4%B8%AA%E5%BA%93%E9%87%8CCurry%E5%87%A0%E7%99%BE%E4%B8%AA%E8%A1%A8%EF%BC%8C%E8%BF%99%E8%B0%81%E5%8F%97%E5%BE%97%E4%BA%86%EF%BC%9F","linkMd5ListStr":"bce32ee6119a22cd348ac9c8ad38c959,bce32ee6119a22cd348ac9c8ad38c959","githubUser":"myreaderx4","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"35.8 KB","destSize":"28.3 KB","compressRate":"79%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/YrezxckhYOycklag15ia3xJzuSMfPkWJ8LzZZjh7wiaAdutVJo1zWNiaMeKmiaeObew2fNEDj5DUPt8FURjd1cFUEg/640?wx_fmt=png","sourceStatusCode":200,"destWidth":555,"destHeight":214,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn94@2020_1/2021/08/15/03-59-41-451_37f101d3feb91c69.webp","sourceBytes":16256,"destBytes":13108,"targetWebpQuality":75,"feedId":2240,"totalSpendMs":15427,"convertSpendMs":6,"createdTime":"2021-08-15 11:59:26","host":"europe66*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E6%9E%B6%E6%9E%84%E5%B8%88%E4%B9%8B%E8%B7%AF+%E6%88%91C%EF%BC%8C%E4%B8%80%E4%B8%AA%E5%BA%93%E9%87%8CCurry%E5%87%A0%E7%99%BE%E4%B8%AA%E8%A1%A8%EF%BC%8C%E8%BF%99%E8%B0%81%E5%8F%97%E5%BE%97%E4%BA%86%EF%BC%9F","linkMd5ListStr":"bce32ee6119a22cd348ac9c8ad38c959","githubUser":"myreaderx32","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"15.9 KB","destSize":"12.8 KB","compressRate":"80.6%"}],"successGithubMap":{"myreaderx4":1,"myreaderx32":1},"failGithubMap":{}}