{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2021-04-27 01:46:00","updatedTime":"2021-04-27 01:46:00","title":"Deno 1.9 发布，重要更新速览","link":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+Deno%201.9%20%E5%8F%91%E5%B8%83%EF%BC%8C%E9%87%8D%E8%A6%81%E6%9B%B4%E6%96%B0%E9%80%9F%E8%A7%88","description":"<div><div><div id=\"media\" class=\"rich_media_thumb_wrp\">\n\n            <img class=\"rich_media_thumb\" src=\"http://content.sov5.cn/mmbiz_jpg/XIibZ0YbvibkXxWL6iaBE7yJFfAtkr8huUicBvQ3APRfW7mQVfTN2GD4BbicAicc0ibx19G5lRvASVVVqrGcR5ugWfpxg?imageView2/1/w/600\">\n        </div>\n    \n\n    \n\n    <div class=\"rich_media_content\" id=\"js_content\">\n                    \n\n                    \n                    \n                    \n                    <section style=\"color: rgb(63, 63, 63);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;white-space: normal;box-sizing: border-box;text-align: left;\"><img data-ratio=\"0.66640625\" data-type=\"jpeg\" data-w=\"1280\" style=\"width: 1255.33px; border-radius: 4px; margin-bottom: 25px; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/XIibZ0YbvibkXxWL6iaBE7yJFfAtkr8huUiciae0yBeibLoEJzqgm72bhH3iaKicXsPwGHuqasheu9jH6pQJ2LhKM3SnSw/640?wx_fmt=jpeg\"></section><section style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;white-space: normal;box-sizing: border-box;font-size: 14px;color: rgb(145, 145, 145);text-align: left;line-height: 1em;margin-top: 13px;padding-left: 14px;\">作者 | Deno 官网</section><section style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;white-space: normal;box-sizing: border-box;font-size: 14px;color: rgb(145, 145, 145);text-align: left;line-height: 1em;margin-top: 13px;padding-left: 14px;\">译者 | Sambodhi</section><section style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;white-space: normal;box-sizing: border-box;font-size: 14px;color: rgb(145, 145, 145);text-align: left;line-height: 1em;margin-top: 13px;padding-left: 14px;\">策划 | 田晓旭</section><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">4 月 13 日， Deno 1.9.0 正式发布。这次发布包括了很多新功能、性能改进和 Bug 修复：</p><ul class=\"list-paddingleft-2\" style=\"list-style-type: disc;\"><li><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">原生 HTTP/2 Web 服务器：Deno 中快速、正确、全功能 HTTP 服务器；</p></li><li><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">Rust 在 serde_v8 中的调用速度更快：相对于我们的基线运行开销提高了 98%；</p></li><li><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">支持 blob URL 和<code>fetch</code>改进：新的 Web 兼容性功能；</p></li><li><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">交互权限提示：以交互方式提示使用权限，而非预先声明。</p></li></ul><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">若已安装 Deno，则可通过运行<code>deno upgrade</code>将其升级到 1.9.0 版本。若是首次安装 Deno，则可使用下面列出的方法之一：</p><pre style=\"font-size: 16px;margin-top: 30px;margin-right: 8px;margin-left: 8px;text-align: left;background-color: rgb(50, 50, 50);overflow-x: auto;padding: 16px;border-radius: 5px;color: rgb(91, 172, 235);\"><code># Using Shell (macOS and Linux):<br>curl -fsSL https://deno.land/x/install/install.sh | sh<br># Using PowerShell (Windows):<br>iwr https://deno.land/x/install/install.ps1 -useb | iex<br># Using Homebrew (macOS):<br>brew install deno<br># Using Scoop (Windows):<br>scoop install deno<br># Using Chocolatey (Windows):<br>choco install deno<br></code></pre><section style=\"color: rgb(63, 63, 63);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;white-space: normal;box-sizing: border-box;text-align: center;font-size: 20px;\"><span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>新增功能及变更</span></section><section style=\"color: rgb(63, 63, 63);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;white-space: normal;box-sizing: border-box;text-align: center;\"><span style=\"display: inline-block;height: 38px;line-height: 42px;color: rgb(60, 112, 198);background-image: url(\" https: left center no-repeat initial>原生 HTTP/2 Web 服务器</span></section><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">当前 Deno 中的 HTTP 服务器，std/http，使用纯 TypeScript 开发，在 TCP 套接字之上实现。虽然用的是脚本式 HTTP 服务器，但是它的尾部延迟效果还是非常不错的。但是 std/http 的主要缺点是它只支持 HTTP/1.1，并且难以升级到 HTTP/2。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">归根结底，我们并不想编写 HTTP 服务器。HTTP 正在变得越来越不简单，而且在原生代码中已经有了实现很好的 HTTP 服务器。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">所以，我们在 Deno 中使用 Hyper 来构建新的原生 HTTP/2 服务器 API。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">这个绑定使 hello-world 相对于 std/http 的纯 TypeScript 实现的 HTTP 服务器的吞吐量增加了 48%。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><img data-ratio=\"0.6666666666666666\" data-type=\"jpeg\" data-w=\"864\" style=\"width: 1239.33px; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/XIibZ0YbvibkXxWL6iaBE7yJFfAtkr8huUicSozE3kiaseJzFfnPXJwZGxYNpHuKRMP2oKibWXAtgXEm1wN1anfg4n8A/640?wx_fmt=jpeg\"></p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">我们希望这个新的 API 很快能进入稳定阶段，但现在开发者必须使用<code>--unstable</code>标志。</p><pre style=\"font-size: 16px;margin-top: 30px;margin-right: 8px;margin-left: 8px;text-align: left;background-color: rgb(50, 50, 50);overflow-x: auto;padding: 16px;border-radius: 5px;color: rgb(91, 172, 235);\"><code>const body = new TextEncoder().encode(\"Hello World\");<br>for await (const conn of Deno.listen({ port: 4500 })) {<br>(async () =&gt; {<br>for await (const { respondWith } of Deno.serveHttp(conn)) {<br>respondWith(new Response(body));<br>}<br>})();<br>}<br></code></pre><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">我们特别注意使用与<code>fetch()</code>API 相同的<code>Request</code>和<code>Response</code>对象。Request 和 Response 对象都具有可流式传输的主体，允许与客户端进行全双工通信。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">还请参阅下面关于 ALPN 的部分，它是通过 TLS 发布 HTTP/2 所必需的。</p><section style=\"color: rgb(63, 63, 63);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;white-space: normal;box-sizing: border-box;text-align: center;\"><span style=\"display: inline-block;height: 38px;line-height: 42px;color: rgb(60, 112, 198);background-image: url(\" https: left center no-repeat initial>Rust 在 serde_v8 中的调用速度更快</span></section><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">我们重新构建了绑定基础设施，使其更加简单和快捷：我们已经从核心中删除了超过 1500 行代码，改进了基线绑定 （也称为 op 或 opcall） 的开销，达到 65 倍或 98% 左右，并且构建了一个干净的 op 基础，对未来发展有一定帮助（插件，未来的优化等等）。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">早期的 Deno 版本中， opcall 遵循请求 / 响应模式，在 ArrayBuffers 的定制“有效负载”中对其数据进行编码。过去，这些负载使用了不同的编码，从 JSON、 flatbuffers 到定制二进制编码……这不仅仅是一个性能瓶颈，而且也是复杂性和碎片化的重要来源。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">@AaronO 建议，不要在 JS 和 Rust 这两种二进制格式之间来回序列化，而是直接在 v8 和 Rust 值之间进行序列化，这样效率更高。基于这种洞察力和快速原型，serde v8 诞生了。serde_v8 的目标是在 v8 和 Rust 之间提供一种“最大效率”或“零开销”的双射，同时保持表达性和熟悉性（因为它建立在 David Tolnay 奇妙的 serde 库之上）。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">基线 op 开销是衡量给定类 opcall 的最小开销 （单位为每个调用的纳秒） 的一个重要基准。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><img data-ratio=\"0.5\" data-type=\"jpeg\" data-w=\"1536\" style=\"width: 1239.33px; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/XIibZ0YbvibkXxWL6iaBE7yJFfAtkr8huUicvren7IWicic0TG0DeU9c0ibpYFiccFPDHxiaSn8iagm8JS7iaVy1bJ5N5le8g/640?wx_fmt=jpeg\"></p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">这些 op-layer 的改进并非简单的学术性改进，而是对 Deno 的效率有很大的提升，并且有助于提高 HTTP 测试的吞吐量和延迟。你可以在你自己的 Deno 程序中看到在重负荷下或者是以前遇到的 opcall 效率瓶颈时的改进。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><img data-ratio=\"0.5\" data-type=\"jpeg\" data-w=\"1536\" style=\"width: 1239.33px; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/XIibZ0YbvibkXxWL6iaBE7yJFfAtkr8huUicSgJ32vrBzcnRSZb8pHiaNvBzHfYocZznADbOCVtmfZbpVnqnFwWTAog/640?wx_fmt=jpeg\"></p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">就像你看到的，Deno 中很多常用的功能现在都可以快 3 倍地运行。</p><section style=\"color: rgb(63, 63, 63);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;white-space: normal;box-sizing: border-box;text-align: center;\"><span style=\"display: inline-block;height: 38px;line-height: 42px;color: rgb(60, 112, 198);background-image: url(\" https: left center no-repeat initial>支持 blob URL 和 fetch 改进</span></section><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">新版本中引入了对<code>blob:</code>（又称对象 URL） 的支持。用来创建和撤销 blob URL 的 API 与浏览器中的相同：</p><pre style=\"font-size: 16px;margin-top: 30px;margin-right: 8px;margin-left: 8px;text-align: left;background-color: rgb(50, 50, 50);overflow-x: auto;padding: 16px;border-radius: 5px;color: rgb(91, 172, 235);\"><code>const blob = new Blob([\"Hello World!\"]);<br>const url = URL.createObjectURL(blob);<br>console.log(url); // blob:null/7b09af21-03d5-461e-90a3-af329667d0ac<br>const resp = await fetch(url);<br>console.log(await resp.text()); // Hello World!<br>URL.revokeObjectURL(url);<br></code></pre><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">blob URLs 可用于<code>fetch</code>，使用<code>new Worker</code>来实例化 Web Worker，以及动态导入（使用<code>import()</code>）。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">除了 blob URL 外，<code>fetch</code>现在还支持<code>data</code>URL。</p><pre style=\"font-size: 16px;margin-top: 30px;margin-right: 8px;margin-left: 8px;text-align: left;background-color: rgb(50, 50, 50);overflow-x: auto;padding: 16px;border-radius: 5px;color: rgb(91, 172, 235);\"><code>const resp = await fetch(\"data:text/plain;base64,SGVsbG8gV29ybGQh\");<br>console.log(await resp.text()); // Hello World!<br></code></pre><section style=\"color: rgb(63, 63, 63);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;white-space: normal;box-sizing: border-box;text-align: center;\"><span style=\"display: inline-block;height: 38px;line-height: 42px;color: rgb(60, 112, 198);background-image: url(\" https: left center no-repeat initial>在 LSP 中 import 补全</span></section><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">这次发布的 Deno Language Server 中，为 Deno 提供了强大的工具，用于扩展其编辑器的功能，这些功能有一些很好的新功能和改进。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">首先，对原有的 VS Code 扩展进行了改进，重新引入了 import（导入）补全功能。在 import 语句中，用户可以得到自动补全。LSP 提供本地文件的补全，已下载到 DENO_DIR 缓存中的文件的补全，以及注册表的补全。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">若要为 https://deno.land/x 启用注册表补全功能，请将以下内容添加到 VS Code （或其他编辑器) 的设置中：</p><pre style=\"font-size: 16px;margin-top: 30px;margin-right: 8px;margin-left: 8px;text-align: left;background-color: rgb(50, 50, 50);overflow-x: auto;padding: 16px;border-radius: 5px;color: rgb(91, 172, 235);\"><code>{<br>\"deno\": {<br>\"suggest\": {<br>\"imports\": {<br>\"hosts\": {<br>\"https://deno.land\": true<br>}<br>}<br>}<br>}<br>}<br></code></pre><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">目前，注册表的自动补全目前由 https://deno.land/x 提供。我们希望更多的注册表能够实施注册中心协议来支持这项新功能。已显示出兴趣的 Skypack 注册表可能将很快得到支持。如果你想为自己的注册表添加支持，你可以阅读 注册表补全文档。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">除了新的 import 补全之外，我们还实现了<code>textDocument/foldingRange</code>和<code>textDocument/selectionRange</code>LSP 函数，使你的编辑器在选择期间能够更好地抓取文本，并更好地支持对代码块的折叠和扩展。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">这次发布还修复了 LSP 中的很多错误，其中最突出的就是 Windows 系统中出现了一个令人讨厌的 Bug，当 LSP 遇到特定的<code>file://URL</code>时，它会引起 LSP 的“恐慌”。</p><section style=\"color: rgb(63, 63, 63);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;white-space: normal;box-sizing: border-box;text-align: center;\"><span style=\"display: inline-block;height: 38px;line-height: 42px;color: rgb(60, 112, 198);background-image: url(\" https: left center no-repeat initial><code>--allow-env</code>和<code>--allow-run</code>的允许列表</span></section><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">有几个 Deno 的权限标志接受允许列表，它们可以在一个粒度范围内实现程序权限。比如<code>--allow-read=/tmp</code>仅对<code>/tmp</code>目录授予读取权限。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">在 1.9 版本之前，<code>--allow-env</code>和<code>--allow-run</code>都是全开或全关，这意味着通过这些标志将授予对环境变量的完全访问权限，并且可以分别为系统中的任何二进制文件生成子进程。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">现在可以精确地指定程序应该访问哪些环境变量，或者允许程序产生哪些子进程：</p><pre style=\"font-size: 16px;margin-top: 30px;margin-right: 8px;margin-left: 8px;text-align: left;background-color: rgb(50, 50, 50);overflow-x: auto;padding: 16px;border-radius: 5px;color: rgb(91, 172, 235);\"><code>$ deno run --allow-env=DEBug,LOG https://deno.com/v1.9/env_permissions.ts<br>$ deno run --allow-run=deno https://deno.com/v1.9/run_permissions.ts<br></code></pre><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">此外，<code>Deno.permissions.query()</code>现在允许通过使用命令字段查询执行特定二进制文件的权限。</p><pre style=\"font-size: 16px;margin-top: 30px;margin-right: 8px;margin-left: 8px;text-align: left;background-color: rgb(50, 50, 50);overflow-x: auto;padding: 16px;border-radius: 5px;color: rgb(91, 172, 235);\"><code>await Deno.permissions.query({ name: \"run\", command: \"deno\" });<br></code></pre><section style=\"color: rgb(63, 63, 63);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;white-space: normal;box-sizing: border-box;text-align: center;\"><span style=\"display: inline-block;height: 38px;line-height: 42px;color: rgb(60, 112, 198);background-image: url(\" https: left center no-repeat initial>交互式权限提示</span></section><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">当前在 Deno 中，如果所运行的程序缺少适当的权限标志，就会抛出错误并退出。在 1.9 版本中，我们添加了<code>--prompt</code>标志，允许用户在运行期间根据需要迭代授予权限。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">使用<code>--prompt</code>在从互联网上运行一次性脚本时特别有用：不需要事先知道所有需要的权限，而是可以不带任何权限地运行脚本，并在程序要求时逐个地授予或拒绝它们。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">自己运行演示：</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><code>deno run --prompt https://deno.com/v1.9/prompt_permissions.ts</code></p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">请让我们知道<code>--prompt</code>对你是否有用。在将来的版本中我们会考虑默认启用它。</p><section style=\"color: rgb(63, 63, 63);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;white-space: normal;box-sizing: border-box;text-align: center;\"><span style=\"display: inline-block;height: 38px;line-height: 42px;color: rgb(60, 112, 198);background-image: url(\" https: left center no-repeat initial>在<code>Deno.listenTls</code>中支持 ALPN</span></section><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">HTTP/2 协议与连接无关。也就是说，它可以用于 Unix 套接字， TCP 套接字，或者使用 TLS 的连接。主流浏览器只允许在 TLS 握手过程中宣布支持 HTTP/2 的 TLS 连接。它通过“应用层协议协商”TLS 扩展来实现，也被称为 ALPN。这种对 TLS 握手的扩展允许 TLS 服务器和客户端就它们将使用哪种应用协议来进行 TLS 连接通信进行协商。HTTP/1.1 和 HTTP/2 是网络上两个主要的应用协议。这些协议的 ALPN 名称分别为“http/1.1”和“h2”。浏览器只会将 HTTP/ 2 请求发送到声明支持 HTTP/2 的服务器。如果没有列出 ALPN 协议，或者在 ALPN 协议中只列出了“http/1.1”，则将使用 HTTP/1.1。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">迄今为止，<code>std/http</code>服务器仅支持 HTTP/1.1，因此无需支持 TLS 连接上的 ALPN。当<code>Deno.serviceHttp</code>在这一版本中引入时，事情发生了变化。要在 Deno 中实现完全的 HTTP/2，我们现在添加了对指定 ALPN 协议的支持，当 TLS 侦听器通过<code>Deno.ListentLs</code>启动时，它将进行公告。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">下面是一个创建完全支持 HTTP/2 的 HTTPS 服务器的例子：</p><pre style=\"font-size: 16px;margin-top: 30px;margin-right: 8px;margin-left: 8px;text-align: left;background-color: rgb(50, 50, 50);overflow-x: auto;padding: 16px;border-radius: 5px;color: rgb(91, 172, 235);\"><code>const listener = Deno.listenTls({<br>  port: 443,<br>  certFile: \"./cert.pem\",<br>  keyFile: \"./key.pem\",<br>  alpnProtocols: [\"h2\", \"http/1.1\"],<br>});<br>for await (const conn of listener) {<br>  handleConn(conn);<br>}<br>async function handleConn(conn: Deno.Conn) {<br>  const httpConn = Deno.serveHttp(conn);<br>  for await (const { request, respondWith } of httpConn) {<br>    respondWith(new Response(`Responding to ${request.url}`));<br>  }<br>}<br></code></pre><section style=\"color: rgb(63, 63, 63);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;white-space: normal;box-sizing: border-box;text-align: center;\"><span style=\"display: inline-block;height: 38px;line-height: 42px;color: rgb(60, 112, 198);background-image: url(\" https: left center no-repeat initial>新的 API 稳定性</span></section><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">版本 1.9 带来了与文件系统相关的几个 API 的稳定性：</p><ul class=\"list-paddingleft-2\" style=\"list-style-type: disc;\"><li><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><code>Deno.fstat</code></p></li><li><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><code>Deno.fstatSync</code></p></li><li><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><code>Deno.ftruncate</code></p></li><li><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><code>Deno.ftruncateSync</code></p></li></ul><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">此外，在<code>Deno.File</code>类中添加了以下方法：</p><ul class=\"list-paddingleft-2\" style=\"list-style-type: disc;\"><li><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><code>File.stat</code></p></li><li><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><code>File.statSync</code></p></li><li><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><code>File.truncate</code></p></li><li><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><code>File.truncateSync</code></p></li></ul><section style=\"color: rgb(63, 63, 63);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;white-space: normal;box-sizing: border-box;text-align: center;\"><span style=\"display: inline-block;height: 38px;line-height: 42px;color: rgb(60, 112, 198);background-image: url(\" https: left center no-repeat initial>新的 API 弃用</span></section><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">要想让更多的 Deno 代码直接移植到浏览器和其他非 Deno 运行时中，我们决定弃用并最终从 Deno 命名空间中移除所有系统 API 不支持的 API。这些 API 将被转移到 Deno 标准库中，也可以在浏览器中使用。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">在这个版本中，我们将弃用以下 API：</p><ul class=\"list-paddingleft-2\" style=\"list-style-type: disc;\"><li><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><code>Deno.Buffer</code></p></li><li><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><code>Deno.readAll</code></p></li><li><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><code>Deno.readAllSync</code></p></li><li><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><code>Deno.writeAll</code></p></li><li><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><code>Deno.writeAllSync</code></p></li><li><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><code>Deno.iter</code></p></li><li><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><code>Deno.iterSync</code></p></li></ul><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">这些 API 已经被转移到<code>std/io</code>模块。我们在<code>deno lint</code>中引入了一个新的 lint 规则，它可以发现开发者使用这些不稳定的 API，并发出警告。它还会建议开发者在标准库找到该 API。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">在 Deno2.0 中，我们计划删除这些废弃的 API。更激进的弃用信息可能会出现在 2.0 之前的版本。请尽可能快地迁移使用这些弃用 API 的代码。</p><section style=\"color: rgb(63, 63, 63);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;white-space: normal;box-sizing: border-box;text-align: center;\"><span style=\"display: inline-block;height: 38px;line-height: 42px;color: rgb(60, 112, 198);background-image: url(\" https: left center no-repeat initial>新的默认 TypeScript 选项：<code>useDefineForClassFields</code></span></section><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">在这次发布中，我们修改了默认的 Deno tsconfig，包括<code>\"useDefineForClassFields\":true</code>选项。这个选项使 TypeScript 对类字段的处理符合标准 ECMA 脚本语义。此选项不能在用户代码中覆盖。但愿大部分用户不必更改代码。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">作者介绍：<strong style=\"text-align: left;\"></strong></p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">本文作者为 Bartek Iwańczuk、Luca Casonato、Ryan Dahl、Aaron O'Mullan。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><span style=\"color: rgb(136, 136, 136);\">原文链接：</span><strong style=\"text-align: left;\"></strong></p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><span style=\"font-size: 14px;color: rgb(136, 136, 136);\">https://deno.com/blog/v1.9</span></p><hr style=\"border-style: solid;border-width: 1px 0 0;border-color: rgba(0,0,0,0.1);-webkit-transform-origin: 0 0;-webkit-transform: scale(1, 0.5);transform-origin: 0 0;transform: scale(1, 0.5);\"><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">2021年，更多的头部 App，手机厂商都推出了自身的小程序平台。对于小程序开发者而言，如何保持小程序的高性能运行？跨多 App 平台时，如何保证良好的兼容性？小程序开发如何提升开发效率？<span style=\"font-size: 14px;color: rgb(136, 136, 136);\"></span></p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">同时在 2021 年，随着小程序平台的火热，将小程序平台作为 App 的基建也成为一个热点方向。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">针对以上的行业挑战和热点，GMTC 全球大前端技术大会北京站——「Flutter 技术探索与实践专题」将邀请一线专家，带来小程序开发和平台建设上的创新方案与落地实践，期待给予大家新的思考。</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">点击【阅读原文】或识别二维码了解更多关于 GMTC 北京 2021，目前 <span style=\"color: rgb(255, 76, 0);\">8 折</span>购票中，现在购票<span style=\"color: rgb(255, 76, 0);\">立减 960 元</span>，团购还有更多优惠！有任何问题欢迎联系票务小姐姐：13269078023（电话同微信）</p><p style=\"font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;box-sizing: border-box;white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><img class=\"rich_pages js_insertlocalimg\" data-ratio=\"0.5555555555555556\" data-s=\"300,640\" data-type=\"png\" data-w=\"900\" style=\"text-align: center; color: rgb(51, 51, 51); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont,; max-width: 600px\" helvetica neue sc sans gb yahei ui arial sans-serif src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXxWL6iaBE7yJFfAtkr8huUichTjiaxYQ3ZpSbicKicxBibsdNE0TUkd0o0AtpZJJEHjhEroU6kgicC4E8vA/640?wx_fmt=png\"></p>\n                </div>\n\n    \n        <br>\n        <div id=\"js_toobar3\" class=\"rich_media_tool\">\n            <a target=\"_blank\" href=\"https://gmtc.infoq.cn/2021/beijing/track/1046?utm_source=wechat%5Cx26amp;utm_medium=archfront%5Cx26amp;utm_campaign=8%5Cx26amp;utm_term=0426%5Cx26amp;utm_content=banner\" id=\"js_view_source\" class=\"media_tool_meta meta_primary\">阅读原文</a>\n        </div>\n    \n    <br>\n\n    \n        <a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MzUxMzcxMzE5Ng==&amp;mid=2247508854&amp;idx=1&amp;sn=06aa42a7218adb8ab9362fdbbf1ce970&amp;chksm=f9521635ce259f23b5e2046b81e718d0a19661763dcaf046146076c6b383d2c4a3f41958858c&amp;scene=0#rd\" style=\"color: blue\" class=\"media_tool_meta meta_primary\">原文</a>\n        <br>\n    \n\n    \n\n    <img alt=\"\" width=\"1px\" height=\"1px\" class=\"\" style=\"width:1px;height:1px;display:none\" src=\"http://www.jintiankansha.me/rss_static/19192/6vVSgoLPUJ\"></div></div>","descriptionType":"html","publishedDate":"Mon, 26 Apr 2021 04:00:00 +0000","feedId":2775,"bgimg":"http://content.sov5.cn/mmbiz_jpg/XIibZ0YbvibkXxWL6iaBE7yJFfAtkr8huUicBvQ3APRfW7mQVfTN2GD4BbicAicc0ibx19G5lRvASVVVqrGcR5ugWfpxg?imageView2/1/w/600","linkMd5":"8bb2348c8ac05e1bce59f3c90614efc3","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn54@2020_5/2021/04/26/17-47-03-239_528373faf3518e0d.webp","destWidth":600,"destHeight":545,"sourceBytes":43174,"destBytes":37028,"author":"","articleImgCdnMap":{"http://content.sov5.cn/mmbiz_jpg/XIibZ0YbvibkXxWL6iaBE7yJFfAtkr8huUicBvQ3APRfW7mQVfTN2GD4BbicAicc0ibx19G5lRvASVVVqrGcR5ugWfpxg?imageView2/1/w/600":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn54@2020_5/2021/04/26/17-47-03-239_528373faf3518e0d.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/XIibZ0YbvibkXxWL6iaBE7yJFfAtkr8huUiciae0yBeibLoEJzqgm72bhH3iaKicXsPwGHuqasheu9jH6pQJ2LhKM3SnSw/640?wx_fmt=jpeg":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn100@2020_2/2021/04/26/17-47-22-178_b889c6d6e59a2527.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/XIibZ0YbvibkXxWL6iaBE7yJFfAtkr8huUicSozE3kiaseJzFfnPXJwZGxYNpHuKRMP2oKibWXAtgXEm1wN1anfg4n8A/640?wx_fmt=jpeg":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn96@2020_2/2021/04/26/17-47-07-410_271398068b4317d1.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/XIibZ0YbvibkXxWL6iaBE7yJFfAtkr8huUicvren7IWicic0TG0DeU9c0ibpYFiccFPDHxiaSn8iagm8JS7iaVy1bJ5N5le8g/640?wx_fmt=jpeg":"https://cdn.jsdelivr.net/gh/myreaderx25/cdn92@2020_4/2021/04/26/17-47-19-556_9be57488dca53f16.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/XIibZ0YbvibkXxWL6iaBE7yJFfAtkr8huUicSgJ32vrBzcnRSZb8pHiaNvBzHfYocZznADbOCVtmfZbpVnqnFwWTAog/640?wx_fmt=jpeg":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn84@2020_1/2021/04/26/17-47-10-200_5cf01231cc61968b.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXxWL6iaBE7yJFfAtkr8huUichTjiaxYQ3ZpSbicKicxBibsdNE0TUkd0o0AtpZJJEHjhEroU6kgicC4E8vA/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn85@2020_2/2021/04/26/17-48-28-799_af80c01d201c835b.webp","http://www.jintiankansha.me/rss_static/19192/6vVSgoLPUJ":null},"publishedOrCreatedDate":1619459160698}],"record":{"createdTime":"2021-04-27 01:46:00","updatedTime":"2021-04-27 01:46:00","feedId":2775,"fetchDate":"Mon, 26 Apr 2021 17:46:00 +0000","fetchMs":187,"handleMs":7,"totalMs":148660,"newArticles":0,"totalArticles":5,"status":1,"type":0,"ip":"f306b40366a93aa712f78b685bea0f01","hostName":"us-008*","requestId":"eeb2dfa498984ae3b43d407909ce7b83_2775","contentType":"application/rss+xml","totalBytes":176842,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":7,"articlesImgsGithubTotal":6,"successGithubMap":{"myreaderx25":1,"myreaderx6":1,"myreaderx21":1,"myreaderx32":1,"myreaderx12":1,"myreaderx29":1},"failGithubMap":{}},"feed":{"createdTime":"2020-08-24 21:31:44","updatedTime":"2020-09-01 10:14:55","id":2775,"name":"前端之巅","url":"http://feedmaker.kindle4rss.com/feeds/frontshow.weixin.xml","subscriber":null,"website":null,"icon":"http://www.sogou.com/images/logo/new/favicon.ico?v=4","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx63/cdn48@2020_6/2020/09/01/02-14-41-796_d24121c9beed1de6.ico","description":"InfoQ大前端技术社群：囊括前端、移动、Node全栈一线技术，紧跟业界发展步伐。","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2021-04-27 01:48:29","updatedTime":"2021-04-27 01:48:29","id":null,"feedId":2775,"linkMd5":"8bb2348c8ac05e1bce59f3c90614efc3"}],"tmpCommonImgCdnBytes":37028,"tmpBodyImgCdnBytes":139814,"tmpBgImgCdnBytes":0,"extra4":{"start":1619459160403,"total":0,"statList":[{"spend":288,"msg":"获取xml内容"},{"spend":7,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":85563,"msg":"正文链接上传到cdn"}]},"extra5":7,"extra6":7,"extra7ImgCdnFailResultVector":[null,{"code":1,"isDone":false,"source":"http://www.jintiankansha.me/rss_static/19192/6vVSgoLPUJ","sourceStatusCode":405,"sourceBytes":0,"destBytes":0,"feedId":2775,"totalSpendMs":556,"convertSpendMs":0,"createdTime":"2021-04-27 01:47:03","host":"europe61*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+Deno%201.9%20%E5%8F%91%E5%B8%83%EF%BC%8C%E9%87%8D%E8%A6%81%E6%9B%B4%E6%96%B0%E9%80%9F%E8%A7%88","linkMd5ListStr":"8bb2348c8ac05e1bce59f3c90614efc3","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[405],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"http://www.jintiankansha.me/rss_static/19192/6vVSgoLPUJ","sourceStatusCode":405,"sourceBytes":0,"destBytes":0,"feedId":2775,"totalSpendMs":478,"convertSpendMs":0,"createdTime":"2021-04-27 01:47:04","host":"us-005*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+Deno%201.9%20%E5%8F%91%E5%B8%83%EF%BC%8C%E9%87%8D%E8%A6%81%E6%9B%B4%E6%96%B0%E9%80%9F%E8%A7%88","linkMd5ListStr":"8bb2348c8ac05e1bce59f3c90614efc3","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[405],"sourceSize":"0","destSize":"0"},null],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://europe-23.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-005.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[405]},"http://us-034.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://europe61.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[405]},"http://us-035.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-023.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-011.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"http://content.sov5.cn/mmbiz_jpg/XIibZ0YbvibkXxWL6iaBE7yJFfAtkr8huUicBvQ3APRfW7mQVfTN2GD4BbicAicc0ibx19G5lRvASVVVqrGcR5ugWfpxg?imageView2/1/w/600","sourceStatusCode":200,"destWidth":600,"destHeight":545,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn54@2020_5/2021/04/26/17-47-03-239_528373faf3518e0d.webp","sourceBytes":43174,"destBytes":37028,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":2675,"convertSpendMs":12,"createdTime":"2021-04-27 01:47:00","host":"us-52*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+Deno%201.9%20%E5%8F%91%E5%B8%83%EF%BC%8C%E9%87%8D%E8%A6%81%E6%9B%B4%E6%96%B0%E9%80%9F%E8%A7%88","linkMd5ListStr":"8bb2348c8ac05e1bce59f3c90614efc3,8bb2348c8ac05e1bce59f3c90614efc3","githubUser":"myreaderx6","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"42.2 KB","destSize":"36.2 KB","compressRate":"85.8%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/XIibZ0YbvibkXxWL6iaBE7yJFfAtkr8huUicSozE3kiaseJzFfnPXJwZGxYNpHuKRMP2oKibWXAtgXEm1wN1anfg4n8A/640?wx_fmt=jpeg","sourceStatusCode":200,"destWidth":864,"destHeight":576,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn96@2020_2/2021/04/26/17-47-07-410_271398068b4317d1.webp","sourceBytes":43221,"destBytes":21482,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":4154,"convertSpendMs":14,"createdTime":"2021-04-27 01:47:03","host":"us-011*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+Deno%201.9%20%E5%8F%91%E5%B8%83%EF%BC%8C%E9%87%8D%E8%A6%81%E6%9B%B4%E6%96%B0%E9%80%9F%E8%A7%88","linkMd5ListStr":"8bb2348c8ac05e1bce59f3c90614efc3","githubUser":"myreaderx21","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"42.2 KB","destSize":"21 KB","compressRate":"49.7%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/XIibZ0YbvibkXxWL6iaBE7yJFfAtkr8huUicSgJ32vrBzcnRSZb8pHiaNvBzHfYocZznADbOCVtmfZbpVnqnFwWTAog/640?wx_fmt=jpeg","sourceStatusCode":200,"destWidth":1080,"destHeight":540,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn84@2020_1/2021/04/26/17-47-10-200_5cf01231cc61968b.webp","sourceBytes":26083,"destBytes":10592,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":6952,"convertSpendMs":14,"createdTime":"2021-04-27 01:47:03","host":"us-034*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+Deno%201.9%20%E5%8F%91%E5%B8%83%EF%BC%8C%E9%87%8D%E8%A6%81%E6%9B%B4%E6%96%B0%E9%80%9F%E8%A7%88","linkMd5ListStr":"8bb2348c8ac05e1bce59f3c90614efc3","githubUser":"myreaderx32","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"25.5 KB","destSize":"10.3 KB","compressRate":"40.6%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/XIibZ0YbvibkXxWL6iaBE7yJFfAtkr8huUicvren7IWicic0TG0DeU9c0ibpYFiccFPDHxiaSn8iagm8JS7iaVy1bJ5N5le8g/640?wx_fmt=jpeg","sourceStatusCode":200,"destWidth":1080,"destHeight":540,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx25/cdn92@2020_4/2021/04/26/17-47-19-556_9be57488dca53f16.webp","sourceBytes":27299,"destBytes":10286,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":16278,"convertSpendMs":13,"createdTime":"2021-04-27 01:47:03","host":"us-023*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+Deno%201.9%20%E5%8F%91%E5%B8%83%EF%BC%8C%E9%87%8D%E8%A6%81%E6%9B%B4%E6%96%B0%E9%80%9F%E8%A7%88","linkMd5ListStr":"8bb2348c8ac05e1bce59f3c90614efc3","githubUser":"myreaderx25","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"26.7 KB","destSize":"10 KB","compressRate":"37.7%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/XIibZ0YbvibkXxWL6iaBE7yJFfAtkr8huUiciae0yBeibLoEJzqgm72bhH3iaKicXsPwGHuqasheu9jH6pQJ2LhKM3SnSw/640?wx_fmt=jpeg","sourceStatusCode":200,"destWidth":1080,"destHeight":720,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn100@2020_2/2021/04/26/17-47-22-178_b889c6d6e59a2527.webp","sourceBytes":87191,"destBytes":59330,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":19103,"convertSpendMs":33,"createdTime":"2021-04-27 01:47:03","host":"europe-23*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+Deno%201.9%20%E5%8F%91%E5%B8%83%EF%BC%8C%E9%87%8D%E8%A6%81%E6%9B%B4%E6%96%B0%E9%80%9F%E8%A7%88","linkMd5ListStr":"8bb2348c8ac05e1bce59f3c90614efc3","githubUser":"myreaderx12","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"85.1 KB","destSize":"57.9 KB","compressRate":"68%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXxWL6iaBE7yJFfAtkr8huUichTjiaxYQ3ZpSbicKicxBibsdNE0TUkd0o0AtpZJJEHjhEroU6kgicC4E8vA/640?wx_fmt=png","sourceStatusCode":200,"destWidth":900,"destHeight":500,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn85@2020_2/2021/04/26/17-48-28-799_af80c01d201c835b.webp","sourceBytes":247961,"destBytes":38124,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":25466,"convertSpendMs":25,"createdTime":"2021-04-27 01:48:03","host":"us-034*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+Deno%201.9%20%E5%8F%91%E5%B8%83%EF%BC%8C%E9%87%8D%E8%A6%81%E6%9B%B4%E6%96%B0%E9%80%9F%E8%A7%88","linkMd5ListStr":"8bb2348c8ac05e1bce59f3c90614efc3","githubUser":"myreaderx29","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"242.1 KB","destSize":"37.2 KB","compressRate":"15.4%"}],"successGithubMap":{"myreaderx25":1,"myreaderx6":1,"myreaderx21":1,"myreaderx32":1,"myreaderx12":1,"myreaderx29":1},"failGithubMap":{}}