{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-10 00:18:32","updatedTime":"2020-10-10 00:18:32","title":"美化你的android程序：自定义ListView背景","link":"https://www.iteye.com/blog/user/haric/blog/409863","description":"<p><span style=\"font-size: medium;\">作者微博： <a href=\"http://www.weibo.com/haric\" title=\"http://www.weibo.com/haric\">http://www.weibo.com/haric</a> </span> <a href=\"http://www.weibo.com/haric\" title=\"http://www.weibo.com/haric\"> </a></p> \n<div> \n <p style=\"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;\"><span style=\"font-size: large;\">在Android中，ListView是最常用的一个控件，在做UI设计的时候，很多人希望能够改变一下它的背景，使他能够符合整体的UI设计，改变背景背很简单只需要准备一张图片然后指定属性&nbsp;<span style=\"color: #3366ff;\">android:background=\"@drawable/bg\"</span> ，不过不要高兴地太早，当你这么做以后，发现背景是变了，但是当你拖动，或者点击list空白位置的时候发现ListItem都变成黑色的了，破坏了整体效果，如下图所示<br><br> &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<img style=\"border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-color: initial;\" alt=\"\" src=\"https://www.iteye.com/upload/attachment/115957/313f3ba4-3fbe-3eb9-9f08-51e710813e6d.gif\"><br> &nbsp;<br> 这是为什么呢？<br> 这个要从Listview的效果说起，默认的ListItem背景是透明的，而ListView的背景是固定不变的，所以在滚动条滚动的过程中如果实时地去将当前每个Item的显示内容跟背景进行混合运算，所以android系统为了优化这个过程用，就使用了一个叫做<span style=\"color: #3366ff;\">android:cacheColorHint</span> 的属性，在黑色主题下默认的颜色值是#191919，所以就出现了刚才的画面，有一半是黑色的<br><br> 那怎么办呢？<br> 如果你只是换背景的颜色的话，可以直接指定<span style=\"color: #3366ff;\">android:cacheColorHint</span> 为你所要的颜色，如果你是用图片做背景的话，那也只要将<span style=\"color: #3366ff;\">android:cacheColorHint</span> 指定为透明（#00000000）就可以了，当然为了美化是要牺牲一些效率的。最后美化的效果如图：</br></br></br></br></br></br></img></br></br></span> </p> \n <p style=\"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;\"><br> &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<img style=\"border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-color: initial;\" alt=\"\" src=\"https://www.iteye.com/upload/attachment/115961/5d70a596-a73b-3791-8eef-ff54436df8cd.gif\" /></br></p> &nbsp; \n <br> 转载请注明出处&nbsp;http://haric.iteye.com 谢谢</br> \n</div> \n<p>&nbsp;</p> \n<br /> \n<br /> \n<span style=\"color:red;\"> <a href=\"https://www.iteye.com/blog/haric-409863#comments\" style=\"color:red;\">已有 <strong>10</strong> 人发表留言，猛击-&gt;&gt;<strong>这里</strong>&lt;&lt;-参与讨论</a> </span> \n<br /> \n<br /> \n<br /> \n<span style=\"color:#E28822;\">ITeye推荐</span> \n<br /> \n<ul> \n <li><a href=\"https://www.iteye.com/clicks/433\" target=\"_blank\"><span style=\"color:red;font-weight:bold;\">—软件人才免语言低担保 赴美带薪读研！— </span></a></li> \n</ul> \n<br /> \n<br /> \n<br />","descriptionType":"text/html","publishedDate":"Wed, 17 Jun 2009 04:26:43 +0000","feedId":36801,"bgimg":"https://www.iteye.com/upload/attachment/115957/313f3ba4-3fbe-3eb9-9f08-51e710813e6d.gif","linkMd5":"af12803e373ca472d92d370278478a57","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx/cdn0@2020_1/404.jpg","sourceBytes":0,"destBytes":0,"author":"","articleImgCdnMap":{"https://www.iteye.com/upload/attachment/115957/313f3ba4-3fbe-3eb9-9f08-51e710813e6d.gif":"https://cdn.jsdelivr.net/gh/myreaderx/cdn0@2020_1/404.jpg","https://www.iteye.com/upload/attachment/115961/5d70a596-a73b-3791-8eef-ff54436df8cd.gif":"https://cdn.jsdelivr.net/gh/myreaderx/cdn0@2020_1/404.jpg"},"publishedOrCreatedDate":1602260312328}],"record":{"createdTime":"2020-10-10 00:18:32","updatedTime":"2020-10-10 00:18:32","feedId":36801,"fetchDate":"Fri, 09 Oct 2020 16:18:32 +0000","fetchMs":2247,"handleMs":6,"totalMs":26801,"newArticles":0,"totalArticles":10,"status":1,"type":0,"ip":"96c330f7a9d7d08f2adfacbb5227a07a","hostName":"europe-59*","requestId":"eb644b9b381c423da3e751d75cca720b_36801","contentType":"text/xml; charset=utf-8","totalBytes":0,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":2,"articlesImgsGithubTotal":1,"successGithubMap":{},"failGithubMap":{}},"feed":{"createdTime":"2020-09-07 03:08:53","updatedTime":"2020-09-07 05:23:12","id":36801,"name":"Haric的程序空间","url":"http://haric.iteye.com/rss","subscriber":87,"website":null,"icon":"https://www.iteye.com/images/wap/favicon.ico","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx63/cdn38@2020_3/2020/09/06/21-23-12-234_546831a528c577e3.ico","description":"","weekly":null,"link":null},"noPictureArticleList":[],"tmpCommonImgCdnBytes":0,"tmpBodyImgCdnBytes":0,"tmpBgImgCdnBytes":0,"extra4":{"start":1602260309842,"total":0,"statList":[{"spend":2480,"msg":"获取xml内容"},{"spend":6,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":9581,"msg":"正文链接上传到cdn"}]},"extra5":2,"extra6":2,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"https://www.iteye.com/upload/attachment/115957/313f3ba4-3fbe-3eb9-9f08-51e710813e6d.gif","sourceStatusCode":404,"sourceBytes":0,"destBytes":0,"feedId":36801,"totalSpendMs":6534,"convertSpendMs":0,"createdTime":"2020-10-10 00:18:35","host":"europe67*","referer":"https://www.iteye.com/blog/user/haric/blog/409863","linkMd5ListStr":"af12803e373ca472d92d370278478a57,af12803e373ca472d92d370278478a57","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[404],"destSize":"0","sourceSize":"0"},{"code":1,"isDone":false,"source":"https://www.iteye.com/upload/attachment/115957/313f3ba4-3fbe-3eb9-9f08-51e710813e6d.gif","sourceStatusCode":404,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx/cdn0@2020_1/404.jpg","sourceBytes":0,"destBytes":0,"feedId":36801,"totalSpendMs":5214,"convertSpendMs":0,"createdTime":"2020-10-10 00:18:41","host":"us-002*","referer":"https://www.iteye.com/blog/user/haric/blog/409863","linkMd5ListStr":"af12803e373ca472d92d370278478a57,af12803e373ca472d92d370278478a57","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[404],"destSize":"0","sourceSize":"0"},{"code":1,"isDone":false,"source":"https://www.iteye.com/upload/attachment/115961/5d70a596-a73b-3791-8eef-ff54436df8cd.gif","sourceStatusCode":404,"sourceBytes":0,"destBytes":0,"feedId":36801,"totalSpendMs":3063,"convertSpendMs":0,"createdTime":"2020-10-10 00:18:47","host":"us-021*","referer":"https://www.iteye.com/blog/user/haric/blog/409863","linkMd5ListStr":"af12803e373ca472d92d370278478a57","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[404],"destSize":"0","sourceSize":"0"},{"code":1,"isDone":false,"source":"https://www.iteye.com/upload/attachment/115961/5d70a596-a73b-3791-8eef-ff54436df8cd.gif","sourceStatusCode":404,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx/cdn0@2020_1/404.jpg","sourceBytes":0,"destBytes":0,"feedId":36801,"totalSpendMs":6356,"convertSpendMs":0,"createdTime":"2020-10-10 00:18:50","host":"europe67*","referer":"https://www.iteye.com/blog/user/haric/blog/409863","linkMd5ListStr":"af12803e373ca472d92d370278478a57","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[404],"destSize":"0","sourceSize":"0"}],"extra10_invalidATagHrefValue":{"https://www.iteye.com/blog/user/haric/blog/409863_/clicks/433":"https://www.iteye.com/clicks/433"},"extra111_proxyServerAndStatMap":{"http://us-021.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[404]},"http://europe67.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[404]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://www.iteye.com/upload/attachment/115957/313f3ba4-3fbe-3eb9-9f08-51e710813e6d.gif","sourceStatusCode":404,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx/cdn0@2020_1/404.jpg","sourceBytes":0,"destBytes":0,"feedId":36801,"totalSpendMs":5214,"convertSpendMs":0,"createdTime":"2020-10-10 00:18:41","host":"us-002*","referer":"https://www.iteye.com/blog/user/haric/blog/409863","linkMd5ListStr":"af12803e373ca472d92d370278478a57,af12803e373ca472d92d370278478a57","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[404],"destSize":"0","sourceSize":"0"},{"code":1,"isDone":false,"source":"https://www.iteye.com/upload/attachment/115961/5d70a596-a73b-3791-8eef-ff54436df8cd.gif","sourceStatusCode":404,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx/cdn0@2020_1/404.jpg","sourceBytes":0,"destBytes":0,"feedId":36801,"totalSpendMs":6356,"convertSpendMs":0,"createdTime":"2020-10-10 00:18:50","host":"europe67*","referer":"https://www.iteye.com/blog/user/haric/blog/409863","linkMd5ListStr":"af12803e373ca472d92d370278478a57","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[404],"destSize":"0","sourceSize":"0"}],"successGithubMap":{},"failGithubMap":{}}