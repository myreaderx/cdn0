{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-08-25 10:13:55","updatedTime":"2020-08-25 10:13:55","title":"å‘½ä»¤ç©ºé—´åŒ…","link":"https://www.dongwm.com/post/namespace-packages/","description":"<h3 id=\"å‰è¨€\">å‰è¨€</h3> \n<p>æˆ‘åœ¨è§£å†³ç”¨æˆ·é‡åˆ°çš„ä¸€ä¸ª <a href=\"https://github.com/dongweiming/lyanna\">lyanna</a> é—®é¢˜æ—¶å‘ç°çš„ä¸€ä¸ªä¹‹å‰ä¸äº†è§£çŸ¥è¯†ç‚¹ï¼Œç”¨æœ¬ç¯‡è®°å½•ä¸‹æ¥ã€‚</p> \n<p>æˆ‘å­¦ä¹  Python çš„åŒ…å†…å®¹æ—¶åªæœ‰å¸¸è§„åŒ…ï¼Œä¹Ÿå°±æ˜¯ä»¥ä¸€ä¸ªåŒ…å«<code>__init__.py</code>æ–‡ä»¶çš„ç›®å½•å½¢å¼å®ç°ã€‚ä»¥ä¸€ä¸ªåŒ…å«<code>__init__.py</code>æ–‡ä»¶çš„ç›®å½•å½¢å¼å®ç°:</p> \n<figure class=\"highlight bash\" data-lang=\"bash\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs bash\"><span></span>â¯ tree regular\nregular\nâ”œâ”€â”€ __init__.py\nâ”œâ”€â”€ a\nâ”‚&nbsp;&nbsp; â””â”€â”€ __init__.py\nâ””â”€â”€ b\n    â””â”€â”€ __init__.py\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>å¦‚æœæ²¡æœ‰è¿™ä¸ª<code>__init__.py</code>æ–‡ä»¶å°±ä¼šé€ æˆå¯¼å…¥å¤±è´¥ (python 2):</p> \n<figure class=\"highlight python3\" data-lang=\"python3\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs python3\"><span></span><span class=\"err\">â¯</span> <span class=\"n\">rm</span> <span class=\"n\">regular</span><span class=\"o\">/</span><span class=\"fm\">__init__</span><span class=\"o\">.</span><span class=\"n\">py</span>\n\n<span class=\"err\">â¯</span> <span class=\"n\">ipython2</span>\n<span class=\"n\">Python</span> <span class=\"mf\">2.7</span><span class=\"o\">.</span><span class=\"mi\">16</span> <span class=\"p\">(</span><span class=\"n\">default</span><span class=\"p\">,</span> <span class=\"n\">Nov</span>  <span class=\"mi\">9</span> <span class=\"mi\">2019</span><span class=\"p\">,</span> <span class=\"mi\">05</span><span class=\"p\">:</span><span class=\"mi\">55</span><span class=\"p\">:</span><span class=\"mi\">08</span><span class=\"p\">)</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"kn\">import</span> <span class=\"nn\">regular</span>\n<span class=\"o\">---------------------------------------------------------------------------</span>\n<span class=\"ne\">ImportError</span>                               <span class=\"n\">Traceback</span> <span class=\"p\">(</span><span class=\"n\">most</span> <span class=\"n\">recent</span> <span class=\"n\">call</span> <span class=\"n\">last</span><span class=\"p\">)</span>\n<span class=\"o\">&lt;</span><span class=\"n\">ipython</span><span class=\"o\">-</span><span class=\"nb\">input</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"o\">-</span><span class=\"mi\">3</span><span class=\"n\">dca75a44ca9</span><span class=\"o\">&gt;</span> <span class=\"ow\">in</span> <span class=\"o\">&lt;</span><span class=\"n\">module</span><span class=\"o\">&gt;</span><span class=\"p\">()</span>\n<span class=\"o\">----&gt;</span> <span class=\"mi\">1</span> <span class=\"kn\">import</span> <span class=\"nn\">regular</span>\n\n<span class=\"ne\">ImportError</span><span class=\"p\">:</span> <span class=\"n\">No</span> <span class=\"n\">module</span> <span class=\"n\">named</span> <span class=\"n\">regular</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"kn\">import</span> <span class=\"nn\">regular.a</span>\n<span class=\"o\">---------------------------------------------------------------------------</span>\n<span class=\"ne\">ImportError</span>                               <span class=\"n\">Traceback</span> <span class=\"p\">(</span><span class=\"n\">most</span> <span class=\"n\">recent</span> <span class=\"n\">call</span> <span class=\"n\">last</span><span class=\"p\">)</span>\n<span class=\"o\">&lt;</span><span class=\"n\">ipython</span><span class=\"o\">-</span><span class=\"nb\">input</span><span class=\"o\">-</span><span class=\"mi\">2</span><span class=\"o\">-</span><span class=\"mi\">2</span><span class=\"n\">f312ff46378</span><span class=\"o\">&gt;</span> <span class=\"ow\">in</span> <span class=\"o\">&lt;</span><span class=\"n\">module</span><span class=\"o\">&gt;</span><span class=\"p\">()</span>\n<span class=\"o\">----&gt;</span> <span class=\"mi\">1</span> <span class=\"kn\">import</span> <span class=\"nn\">regular.a</span>\n\n<span class=\"ne\">ImportError</span><span class=\"p\">:</span> <span class=\"n\">No</span> <span class=\"n\">module</span> <span class=\"n\">named</span> <span class=\"n\">regular</span><span class=\"o\">.</span><span class=\"n\">a</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>è¿™éå¸¸ç¬¦åˆé¢„æœŸ (æˆ–è€…è¯´ï¼Œä¹ æƒ¯äº†è¿™ç§è®¾å®š)ï¼Œä¸è¿‡æœ¬æ–‡è¯´çš„æ˜¯åœ¨ Python 3 ä¸­çš„æ•ˆæœ:</p> \n<figure class=\"highlight python3\" data-lang=\"python3\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs python3\"><span></span><span class=\"err\">â¯</span> <span class=\"n\">ipython3</span>\n<span class=\"n\">Python</span> <span class=\"mf\">3.7</span><span class=\"o\">.</span><span class=\"mi\">1</span> <span class=\"p\">(</span><span class=\"n\">default</span><span class=\"p\">,</span> <span class=\"n\">Dec</span> <span class=\"mi\">13</span> <span class=\"mi\">2018</span><span class=\"p\">,</span> <span class=\"mi\">22</span><span class=\"p\">:</span><span class=\"mi\">28</span><span class=\"p\">:</span><span class=\"mi\">16</span><span class=\"p\">)</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"kn\">import</span> <span class=\"nn\">regular</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"n\">regular</span>\n<span class=\"n\">Out</span><span class=\"p\">:</span> <span class=\"o\">&lt;</span><span class=\"n\">module</span> <span class=\"s1\">'regular'</span> <span class=\"p\">(</span><span class=\"n\">namespace</span><span class=\"p\">)</span><span class=\"o\">&gt;</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"kn\">import</span> <span class=\"nn\">regular.a</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"n\">regular</span><span class=\"o\">.</span><span class=\"n\">a</span>\n<span class=\"n\">Out</span><span class=\"p\">:</span> <span class=\"o\">&lt;</span><span class=\"n\">module</span> <span class=\"s1\">'regular.a'</span> <span class=\"kn\">from</span> <span class=\"s1\">'/Users/dongwm/mp/2020-01-02/regular/a/__init__.py'</span><span class=\"o\">&gt;</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"n\">regular</span><span class=\"o\">.</span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">DATA</span>\n<span class=\"n\">Out</span><span class=\"p\">:</span> <span class=\"s1\">'a'</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"n\">regular</span><span class=\"o\">.</span><span class=\"n\">b</span><span class=\"o\">.</span><span class=\"n\">DATA</span>\n<span class=\"o\">---------------------------------------------------------------------------</span>\n<span class=\"ne\">AttributeError</span>                            <span class=\"n\">Traceback</span> <span class=\"p\">(</span><span class=\"n\">most</span> <span class=\"n\">recent</span> <span class=\"n\">call</span> <span class=\"n\">last</span><span class=\"p\">)</span>\n<span class=\"o\">&lt;</span><span class=\"n\">ipython</span><span class=\"o\">-</span><span class=\"nb\">input</span><span class=\"o\">-</span><span class=\"mi\">8</span><span class=\"o\">-</span><span class=\"mi\">2964870</span><span class=\"n\">c96fb</span><span class=\"o\">&gt;</span> <span class=\"ow\">in</span> <span class=\"o\">&lt;</span><span class=\"n\">module</span><span class=\"o\">&gt;</span>\n<span class=\"o\">----&gt;</span> <span class=\"mi\">1</span> <span class=\"n\">regular</span><span class=\"o\">.</span><span class=\"n\">b</span><span class=\"o\">.</span><span class=\"n\">DATA</span>\n\n<span class=\"ne\">AttributeError</span><span class=\"p\">:</span> <span class=\"n\">module</span> <span class=\"s1\">'regular'</span> <span class=\"n\">has</span> <span class=\"n\">no</span> <span class=\"n\">attribute</span> <span class=\"s1\">'b'</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"kn\">import</span> <span class=\"nn\">regular.b</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"n\">regular</span><span class=\"o\">.</span><span class=\"n\">b</span><span class=\"o\">.</span><span class=\"n\">DATA</span>\n<span class=\"n\">Out</span><span class=\"p\">:</span> <span class=\"s1\">'b'</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ Python 3 ä¸‹å³ä¾¿æ²¡æœ‰<code>__init__.py</code>ä¹Ÿèƒ½æ­£å¸¸ import æˆåŠŸï¼Œä¸è¿‡æ¨¡å—ä¼šæ˜¾ç¤ºæˆ<code>&lt;module 'XX' (namespace)&gt;</code>è¿™æ ·ï¼Œå¦å¤–æ˜¯å¯¹äºå…¶å­åŒ…çš„ä½¿ç”¨ä¸å—å½±å“ã€‚</p> \n<p>é‚£ä¹ˆ Python æ˜¯æ€ä¹ˆåšåˆ°çš„å‘¢ï¼Ÿ</p> \n<h3 id=\"å‘½åç©ºé—´åŒ…(Namespacepackage)\">å‘½åç©ºé—´åŒ… (Namespace package)</h3> \n<p>è¿™ä¸ªç‰¹æ€§æ˜¯ Python 3.3 æ—¶å¼•å…¥çš„ï¼ŒPEP é“¾æ¥: <a href=\"https://www.python.org/dev/peps/pep-0420/\">PEP420</a> ã€‚</p> \n<p>ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­æ²¡æœ‰å®šä¹‰<code>__init__.py</code>ä¹Ÿå¯ä»¥è¢«å¯¼å…¥çš„ï¼Œåªä¸è¿‡å®ƒä¸æ˜¯ä»¥ Python åŒ…çš„å½¢å¼å¯¼å…¥ï¼Œè€Œæ˜¯ä»¥å‘½åç©ºé—´åŒ… (Namespace package) çš„å½¢å¼è¢«å¯¼å…¥ï¼Œæ‰€ä»¥æ˜¾ç¤ºæˆä¸Šé¢çœ‹åˆ°çš„<code>&lt;module 'XX' (namespace)&gt;</code>è¿™æ ·ã€‚</p> \n<p>ä¸è¿‡ï¼Œåˆ©ç”¨å‘½åç©ºé—´åŒ…çš„ä¸»è¦ä»·å€¼æ˜¯èƒ½å¯¼å…¥ç›®å½•åˆ†æ•£çš„ä»£ç ã€‚</p> \n<h3 id=\"é€šè¿‡è±†ç“£çš„ç”¨æ³•æ¥ç†è§£\">é€šè¿‡è±†ç“£çš„ç”¨æ³•æ¥ç†è§£</h3> \n<p><a href=\"https://github.com/douban\">è±†ç“£</a> å¼€æºäº†ä¸€äº› Python çš„é¡¹ç›®ï¼Œå…¶ä¸­æœ‰ä¸€äº›å†…éƒ¨ç‰ˆæœ¬è¿˜åœ¨å¹¿æ³›çš„åœ¨å„é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œä¸è¿‡æˆ‘ä»¬å¯ä»¥æ‹¿å¼€æºçš„æ¥ä½“éªŒä¸€ä¸‹é—®é¢˜ï¼Œæˆ‘ä»¬å…ˆå®‰è£… 2 ä¸ªåŒ…å§:</p> \n<figure class=\"highlight bash\" data-lang=\"bash\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs bash\"><span></span>â¯ virtualenv venv --python<span class=\"o\">=</span>python2.7\nâ¯ <span class=\"nb\">source</span> venv/bin/activate\nâ¯ git clone https://github.com/douban/douban-utils\nâ¯ <span class=\"nb\">cd</span> douban-utils/\nâ¯ python setup.py install\nâ¯ <span class=\"nb\">cd</span> ../\nâ¯ git clone https://github.com/douban/douban-sqlstore\nâ¯ <span class=\"nb\">cd</span> douban-sqlstore\nâ¯ python setup.py install\nâ¯ pip install mysqlclient  <span class=\"c1\"># douban-sqlstoreä¾èµ–çš„MySQL-pythonå·²ç»ä¸å†ç»´æŠ¤ï¼Œæ¢ä¸€ä¸ª</span>\nâ¯ <span class=\"nb\">cd</span> ..\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>ç°åœ¨çœ‹çœ‹æ€ä¹ˆå¯¼å…¥:</p> \n<figure class=\"highlight python3\" data-lang=\"python3\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs python3\"><span></span><span class=\"err\">â¯</span> <span class=\"n\">pip</span> <span class=\"n\">install</span> <span class=\"n\">ipython</span><span class=\"o\">==</span><span class=\"mf\">5.2</span>  <span class=\"c1\"># IPython 6.Xå¼€å§‹åªæ”¯æŒPython 3äº†</span>\n<span class=\"err\">â¯</span> <span class=\"n\">venv</span><span class=\"o\">/</span><span class=\"nb\">bin</span><span class=\"o\">/</span><span class=\"n\">ipython</span>\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"kn\">from</span> <span class=\"nn\">douban.sqlstore</span> <span class=\"k\">import</span> <span class=\"n\">SqlStore</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"kn\">from</span> <span class=\"nn\">douban.utils</span> <span class=\"k\">import</span> <span class=\"n\">ptrans</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>è¿™ 2 ä¸ªå¯¼å…¥è¯­å¥çš„ä»£ç åœ¨ä¸åŒçš„åŒ…ä¸­ï¼Œä½†æ˜¯ douban æ˜¯å…±ç”¨çš„ç©ºé—´ã€‚ä¸ºä»€ä¹ˆç”¨è±†ç“£è¿™ä¹ˆä¸ª namespace å‘¢ï¼Ÿ</p> \n<p>è¿™ä¸ªåœ¨å»¶ä¼¸é˜…è¯»é“¾æ¥ 2ï¼Œä¹Ÿå°±æ˜¯ Python Cookbook é‡Œé¢è¢«æåˆ°è¿‡ã€‚å¦‚æœä½ æ‰€åœ¨å…¬å¸æˆ–è€…å›¢é˜Ÿæœ‰å¤§é‡çš„ä»£ç ï¼Œç”±ä¸åŒçš„äººæ¥åˆ†æ•£åœ°ç»´æŠ¤ï¼Œé‚£ä¹ˆå¯ä»¥æŠŠå…¶ä¸­ä¸åŒçš„éƒ¨åˆ†ç»„ç»‡ä¸ºæ–‡ä»¶ç›®å½•ï¼Œä½†å¥½çš„å®è·µæ˜¯èƒ½ç”¨å…±åŒçš„åŒ…å‰ç¼€å°†æ‰€æœ‰ç»„ä»¶è¿æ¥èµ·æ¥ï¼Œä¸æ˜¯å°†æ¯ä¸€ä¸ªéƒ¨åˆ†ä½œä¸ºç‹¬ç«‹çš„åŒ…æ¥å®‰è£…ã€‚</p> \n<p>è¿™æ ·æ˜¯ä¸èƒ½ç”¨ä¸€å¼€å§‹æåˆ°çš„é‚£ä¸ªç›®å½•åå­—ä¸º regular çš„å¸¸è§„åŒ…ï¼Œéœ€è¦ä½¿ç”¨å‘½åç©ºé—´åŒ…</p> \n<h3 id=\"å‘½åç©ºé—´åŒ…çš„ä¸‰ç§é£æ ¼\">å‘½åç©ºé—´åŒ…çš„ä¸‰ç§é£æ ¼</h3> \n<p>æœ¬æ–‡çš„é‡ç‚¹å•¦:</p> \n<h4 id=\"pkgutilé£æ ¼\">pkgutil é£æ ¼</h4> \n<p>æ‰€è°“é£æ ¼å…¶å®å°±æ˜¯ç”¨äº†é‚£ä¸ª Python æ¨¡å—æˆ–è€…ç‰¹æ€§å®ç°å‘½åç©ºé—´ï¼Œpkgutil é£æ ¼å°±æ˜¯åœ¨æ¯ä¸ªå­åŒ…é‡Œé¢çš„<code>__init__.py</code>é‡Œé¢æ·»åŠ å¦‚ä¸‹çš„ä»£ç :</p> \n<figure class=\"highlight bash\" data-lang=\"bash\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs bash\"><span></span>â¯ cat pkgutil_style/a/__init__.py\n<span class=\"nv\">__path__</span> <span class=\"o\">=</span> __import__<span class=\"o\">(</span><span class=\"s1\">'pkgutil'</span><span class=\"o\">)</span>.extend_path<span class=\"o\">(</span>__path__, __name__<span class=\"o\">)</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>ç„¶ååˆ†åˆ«å®‰è£…å¹¶è¿›å…¥äº¤äº’æ¨¡å¼:</p> \n<figure class=\"highlight bash\" data-lang=\"bash\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs bash\"><span></span>â¯ python pkgutil_style/a/setup.py install\nâ¯ python pkgutil_style/b/setup.py install\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>setup.py éå¸¸ç®€å•ï¼Œå°±æ˜¯å–äº†ä¸ªä¸å†²çªçš„åŒ…åã€‚ç„¶åä½“éªŒä¸€ä¸‹:</p> \n<figure class=\"highlight python3\" data-lang=\"python3\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs python3\"><span></span><span class=\"err\">â¯</span> <span class=\"n\">venv</span><span class=\"o\">/</span><span class=\"nb\">bin</span><span class=\"o\">/</span><span class=\"n\">ipython</span>\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"kn\">from</span> <span class=\"nn\">pkgutil_style.a</span> <span class=\"k\">import</span> <span class=\"n\">DATA</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"n\">DATA</span>\n<span class=\"n\">Out</span><span class=\"p\">:</span> <span class=\"s1\">'aa'</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"kn\">from</span> <span class=\"nn\">pkgutil_style.b</span> <span class=\"k\">import</span> <span class=\"n\">DATA</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"n\">DATA</span>\n<span class=\"n\">Out</span><span class=\"p\">:</span> <span class=\"s1\">'bb'</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<h4 id=\"pkg_resourcesé£æ ¼\">pkg_resources é£æ ¼</h4> \n<p>å®ƒå’Œ pkgutil é£æ ¼çš„åŒºåˆ«å°±æ˜¯å­åŒ…é‡Œé¢çš„<code>__init__.py</code>é‡Œé¢æ·»åŠ çš„æ˜¯å¦‚ä¸‹ä»£ç :</p> \n<figure class=\"highlight python3\" data-lang=\"python3\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs python3\"><span></span><span class=\"nb\">__import__</span><span class=\"p\">(</span><span class=\"s1\">'pkg_resources'</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">declare_namespace</span><span class=\"p\">(</span><span class=\"vm\">__name__</span><span class=\"p\">)</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>æ•ˆæœå’Œä¸Šé¢ä¸€æ ·ã€‚è¿™ç§é£æ ¼ç§°ä¸º setuptools-styleã€‚</p> \n<p>ä¸Šè¿° 2 ç§é£æ ¼åœ¨è±†ç“£é¡¹ç›®ä¸­çš„å·²ç»ä½“ç°äº† (å»¶ä¼¸é˜…è¯»é“¾æ¥ 3):</p> \n<figure class=\"highlight python3\" data-lang=\"python3\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs python3\"><span></span><span class=\"k\">try</span><span class=\"p\">:</span>\n    <span class=\"nb\">__import__</span><span class=\"p\">(</span><span class=\"s1\">'pkg_resources'</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">declare_namespace</span><span class=\"p\">(</span><span class=\"vm\">__name__</span><span class=\"p\">)</span>\n<span class=\"k\">except</span> <span class=\"ne\">ImportError</span><span class=\"p\">:</span>\n    <span class=\"kn\">from</span> <span class=\"nn\">pkgutil</span> <span class=\"k\">import</span> <span class=\"n\">extend_path</span>\n    <span class=\"n\">__path__</span> <span class=\"o\">=</span> <span class=\"n\">extend_path</span><span class=\"p\">(</span><span class=\"n\">__path__</span><span class=\"p\">,</span> <span class=\"vm\">__name__</span><span class=\"p\">)</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<h4 id=\"naiveé£æ ¼(Python3.3+)\">naive é£æ ¼ (Python3.3+)</h4> \n<p>è¿™æ˜¯åœ¨ Python 3 æ—¶æ‰å¯ç”¨çš„éšå¼çš„å‘½ååŒ…çš„é£æ ¼ï¼Œä¹Ÿå°±æ˜¯åœ¨å‘½åç©ºé—´ä¸‹æ²¡æœ‰<code>__init__.py</code>:</p> \n<figure class=\"highlight bash\" data-lang=\"bash\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs bash\"><span></span>â¯ tree naive_style -L <span class=\"m\">2</span>\nnaive_style  <span class=\"c1\"># è¿™é‡Œæ²¡æœ‰â¬…ï¸</span>\nâ”œâ”€â”€ a\nâ”‚&nbsp;&nbsp; â”œâ”€â”€ __init__.py\nâ”‚&nbsp;&nbsp; â””â”€â”€ setup.py\nâ””â”€â”€ b\n    â”œâ”€â”€ __init__.py\n    â””â”€â”€ setup.py\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>ä¸è¿‡è¦æ³¨æ„ï¼Œsetup.py (é™¤äº†æ˜ç¡®ä½¿ç”¨ packages åˆ—å‡ºåŒ…) ä¸èƒ½ä½¿ç”¨<code>setuptools.find_packages()</code>ï¼Œè€Œæ˜¯è¦ç”¨<code>setuptools.find_namespace_packages()</code>:</p> \n<figure class=\"highlight python3\" data-lang=\"python3\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs python3\"><span></span><span class=\"err\">â¯</span> <span class=\"n\">cat</span> <span class=\"n\">naive_style</span><span class=\"o\">/</span><span class=\"n\">a</span><span class=\"o\">/</span><span class=\"n\">setup</span><span class=\"o\">.</span><span class=\"n\">py</span>\n<span class=\"kn\">from</span> <span class=\"nn\">setuptools</span> <span class=\"k\">import</span> <span class=\"n\">setup</span><span class=\"p\">,</span> <span class=\"n\">find_namespace_packages</span>\n\n<span class=\"n\">setup</span><span class=\"p\">(</span>\n    <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'pkg_3a'</span><span class=\"p\">,</span>\n    <span class=\"n\">version</span><span class=\"o\">=</span><span class=\"s1\">'1'</span><span class=\"p\">,</span>\n    <span class=\"n\">description</span><span class=\"o\">=</span><span class=\"s1\">''</span><span class=\"p\">,</span>\n    <span class=\"n\">long_description</span><span class=\"o\">=</span><span class=\"s1\">''</span><span class=\"p\">,</span>\n    <span class=\"n\">packages</span><span class=\"o\">=</span><span class=\"n\">find_namespace_packages</span><span class=\"p\">(),</span>\n    <span class=\"n\">zip_safe</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>æ€ä¹ˆç¡®è®¤ä¸€ä¸ªåŒ…æ˜¯ä¸æ˜¯ naive é£æ ¼å‘¢ï¼Ÿå¦‚æœ<code>__file__</code>å±æ€§ä¸º Noneï¼Œé‚£åŒ…æ˜¯ä¸ªå‘½åç©ºé—´:</p> \n<figure class=\"highlight python3\" data-lang=\"python3\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs python3\"><span></span><span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"kn\">import</span> <span class=\"nn\">naive_style</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"kn\">import</span> <span class=\"nn\">naive_style.a</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"n\">naive_style</span>\n<span class=\"n\">Out</span><span class=\"p\">:</span> <span class=\"o\">&lt;</span><span class=\"n\">module</span> <span class=\"s1\">'naive_style'</span> <span class=\"p\">(</span><span class=\"n\">namespace</span><span class=\"p\">)</span><span class=\"o\">&gt;</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"n\">naive_style</span><span class=\"o\">.</span><span class=\"vm\">__file__</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"n\">naive_style</span><span class=\"o\">.</span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"vm\">__file__</span>\n<span class=\"n\">Out</span><span class=\"p\">:</span> <span class=\"s1\">'/Users/dongweiming/mp/2020-01-02/naive_style/a/__init__.py'</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>PS: æ³¨æ„è¿™é‡Œå’Œ Python Cookbook é‡Œé¢è¯´çš„ä¸ä¸€æ ·.</p> \n<h3 id=\"ä»£ç ç›®å½•\">ä»£ç ç›®å½•</h3> \n<p>æœ¬æ–‡ä»£ç å¯ä»¥åœ¨ <a href=\"https://github.com/dongweiming/mp/tree/master/2020-01-02\">mp</a> é¡¹ç›® æ‰¾åˆ°</p> \n<h3 id=\"å»¶ä¼¸é˜…è¯»\">å»¶ä¼¸é˜…è¯»</h3> \n<ol> \n <li><a href=\"https://www.python.org/dev/peps/pep-0420/\">https://www.python.org/dev/peps/pep-0420/</a></li> \n <li><a href=\"https://python3-cookbook.readthedocs.io/zh_CN/latest/c10/p05_separate_directories_import_by_namespace.html\">https://python3-cookbook.readthedocs.io/zh_CN/latest/c10/p05_separate_directories_import_by_namespace.html</a></li> \n <li><a href=\"https://github.com/douban/douban-sqlstore/blob/master/douban/__init__.py\">https://github.com/douban/douban-sqlstore/blob/master/douban/__init__.py</a></li> \n <li><a href=\"https://packaging.python.org/guides/packaging-namespace-packages/\">https://packaging.python.org/guides/packaging-namespace-packages/</a></li> \n</ol>","descriptionType":"html","feedId":12869,"bgimg":"","linkMd5":"b205e13aeb48ef0742ddba2c9ce0180a","bgimgJsdelivr":"","metaImg":"","author":"dongweiming","publishedOrCreatedDate":1598321635483},{"createdTime":"2020-08-25 10:13:55","updatedTime":"2020-08-25 10:13:55","title":"ä¸çŸ¥é“å–ä»€ä¹ˆæ ‡é¢˜ä¹‹æˆ˜èƒœè„±å‘","link":"https://www.dongwm.com/post/tuofa/","description":"<h3 id=\"å‰è¨€\">å‰è¨€</h3> \n<p>è¿™ç¯‡æ–‡ç« è·Ÿå¤§å®¶åˆ†äº«ä¸€ä¸‹æˆ‘çš„è„±å‘ä»¥åŠå¦‚ä½•æ‰¾åˆ°æ²»ç–—å¹¶ä¸”å–å¾—å¾ˆä¸é”™æˆæ•ˆçš„ç»å†ï¼Œå¦‚æœä½ å‘é‡ä¼˜ç§€æ²¡è¿™ä¸ªçƒ¦æ¼ç°åœ¨å°±å¯ä»¥ç»“æŸé˜…è¯»äº†å“ˆ (<em>^â–½^</em>)</p> \n<p>æˆ‘è¿™ä¸ªåšå®¢è¿‡å»ä¸€ç›´åœ¨å†™æŠ€æœ¯æ€§æ–‡ç« ï¼Œä»Šå¤©è¯´è¿™ä¸ªã€Œè„±å‘ã€è„±çº²äº†ï¼Œä¸è¿‡è€ƒè™‘åˆ°èº«è¾¹è®¤è¯†çš„ç¨‹åºå‘˜æœ‹å‹ã€åŒäº‹ï¼Œï¼ˆæˆ‘ç‰¹åˆ«è§‚å¯Ÿè¿‡ï¼‰å¾ˆå¤šäººæˆ–å¤šæˆ–å°‘éƒ½ä¼šæœ‰è„±å‘è¿™ä¸ªé—®é¢˜ï¼Œè§‰å¾—å¾ˆå¤šäººéƒ½å¯èƒ½é‡åˆ°ä¸”æ²¡æœ‰æ‰¾åˆ°æ­£ç¡®çš„æ²»ç–—æ–¹æ¡ˆï¼Œå°±æœ‰äº†è¿™ä¸€ç¯‡ã€‚</p> \n<h3 id=\"è„±å‘ç»å†\">è„±å‘ç»å†</h3> \n<p>å›æº¯èµ·æ¥ï¼Œæˆ‘ä»å¤§å­¦æ—¶ä»£å°±å¼€å§‹æ‰å¤´å‘ï¼Œè¿™äº›å¹´ä¸€ç›´éƒ½æ²¡æœ‰é—´æ–­çš„æ‰ï¼Œæ¯æ¬¡æ´—å¤´å‘ä¹‹åéƒ½å¯ä»¥çœ‹åˆ°æ°´é‡Œä¼šé£˜ä¸€å±‚å¤´å‘ï¼Œä¸è¿‡æˆ‘çš„å¿ƒæ€ä¸€ç›´è¿˜ç®—æ¯”è¾ƒæ­£å¸¸ï¼Œæ²¡æœ‰ç‰¹åˆ«æ‹…å¿§è¿‡ã€‚æœ‰è¿™ç§æ”¾æ¾çš„å¿ƒæ€ä¸»è¦æ˜¯å› ä¸ºåœ¨ä¸‰åå²ä¹‹å‰æ•´ä½“æ‰çš„å¤´å‘å’Œæ–°å¢çš„å¤´å‘è¿˜æ˜¯å¾ˆå¹³è¡¡çš„ï¼šè™½ç„¶æ‰ä½†æ˜¯æ²¡æœ‰æ˜¾çš„å‘é‡å˜å°‘ã€‚</p> \n<p>æ‰å¤´å‘çš„åŒæ—¶ç—‡çŠ¶è¿˜æœ‰:</p> \n<ol> \n <li>å¤´çš®å±‘ï¼Œç”šè‡³å¯ä»¥æˆç‰‡çŠ¶</li> \n <li>å¤´å‘å‡ºæ²¹å¾ˆä¸¥é‡</li> \n <li>å¤´ä¸Šå®¹æ˜“å†’ç—˜ç—˜ï¼Œç”¨ä¸œåŒ—è¯å°±æ˜¯ã€Œç«åŒ…ã€</li> \n <li>å¤´å‘è½¯ã€è„†ï¼Œæ‰€ä»¥å®¹æ˜“æ‰</li> \n</ol> \n<p>æ´—å¤´çš„é¢‘ç‡ä»è¿‡å» 2-3 å¤©ä¹Ÿå˜æˆäº†ç°åœ¨çš„æ¯å¤©éƒ½å¾—æ´—ï¼Œè¦ä¸ç„¶å¤´å‘å°±æ²¹æˆã€ŒæŸ³ã€ã€‚</p> \n<p>è„±å‘é—®é¢˜éšç€å¹´é¾„è¶Šæ¥è¶Šå‡¸æ˜¾å‡ºæ¥äº†ã€‚æœ€è¿‘å‡ å¹´æˆ‘èƒ½æ„Ÿå—åˆ°å¤´å‘è¶Šæ¥è¶Šå°‘ï¼Œè¶Šæ¥è¶Šè–„ï¼Œæ˜¾è‘—çš„ç‰¹ç‚¹æ˜¯ä¸¤é¬“æ‰çš„å¾ˆå‰å®³ï¼Œæ‰çš„ç¨‹åº¦ä¸å˜ä½†æ˜¯é‡ç”Ÿèƒ½åŠ›å˜å·®äº†ã€‚</p> \n<p>è¯´åˆ°è¿™é‡Œå·®ä¸å¤šå°±æ˜¯æˆ‘å®Œæ•´çš„ç»å†äº†ï¼Œå¤§å®¶ä¸è¦è„‘è¡¥æˆ‘å·²ç»åˆ°äº†å¼ ä¸œå‡çš„è„±å‘ç¨‹åº¦å“ˆï¼Œæˆ‘åªæ˜¯ä¸¤è¾¹ä¼šæ˜¾å¾—å°‘ï¼Œå®¹æ˜“éœ²å‡ºå¤´çš®ã€‚</p> \n<p><img src=\"https://user-images.githubusercontent.com/841395/86583062-38229e00-bfb5-11ea-9a10-3ae03d522dda.jpeg\" alt=\"\" /></p> \n<p>æˆ‘å¯ä¸èƒ½æ¥å—ä¸­å¹´ç§ƒé¡¶é‚£ç§æ•ˆæœï¼Œåœ¨å®ƒåˆšåˆšéœ²å‡ºè‹—å¤´æ—¶æˆ‘å°±å‡†å¤‡è§£å†³å®ƒã€‚</p> \n<p><img src=\"https://user-images.githubusercontent.com/841395/86578114-df9bd280-bfad-11ea-8f55-318059a13389.gif\" alt=\"\" /></p> \n<h3 id=\"å¯»æ‰¾æ²»ç–—æ–¹æ¡ˆ\">å¯»æ‰¾æ²»ç–—æ–¹æ¡ˆ</h3> \n<p>è¿™äº›å¹´ä¸­åŒ»è¥¿åŒ»çœ‹è¿‡ä¸å°‘ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ã€Œè„‚æº¢æ€§è„±å‘ã€æ–¹å‘ï¼Œä¹Ÿä»çŸ¥ä¹å¸–å­æ¨èé‡Œæ‰¾äº†ä¸€äº›ç§˜æ–¹ï¼Œæˆ‘ç”šè‡³è¿˜ä¹°è¿‡æŠ–éŸ³æ¨å¹¿çš„ä¸€ä¸ªæ´—å‘è†ï¼ˆè¢«æ”¶ç¨äº†ï¼Œäººç”Ÿæ±¡ç‚¹ï¼ŒğŸ¤¦â€â™‚ï¸)</p> \n<p>æ•´ä½“è¿‡ç¨‹å¯ä»¥è¯´æ˜¯ã€Œç§¯æå¯»æ‰¾æ–¹æ¡ˆ -&gt; æ–¹æ¡ˆæ²¡æœ‰æ•ˆæœ -&gt; å¯»æ‰¾å¦å¤–æ–¹æ¡ˆ -&gt; æ–¹æ¡ˆæ²¡æœ‰æ•ˆæœ -&gt; è¯´æœå®‰æ…°è‡ªå·±æ¥å—ç°å® -&gt; è¢«è§¦åŠ¨ï¼Œé‡æ–°ç§¯æå¯»æ‰¾æ–¹æ¡ˆã€è¿™ä¹ˆä¸€ç§å¾ªç¯ã€‚ä¸ºä»€ä¹ˆä¼šæœ‰ã€Œè¯´æœå®‰æ…°è‡ªå·±æ¥å—ç°å®ã€è¿™ä¹ˆä¸€æ­¥å‘¢ï¼Ÿ</p> \n<p>æˆ‘è¿™ç§åšä¿¡ç§‘å­¦ç†æ€§çš„äººï¼Œä¸€ç›´è§‰å¾—è„±å‘å’Œæˆ‘ä»¬ç¨‹åºå‘˜æ—¥å¸¸ä½œæ¯æœ‰å…³ï¼Œå¤§å®¶æƒ³æƒ³ï¼Œç†¬å¤œä¸¥é‡ã€åŠ ç­ã€å·¥ä½œå‹åŠ›å¤§ã€é¥®é£Ÿä¸è§„å¾‹... ä¹Ÿå°±æ˜¯è¯´å¦‚æœæˆ‘ä¸è„±ç¦»è¿™ç§ç”Ÿæ´»è„±å‘æ˜¯å¿…ç„¶çš„ã€‚æ‰€ä»¥æœ‰æ—¶å€™å°±ä¼šæ¥å—ç°çŠ¶ã€‚</p> \n<p>é‚£ä¹ˆï¼Œè¿˜æœ‰æ•‘å—ï¼Ÿ</p> \n<h3 id=\"åŠŸå¤«ä¸è´Ÿæœ‰å¿ƒäºº\">åŠŸå¤«ä¸è´Ÿæœ‰å¿ƒäºº</h3> \n<p>è¿˜å¥½æˆ‘æ²¡æ”¾å¼ƒã€‚</p> \n<p>èµ·å› æ˜¯ 18 å¹´æˆ‘å› ä¸ºä¸€ä¸ªä¸æ˜åŸå› çš„å’³å—½å»åå’Œçœ‹ç—…æœ€ç»ˆå»æ¶ˆåŒ–å†…ç§‘çœ‹å¥½äº†ï¼Œå½“æ—¶ä¹Ÿæ²¡å¤šæƒ³ï¼Œåªæ˜¯å¯¹åå’Œå´‡æ‹œä¹‹æƒ… Maxã€‚19 å¹´åœ¨çŸ¥ä¹ä¸Šçœ‹åˆ°ä¸€ä¸ªé—®é¢˜ã€ŒåŒ—äº¬åå’ŒåŒ»é™¢æœ‰å¤šç‰›ï¼Ÿã€ï¼Œå°±æŠŠè‡ªå·±çš„ç»å†æ‹¿å‡ºæ¥è¯´äº†ã€‚ä¹‹åçªç„¶æœ‰ä¸€å¤©ï¼Œçªå‘å¥‡æƒ³ï¼šã€Œå’¦ï¼Œåå’Œæ—¢ç„¶è¿™ä¹ˆå‰å®³å»çœ‹çœ‹çš®è‚¤ç§‘å‘€ã€ï¼Ÿçœ‹æŒ‚å·ä¿¡æ¯ç«Ÿç„¶å‘ç°äº†ä¸€ä¸ªã€Œè„±å‘ä¸“ç§‘ã€é—¨è¯Šï¼Œç®€ç›´å°±æ˜¯ä¸ºæˆ‘è¿™ç§äººå‡†å¤‡çš„å‘€ã€‚å·ç‰¹åˆ«éš¾æŒ‚ï¼Œä¸è¿‡å½“æ—¶å®ƒçš„ App è¿˜ä¸å‰å®³ï¼Œæˆ‘åˆä¼šå†™çˆ¬è™«ï¼Œç„¶åå°±æŒ‚ä¸Šã€‚</p> \n<p>ç¬¬ä¸€æ¬¡çœ‹ç—…æ˜¯ 19 å¹´ 9 æœˆåº•ï¼Œå…ˆæ˜¯åšäº†ä¸€ç³»åˆ—æ£€æŸ¥ï¼Œç¡®è®¤æˆ‘æœ‰å¤šä¸ªé—®é¢˜ï¼Œå¯¹ç—‡ä¸‹è¯ã€‚æ²»ç–—å‰ 3-4 ä¸ªæœˆæ„Ÿå—ä¸åˆ°æ˜æ˜¾æ•ˆæœï¼ŒåŒ»ç”Ÿå½“æ—¶ä¹Ÿè¯´äº†è¿™ä¸ªéœ€è¦é•¿æœŸæ²»ç–—ï¼Œè½¬çœ¼å·²ç»åšæŒå¿«ä¸€å¹´äº†ã€‚ä¸€å¼€å§‹æ£€æŸ¥æ—¶æ‹äº†å½“æ—¶æˆ‘å¤´å‘çš„æƒ…å†µçš„ç…§ç‰‡ï¼Œä¸Šæ®µæ—¶é—´å¤æŸ¥æ‹äº†æœ€æ–°çš„ç…§ç‰‡ï¼Œå¯¹æ¯”ä¸€ä¸‹ï¼Œæ•ˆæœæ˜¯è‚‰çœ¼å¯è§çš„æ˜æ˜¾ã€‚æˆ‘ç°åœ¨æ— è®ºæ˜¯å¤´å‘æ²¹ã€å¤´çš®å±‘ã€é•¿ç—˜ç—˜ä»¥åŠæœ€é‡è¦çš„å‘é‡éƒ½æœ‰äº†æ˜æ˜¾çš„å¥½è½¬</p> \n<p><img src=\"https://user-images.githubusercontent.com/841395/86584056-eaa73080-bfb6-11ea-9121-1e6d2f1f9783.gif\" alt=\"\" /></p> \n<p>åœ¨è¿™é‡Œè¯šå¿ƒæ¨èç»™å„ä½æœ‰è„±å‘å›°æ‰°çš„æœ‹å‹</p> \n<p>å¦å¤–å†è¡¥å……ä¸€ç‚¹ï¼Œè¿™ä¸ªåŒ»ç”Ÿæ€åº¦ä¸å¥½ï¼Œæˆ‘å·²ç»äº²çœ¼ç›®ç¹å¤šæ¬¡å’Œæ‚£è€…å†²çªï¼Œå„ä½æ³¨æ„...</p>","descriptionType":"html","feedId":12869,"bgimg":"https://user-images.githubusercontent.com/841395/86583062-38229e00-bfb5-11ea-9a10-3ae03d522dda.jpeg","linkMd5":"82fe96b695540120ca2214acc547bc7c","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn64@2020_5/2020/08/25/02-13-59-866_1b6daf3da23718a6.webp","destWidth":225,"destHeight":225,"sourceBytes":5732,"destBytes":5552,"author":"dongweiming","articleImgCdnMap":{"https://user-images.githubusercontent.com/841395/86583062-38229e00-bfb5-11ea-9a10-3ae03d522dda.jpeg":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn64@2020_5/2020/08/25/02-13-59-866_1b6daf3da23718a6.webp","https://user-images.githubusercontent.com/841395/86578114-df9bd280-bfad-11ea-8f55-318059a13389.gif":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn5@2020_1/2020/08/25/02-15-25-872_bb8b7ed646770129.webp","https://user-images.githubusercontent.com/841395/86584056-eaa73080-bfb6-11ea-9121-1e6d2f1f9783.gif":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn10@2020_3/2020/08/25/02-15-28-019_c8224a98d9be77d1.webp"},"publishedOrCreatedDate":1598321635483},{"createdTime":"2020-08-25 10:13:55","updatedTime":"2020-08-25 10:13:55","title":"propertyçš„AttributeErrorçš„ä¼ æ’­é—®é¢˜","link":"https://www.dongwm.com/post/attributeerror-propagation/","description":"<h3 id=\"å‰è¨€\">å‰è¨€</h3> \n<p>å»å¹´æˆ‘å†™è¿‡ä¸€ç¯‡ <a href=\"https://www.dongwm.com/post/becareful-hasattr/\">ä½ ç”¨å¯¹ hasattr äº†å˜›ï¼Ÿ</a> ä»‹ç»è¿‡è¢« property è£…é¥°çš„æ–¹æ³•å†…éƒ¨æŠ›é”™ä¼šå¼•èµ· hasattr çš„ç»“æœä¸º Falseã€‚</p> \n<p>ä»Šå¤©åˆé‡åˆ°äº†ä¸€ä¸ª AttributeError å‘ä¸Šä¼ æ’­çš„é—®é¢˜ (Python 2)ï¼Œä¸€èµ·æ¥çœ‹çœ‹</p> \n<h3 id=\"é—®é¢˜\">é—®é¢˜</h3> \n<p>å…ˆä¸Šä»£ç :</p> \n<figure class=\"highlight python3\" data-lang=\"python3\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs python3\"><span></span><span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"k\">class</span> <span class=\"nc\">T</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>     <span class=\"nd\">@property</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>     <span class=\"k\">def</span> <span class=\"nf\">name</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>         <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">missing_attribute</span><span class=\"p\">)</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>         <span class=\"k\">return</span> <span class=\"mi\">42</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>     <span class=\"k\">def</span> <span class=\"nf\">__getattr__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">):</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>         <span class=\"k\">raise</span> <span class=\"ne\">AttributeError</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">)</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"n\">t</span> <span class=\"o\">=</span> <span class=\"n\">T</span><span class=\"p\">()</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">name</span>\n<span class=\"o\">---------------------------------------------------------------------------</span>\n<span class=\"ne\">AttributeError</span>                            <span class=\"n\">Traceback</span> <span class=\"p\">(</span><span class=\"n\">most</span> <span class=\"n\">recent</span> <span class=\"n\">call</span> <span class=\"n\">last</span><span class=\"p\">)</span>\n<span class=\"o\">&lt;</span><span class=\"n\">ipython</span><span class=\"o\">-</span><span class=\"nb\">input</span><span class=\"o\">-</span><span class=\"mi\">6</span><span class=\"o\">-</span><span class=\"n\">afc812d51b9a</span><span class=\"o\">&gt;</span> <span class=\"ow\">in</span> <span class=\"o\">&lt;</span><span class=\"n\">module</span><span class=\"o\">&gt;</span><span class=\"p\">()</span>\n<span class=\"o\">----&gt;</span> <span class=\"mi\">1</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">name</span>\n\n<span class=\"o\">&lt;</span><span class=\"n\">ipython</span><span class=\"o\">-</span><span class=\"nb\">input</span><span class=\"o\">-</span><span class=\"mi\">4</span><span class=\"o\">-</span><span class=\"n\">a0ba2d3a6446</span><span class=\"o\">&gt;</span> <span class=\"ow\">in</span> <span class=\"fm\">__getattr__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">)</span>\n      <span class=\"mi\">5</span>         <span class=\"k\">return</span> <span class=\"mi\">42</span>\n      <span class=\"mi\">6</span>     <span class=\"k\">def</span> <span class=\"nf\">__getattr__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">):</span>\n<span class=\"o\">----&gt;</span> <span class=\"mi\">7</span>         <span class=\"k\">raise</span> <span class=\"ne\">AttributeError</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">)</span>\n      <span class=\"mi\">8</span>\n\n<span class=\"ne\">AttributeError</span><span class=\"p\">:</span> <span class=\"n\">name</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">k</span> <span class=\"k\">for</span> <span class=\"n\">k</span> <span class=\"ow\">in</span> <span class=\"nb\">dir</span><span class=\"p\">(</span><span class=\"n\">t</span><span class=\"p\">)</span> <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">k</span><span class=\"o\">.</span><span class=\"n\">startswith</span><span class=\"p\">(</span><span class=\"s1\">'_'</span><span class=\"p\">)]</span>\n<span class=\"n\">Out</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'name'</span><span class=\"p\">]</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>è¿™ä¸ªä¾‹å­éœ€è¦ç»†å“ï¼Œæ˜æ˜æœ‰ name è¿™ä¸ªå±æ€§å´æŠ›å‡ºäº† AttributeErrorã€‚åˆ†æä¸€ä¸‹:</p> \n<ol> \n <li>é€šè¿‡ <code>__getattr__</code> å®šåˆ¶å±æ€§æŸ¥æ‰¾çš„é€»è¾‘ï¼Œå½“ç”¨æˆ·è¯•å›¾è·å–ä¸€ä¸ªä¸å­˜åœ¨çš„å±æ€§æ—¶å°±ä¼šæŠ› AttributeError é”™è¯¯</li> \n <li>è·å– name å±æ€§çš„é€»è¾‘ä¸­åŒ…å« <code>print (self.missing_attribute)</code> è¿™å¥ï¼Œç”±äºæ²¡æœ‰è¿™ä¸ªå±æ€§ä¼šæ‰§è¡Œåˆ° <code>__getattr__</code> ç„¶åæŠ› AttributeError</li> \n</ol> \n<p>ä¸€çœ‹åˆ°è¿™ä¸ªè¿èƒŒå¸¸ç†çš„é”™è¯¯ï¼Œæˆ‘å°±æƒ³èµ·æ¥ hasattr çš„é‚£ä¸ªé—®é¢˜ï¼Œè§‰å¾—åº”è¯¥æ˜¯ç±»ä¼¼çš„åŸå› ã€‚ç½‘ä¸Šä¸€æœæœç„¶ä¹‹å‰æœ‰äººå·²ç»ç»™ CPython æè¿‡ issue äº†ï¼Œå…·ä½“å¯ä»¥çœ‹å»¶ä¼¸é˜…è¯»é“¾æ¥ã€‚æ€»ç»“ä¸€ä¸‹ï¼Œè¿™ä¸ªé—®é¢˜çš„å‡ºç°éœ€è¦ 2 ä¸ªç‚¹éƒ½æ»¡è¶³ï¼š</p> \n<ol> \n <li>å®ç°äº† <code>__getattr__</code></li> \n <li>ä½¿ç”¨ property è£…é¥°å™¨çš„æ–¹æ³•çš„é€»è¾‘ä¸­æœ‰æœªé¢„æœŸçš„å±æ€§è°ƒç”¨</li> \n</ol> \n<p>ç›¸å½“äºæ–¹æ³•ä¸­çš„ AttributeError æ²¡æœ‰è¢«å¤„ç†ï¼Œä¼ æ’­åˆ°<code>__getattr__</code>äº†ã€‚å†çœ‹ä¸€ä¸ªä¾‹å­:</p> \n<figure class=\"highlight python3\" data-lang=\"python3\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs python3\"><span></span><span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"k\">class</span> <span class=\"nc\">T</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>     <span class=\"nd\">@property</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>     <span class=\"k\">def</span> <span class=\"nf\">name</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>         <span class=\"k\">raise</span> <span class=\"ne\">AttributeError</span><span class=\"p\">(</span><span class=\"s1\">'This message will not be displayed!'</span><span class=\"p\">)</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>         <span class=\"k\">return</span> <span class=\"s1\">'Hello'</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>     <span class=\"k\">def</span> <span class=\"nf\">__getattr__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">):</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>         <span class=\"k\">return</span> <span class=\"mi\">0</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"n\">t</span> <span class=\"o\">=</span> <span class=\"n\">T</span><span class=\"p\">()</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">name</span>\n<span class=\"n\">Out</span><span class=\"p\">:</span> <span class=\"mi\">0</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>ä¸€æ—¦ name æ–¹æ³•ä¸­ç”±äºå„ç§åŸå› ä¼šæŠ› AttributeError é”™è¯¯ (åˆ«çš„é”™è¯¯ä¸è¡Œ)ï¼Œå°±ä¼šèµ°<code>__getattr__</code>é‡Œé¢çš„é€»è¾‘ã€‚</p> \n<h3 id=\"æ€ä¹ˆè§£å†³ï¼Ÿ\">æ€ä¹ˆè§£å†³ï¼Ÿ</h3> \n<p>è¿™ä¸æ˜¯ä¸€ä¸ª BUGï¼Œä½†æ˜¯ä»£ç ç¼–å†™è€…ä¸èƒ½è§„é¿è¿™ç±»é—®é¢˜ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿæœ€ç®€å•çš„åŠæ³•æ˜¯ä½¿ç”¨<code>__getattribute__</code>æ›¿ä»£<code>__getattr__</code>ï¼Œæ¼”ç¤ºä¸€ä¸‹:</p> \n<figure class=\"highlight python3\" data-lang=\"python3\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs python3\"><span></span><span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"k\">class</span> <span class=\"nc\">T</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>     <span class=\"nd\">@property</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>     <span class=\"k\">def</span> <span class=\"nf\">name</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>         <span class=\"k\">raise</span> <span class=\"ne\">AttributeError</span><span class=\"p\">(</span><span class=\"s1\">'This message will not be displayed!'</span><span class=\"p\">)</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>         <span class=\"k\">return</span> <span class=\"s1\">'Hello'</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>     <span class=\"k\">def</span> <span class=\"nf\">__getattribute__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">):</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>         <span class=\"k\">try</span><span class=\"p\">:</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>             <span class=\"k\">return</span> <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">T</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"fm\">__getattribute__</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">)</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>         <span class=\"k\">except</span> <span class=\"ne\">AttributeError</span> <span class=\"k\">as</span> <span class=\"n\">e</span><span class=\"p\">:</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>             <span class=\"k\">raise</span> <span class=\"n\">e</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"n\">t</span> <span class=\"o\">=</span> <span class=\"n\">T</span><span class=\"p\">()</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">name</span>\n<span class=\"o\">---------------------------------------------------------------------------</span>\n<span class=\"ne\">AttributeError</span>                            <span class=\"n\">Traceback</span> <span class=\"p\">(</span><span class=\"n\">most</span> <span class=\"n\">recent</span> <span class=\"n\">call</span> <span class=\"n\">last</span><span class=\"p\">)</span>\n<span class=\"o\">&lt;</span><span class=\"n\">ipython</span><span class=\"o\">-</span><span class=\"nb\">input</span><span class=\"o\">-</span><span class=\"mi\">28</span><span class=\"o\">-</span><span class=\"n\">afc812d51b9a</span><span class=\"o\">&gt;</span> <span class=\"ow\">in</span> <span class=\"o\">&lt;</span><span class=\"n\">module</span><span class=\"o\">&gt;</span><span class=\"p\">()</span>\n<span class=\"o\">----&gt;</span> <span class=\"mi\">1</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">name</span>\n\n<span class=\"o\">&lt;</span><span class=\"n\">ipython</span><span class=\"o\">-</span><span class=\"nb\">input</span><span class=\"o\">-</span><span class=\"mi\">26</span><span class=\"o\">-</span><span class=\"n\">a27dd1330f44</span><span class=\"o\">&gt;</span> <span class=\"ow\">in</span> <span class=\"fm\">__getattribute__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">)</span>\n      <span class=\"mi\">9</span>             <span class=\"k\">return</span> <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">T</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"fm\">__getattribute__</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">)</span>\n     <span class=\"mi\">10</span>         <span class=\"k\">except</span> <span class=\"ne\">AttributeError</span> <span class=\"k\">as</span> <span class=\"n\">e</span><span class=\"p\">:</span>\n<span class=\"o\">---&gt;</span> <span class=\"mi\">11</span>             <span class=\"k\">raise</span> <span class=\"n\">e</span>\n     <span class=\"mi\">12</span>\n\n<span class=\"ne\">AttributeError</span><span class=\"p\">:</span> <span class=\"n\">This</span> <span class=\"n\">message</span> <span class=\"n\">will</span> <span class=\"ow\">not</span> <span class=\"n\">be</span> <span class=\"n\">displayed</span><span class=\"err\">!</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"k\">class</span> <span class=\"nc\">T</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>     <span class=\"nd\">@property</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>     <span class=\"k\">def</span> <span class=\"nf\">name</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>         <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">missing_attribute</span><span class=\"p\">)</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>         <span class=\"k\">return</span> <span class=\"mi\">42</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>     <span class=\"k\">def</span> <span class=\"nf\">__getattribute__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">):</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>         <span class=\"k\">try</span><span class=\"p\">:</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>             <span class=\"k\">return</span> <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">T</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"fm\">__getattribute__</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">)</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>         <span class=\"k\">except</span> <span class=\"ne\">AttributeError</span> <span class=\"k\">as</span> <span class=\"n\">e</span><span class=\"p\">:</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>             <span class=\"k\">raise</span> <span class=\"n\">e</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"n\">t</span> <span class=\"o\">=</span> <span class=\"n\">T</span><span class=\"p\">()</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">name</span>\n<span class=\"o\">---------------------------------------------------------------------------</span>\n<span class=\"ne\">AttributeError</span>                            <span class=\"n\">Traceback</span> <span class=\"p\">(</span><span class=\"n\">most</span> <span class=\"n\">recent</span> <span class=\"n\">call</span> <span class=\"n\">last</span><span class=\"p\">)</span>\n<span class=\"o\">&lt;</span><span class=\"n\">ipython</span><span class=\"o\">-</span><span class=\"nb\">input</span><span class=\"o\">-</span><span class=\"mi\">31</span><span class=\"o\">-</span><span class=\"n\">afc812d51b9a</span><span class=\"o\">&gt;</span> <span class=\"ow\">in</span> <span class=\"o\">&lt;</span><span class=\"n\">module</span><span class=\"o\">&gt;</span><span class=\"p\">()</span>\n<span class=\"o\">----&gt;</span> <span class=\"mi\">1</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">name</span>\n\n<span class=\"o\">&lt;</span><span class=\"n\">ipython</span><span class=\"o\">-</span><span class=\"nb\">input</span><span class=\"o\">-</span><span class=\"mi\">29</span><span class=\"o\">-</span><span class=\"n\">da47b1a1e093</span><span class=\"o\">&gt;</span> <span class=\"ow\">in</span> <span class=\"fm\">__getattribute__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">)</span>\n      <span class=\"mi\">8</span>             <span class=\"k\">return</span> <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">T</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"fm\">__getattribute__</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">)</span>\n      <span class=\"mi\">9</span>         <span class=\"k\">except</span> <span class=\"ne\">AttributeError</span> <span class=\"k\">as</span> <span class=\"n\">e</span><span class=\"p\">:</span>\n<span class=\"o\">---&gt;</span> <span class=\"mi\">10</span>             <span class=\"k\">raise</span> <span class=\"n\">e</span>\n     <span class=\"mi\">11</span>\n\n<span class=\"ne\">AttributeError</span><span class=\"p\">:</span> <span class=\"s1\">'T'</span> <span class=\"nb\">object</span> <span class=\"n\">has</span> <span class=\"n\">no</span> <span class=\"n\">attribute</span> <span class=\"s1\">'missing_attribute'</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>å°±æ˜¯è¿™æ ·~</p> \n<h3 id=\"å»¶ä¼¸é˜…è¯»\">å»¶ä¼¸é˜…è¯»</h3> \n<ol> \n <li><a href=\"https://bugs.python.org/issue24983\">https://bugs.python.org/issue24983</a></li> \n</ol>","descriptionType":"html","feedId":12869,"bgimg":"","linkMd5":"718d4ff0b56862c15462ff1276ed7f5c","bgimgJsdelivr":"","metaImg":"","author":"dongweiming","publishedOrCreatedDate":1598321635485},{"createdTime":"2020-08-25 10:13:55","updatedTime":"2020-08-25 10:13:55","title":"ç»§ç»­ä¼˜åŒ–åšå®¢Vue+Webpackç”Ÿæˆçš„Javascriptæ–‡ä»¶ä½“ç§¯","link":"https://www.dongwm.com/post/optimize-javascript/","description":"<h3 id=\"å‰è¨€\">å‰è¨€</h3> \n<p>æ˜¨å¤© <a href=\"https://github.com/dongweiming/lyanna\">lyanna</a> åˆšå‘å¸ƒäº† v3.2ï¼Œè¿™é‡Œé¢åªæœ‰ä¸€ä¸ªæ›´æ–°ï¼Œå°±æ˜¯æå¤§çš„é™ä½äº†åå°å’ŒåŠ¨æ€è¿™ç§ä½¿ç”¨ Vue+webpack ç”Ÿæˆçš„ Javascript æ–‡ä»¶çš„ä½“ç§¯ã€‚å…¶å®ä»£ç æ”¹åŠ¨ä¸å¤§ï¼Œä½†æ˜¯æ•ˆæœå¾ˆæ˜æ˜¾ï¼Œæœ¬æ–‡å°±æ˜¯åˆ†äº«è¿™ä»¶äº‹ã€‚</p> \n<h3 id=\"åŸæ¥çš„æ•ˆæœ\">åŸæ¥çš„æ•ˆæœ</h3> \n<p>åœ¨ä¹‹å‰çš„ç‰ˆæœ¬é‡Œé¢ Javascript æ–‡ä»¶å¤§å°å¦‚ä¸‹:</p> \n<figure class=\"highlight bash\" data-lang=\"bash\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs bash\"><span></span>â¯ du -sh static/js/activity/*.js\n208K    static/js/activity/app.js\n<span class=\"m\">1</span>.9M    static/js/activity/chunk-vendors.js\n\nâ¯ du -sh static/js/admin/*.js\n824K    static/js/admin/app.js\n<span class=\"m\">8</span>.0K    static/js/admin/chunk-2d230fe7.js\n<span class=\"m\">4</span>.0K    static/js/admin/chunk-2d2382a4.js\n28K static/js/admin/chunk-46e421b1.js\n<span class=\"m\">1</span>.9M    static/js/admin/chunk-vendors.js\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>å¯ä»¥çœ‹åˆ° chunk-vendors.js éƒ½è¾¾åˆ°äº† 1.9M!ï¼Œapp.js æ–‡ä»¶ä¹Ÿæ¯”è¾ƒå¤§ã€‚</p> \n<p>å…³äºä¸Šä¸€æ¬¡ä¼˜åŒ–å¯ä»¥çœ‹ <a href=\"https://www.dongwm.com/post/optimize-vue-admin/\">ä¼˜åŒ–åšå®¢åå° (Vue) Javascript æ–‡ä»¶ä½“ç§¯</a> è¿™ç¯‡æ–‡ç« ï¼Œä¸»è¦æ˜¯æŠŠä¸€äº›æ¯”è¾ƒå¤§çš„åº“æŠ½å‡ºæ¥ï¼Œç”¨ CDN æ¥ç‹¬ç«‹æœåŠ¡ã€‚</p> \n<p><strong>å½“æ—¶æˆ‘çš„æ„Ÿè§‰æ˜¯é¡µé¢é‚£ä¹ˆç‚¹é€»è¾‘ï¼Œå³ä¾¿åŠ ä¸Šç›¸å…³ä¾èµ–ä¹Ÿä¸åº”è¯¥äº§ç”Ÿè¿™ä¹ˆå¤§çš„æ–‡ä»¶</strong>ï¼Œä½†æ˜¯ç”±äºä¸äº†è§£ webpack å·¥ä½œåŸç†å°±å…ˆä½œç½¢äº†ï¼Œä¸è¿‡å¹¸å¥½åšè¿‡è¿ç»´ï¼ŒçŸ¥é“å¯ä»¥åœ¨ Nginx ä¸Šå¼€å¯ Gzip å‹ç¼©ï¼Œæ‰€ä»¥å¤§å®¶åœ¨è®¿é—®é¡µé¢æ—¶ï¼Œè¯·æ±‚çš„æ–‡ä»¶å¤§å°çº¦å®é™…çš„ 1/3:</p> \n<p><img src=\"https://user-images.githubusercontent.com/841395/72195277-8282f200-344c-11ea-8465-6911d6f670ce.png\" alt=\"\" /></p> \n<p>lyanna 3.0 åŠ äº†åŠ¨æ€åï¼Œåˆçœ‹åˆ°è¿™æ ·çš„æ–‡ä»¶ä½“ç§¯é—®é¢˜ã€‚è™½ç„¶ chunk-vendors.js æ˜¯ 590k çœ‹èµ·æ¥ä¸å¤§ï¼Œç”±äºç½‘ç«™æµé‡å°æˆ‘å€’ä¸è€ƒè™‘å¸¦å®½é—®é¢˜ï¼Œä½†å…³é”®æ˜¯æ‰“å¼€æ…¢å‘€ï¼Œä½ æƒ³æƒ³è®¿é—®è€…æ‰“å¼€å®ƒéœ€è¦å‡ ç§’ï¼Œé¡µé¢å°±ä¸€ç›´ç©ºç™½ç€ï¼Ÿæ‰€ä»¥é©¬ä¸ŠåŠ äº† CDN çš„æ”¯æŒï¼šè¿‡å»é™æ€æ–‡ä»¶æ˜¯ç›´æ¥æœåŠ¡çš„ï¼Œç°åœ¨å·²ç»æ”¹æˆäº†ä½¿ç”¨æŸäº‘ã€‚ç¼“è§£äº†æ‰“å¼€æ…¢çš„é—®é¢˜ï¼Œä¸è¿‡ã€Œæ–‡ä»¶å¤§ã€è¿˜æ˜¯æ²¡æœ‰æ ¹æœ¬è§£å†³ã€‚æ‰€ä»¥æ˜¨å¤©æˆ‘åˆå¼€å§‹ç ”ç©¶è¿™ä¸ªé—®é¢˜äº†ï¼Œä¸‹é¢æ˜¯è¿‡ç¨‹ã€‚</p> \n<h3 id=\"å°è¯•ä¿®æ”¹ä¾èµ–å…³ç³»è§£å†³\">å°è¯•ä¿®æ”¹ä¾èµ–å…³ç³»è§£å†³</h3> \n<p>ç½‘ç«™ç¿»äº†å¾ˆå¤šä¼˜åŒ–æ–‡ä»¶ï¼Œæ— æœã€‚ç¬¬ä¸€ä¸ªç‚¹æ˜¯çœ‹<code>yarn build --report</code>ç”Ÿæˆçš„æŠ¥å‘Šäº§ç”Ÿçš„æ€è·¯ï¼Œå…ˆçœ‹ä¸€ä¸‹:</p> \n<p><img src=\"https://user-images.githubusercontent.com/841395/72195286-8d3d8700-344c-11ea-8366-fd9e1725f367.png\" alt=\"\" /></p> \n<p>å·¦ä¸Šæœ‰ä¸€ä¸ªå¾ˆå¤§çš„ core-js åŒºåŸŸï¼Œå¥½åƒè¿™ä¸æ˜¯æˆ‘çš„ä¾èµ–å•Šï¼æŸ¥äº†ä¸‹ï¼Œè¯´å®ƒæ˜¯ @babel/polyfill çš„æ ¸å¿ƒä¾èµ–ï¼Œæ‰“å¼€ package.json æ–‡ä»¶çœ‹åˆ°å®ƒåœ¨ dependencies é¡¹é‡Œé¢ã€‚æˆ‘æ¥äº†çµæ„Ÿï¼Œå› ä¸º dependencies æ˜¯ç”Ÿäº§ç¯å¢ƒé‡Œéœ€è¦æ‰“åŒ…çš„åº“ï¼Œè€Œå®ƒå’Œ node-sass ä»¥åŠ sass-loader ç­‰éƒ½æ˜¯æ‰“åŒ…è¿‡ç¨‹ç”¨çš„ï¼Œæˆ‘ä¸è®°å¾—æˆ‘ä¸ºä»€ä¹ˆæ²¡æŠŠå®ƒæ”¾åœ¨ devDependencies é¡¹é‡Œé¢ã€‚</p> \n<p>ä½†æ˜¯å°è¯•äº†ä¸€ä¸‹ï¼Œå¯¹äº§ç”Ÿçš„ dist æ–‡ä»¶ä½“ç§¯æ²¡æœ‰å½±å“ï¼Œå¤±è´¥~</p> \n<p><img src=\"https://user-images.githubusercontent.com/841395/72195349-ca097e00-344c-11ea-819e-835e01647843.gif\" alt=\"\" /></p> \n<h3 id=\"æ‰¾åˆ°ç»ˆæä¼˜åŒ–æ–¹æ¡ˆ\">æ‰¾åˆ°ç»ˆæä¼˜åŒ–æ–¹æ¡ˆ</h3> \n<p>æœ€ç»ˆæ˜¯æˆ‘ç”¨ç¼–è¾‘å™¨æ‰“å¼€ chunk-vendors.js æ–‡ä»¶ï¼Œæƒ³çœ‹çœ‹é‡Œé¢åˆ°åº•æœ‰ä»€ä¹ˆã€‚æˆ‘ç¿»åˆ°äº†éå¸¸éå¸¸å¤šçš„ç±»ä¼¼ä¸‹é¢çš„å†…å®¹:</p> \n<figure class=\"highlight javascript\" data-lang=\"javascript\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs javascript\"><span></span><span class=\"p\">...</span><span class=\"c1\">//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8tc3RyaW5nLXRhZy1zdXBwb3J0LmpzPzAwZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsc0JBQXNCLG1CQUFPLENBQUMsTUFBZ0M7O0FBRTlEO0FBQ0E7O0FBRUE7O0FBRUEiLCJmaWxlIjoiMDBlZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcblxudmFyIFRPX1NUUklOR19UQUcgPSB3ZWxsS25vd25TeW1ib2woJ3RvU3RyaW5nVGFnJyk7XG52YXIgdGVzdCA9IHt9O1xuXG50ZXN0W1RPX1NUUklOR19UQUddID0gJ3onO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN0cmluZyh0ZXN0KSA9PT0gJ1tvYmplY3Qgel0nO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///00ee\\n\")}...</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>æ•´ä¸ªæ–‡ä»¶å°±æ˜¯å› ä¸ºè¿™ç§æ³¨é‡Šé€ æˆçš„æ–‡ä»¶è¿‡å¤§ã€‚å•Šï¼è¿™ä¸æ˜¯ sourcemap å˜›ï¼Ÿæˆ‘è¿˜æ˜¯æ€€ç–‘äººç”Ÿï¼Œå› ä¸ºé¡¹ç›®ä¸€å¼€å§‹æˆ‘å°±åœ¨ vue.config.js é‡Œé¢åŠ äº†ä¸€å¥<code>productionSourceMap: false</code>ï¼Œè¡¨ç¤ºç”Ÿäº§ç¯å¢ƒç¦ç”¨... ä½†æ˜¯æœ¨æœ‰ç”Ÿæ•ˆï¼æˆ–è€…æˆ‘ç†è§£é”™äº†ï¼Œå®ƒåªæ˜¯è¯´ç”Ÿäº§ç¯å¢ƒä¸ç”¨ xx.map æ–‡ä»¶ã€‚</p> \n<p>ç„¶åæœäº†ä¸‹ï¼Œæ”¹æˆäº†ä¸‹é¢è¿™æ ·:</p> \n<figure class=\"highlight javascript\" data-lang=\"javascript\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs javascript\"><span></span><span class=\"kr\">const</span> <span class=\"nx\">debug</span> <span class=\"o\">=</span> <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">NODE_ENV</span> <span class=\"o\">!==</span> <span class=\"s1\">'production'</span>\n\n<span class=\"nx\">module</span><span class=\"p\">.</span><span class=\"nx\">exports</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"p\">...</span>\n    <span class=\"nx\">productionSourceMap</span><span class=\"o\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>  <span class=\"c1\">// ç”Ÿäº§ç¯å¢ƒç¦ç”¨</span>\n    <span class=\"nx\">configureWebpack</span><span class=\"o\">:</span> <span class=\"p\">(</span><span class=\"nx\">config</span><span class=\"p\">)</span> <span class=\"p\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">debug</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n            <span class=\"nx\">config</span><span class=\"p\">.</span><span class=\"nx\">devtool</span> <span class=\"o\">=</span> <span class=\"s1\">'eval-source-map'</span>\n        <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n            <span class=\"nx\">config</span><span class=\"p\">.</span><span class=\"nx\">devtool</span> <span class=\"o\">=</span> <span class=\"kc\">false</span>\n        <span class=\"p\">}</span>\n        <span class=\"nx\">config</span><span class=\"p\">.</span><span class=\"nx\">output</span><span class=\"p\">.</span><span class=\"nx\">filename</span> <span class=\"o\">=</span> <span class=\"s1\">'static/js/activity/[name].js'</span>\n        <span class=\"nx\">config</span><span class=\"p\">.</span><span class=\"nx\">output</span><span class=\"p\">.</span><span class=\"nx\">chunkFilename</span> <span class=\"o\">=</span> <span class=\"s1\">'static/js/activity/[name].js'</span>\n        <span class=\"nx\">config</span><span class=\"p\">.</span><span class=\"nx\">externals</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n            <span class=\"s1\">'vue'</span><span class=\"o\">:</span> <span class=\"s1\">'Vue'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'moment'</span><span class=\"o\">:</span> <span class=\"s1\">'moment'</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">},</span>\n    <span class=\"p\">...</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>ä¸»è¦æ˜¯ configureWebpack éƒ¨åˆ†å†…éƒ¨åŠ äº†åˆ¤æ–­ï¼Œå¦‚æœåœ¨å¼€å‘ç¯å¢ƒä½¿ç”¨<code>eval-source-map</code>ï¼Œç”Ÿäº§ç¯å¢ƒä¸å¼€å¯ devtool è¿™é¡¹ã€‚</p> \n<p>é‡æ–°<code>yarn build</code>:</p> \n<figure class=\"highlight bash\" data-lang=\"bash\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs bash\"><span></span>â¯ du -sh static/js/activity/*.js\n28K     static/js/activity/app.js\n364K    static/js/activity/chunk-vendors.js\n\nâ¯ du -sh static/js/admin/*.js\n108K    static/js/admin/app.js\n<span class=\"m\">4</span>.0K    static/js/admin/chunk-2d230fe7.js\n<span class=\"m\">4</span>.0K    static/js/admin/chunk-2d2382a4.js\n<span class=\"m\">4</span>.0K    static/js/admin/chunk-45698e1a.js\n268K    static/js/admin/chunk-vendors.js\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>å°±æ‹¿ activity çš„æ–‡ä»¶æ¥è¯´ï¼Œapp.js ä» 208k é™åˆ°äº† 28k (åŸæ¥çš„ 1/7)ï¼Œchunk-vendors.js ä» 1.9M é™åˆ°äº† 364k (åŸæ¥çš„ 1/5)ã€‚æ„Ÿè§‰å¾ˆå¤šæ•ˆæœéƒ½æœ‰è¿™ä¸ªé—®é¢˜å•¦~</p> \n<p>å†çœ‹çœ‹æµè§ˆå™¨è®¿é—®çš„å‹ç¼©ä¹‹åçš„æ–‡ä»¶ä½“ç§¯:</p> \n<p><img src=\"https://user-images.githubusercontent.com/841395/72195287-8dd61d80-344c-11ea-88a6-f5c1b246d9c7.png\" alt=\"\" /></p> \n<h3 id=\"åˆå¹¶vendorå’Œapp\">åˆå¹¶ vendor å’Œ app</h3> \n<p>å‰é¢å·²ç»ä¼˜åŒ–äº† chunk-vendors.jsï¼Œç°åœ¨ app.js å’Œ chunk-vendors.js éƒ½ä¸å¤§ï¼Œæ²¡å¿…è¦äº§ç”Ÿ 2 ä¸ªè¯·æ±‚ï¼Œæ‰€ä»¥åˆå¹¶ä¸€ä¸‹:</p> \n<figure class=\"highlight javascript\" data-lang=\"javascript\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs javascript\"><span></span><span class=\"c1\">// vue.config.js</span>\n<span class=\"nx\">module</span><span class=\"p\">.</span><span class=\"nx\">exports</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"nx\">configureWebpack</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n    <span class=\"nx\">optimization</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n      <span class=\"nx\">splitChunks</span><span class=\"o\">:</span> <span class=\"kc\">false</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>å†çœ‹çœ‹:</p> \n<figure class=\"highlight bash\" data-lang=\"bash\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs bash\"><span></span>â¯ du -sh static/js/activity/app.js\n384K    static/js/activity/app.js\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>ç°åœ¨ä½“ç§¯æ¯”ä¹‹å‰çš„ 392 (364 + 28) kï¼Œè¿˜è¦å°ä¸€ç‚¹ã€‚</p> \n<h3 id=\"åè®°\">åè®°</h3> \n<p>æœ€åè¡¨è¾¾ä¸€ä¸‹å¿ƒæƒ…:</p> \n<p><img src=\"https://user-images.githubusercontent.com/841395/72195348-ca097e00-344c-11ea-88ba-989da01a3b10.gif\" alt=\"\" /></p>","descriptionType":"html","feedId":12869,"bgimg":"https://user-images.githubusercontent.com/841395/72195277-8282f200-344c-11ea-8465-6911d6f670ce.png","linkMd5":"7f534e6a85cd22cfc97bbb13ba29c72c","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn75@2020_6/2020/08/25/02-13-59-640_c5110cd44743ee28.webp","destWidth":2878,"destHeight":184,"sourceBytes":79023,"destBytes":25020,"author":"dongweiming","articleImgCdnMap":{"https://user-images.githubusercontent.com/841395/72195277-8282f200-344c-11ea-8465-6911d6f670ce.png":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn75@2020_6/2020/08/25/02-13-59-640_c5110cd44743ee28.webp","https://user-images.githubusercontent.com/841395/72195286-8d3d8700-344c-11ea-8366-fd9e1725f367.png":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn17@2020_1/2020/08/25/02-15-26-324_39d857bc3dff881c.webp","https://user-images.githubusercontent.com/841395/72195349-ca097e00-344c-11ea-819e-835e01647843.gif":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn22@2020_3/2020/08/25/02-15-25-815_3ec76e4cd48cec14.webp","https://user-images.githubusercontent.com/841395/72195287-8dd61d80-344c-11ea-88a6-f5c1b246d9c7.png":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn14@2020_1/2020/08/25/02-15-25-978_5d502806d8613b95.webp","https://user-images.githubusercontent.com/841395/72195348-ca097e00-344c-11ea-88ba-989da01a3b10.gif":"https://cdn.jsdelivr.net/gh/myreaderx/cdn93@2020_4/2020/08/25/02-15-27-276_ad933fc14a412e75.webp"},"publishedOrCreatedDate":1598321635485},{"createdTime":"2020-08-25 10:13:55","updatedTime":"2020-08-25 10:13:55","title":"ä»Python2è¿ç§»åˆ°Python3å®æˆ˜(äºŒ) - ç±»å‹æç¤º(mypyã€monkeytypeå’Œpyannotate)","link":"https://www.dongwm.com/post/type-hints-and-mypy/","description":"<h3 id=\"å‰è¨€\">å‰è¨€</h3> \n<p>å¦‚æœæŠŠæ—¶é—´æ‹‰åˆ°ä¸€å¹´å‰æˆ‘è‚¯å®šä¸ä¼šå†™å…³äºç±»å‹æç¤º (Type Hint) æˆ–è€… mypy çš„å†…å®¹ã€‚å°è±¡é‡Œåœ¨ä¹‹å‰çš„åšå®¢æˆ–è€…çŸ¥ä¹å›ç­”ä¸­æ˜ç¡®æè¿‡ã€Œæ‹’ç»åœ¨ä»£ç ä¸­æŒ‡å®šå˜é‡ç±»å‹ã€ï¼Œå¦å¤–ä¸€ä¸ªåŸå› æ˜¯ mypy å’Œç±»å‹æç¤ºç›¸å…³çš„åŠŸèƒ½è¿˜åœ¨ä¸æ–­å®Œå–„ï¼Œä¸šç•Œè¿˜æ²¡æœ‰å¤§èŒƒå›´åº”ç”¨ã€‚</p> \n<p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒPython æ˜¯åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œå£°æ˜å˜é‡æ—¶ä¸éœ€è¦æ˜¾å¼çš„æŒ‡å®šå˜é‡ç±»å‹ï¼Œç¨‹åºä¼šåœ¨è¿è¡Œæ—¶å€™è§£æå‡ºå˜é‡çš„ç±»å‹ï¼Œè¿™æ ·èƒ½å¤Ÿå‡å°‘ä¸€éƒ¨åˆ†ä»£ç é‡ï¼ŒåŠ å¿«ç¨‹åºçš„ç¼–å†™é€Ÿåº¦ã€‚ä¸è¿‡ç¼ºç‚¹å¤§å®¶ä¹Ÿæ¸…æ¥šï¼Œé™¤äº†é™ä½å¯è¯»æ€§å’Œå®¹æ˜“å› ä¸ºç±»å‹é—®é¢˜å¼‚å¸¸ä¹‹å¤–ï¼Œç›¸å¯¹äºå…¶ä»–ç¼–ç¨‹è¯­è¨€ Python ä¸€ç›´è¢«è¯Ÿç—…ï¼šæ…¢ã€‚</p> \n<p>ä½œä¸ºä¸€ä¸ª Python å¼€å‘è€…ï¼Œæˆ‘è¿‡å»è®¤ä¸ºã€Œåœ¨ä»£ç ä¸­å£°æ˜å‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹ã€ä¸æ˜¯ä»€ä¹ˆé‡è¦çš„äº‹æƒ…ï¼Œè¿™æœ‰èµ–äºæˆ‘çš„ä¸€äº›ç¼–ç¨‹ä¹ æƒ¯å’Œå¯¹ä¸šåŠ¡çš„äº†è§£ï¼Œè¯´å‡ ä¸ªä¾‹å­è§£é‡Šä¸‹æˆ‘ä¸ºä»€ä¹ˆå¾ˆå°‘åœ¨è¿™é‡Œè¸©å‘å§ã€‚</p> \n<h4 id=\"å€¼å¯èƒ½æ˜¯å¤šä¸ªç±»å‹çš„\">å€¼å¯èƒ½æ˜¯å¤šä¸ªç±»å‹çš„</h4> \n<p>åœ¨æ¨¡å‹ä¸­ç»å¸¸æœ‰ä¸€äº› XX.idï¼Œæ¯”å¦‚ subject.idï¼Œè¿™ä¸ª id å±æ€§çš„å€¼å¯èƒ½æ˜¯ intã€str ç”šè‡³ç”±äºä¸€äº›ç‰¹æ®Šé€»è¾‘ä¸º Noneï¼Œç›¸ä¿¡åœ¨è±†ç“£åšè¿‡å¼€å‘çš„éƒ½èƒ½ç†è§£è¿™ä»¶äº‹å§ï¼Ÿæˆ‘åœ¨è¿™é‡Œæœ‰éå¸¸ç»Ÿä¸€çš„åŸåˆ™:<strong>å±æ€§çš„å€¼å’Œå­˜åœ¨æ•°æ®åº“é‡Œé¢çš„å€¼çš„ç±»å‹ä¸€è‡´</strong>ï¼Œæ‰€ä»¥ç»å¤§æƒ…å†µä¸‹ id éƒ½æ˜¯ intï¼Œå¦‚æœæœ‰äº›åœ°æ–¹éœ€è¦å­—ç¬¦ä¸²çš„å€¼ï¼Œä¾‹å¦‚ API è¿”å›æ—¶ï¼Œæ‹¿å°±åœ¨ schema é‡Œé¢å®šå¥½ç±»å‹ç”¨äºå±•ç¤ºï¼Œä½†æ˜¯åœ¨åç«¯é€»è¾‘ä¸­æ— è®ºåœ¨å“ªé‡Œéƒ½æ˜¯ intã€‚</p> \n<p>ä½†ä¸ºä»€ä¹ˆè¿™å¯¹äºå¾ˆå¤šå¼€å‘è€…æ˜¯ä¸€ä¸ªé—®é¢˜å‘¢ï¼Ÿ<strong>æ²¡æœ‰ç»Ÿä¸€è§„èŒƒ</strong>ï¼Œæœ‰çš„å¼€å‘è€…ç”¨å­—ç¬¦ä¸²ï¼Œæœ‰çš„å¼€å‘è€…ç”¨çš„å¾ˆéšæ„ï¼Œé‚£ä¹ˆæ—¶é—´ä¹…äº†ï¼Œè¿™ä¸ª id çš„å€¼ç±»å‹å°±ä¸å¥½çŒœäº†ã€‚ä¸è¿‡å¯¹æˆ‘æ¥è¯´è¿™ä¸æ˜¯é—®é¢˜ï¼Œç¬¬ä¸€åªè¦æ˜¯æˆ‘å†™çš„ä»£ç æˆ‘ä¸€çœ¼å°±çŸ¥é“æ˜¯ä»€ä¹ˆï¼Œç¬¬äºŒæ˜¯åˆ«äººå†™çš„ä»£ç ï¼Œäº†è§£å¤šäº†æˆ‘ç»å¤§éƒ¨åˆ†èƒ½çŒœåˆ°å¯¹æ–¹ç”¨çš„æ˜¯ä»€ä¹ˆï¼Œè¿™çœŸçš„æ˜¯ç”¨å¿ƒä¸ç”¨å¿ƒçš„é—®é¢˜ã€‚</p> \n<h4 id=\"ä»£ç å†™çš„çœ‹ä¸å‡ºå‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹\">ä»£ç å†™çš„çœ‹ä¸å‡ºå‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹</h4> \n<p>åœ¨çœ‹å†å²é—ç•™çš„æˆ–è€…å…¶ä»–äººå†™çš„ä»£ç æ—¶ï¼Œè¿™ç§æƒ…å†µå¾ˆå¤šã€‚è¿™ä¸ªå°±éœ€è¦ç”¨åˆ°ç¼–è¾‘å™¨çš„æœç´¢ã€å‡½æ•°å®šä¹‰è¿™æ–¹é¢çš„åŠŸèƒ½ï¼Œäº†è§£è°ƒç”¨æ–¹æ˜¯æ€ä¹ˆç”¨çš„ï¼Œå…¶å®èŠ±ä¸äº†å¤šå°‘æ—¶é—´ã€‚å¦‚æœä»£ç éå¸¸é‡è¦ï¼Œæˆ‘ä¸€èˆ¬ä¼šé˜²å¾¡æ€§çš„ä¿®æ”¹å®ƒï¼Œä¸¾ä¸ªä¾‹å­:</p> \n<figure class=\"highlight python3\" data-lang=\"python3\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs python3\"><span></span><span class=\"k\">def</span> <span class=\"nf\">get_follower_ids</span><span class=\"p\">(</span><span class=\"n\">to_id</span><span class=\"p\">,</span> <span class=\"n\">start</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">limit</span><span class=\"o\">=</span><span class=\"mi\">20</span><span class=\"p\">):</span>\n    <span class=\"n\">queryset</span> <span class=\"o\">=</span> <span class=\"n\">query</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"n\">limit</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">offset</span><span class=\"p\">(</span><span class=\"n\">start</span><span class=\"p\">)</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>è·å–ä¸€ä¸ªç”¨æˆ·çš„å…³æ³¨åˆ—è¡¨ï¼Œæˆ‘è®¤ä¸º<code>to_id</code>åº”è¯¥æ˜¯ intï¼Œlimit å¯ä»¥æ˜¯ä¸€ä¸ªå¤§äºé›¶çš„æ•°å­—æˆ–è€… Noneï¼Œæˆ‘ä¼šè¿™ä¹ˆæ”¹:</p> \n<figure class=\"highlight python3\" data-lang=\"python3\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs python3\"><span></span><span class=\"k\">def</span> <span class=\"nf\">get_follower_ids</span><span class=\"p\">(</span><span class=\"n\">to_id</span><span class=\"p\">,</span> <span class=\"n\">start</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">limit</span><span class=\"o\">=</span><span class=\"mi\">20</span><span class=\"p\">):</span>\n    <span class=\"n\">to_id</span> <span class=\"o\">=</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">to_id</span><span class=\"p\">)</span>\n    <span class=\"n\">queryset</span> <span class=\"o\">=</span> <span class=\"n\">query</span><span class=\"o\">.</span><span class=\"n\">offset</span><span class=\"p\">(</span><span class=\"n\">start</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"n\">limit</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n        <span class=\"n\">queryset</span> <span class=\"o\">=</span> <span class=\"n\">query</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"n\">limit</span><span class=\"p\">)</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>å½“ç„¶æœ‰å¿…è¦æ—¶åº”è¯¥æŠ›é”™ç»™è°ƒç”¨æ–¹ã€‚</p> \n<h4 id=\"å¼‚å¸¸å¤„ç†\">å¼‚å¸¸å¤„ç†</h4> \n<p>ä¸€ä¸ªå…¸å‹ä¾‹å­ï¼Œå°±æ˜¯å¼€å‘è€…å¿˜è®°å¤„ç† None æˆ–è€…å…¶å®ƒä¸€äº›ç‰¹æ®Šæ¡ä»¶çš„æƒ…å†µï¼Œå€Ÿç€å‰é¢æåˆ°çš„ id å€¼çš„ç±»å‹å¯èƒ½ä¸º None æ¥è¯´ï¼Œid ä¸º None è¿™æœ¬èº«å°±å¾ˆå¥‡æ€ªã€‚è¿™ç§æƒ…å†µä¸‹å¾ˆå¤šæ—¶å€™æ˜¯ç”±äºåˆ›å»ºæ¨¡å‹å®ä¾‹æ˜¯å¼‚å¸¸äº†ï¼Œä¾‹å¦‚ SQL è¯­å¥è¯­æ³•é”™è¯¯ï¼Œæ•°æ®åº“å‡ºç°äº†é—®é¢˜ç­‰ã€‚æœ‰äº›å¼€å‘è€…ä¼šåœ¨é”™è¯¯æ—¶è¿”å›ä¸€ä¸ªå®ä¾‹ï¼Œä½†æ˜¯ id æ˜¯ Noneï¼Œå°±å¯èƒ½é€ æˆæœªæ¥ä¸€ç³»åˆ—ä¸ç¬¦åˆé¢„æœŸã€‚è¯´åˆ°è¿™é‡Œå…ˆè¯´ä¸€ä¸‹ Go çš„å¸¸è§å†™æ³•:</p> \n<figure class=\"highlight go\" data-lang=\"go\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs go\"><span></span><span class=\"kd\">func</span> <span class=\"nx\">createStatus</span><span class=\"p\">()</span> <span class=\"p\">(</span><span class=\"kt\">string</span><span class=\"p\">,</span> <span class=\"kt\">bool</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"s\">\"Test\"</span><span class=\"p\">,</span> <span class=\"kc\">true</span>\n<span class=\"p\">}</span>\n\n<span class=\"kd\">func</span> <span class=\"nx\">main</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"nx\">value</span><span class=\"p\">,</span> <span class=\"nx\">ok</span> <span class=\"o\">:=</span> <span class=\"nx\">createStatus</span><span class=\"p\">();</span> <span class=\"nx\">ok</span> <span class=\"p\">{</span>\n        <span class=\"nx\">fmt</span><span class=\"p\">.</span><span class=\"nx\">Println</span><span class=\"p\">(</span><span class=\"nx\">value</span><span class=\"p\">)</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>è€Œæˆ‘å†™çš„ä»£ç éå¸¸åƒ Go çš„ä½“éªŒ (å¦‚ lyanna é¡¹ç›®çš„ä¸€å¤„ï¼Œå»¶ä¼¸é˜…è¯»é“¾æ¥ 3):</p> \n<figure class=\"highlight python3\" data-lang=\"python3\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs python3\"><span></span><span class=\"n\">ok</span><span class=\"p\">,</span> <span class=\"n\">user</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">validate_login</span><span class=\"p\">(</span><span class=\"n\">username</span><span class=\"p\">,</span> <span class=\"n\">password</span><span class=\"p\">)</span>\n<span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">ok</span><span class=\"p\">:</span>\n    <span class=\"k\">raise</span> <span class=\"n\">exceptions</span><span class=\"o\">.</span><span class=\"n\">AuthenticationFailed</span><span class=\"p\">(</span><span class=\"s1\">'User or Password is incorrect.'</span><span class=\"p\">)</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>æˆ‘å¤§æ¦‚ä» 14 å¹´å¼€å§‹è¿™ä¹ˆå†™ï¼šæŠŠæ‰§è¡Œæ˜¯å¦æˆåŠŸå’Œè¿”å›çš„å®ä¾‹åˆ†å¼€ï¼Œå¦‚æœ ok ä¸º Trueï¼Œé‚£ä¹ˆ user å°±æ˜¯å¯ç”¨çš„ï¼Œå¦åˆ™æ ¹æœ¬å°±ä¸èµ°ä¸‹é¢çš„é€»è¾‘ã€‚</p> \n<p>æ—¥å¸¸å¼€å‘é‡Œé¢æˆ‘æœ‰å¾ˆå¤šè¿™æ ·çš„å¼€å‘ä¹ æƒ¯å’ŒæŠ€å·§ï¼Œå®ƒä»¬å¸®æˆ‘é€ƒé¿äº†å¾ˆå¤šå‘å„¿</p> \n<h4 id=\"é‚£æˆ‘ä¸ºä»€ä¹ˆå¼€å§‹é‡è§†ç±»å‹æç¤ºé—®é¢˜ï¼Ÿ\">é‚£æˆ‘ä¸ºä»€ä¹ˆå¼€å§‹é‡è§†ç±»å‹æç¤ºé—®é¢˜ï¼Ÿ</h4> \n<p>é¦–å…ˆæ˜¯èº«è¾¹ Python å¼€å‘è€…è´¨é‡çš„ä¸‹é™ã€‚åœ¨å¤§å‹é¡¹ç›®ä¸­æ¶‰åŠå¤šäººå¼€å‘ï¼Œå¦‚æœæ²¡æœ‰ä¸€å¥—å®Œæ•´ç±»å‹æ£€æŸ¥ä½“ç³»ï¼Œä¸”å¼€å‘å›¢é˜Ÿæ²¡æœ‰è§„èŒƒæ„è¯†ï¼Œè¿™ç®€ç›´å°±æ˜¯ç¾éš¾ã€‚ä½ ä»¬ç°åœ¨çœ‹åˆ°çš„æŸè”¬èœå‚çš„å„ç§çº¿ä¸ŠæŒ‚æ‰ï¼Œå…¶ä¸­ç»å¤§å¤šæ•°éƒ½æ˜¯ä»£ç è´¨é‡é—®é¢˜ã€‚</p> \n<p>ç„¶åæ˜¯ä¸šç•Œå¦‚ Dropboxã€Instagramã€Google ç­‰çŸ¥ååº”ç”¨ Python çš„å…¬å¸éƒ½åœ¨åŠªåŠ›åšå¥½è¿™ä»¶äº‹ï¼Œå¤§åŠ¿ä¸å¯é€†ï¼Œæœªæ¥ç±»å‹æç¤ºå›å˜å¾—è¶Šæ¥è¶Šæ™®éï¼Œæˆ‘ä»¬å¾—é¡ºåº”ç”šè‡³å»å¼•é¢†ã€‚</p> \n<p>ç¬¬ä¸‰æ˜¯å¸Œæœ›å®ƒå¸®åŠ©æˆ‘æé«˜å¼€å‘æ•ˆç‡ï¼Œå‡å°‘ BUGã€‚</p> \n<p><strong>æˆ‘è®¤ä¸ºå¦‚æœè¿ç§»åˆ° Python 3ï¼Œä¸€å®šè¦è¡¥ç±»å‹æç¤ºï¼ŒæŠŠ mypy ç”¨èµ·æ¥ã€‚</strong></p> \n<h3 id=\"ç±»å‹æç¤ºçš„å†å²\">ç±»å‹æç¤ºçš„å†å²</h3> \n<p>ç®€å•è¯´ä¸€ä¸‹ç±»å‹æç¤ºçš„å†å²å§ã€‚</p> \n<ul> \n <li>Python 3.0ã€‚GvR (Guido van Rossum) å…¶å®åœ¨ 04 å¹´ (å»¶ä¼¸é˜…è¯»é“¾æ¥ 6) å°±æè¿‡ç»™åœ¨ Python ç¼–è¯‘æ—¶æœŸå°±å¦‚ç±»å‹æ£€æŸ¥ï¼Œä½†æ˜¯æ ¸å¿ƒå¼€å‘åå¯¹å£°éŸ³å¾ˆå¤§åæ¥å°±ä½œç½¢äº†ã€‚è€Œæœ€æ—©æ˜¯ä»˜è¯¸å®é™…è¡ŒåŠ¨çš„æ˜¯ä»–æ”¯æŒäº†åœ¨ 2006 å¹´æäº¤çš„ã€ŠPEP 3107 Function Annotationsã€‹(å»¶ä¼¸é˜…è¯»é“¾æ¥ 5)ï¼Œä¸è¿‡è¿™ä¸ªæè®®æ²¡ä»€ä¹ˆäººå›åº”ï¼Œè™½ç„¶æœ€ç»ˆ Python 3.0 æ˜¯ä¾ç…§è¿™ä¸ªææ¡ˆæ·»åŠ äº†å‡½æ•°æ³¨è§£ï¼Œä¸è¿‡è¿˜æ˜¯æ²¡æœ‰å¼•èµ·ä»€ä¹ˆåå“ã€‚</li> \n <li>Python 3.5ã€‚äº‹æƒ…çš„è½¬æœºå‡ºç°åœ¨ Pycon2013 å¹´ï¼Œmypy çš„ä½œè€… Jukka Lehtosalo åšäº†ã€ŠMypy: Optional Static Typing for Pythonã€‹(å»¶ä¼¸é˜…è¯»é“¾æ¥ 7) è¿™ä¸ªä¸»é¢˜æ¼”è®²ï¼Œä¸è¿‡å¾ˆé—æ†¾æ²¡æœ‰æ‰¾åˆ°å¯¹åº”è§†é¢‘ï¼ŒJukka åœ¨è¿™åœºæ¼”è®²ä¸­ä»‹ç»è¯´è‡ªå·±æ­£åœ¨å¼€å‘ä¸€é—¨å«ã€ŒMypyã€çš„ Python æ–¹è¨€ï¼Œå…¶æœ€å¤§çš„ç‰¹ç‚¹ä¾¿æ˜¯åŒæ—¶æ”¯æŒé™æ€å’ŒåŠ¨æ€ç±»å‹ã€‚è¯¥æƒ³æ³•ä¸ GvR å¾ˆæ—©ä¹‹å‰çš„æƒ³æ³•ä¸è°‹è€Œåˆã€‚å’Œ Jukka äº¤è°ˆåï¼ŒGvR å¾—åˆ°çµæ„Ÿï¼Œæ’°å†™å‡ºã€ŠPEP 483 The Theory of Type Hintsã€‹(å»¶ä¼¸é˜…è¯» 4)ã€‚è€Œå GvR å’Œ Jukka ä¸€åŒæŠŠè¿™ç¯‡è‰ç¨¿æ‰©å±•æˆäº†ã€ŠPEP 484 Type Hintã€‹(å»¶ä¼¸é˜…è¯»é“¾æ¥ 8) å¹¶åœ¨ 2015 å¹´ä½œä¸º Python 3.5 çš„æ–°åŠŸèƒ½å‘å¸ƒï¼Œåˆ°è¿™é‡Œ Python å°±æœ‰äº†å¯é€‰çš„ç±»å‹æ ‡æ³¨çš„åè®®ï¼Œæ–°å¢äº† typing æ¨¡å—ã€‚</li> \n <li>Python 3.6ã€‚åŸºäºã€ŠPEP 526 Syntax for Variable Annotationsã€‹(å»¶ä¼¸é˜…è¯»é“¾æ¥ 9) æ·»åŠ äº†ç”¨æ¥æ³¨é‡Šå˜é‡ (åŒ…æ‹¬ç±»å˜é‡å’Œå®ä¾‹å˜é‡) ç±»å‹çš„è¯­æ³•</li> \n <li>Python 3.7ã€‚åŸºäºã€ŠPEP 563 Postponed Evaluation of Annotationsã€‹ï¼ˆå»¶ä¼¸é˜…è¯»é“¾æ¥ 10ï¼‰æ”¯æŒäº†å»¶è¿Ÿæ ‡æ³¨æ±‚å€¼ï¼Œæˆ‘ä¹‹å‰ä¸“é—¨å†™è¿‡ <a href=\"https://www.dongwm.com/post/132/\"><code>from __future__ import annotations</code></a> ä»‹ç»å®ƒ</li> \n <li>Python 3.8ã€‚åŸºäº PEP 591 (Final qualifier), PEP 586 (Literal types) å’Œ PEP 589 (TypedDict)ï¼Œå®Œå–„äº† typingã€‚</li> \n</ul> \n<p>å¯ä»¥æ„Ÿå—åˆ°ç°åœ¨ (2020 å¹´) Python çš„ç±»å‹å·²ç»éå¸¸å®Œå–„äº†ã€‚è€Œ Mypy ç»è¿‡ä¸æ–­åœ°è°ƒæ•´ï¼Œå·²ç»å°†è‡ªå·±å®šä½æˆå¯¹ Python åšé™æ€ç±»å‹æ£€æŸ¥çš„å·¥å…·ã€‚</p> \n<h3 id=\"ç±»å‹æç¤ºçš„ä»·å€¼(ä¼˜ç‚¹)\">ç±»å‹æç¤ºçš„ä»·å€¼ (ä¼˜ç‚¹)</h3> \n<p>é‚£ç”¨ç±»å‹æç¤ºçš„ä»·å€¼æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p> \n<ul> \n <li>æé«˜å¼€å‘æ•ˆç‡ã€‚å…¶å®å°±æ˜¯å¢åŠ å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ä¹‹å‰è¯´æˆ‘ä¼šçŒœåˆ«äººå†™çš„ä»£ç ï¼Œä½†æ˜¯ã€ŒçŒœã€è¿™ä¸ªè¯æœ¬èº«ä¸é è°±ä¹Ÿæ²¡æ³•å¤åˆ¶ç»éªŒç»™æ‰€æœ‰äººã€‚å¦å¤–æˆ‘è™½ç„¶èƒ½è‚¯å®šæˆ‘å†™çš„ä»£ç ä¸”æ— è®ºå‡ ä¸ªæœˆä¹‹åéƒ½ä¸ä¼šå¿˜è®°ï¼Œä½†æ˜¯å¯¹åˆ«äººæ¥è¯´ä¸ä¹Ÿæ˜¯é˜…è¯»ã€Œåˆ«äººã€ä»£ç å˜›ï¼Ÿæ—¢ç„¶è¿™æ ·ï¼Œä¸å¦‚ç›´æ¥åœ¨ä»£ç æ—è¾¹æ ‡æ³¨å‚æ•°çš„ç±»å‹å’Œè¿”å›ç±»å‹ï¼Œé‚£ä¹ˆå¼€å‘è€…å°±éå¸¸è½»æ¾äº†ã€‚</li> \n <li>é™ä½ BUG å‘ç”Ÿå‡ ç‡ã€‚è¿™ä¹Ÿæ˜¯ç±»å‹æç¤ºçš„æ ¸å¿ƒä»·å€¼ï¼Œå¦‚æœé…åˆ mypy æˆ–è€… pyright è¿™æ ·çš„ç±»å‹æ£€æŸ¥å·¥å…·ï¼Œå¯ä»¥åœ¨ä»£ç åˆå¹¶å‰å°±å‘ç°å¤§éƒ¨åˆ†å¾ˆä½çº§çš„ç±»å‹è¾¹ç•Œé”™è¯¯ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å‘ç°ä¸€äº›å¼€å‘è€…è‡ªå·±éƒ½æ²¡æœ‰æƒ³åˆ°çš„éšè—é—®é¢˜ã€‚</li> \n <li>IDE / ç¼–è¾‘å™¨å‹å¥½ã€‚ä»¥ PyCharm å’Œ Visual Studio Code ä¸ºä»£è¡¨çš„ IDE å’Œç¼–è¾‘å™¨å¯åˆ©ç”¨ç±»å‹æ³¨é‡Šå®ç°ä»£ç è¡¥å…¨ã€é«˜äº®æ˜¾ç¤ºé”™è¯¯ç­‰åŠŸèƒ½ï¼Œå› ä¸ºå½“çŸ¥é“å¯¹è±¡çš„ç±»å‹æ—¶ï¼ŒIDE å¯ä»¥å‘Šè¯‰ä½ å¯¹è±¡ä¸Šæœ‰å“ªäº›æ–¹æ³• / å±æ€§å¯ç”¨ã€‚å¦å¤–å¦‚æœç”¨æˆ·å°è¯•è°ƒç”¨ä¸å­˜åœ¨çš„å†…å®¹æˆ–ä¼ é€’ä¸æ­£ç¡®ç±»å‹çš„å‚æ•°ï¼ŒIDE å¯ä»¥ç«‹å³è­¦å‘Šï¼Œè®©å¼€å‘è€…åœ¨ç¼–è¾‘é˜¶æ®µå°±èƒ½å‘ç°ç±»å‹é—®é¢˜ã€‚</li> \n</ul> \n<p>è™½ç„¶è¿‡å»æˆ‘å†…å¿ƒä¸æ„¿æ„æ¥å—å’Œæ‰¿è®¤è¿™ä¸ªå®ƒçš„ä»·å€¼ï¼Œä½†ç°åœ¨å®¢è§‚çš„è¯´ï¼Œåœ¨å¤§å‹é¡¹ç›®ä¸­åº”è¯¥è¡¥å¥½ç±»å‹æç¤ºã€‚</p> \n<h3 id=\"åœ¨lyannaé¡¹ç›®ä¸­ä½¿ç”¨mypy\">åœ¨ lyanna é¡¹ç›®ä¸­ä½¿ç”¨ mypy</h3> \n<p>å·¥ä½œä¸­ç›®å‰è¿˜æ²¡æœ‰æœºä¼šä½¿ç”¨å®ƒï¼Œæ‰€ä»¥æˆ‘å…ˆåœ¨ä¸ªäººé¡¹ç›®ä¸­å¼€å§‹å°è¯•ä½¿ç”¨å®ƒã€‚æœ¬æ–‡ä¸æ˜¯ mypy çš„ä½¿ç”¨ç¯‡ï¼Œå­¦ä¹ å’Œäº†è§£ mypy åº”è¯¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œè¿™é‡Œåªè®°å½•æˆ‘çš„ç»éªŒå’Œåæ§½ã€‚</p> \n<h4 id=\"æ€ä¹ˆå¤„ç†å†å²é—ç•™ä»£ç \">æ€ä¹ˆå¤„ç†å†å²é—ç•™ä»£ç </h4> \n<p>lyanna å†ç»äº†ä¸€å¹´çš„è¿­ä»£ï¼ŒPython ä»£ç è¡Œæ•° 3k+ï¼Œä½†ä¹‹å‰ Python ä»£ç å®Œå…¨æ²¡æœ‰æ ‡æ³¨è¿‡ç±»å‹ï¼Œå¦‚æœäººå·¥è¡¥é½éœ€è¦èŠ±è´¹å¾ˆå¤šçš„æ—¶é—´ã€‚ç›¸ä¿¡ä¹‹å‰åšè¿™ä»¶äº‹çš„ Dropboxã€Instagramã€Google ç­‰å…¬å¸è‚¯å®šä¼šæœ‰è¿™æ ·çš„ç»éªŒï¼Œæ‰€ä»¥æˆ‘å…ˆæœç´¢äº†å¯¹åº”çš„å†…å®¹ã€‚æœ€ç»ˆæ‰¾åˆ° 2 ä¸ªé¡¹ç›®</p> \n<ul> \n <li><a href=\"https://github.com/Instagram/MonkeyType\">Instagram/MonkeyType</a> ã€‚Instagram çš„æ–¹æ¡ˆï¼Œå…·ä½“ç»éªŒæ–‡ç« è§å»¶ä¼¸é˜…è¯»é“¾æ¥ 12</li> \n <li><a href=\"https://github.com/dropbox/pyannotate\">Dropbox/pyannotate</a> ã€‚Dropbox çš„æ–¹æ¡ˆï¼Œå…·ä½“ç»éªŒæ–‡ç« è§å»¶ä¼¸é˜…è¯»é“¾æ¥ 13</li> \n</ul> \n<p>å®ƒä¿©æˆ‘éƒ½å°è¯•äº†ï¼Œå„æœ‰å„çš„é—®é¢˜ã€‚</p> \n<h4 id=\"Instagram/MonkeyType\">Instagram/MonkeyType</h4> \n<p>MonkeyType å¼€æºäº 2017 å¹´ï¼Œå®ƒèƒ½åœ¨è¿è¡Œæ—¶æ”¶é›†å‡½æ•°å‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹ï¼Œè¿˜å¯ä»¥è‡ªåŠ¨ç”Ÿæˆå­˜æ ¹æ–‡ä»¶ (Stub Files)ã€‚å®ƒçš„æ€è·¯æ˜¯ä¸€ä¸ªè„šæœ¬æ–‡ä»¶åŒ…å«ä½ éœ€è¦æ ‡æ³¨çš„æ¨¡å—å¹¶è°ƒç”¨å…¶ä¸­çš„é€»è¾‘ã€‚ä¸‹é¢æ˜¯æˆ‘å½“æ—¶å†™çš„è¡¥å…… models éƒ¨åˆ†è„šæœ¬ä¸­ Post ç›¸å…³çš„éƒ¨åˆ†ä»£ç :</p> \n<figure class=\"highlight python3\" data-lang=\"python3\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs python3\"><span></span><span class=\"kn\">from</span> <span class=\"nn\">tortoise</span> <span class=\"k\">import</span> <span class=\"n\">Tortoise</span><span class=\"p\">,</span> <span class=\"n\">run_async</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">ext</span> <span class=\"k\">import</span> <span class=\"n\">init_db</span>\n<span class=\"kn\">from</span> <span class=\"nn\">models</span> <span class=\"k\">import</span> <span class=\"o\">*</span>\n<span class=\"kn\">from</span> <span class=\"nn\">models.user</span> <span class=\"k\">import</span> <span class=\"o\">*</span>\n<span class=\"kn\">from</span> <span class=\"nn\">models.comment</span> <span class=\"k\">import</span> <span class=\"o\">*</span>\n<span class=\"kn\">from</span> <span class=\"nn\">models.utils</span> <span class=\"k\">import</span> <span class=\"o\">*</span>\n\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">main</span><span class=\"p\">():</span>\n    <span class=\"k\">await</span> <span class=\"n\">init_db</span><span class=\"p\">()</span>\n    <span class=\"k\">try</span><span class=\"p\">:</span>\n        <span class=\"k\">await</span> <span class=\"n\">Post</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span><span class=\"n\">title</span><span class=\"o\">=</span><span class=\"s1\">'test'</span><span class=\"p\">,</span> <span class=\"n\">content</span><span class=\"o\">=</span><span class=\"s1\">''</span><span class=\"p\">,</span> <span class=\"n\">author_id</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span>\n                          <span class=\"n\">slug</span><span class=\"o\">=</span><span class=\"s1\">'x'</span><span class=\"p\">,</span> <span class=\"n\">summary</span><span class=\"o\">=</span><span class=\"s1\">'summary'</span><span class=\"p\">)</span>\n    <span class=\"k\">except</span><span class=\"p\">:</span>\n        <span class=\"o\">...</span>\n    <span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">Post</span><span class=\"o\">.</span><span class=\"n\">cache</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n    <span class=\"k\">await</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">to_sync_dict</span><span class=\"p\">()</span>\n    <span class=\"k\">await</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">comments</span>\n    <span class=\"k\">await</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">tags</span>\n    <span class=\"k\">await</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">content</span>\n    <span class=\"k\">await</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">author</span>\n    <span class=\"k\">await</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">html_content</span>\n    <span class=\"k\">await</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">get_all</span><span class=\"p\">()</span>\n    <span class=\"k\">await</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">incr_pageview</span><span class=\"p\">()</span>\n    <span class=\"k\">await</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">set_content</span><span class=\"p\">(</span><span class=\"s1\">'222'</span><span class=\"p\">)</span>\n    <span class=\"k\">await</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">get_by_slug</span><span class=\"p\">(</span><span class=\"s1\">'sddd'</span><span class=\"p\">)</span>\n    <span class=\"k\">await</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">get_related</span><span class=\"p\">()</span>\n    <span class=\"k\">await</span> <span class=\"n\">Post</span><span class=\"o\">.</span><span class=\"n\">sync_filter</span><span class=\"p\">(</span><span class=\"n\">orderings</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">'-id'</span><span class=\"p\">])</span>\n    <span class=\"k\">await</span> <span class=\"n\">Post</span><span class=\"o\">.</span><span class=\"n\">sync_all</span><span class=\"p\">()</span>\n    <span class=\"k\">await</span> <span class=\"n\">Post</span><span class=\"o\">.</span><span class=\"n\">get_or_404</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n    <span class=\"k\">await</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">toc</span>\n    <span class=\"k\">await</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">update_tags</span><span class=\"p\">([</span><span class=\"s1\">'ddd'</span><span class=\"p\">])</span>\n\n\n<span class=\"n\">run_async</span><span class=\"p\">(</span><span class=\"n\">main</span><span class=\"p\">())</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>ç„¶åè¿è¡Œå®ƒ:</p> \n<figure class=\"highlight bash\" data-lang=\"bash\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs bash\"><span></span>â¯ monkeytype run model_fill.py\n<span class=\"c1\"># é»˜è®¤ä¼šç”Ÿæˆmonkeytype.sqlite3æ•°æ®åº“ï¼Œå­˜æ”¾äº†æ”¶é›†åˆ°çš„æ¨¡å—å’Œå¯¹åº”ç±»å‹</span>\nâ¯ sqlite3 monkeytype.sqlite3\nsqlite&gt; <span class=\"k\">select</span> * from monkeytype_call_traces limit <span class=\"m\">1</span><span class=\"p\">;</span>  <span class=\"c1\"># æ„Ÿå—ä¸€ä¸‹è®°å½•å†…å®¹</span>\n<span class=\"m\">2020</span>-01-05 <span class=\"m\">21</span>:12:03.633521<span class=\"p\">|</span>config<span class=\"p\">|</span>AttrDict.__init__<span class=\"p\">|</span><span class=\"o\">{</span><span class=\"s2\">\"self\"</span>: <span class=\"o\">{</span><span class=\"s2\">\"module\"</span>: <span class=\"s2\">\"config\"</span>, <span class=\"s2\">\"qualname\"</span>: <span class=\"s2\">\"AttrDict\"</span><span class=\"o\">}}</span><span class=\"p\">|</span><span class=\"o\">{</span><span class=\"s2\">\"module\"</span>: <span class=\"s2\">\"builtins\"</span>, <span class=\"s2\">\"qualname\"</span>: <span class=\"s2\">\"NoneType\"</span><span class=\"o\">}</span><span class=\"p\">|</span>\nsqlite&gt; SELECT DISTINCT module from monkeytype_call_traces<span class=\"p\">;</span>  <span class=\"c1\"># å»é‡åçš„æ¨¡å—åˆ—è¡¨</span>\nconfig\naiomcache.client\nmodels.mc\nmodels.base\nmodels.blog\next\naiomcache.pool\nmodels.comment\nmodels.toc\n<span class=\"c1\"># æ¥ç€å°±å¯ä»¥æŒ¨ä¸ªåº”ç”¨äº†:</span>\nâ¯ monkeytype -v apply models.blog  <span class=\"c1\"># æ¨¡å—åå­—æ¥è‡ªäºä¸Šé¢çš„monkeytype_call_tracesè¡¨ï¼Œ-vä¼šè¾“å‡ºæŸäº›æ ‡æ³¨æœªæˆåŠŸçš„åŸå› </span>\n<span class=\"c1\"># ç°åœ¨git diffå°±å¯ä»¥çœ‹åˆ°monkeytypeå¯¹åº”çš„ä¿®æ”¹äº†</span>\nâ¯ gd models/blog.py\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>monkeytype çš„åŸç†æ˜¯ç”¨<code>sys.setprofile</code>é’©å­è®°å½•å‚æ•°ã€è¿”å›å€¼ã€‚å®ƒé€‚åˆç”¨åœ¨çº¯ Python é€»è¾‘ï¼Œå¦‚ modelï¼Œutilï¼Œlib ç­‰ï¼Œå¯ä»¥æ”¾åœ¨å•å…ƒæµ‹è¯•ä¸­ï¼Œä½†æ˜¯å¯¹äº Web å¼€å‘çš„ View éƒ¨åˆ†æ²¡æœ‰ç”¨ï¼Œæˆ‘è¯•è¿‡:</p> \n<figure class=\"highlight bash\" data-lang=\"bash\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs bash\"><span></span>â¯ monkeytype run app.py\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>ä¹‹åæ•°æ®åº“ä¸­å¹¶æ²¡æœ‰äº§ç”Ÿè§†å›¾éƒ¨åˆ†çš„å†…å®¹ï¼Œè¿™å¯¹äº Web å¼€å‘å®ƒçš„ä»·å€¼å°±å·®äº†å¾ˆå¤šäº†ã€‚</p> \n<p>å¦å¤–ä½ éœ€è¦åšå¥½å‡†å¤‡ï¼Œapply çš„è¿‡ç¨‹ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ï¼Œå¦‚å¾ªç¯å¼•ç”¨ (å¯ä»¥ç”¨<code>from __future__ import annotations</code>ï¼Œæˆ–è€…å­—ç¬¦ä¸²çš„ç±»åï¼Œä¸è¦ç›´æ¥å¼•ç”¨)ï¼Œè§æ‹›æ‹†æ‹›å°±å¯ä»¥ï¼Œæ€»ä½“ä¸Šé—®é¢˜å¥½è§£å†³ã€‚</p> \n<p>ç¬¬ä¸‰ä¸ªä¸å¥½çš„åœ°æ–¹æºäºå®ƒçš„è®¾è®¡ã€‚ä½ éœ€è¦æŠŠæƒ³è¢«æ ‡æ³¨çš„å‡½æ•°æ–¹æ³•ç­‰éƒ½å®é™…çš„è°ƒç”¨ä¸€éï¼Œæ‰€ä»¥ç¼–å†™èµ·æ¥è¿™ä¸ªè„šæœ¬æ˜¯å¾ˆé•¿çš„ (lyanna é¡¹ç›®å†™äº†çº¦ 300 è¡Œ)ï¼Œå¦‚æœä¸æ·±å…¥ä¸šåŠ¡å¾ˆå®¹æ˜“æ¼ä¸€äº›ï¼Œä¸è¿‡ç”¨å®ƒè¿˜æ˜¯å¾ˆæœ‰ä»·å€¼çš„ã€‚</p> \n<p>æœ€åå¼ºè°ƒä¸€ä¸‹ï¼Œ<strong>monkeytype äº§ç”Ÿçš„æ˜¯ç±»å‹æ ‡æ³¨ (Type annotations)</strong>ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯:</p> \n<ul> \n <li>ä½¿ç”¨å†’å· (<code>:</code>) å°†ä¿¡æ¯é™„åŠ åˆ°å˜é‡æˆ–å‡½æ•°å‚æ•°ä¸­</li> \n <li><code>-&gt;</code> è¿ç®—ç¬¦ç”¨äºå°†ä¿¡æ¯é™„åŠ åˆ°å‡½æ•° / æ–¹æ³•çš„è¿”å›å€¼ä¸­</li> \n</ul> \n<p>æ„Ÿå—ä¸€ç‚¹ä¿®æ”¹:</p> \n<figure class=\"highlight python3\" data-lang=\"python3\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs python3\"><span></span><span class=\"k\">def</span> <span class=\"nf\">trunc_utf8</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">num</span><span class=\"p\">:</span> <span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"n\">etc</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">'...'</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"nb\">str</span><span class=\"p\">:</span>\n    <span class=\"c1\"># åŸæ¥çš„é€»è¾‘</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>è¿™é‡Œå‚æ•°<code>string</code>æ˜¯ str ç±»å‹ï¼Œ<code>num</code>æ˜¯ int ç±»å‹ï¼Œ<code>etc</code>æ˜¯ str ç±»å‹é»˜è®¤å€¼<code>...</code>ï¼Œå‡½æ•°è¿”å›å€¼æ˜¯ str ç±»å‹</p> \n<h4 id=\"Dropbox/pyannotate\">Dropbox/pyannotate</h4> \n<p>mypy å°±æ˜¯ Dropbox æŠ€æœ¯å›¢é˜Ÿåšå‡ºæ¥çš„ï¼Œåœ¨è¿™é‡Œå¿…é¡»èµæ‰¬å…ˆä¸€ä¸‹ Dropbox çš„å¼€æºç²¾ç¥ã€‚Jukka åœ¨å»¶ä¼¸é˜…è¯»é“¾æ¥ 14 é‚£ç¯‡ç¿»è¯‘è¿‡æ¥å«åšã€ŠDropbox å¦‚ä½•ç”¨å››å¹´å®Œæˆ 400 ä¸‡è¡Œ Python ä»£ç æ£€æŸ¥ã€‹ä¸­æåˆ°äº† PyAnnotateï¼Œå®ƒèƒ½å¤Ÿåœ¨è¿è¡Œæµ‹è¯•çš„åŒæ—¶æ”¶é›†ç±»å‹ï¼Œå¹¶æ ¹æ®ç±»å‹ç»“æœæ’å…¥ç±»å‹æ³¨é‡Š â€”â€” ä½†æœ€ç»ˆè¿™æ¬¾å·¥å…·å¹¶æ²¡èƒ½å¾—åˆ°å¹¿æ³›é‡‡ç”¨ã€‚ç†ç”±å¾ˆç®€å•ï¼šæ”¶é›†ç±»å‹çš„é€Ÿåº¦å¾ˆæ…¢ï¼Œè€Œç”Ÿæˆçš„ç±»å‹é€šå¸¸ä¹Ÿéœ€è¦å¤§é‡äººä¸ºè°ƒæ•´ã€‚</p> \n<p>å®ƒçš„ç”¨æ³•çœ‹èµ·æ¥æ›´åˆç†ï¼Œåœ¨æˆ‘ä»¬è¿™ä¸ª Web æœåŠ¡çš„ä¾‹å­ä¸­ç›´æ¥åœ¨ app.py é‡Œé¢æ·»åŠ æ”¶é›†é€»è¾‘å³å¯:</p> \n<figure class=\"highlight python3\" data-lang=\"python3\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs python3\"><span></span><span class=\"kn\">from</span> <span class=\"nn\">pyannotate_runtime</span> <span class=\"k\">import</span> <span class=\"n\">collect_types</span>\n<span class=\"n\">collect_types</span><span class=\"o\">.</span><span class=\"n\">init_types_collection</span><span class=\"p\">()</span>\n<span class=\"n\">collect_types</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n\n<span class=\"o\">...</span>  <span class=\"c1\"># åŸæ¥çš„ä»£ç </span>\n\n<span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">listener</span><span class=\"p\">(</span><span class=\"s1\">'after_server_stop'</span><span class=\"p\">)</span>\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">stop</span><span class=\"p\">(</span><span class=\"n\">app</span><span class=\"p\">,</span> <span class=\"n\">loop</span><span class=\"p\">):</span>\n    <span class=\"n\">collect_types</span><span class=\"o\">.</span><span class=\"n\">stop</span><span class=\"p\">()</span>\n    <span class=\"n\">collect_types</span><span class=\"o\">.</span><span class=\"n\">dump_stats</span><span class=\"p\">(</span><span class=\"s1\">'type_info.json'</span><span class=\"p\">)</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>åœ¨ä»£ç ä¸­ä¸€å¼€å§‹æ”¶é›†ï¼Œåœ¨<code>after_server_stop</code>è¿™ä¸ªç›‘å¬äº‹ä»¶é‡Œé¢åœæ­¢æ”¶é›†å¹¶å†™å…¥åˆ° (é»˜è®¤çš„) æ–‡ä»¶ä¸­ã€‚ç”¨åŸæ¥çš„æ–¹å¼<code>python app.py</code>å¯åŠ¨ç­‰å¾…ç”¨æˆ·è®¿é—®å³å¯ï¼Œåœ¨æœ¬åœ°ä½ å¯ä»¥æŒ¨ä¸ªé¡µé¢è®¿é—®ä¸€ä¸‹ï¼Œå†åœæ­¢å°±å¯ä»¥äº†ã€‚</p> \n<p>æ­¤æ—¶æ‰“å¼€<code>type_info.json</code>å¯ä»¥çœ‹åˆ°å·²ç»è®°å½•äº†å¾ˆå¤šå†…å®¹ã€‚ä¸è¿‡å½“æˆ‘å‡†å¤‡å†™å…¥ä¸­å‘ç°éƒ½åœ¨æŠ¥ä¸€ä¸ªé”™è¯¯:</p> \n<figure class=\"highlight bash\" data-lang=\"bash\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs bash\"><span></span>â¯ pyannotate -w models/blog.py\n...\npyannotate_tools.annotations.parse.ParseError: Invalid <span class=\"nb\">type</span> comment: <span class=\"o\">(</span>mako.codegen:_GenerateRenderMethod.write_toplevel.&lt;locals&gt;.FindTopLevel, mako.parsetree.InheritTag<span class=\"o\">)</span> -&gt; None\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>è¿™æ˜¯å› ä¸ºå®ƒæ”¶é›†äº† Mako æ¸²æŸ“æ¨¡æ¿çš„é‚£éƒ¨åˆ†ï¼Œä¸è¿‡æ˜¯ä¸å¯ç”¨çš„ï¼Œå½“ç„¶æˆ‘è¿˜å°è¯•äº†å¿½ç•¥è¿™éƒ¨åˆ†:</p> \n<figure class=\"highlight python3\" data-lang=\"python3\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs python3\"><span></span><span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"kn\">import</span> <span class=\"nn\">json</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"n\">r</span> <span class=\"o\">=</span> <span class=\"n\">json</span><span class=\"o\">.</span><span class=\"n\">loads</span><span class=\"p\">(</span><span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s1\">'type_info.json'</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">())</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">r</span><span class=\"p\">)</span>\n<span class=\"n\">Out</span><span class=\"p\">:</span> <span class=\"mi\">3681</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"n\">rs</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"k\">for</span> <span class=\"n\">l</span> <span class=\"ow\">in</span> <span class=\"n\">r</span><span class=\"p\">:</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>     <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"p\">(</span><span class=\"n\">l</span><span class=\"p\">[</span><span class=\"s1\">'path'</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">endswith</span><span class=\"p\">(</span><span class=\"s1\">'_html'</span><span class=\"p\">)</span> <span class=\"ow\">or</span> <span class=\"s1\">'mako'</span> <span class=\"ow\">in</span> <span class=\"n\">l</span><span class=\"p\">[</span><span class=\"s1\">'func_name'</span><span class=\"p\">]</span> <span class=\"ow\">or</span> <span class=\"s1\">'mako'</span> <span class=\"ow\">in</span> <span class=\"n\">l</span><span class=\"p\">[</span><span class=\"s1\">'type_comments'</span><span class=\"p\">][</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"ow\">or</span>\n<span class=\"o\">...</span><span class=\"p\">:</span> <span class=\"s1\">'venv'</span> <span class=\"ow\">in</span> <span class=\"n\">l</span><span class=\"p\">[</span><span class=\"s1\">'path'</span><span class=\"p\">]):</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>         <span class=\"n\">rs</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">l</span><span class=\"p\">)</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">rs</span><span class=\"p\">)</span>\n<span class=\"n\">Out</span><span class=\"p\">:</span> <span class=\"mi\">106</span> <span class=\"c1\"># ç­›é€‰åä¸è¶³åŸæ¥çš„3%</span>\n\n<span class=\"n\">In</span> <span class=\"p\">:</span> <span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s1\">'type_info.json'</span><span class=\"p\">,</span> <span class=\"s1\">'w'</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">f</span><span class=\"p\">:</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>     <span class=\"n\">f</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"n\">json</span><span class=\"o\">.</span><span class=\"n\">dumps</span><span class=\"p\">(</span><span class=\"n\">rs</span><span class=\"p\">,</span> <span class=\"n\">indent</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">))</span>\n<span class=\"o\">...</span><span class=\"p\">:</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>ç°åœ¨ç”¨<code>-w</code>å†™å…¥æºæ–‡ä»¶:</p> \n<figure class=\"highlight bash\" data-lang=\"bash\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs bash\"><span></span>â¯ pyannotate -w models/\n... çœç•¥è¾“å‡º\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>æœ‰åŠ å·çš„å°±æ˜¯æ–°å¢çš„ä¿®æ”¹ï¼Œè¡¨ç¤ºåœ¨å¯¹åº”çš„å‡½æ•°ä¸‹é¢æ·»åŠ äº†ç±»å‹æ³¨è§£ã€‚ä¸è¿‡è¿™é‡Œé¢æœ‰å¾ˆå¤šé—®é¢˜:</p> \n<ul> \n <li>æ²¡æœ‰æŠŠç±»å‹ç›´æ¥å†™åœ¨ä»£ç è¡Œï¼Œè€Œæ˜¯ä»¥æ³¨é‡Šçš„å½¢å¼æºå¸¦ä¸‹é¢ï¼Œæˆ‘è§‰å¾—è¿™ç§æ•ˆæœä¸å¥½</li> \n <li>ä¸æ”¯æŒ Python 3.8 çš„æµ·è±¡è¿ç®—ç¬¦</li> \n <li>åŒæ ·æœ‰å¾ªç¯å¼•ç”¨é—®é¢˜</li> \n</ul> \n<p>pyannotate å’Œ monkeytype ä¸åŒï¼Œå®ƒäº§ç”Ÿçš„æ˜¯ç±»å‹æ³¨é‡Š (Type comments)ï¼Œæˆ‘è®¤ä¸ºä¸»è¦æ˜¯ç»™ Python 2.7 ä¸æ”¯æŒ<code>Type annotations</code>æ—¶ä½¿ç”¨ï¼Œå¦‚ä¸Šä¾‹ä¼šæ˜¯è¿™æ ·:</p> \n<figure class=\"highlight python3\" data-lang=\"python3\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs python3\"><span></span><span class=\"k\">def</span> <span class=\"nf\">trunc_utf8</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">,</span> <span class=\"n\">num</span><span class=\"p\">,</span> <span class=\"n\">etc</span><span class=\"o\">=</span><span class=\"s1\">'...'</span><span class=\"p\">):</span>\n    <span class=\"c1\"># type: (str, int, str) -&gt; str</span>\n    <span class=\"o\">...</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>åœ¨ lyanna é‡Œé¢æˆ‘ç”¨äº†å¾ˆå¤š<code># type: ignore</code>å¿½ç•¥å¯¹æ­¤è¡Œçš„ç±»å‹æ£€æŸ¥ï¼Œä¸€ä¼šä¼šè¯´ä¸ºä»€ä¹ˆè¦å¿½ç•¥ã€‚</p> \n<p>ä¸è¿‡ç±»å‹æ³¨é‡Šæœ‰ä»¥ä¸‹ç¼ºç‚¹:</p> \n<ul> \n <li>å®¹æ˜“å’Œå…¶ä»–æ³¨é‡Šæ ‡è®°çš„å·¥å…·å†²çªï¼Œæ¯”å¦‚ flake8 çš„ <code>noqa</code>ã€<code>isort:skip</code> ç­‰</li> \n <li>ç±»å‹ä¿¡æ¯ä¸å’Œå‚æ•°ã€å‡½æ•°ç»“å°¾åœ¨ä¸€è¡Œï¼Œä»£ç å’Œ <code>Type annotations</code> ä¸å¥½ç†è§£</li> \n <li>å®¹æ˜“å‡ºç°è¶…é•¿é•¿åº¦çš„ç±»å‹æç¤ºï¼Œä¸ºäº†ç¾åŒ–æ ¼å¼ä¸å¾—ä¸éœ€è¦è®©å‚æ•°åˆ†æˆå¤šè¡Œé€ä¸ªåŠ å…¥æç¤ºï¼Œä»è€Œè®©è¡Œæ•°å˜çš„æ¯”ä»¥å‰å¤šäº†å¾ˆå¤š</li> \n</ul> \n<h4 id=\"åè®°\">åè®°</h4> \n<p>è¯•ç”¨ monkeytype å’Œ pyannotate åï¼Œå‘ç°éƒ½ä¸å°½å¦‚äººæ„ã€‚æœ€ç»ˆæˆ‘ç”¨ monkeytype å†åŠ ä¸Šäººå·¥è¡¥è§£å†³äº†é—ç•™ä»£ç çš„ç±»å‹æ ‡å‡†ã€‚</p> \n<p>é‚£ä¹ˆé€‰<code>Type Annotations</code>è¿˜æ˜¯<code>Type Comments</code>å‘¢ï¼Ÿè¿™éƒ¨åˆ†æˆ‘å’Œå»¶ä¼¸é˜…è¯»é“¾æ¥ 15RealPython æ–‡ç« è§‚ç‚¹ä¸€æ ·:</p> \n<blockquote>\n <p> å°½å¯èƒ½é€‰æ‹© <code>Type Annotations</code>ï¼Œåªåœ¨å¿…è¦æ—¶ç”¨ <code>Type Comments</code>(å¦‚è¿˜åœ¨ç”¨ Python 2.7)ï¼Œè¿™ä¹Ÿæ˜¯å®˜æ–¹æ¨èã€‚</p> \n</blockquote> \n<p>è¿™éƒ¨åˆ†å†…å®¹ä¹Ÿéå¸¸æ¨èé˜…è¯»å»¶ä¼¸é˜…è¯»é“¾æ¥ 2ã€‚</p> \n<h3 id=\"mypyçš„ä¸€äº›é—®é¢˜å’Œåæ§½\">mypy çš„ä¸€äº›é—®é¢˜å’Œåæ§½</h3> \n<h4 id=\"éœ€è¦å¯»æ‰¾æœ€é€‚åˆä½ çš„é¡¹ç›®çš„é…ç½®é¡¹\">éœ€è¦å¯»æ‰¾æœ€é€‚åˆä½ çš„é¡¹ç›®çš„é…ç½®é¡¹</h4> \n<p>å¥½åƒ mypy æ˜¯æˆ‘è§è¿‡çš„é…ç½®é¡¹éå¸¸å¤šçš„ä¸€ä¸ªå·¥å…·ï¼Œæ¯ä¸ªé¡¹çš„å€¼éƒ½å¯ä»¥è®©ç»“æœå·®åˆ«å¾ˆå¤§ï¼Œä½ å¯èƒ½éœ€è¦æŸä¸ªè§’åº¦éå¸¸ä¸¥æ ¼ï¼Œå¦å¤–ä¸€ä¸ªè§’åº¦å®½æ¾ç”šè‡³å®Œå…¨ä¸å…³æ³¨ï¼Œé‚£ä¹ˆå°±è¦å¥½å¥½åœ°å­¦ä¹ å®ƒçš„æ¯ä¸€é¡¹é…ç½®ã€‚ä¸¾ä¸ªä¾‹å­:</p> \n<p>é¡¹ç›®ä¸€å¼€å§‹ä½¿ç”¨ mypy æ—¶ä½ è‚¯å®šè§è¿‡:</p> \n<pre><code>views/blog.py:6: error: Cannot find implementation or library stub for module named 'sanic'\ntasks.py:8: error: Cannot find implementation or library stub for module named 'mako.lookup'</code></pre> \n<p>è¿™æ ·é”™è¯¯ï¼Œçœ‹é”™è¯¯è¾“å‡ºå¾ˆæ˜æ˜¾ï¼Œè¿™äº›ç¬¬ä¸‰æ–¹åº“æ²¡æœ‰ç±»å‹æç¤ºä¹Ÿæ²¡æœ‰å­˜æ ¹æ–‡ä»¶ï¼Œå¯¹äºæˆ‘ä»¬è¿™ç§ä½¿ç”¨è€…æ˜¯æ²¡åŠæ³•è§£å†³çš„ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ (æˆ‘å–œæ¬¢æ”¾åœ¨ setup.py é‡Œï¼Œå¦‚æœæœªæ¥æ”¯æŒ pyproject.toml æˆ‘åº”è¯¥ä¼šæ”¾åœ¨è¿™é‡Œ) ç”¨é…ç½®é¡¹å¿½ç•¥è¿™ç±»å‹çš„é”™è¯¯:</p> \n<pre><code>[mypy]\nignore_missing_imports = True</code></pre> \n<p>å¦å¤–åœ¨ä¸€å¼€å§‹æˆ‘åŠ äº†ä¸€äº›<code>disallow_</code>å‰ç¼€çš„é…ç½®ï¼ŒåŒ…å«äº†<code>disallow_subclassing_any = True</code>ï¼Œä¹Ÿå°±æ˜¯ä¸å…è®¸å­ç±» Any ç±»å‹çš„ç±»ï¼Œç»“æœé™¤äº†å¾ˆå¤šé”™è¯¯:</p> \n<figure class=\"highlight python3\" data-lang=\"python3\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs python3\"><span></span><span class=\"n\">app</span><span class=\"o\">.</span><span class=\"n\">py</span><span class=\"p\">:</span> <span class=\"n\">note</span><span class=\"p\">:</span> <span class=\"n\">In</span> <span class=\"k\">class</span> <span class=\"err\">\"</span><span class=\"nc\">LyannaSanic</span><span class=\"s2\">\":</span>\n<span class=\"n\">app</span><span class=\"o\">.</span><span class=\"n\">py</span><span class=\"p\">:</span><span class=\"mi\">63</span><span class=\"p\">:</span> <span class=\"n\">error</span><span class=\"p\">:</span> <span class=\"n\">Class</span> <span class=\"n\">cannot</span> <span class=\"n\">subclass</span> <span class=\"s1\">'Sanic'</span> <span class=\"p\">(</span><span class=\"n\">has</span> <span class=\"nb\">type</span> <span class=\"s1\">'Any'</span><span class=\"p\">)</span>\n    <span class=\"k\">class</span> <span class=\"nc\">LyannaSanic</span><span class=\"p\">(</span><span class=\"n\">Sanic</span><span class=\"p\">):</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>æˆ‘ç†è§£è¿™å°±æ˜¯æ‰¾ä¸åˆ° Sanic çš„ç±»å‹ï¼ŒæŠŠå®ƒå½“åšäº† Anyï¼Œçœ‹ mypy è¾“å‡ºéƒ½æ˜¯è¿™ç±»é”™è¯¯ï¼Œé‚£ä¹ˆè¿™ä¸ªæœ€ç»ˆæˆ‘å»æ‰äº†ï¼Œå› ä¸ºç•™ç€å®ƒæˆ‘è¿˜å¾—æŒ¨ä¸ªåœ°æ–¹åŠ <code>type: ignore</code>ã€‚</p> \n<p>å…¨éƒ¨é…ç½®å¯ä»¥çœ‹ mypy å®˜æ–¹æ–‡æ¡£ï¼Œä½ ä¹Ÿå¯ä»¥å‚è€ƒ lyanna é¡¹ç›®çš„ <a href=\"https://github.com/dongweiming/lyanna/blob/master/setup.cfg\">é…ç½®æ–‡ä»¶</a></p> \n<h4 id=\"dataclasses\">dataclasses</h4> \n<p>ç”¨å‡ºäº†ä¸€ä¸ª BUG:</p> \n<figure class=\"highlight python3\" data-lang=\"python3\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs python3\"><span></span><span class=\"kn\">from</span> <span class=\"nn\">typing</span> <span class=\"k\">import</span> <span class=\"n\">Optional</span><span class=\"p\">,</span> <span class=\"n\">Union</span>\n<span class=\"kn\">from</span> <span class=\"nn\">dataclasses</span> <span class=\"k\">import</span> <span class=\"n\">dataclass</span>\n\n\n<span class=\"nd\">@dataclass</span>\n<span class=\"k\">class</span> <span class=\"nc\">Attachment</span><span class=\"p\">:</span>\n    <span class=\"n\">LAYOUTS</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">LAYOUT_LINK</span><span class=\"p\">,</span> <span class=\"n\">LAYOUT_PHOTO</span><span class=\"p\">,</span> <span class=\"n\">LAYOUT_VIDEO</span><span class=\"p\">)</span> <span class=\"o\">=</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">)</span>\n    <span class=\"n\">layout</span><span class=\"p\">:</span> <span class=\"nb\">int</span>\n\n\n<span class=\"nd\">@dataclass</span>\n<span class=\"k\">class</span> <span class=\"nc\">Link</span><span class=\"p\">(</span><span class=\"n\">Attachment</span><span class=\"p\">):</span>\n    <span class=\"n\">layout</span> <span class=\"o\">=</span> <span class=\"n\">Attachment</span><span class=\"o\">.</span><span class=\"n\">LAYOUT_LINK</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>æ˜¯ä¸æ˜¯çœ‹ç€ä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œå…¶å®:</p> \n<figure class=\"highlight bash\" data-lang=\"bash\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs bash\"><span></span>â¯ mypy activity.py\nactivity.py:12: error: INTERNAL ERROR -- Please try using mypy master on Github:\nhttps://mypy.rtfd.io/en/latest/common_issues.html#using-a-development-mypy-build\nIf this issue continues with mypy master, please report a bug at https://github.com/python/mypy/issues\nversion: <span class=\"m\">0</span>.761\nactivity.py:12: : note: please use --show-traceback to print a traceback when reporting a bug\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>ç›´æ¥æŠ›é”™äº†ï¼Œæˆ‘å½“æ—¶æ·±å…¥æ‰¾äº†ä¸‹ï¼Œæ˜¯å› ä¸º<code>å­ç±»ç»§æ‰¿åæ²¡æœ‰ç»§æ‰¿çˆ¶ç±»çš„å±æ€§ç±»å‹</code>ï¼Œæ‰€ä»¥è¿™é‡Œæ”¹æˆ<code>layout: int = Attachment.LAYOUT_LINK</code>å°±å¯ä»¥äº†ã€‚ä¸è¿‡å½“æ—¶çœ‹äº†ä¸‹ mypy çš„ä»£ç è®¾è®¡ä¸å¥½æ”¹ï¼Œå¤ªå¿™äº†å°±æ”¹äº†ä¸‹ lyanna å…ˆç”¨äº†ã€‚</p> \n<h4 id=\"å¯¹æµ·è±¡è¿ç®—ç¬¦çš„æ”¯æŒä¸ä½³\">å¯¹æµ·è±¡è¿ç®—ç¬¦çš„æ”¯æŒä¸ä½³</h4> \n<p>å…ˆä¸Š<code>views/admin.py</code>ä¸­çš„ä¸€éƒ¨åˆ†ä»£ç  (L318-L327):</p> \n<figure class=\"highlight python3\" data-lang=\"python3\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs python3\"><span></span><span class=\"n\">FORM_REGEX</span> <span class=\"o\">=</span> <span class=\"n\">re</span><span class=\"o\">.</span><span class=\"n\">compile</span><span class=\"p\">(</span><span class=\"sa\">r</span><span class=\"s1\">'posts\\[(?P&lt;index&gt;\\d+)\\]\\[(?P&lt;key&gt;\\w+)\\]'</span><span class=\"p\">)</span>\n\n<span class=\"n\">dct</span><span class=\"p\">:</span> <span class=\"n\">DefaultDict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]]</span> <span class=\"o\">=</span> <span class=\"n\">defaultdict</span><span class=\"p\">(</span><span class=\"nb\">dict</span><span class=\"p\">)</span>\n<span class=\"k\">for</span> <span class=\"n\">k</span> <span class=\"ow\">in</span> <span class=\"n\">copy</span><span class=\"o\">.</span><span class=\"n\">copy</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">form</span><span class=\"p\">):</span>\n    <span class=\"k\">if</span> <span class=\"n\">k</span><span class=\"o\">.</span><span class=\"n\">startswith</span><span class=\"p\">(</span><span class=\"s1\">'posts'</span><span class=\"p\">):</span>\n        <span class=\"n\">match</span> <span class=\"o\">=</span> <span class=\"n\">FORM_REGEX</span><span class=\"o\">.</span><span class=\"n\">search</span><span class=\"p\">(</span><span class=\"n\">k</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">match</span> <span class=\"p\">:</span><span class=\"o\">=</span> <span class=\"n\">FORM_REGEX</span><span class=\"o\">.</span><span class=\"n\">search</span><span class=\"p\">(</span><span class=\"n\">k</span><span class=\"p\">)):</span>\n            <span class=\"n\">key</span> <span class=\"o\">=</span> <span class=\"n\">match</span><span class=\"p\">[</span><span class=\"s1\">'key'</span><span class=\"p\">]</span>  <span class=\"c1\"># 323è¡Œ</span>\n            <span class=\"n\">val</span> <span class=\"o\">=</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">form</span><span class=\"p\">[</span><span class=\"n\">k</span><span class=\"p\">][</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n            <span class=\"n\">dct</span><span class=\"p\">[</span><span class=\"n\">match</span><span class=\"p\">[</span><span class=\"s1\">'index'</span><span class=\"p\">]][</span><span class=\"n\">key</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span>  <span class=\"c1\"># 325è¡Œ</span>\n                <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">)</span> <span class=\"k\">if</span> <span class=\"n\">key</span> <span class=\"o\">==</span> <span class=\"s1\">'id'</span> <span class=\"k\">else</span> <span class=\"n\">val</span><span class=\"p\">)</span>\n            <span class=\"k\">del</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">form</span><span class=\"p\">[</span><span class=\"n\">k</span><span class=\"p\">]</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>è¿è¡Œ mypy ä¼šå‡ºç°è¿™æ ·çš„é”™è¯¯:</p> \n<figure class=\"highlight bash\" data-lang=\"bash\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs bash\"><span></span>â¯ mypy views/admin.py\nviews/admin.py: note: In <span class=\"k\">function</span> <span class=\"s2\">\"_topic\"</span>:\nviews/admin.py:323: error: Value of <span class=\"nb\">type</span> <span class=\"s2\">\"Optional[Match[str]]\"</span> is not indexable\n                        <span class=\"nv\">key</span> <span class=\"o\">=</span> match<span class=\"o\">[</span><span class=\"s1\">'key'</span><span class=\"o\">]</span>\n                              ^\nviews/admin.py:325: error: Value of <span class=\"nb\">type</span> <span class=\"s2\">\"Optional[Match[str]]\"</span> is not indexable\n                        dct<span class=\"o\">[</span>match<span class=\"o\">[</span><span class=\"s1\">'index'</span><span class=\"o\">]][</span>key<span class=\"o\">]</span> <span class=\"o\">=</span> <span class=\"o\">(</span>\n                            ^\nFound <span class=\"m\">2</span> errors in <span class=\"m\">1</span> file <span class=\"o\">(</span>checked <span class=\"m\">1</span> <span class=\"nb\">source</span> file<span class=\"o\">)</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>åœ¨ <a href=\"https://github.com/python/typeshed/issues/3010\">python/typeshed issue #3010</a> ä¹Ÿæåˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œæ˜¯ç”±äº re.pyi é‡Œé¢å¯¹ match å¯¹è±¡æ ‡æ³¨çš„æ˜¯<code>Optional[Match[str]]</code>ï¼Œéœ€è¦å…ˆåˆ¤æ–­ match åå†æ‹¿ key çš„å€¼ï¼Œä¸è¿‡æˆ‘è¿™é‡Œç”¨äº†<code>Assignment expressions</code>ï¼Œè¿™ä¸ªé”™æŠ›çš„å°±ä¸å¯¹äº†ã€‚ç„¶åæˆ‘ç»™è¿™ä¸ª issue åŠ äº†ä¸ªè¯„è®ºï¼Œä¹Ÿå» mypy å‘äº†ä¸ª issueï¼Œå› ä¸ºä¸ç¡®è®¤æ˜¯é‚£è¾¹çš„é—®é¢˜</p> \n<p>MyPy issue: <a href=\"https://github.com/python/mypy/issues/8254\">https://github.com/python/mypy/issues/8254</a></p> \n<h3 id=\"æ¥å£å­˜æ ¹(Stub)\">æ¥å£å­˜æ ¹ (Stub)</h3> \n<p>å…¶å®é™¤äº†<code>Type Annotations</code>è¿˜æ˜¯<code>Type Comments</code>è¿˜æœ‰ç¬¬ä¸‰ä¸ªé€‰é¡¹ï¼Œå°±æ˜¯åœ¨ PEP 484 é‡Œé¢æè¿°çš„å­˜æ ¹æ–‡ä»¶ã€‚å®ƒä¸»è¦ç”¨åœ¨ç»™ç¬¬ä¸‰æ–¹åº“æ·»åŠ ç±»å‹ï¼Œå¦‚æœåŸºäºæŸäº›åŸå› ä¸èƒ½æ›´æ”¹åŸå§‹æºä»£ç ï¼Œä½¿ç”¨å­˜æ ¹æ–‡ä»¶è¿™ç§æ–¹æ³•ä¹Ÿå¯ä»¥ã€‚</p> \n<p>å­˜æ ¹æ–‡ä»¶å¯ä»¥åœ¨ä»»ä½•ç‰ˆæœ¬çš„ Python ä¸­ä½¿ç”¨ï¼Œä½†æ˜¯ä»£ä»·æ˜¯å¿…é¡»ç»´æŠ¤ç¬¬äºŒç»„æ–‡ä»¶ã€‚</p> \n<p>å¦‚æœå»æ‰<code>ignore_missing_imports = True</code>è¿™ä¸ªé…ç½®å¯ä»¥çœ‹åˆ°å¦‚ä¸‹é”™è¯¯:</p> \n<figure class=\"highlight bash\" data-lang=\"bash\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs bash\"><span></span>app.py:11: error: Cannot find implementation or library stub <span class=\"k\">for</span> module named <span class=\"s1\">'sanic'</span>\n    from sanic import Sanic\n    ^\napp.py:12: error: Cannot find implementation or library stub <span class=\"k\">for</span> module named <span class=\"s1\">'sanic.exceptions'</span>\n    from sanic.exceptions import FileNotFound, NotFound, ServerError\n    ^\napp.py:13: error: Cannot find implementation or library stub <span class=\"k\">for</span> module named <span class=\"s1\">'sanic.handlers'</span>\n    from sanic.handlers import ErrorHandler as _ErrorHandler\n    ^\napp.py:14: error: Cannot find implementation or library stub <span class=\"k\">for</span> module named <span class=\"s1\">'sanic.response'</span>\n    from sanic.response import HTTPResponse, text\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>å…¶å® mypy é¡¹ç›®ä¸­å·²ç»é€šè¿‡ <a href=\"https://github.com/python/typeshed\">python/typeshed</a> è¿™ä¸ªåº“æ”¶é›†åˆ°çš„å­˜æ ¹æ–‡ä»¶è‡ªåŠ¨å¤„ç†äº†æ ‡å‡†åº“å’Œä¸€äº›ç¬¬ä¸‰æ–¹åº“çš„ç±»å‹æ ‡æ³¨é—®é¢˜ï¼Œå¦‚ sixã€tornadoã€clickã€flaskã€jinja2ã€pymysql ç­‰ã€‚</p> \n<p>ä½†æ˜¯ sanic å¹¶ä¸åœ¨æ­¤åˆ—ï¼Œæ‰€ä»¥æ‰ä¼šæŠ›ä¸Šè¿°é”™è¯¯ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿæ ¹æœ¬åŠæ³•æ˜¯è®©å®ƒè¡¥å…¨ç±»å‹æç¤ºï¼Œè¦ä¸ç„¶åœ¨ typeshed é¡¹ç›®ä¸­æ·»åŠ å®ƒçš„å­˜æ ¹ã€‚mypy æä¾›äº†ä¸€ä¸ªè‡ªåŠ¨åˆ›å»ºå­˜æ ¹çš„è„šæœ¬ï¼Œå¯ä»¥ä½¿ç”¨å®ƒ:</p> \n<figure class=\"highlight bash\" data-lang=\"bash\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs bash\"><span></span>â¯ stubgen -m sanic -m sanic.exceptions -m sanic.handlers -m sanic.response -m sanic.request\nâ¯ <span class=\"nb\">export</span> <span class=\"nv\">MYPYPATH</span><span class=\"o\">=</span>out\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>è¿™æ¬¡å†æ£€æŸ¥å°±ä¼šå‘ç°ä¸å†æŠ›ä¸Šé¢ sanic ç›¸å…³çš„é”™è¯¯äº†ï¼Œå½“ç„¶äº‹å®ä¸Šå¯¹äºç¬¬ä¸‰æ–¹åº“çš„ç±»å‹å¹¶ä¸éœ€è¦ç‰¹åˆ«å…³æ³¨ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨<code>ignore_missing_imports = True</code>å¿½ç•¥è¿™éƒ¨åˆ†ã€‚</p> \n<p>å€¼å¾—æé†’çš„æ˜¯ï¼Œ<strong>stubgen è¿™ç§å·¥å…·ä¸é€‚åˆåœ¨å®é™…å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨</strong>ã€‚ä½ å¯ä»¥è¯•è¯•è¿è¡Œå®ƒï¼Œè‡ªåŠ¨åˆ›å»ºçš„ä»£ç ä¸­ç±»å‹æœ‰éå¸¸å¤šçš„ Any: è¿™æ˜¯æ²¡æœ‰ä»·å€¼çš„ä¸€ç§æ ‡æ³¨ï¼Œåº”è¯¥å°½é‡é¿å…ï¼Œåº”è¯¥æŒ‰éœ€æ ‡è®°æˆæ­£ç¡®çš„ç±»å‹ã€‚</p> \n<h3 id=\"å»¶ä¼¸é˜…è¯»\">å»¶ä¼¸é˜…è¯»</h3> \n<ol> \n <li><a href=\"https://mypy.readthedocs.io/en/latest/cheat_sheet.html\">https://mypy.readthedocs.io/en/latest/cheat_sheet.html</a></li> \n <li><a href=\"https://www.bernat.tech/the-state-of-type-hints-in-python/\">https://www.bernat.tech/the-state-of-type-hints-in-python/</a></li> \n <li><a href=\"https://github.com/dongweiming/lyanna/blob/master/models/__init__.py#L17\">https://github.com/dongweiming/lyanna/blob/master/models/__init__.py#L17</a></li> \n <li><a href=\"https://www.python.org/dev/peps/pep-0483/\">https://www.python.org/dev/peps/pep-0483/</a></li> \n <li><a href=\"https://www.python.org/dev/peps/pep-3107/\">https://www.python.org/dev/peps/pep-3107/</a></li> \n <li><a href=\"https://www.artima.com/weblogs/viewpost.jsp?thread=85551\">https://www.artima.com/weblogs/viewpost.jsp?thread=85551</a></li> \n <li><a href=\"https://us.pycon.org/2013/schedule/presentation/166/\">https://us.pycon.org/2013/schedule/presentation/166/</a></li> \n <li><a href=\"https://www.python.org/dev/peps/pep-0484/\">https://www.python.org/dev/peps/pep-0484/</a></li> \n <li><a href=\"https://www.python.org/dev/peps/pep-0526/\">https://www.python.org/dev/peps/pep-0526/</a></li> \n <li><a href=\"https://www.python.org/dev/peps/pep-0563/\">https://www.python.org/dev/peps/pep-0563/</a></li> \n <li><a href=\"https://www.python.org/dev/peps/pep-0589/\">https://www.python.org/dev/peps/pep-0589/</a></li> \n <li><a href=\"https://instagram-engineering.com/let-your-code-type-hint-itself-introducing-open-source-monkeytype-a855c7284881\">https://instagram-engineering.com/let-your-code-type-hint-itself-introducing-open-source-monkeytype-a855c7284881</a></li> \n <li><a href=\"http://mypy-lang.blogspot.com/2017/11/dropbox-releases-pyannotate-auto.html\">http://mypy-lang.blogspot.com/2017/11/dropbox-releases-pyannotate-auto.html</a></li> \n <li><a href=\"https://blogs.dropbox.com/tech/2019/09/our-journey-to-type-checking-4-million-lines-of-python/\">https://blogs.dropbox.com/tech/2019/09/our-journey-to-type-checking-4-million-lines-of-python/</a></li> \n <li><a href=\"https://realpython.com/python-type-checking/\">https://realpython.com/python-type-checking/</a></li> \n <li><a href=\"https://mypy.readthedocs.io/en/stable/stubgen.html\">https://mypy.readthedocs.io/en/stable/stubgen.html</a></li> \n</ol>","descriptionType":"html","feedId":12869,"bgimg":"","linkMd5":"bc5ce4ab2000569e8490df68a6a7be17","bgimgJsdelivr":"","metaImg":"","author":"dongweiming","publishedOrCreatedDate":1598321635485},{"createdTime":"2020-08-25 10:13:55","updatedTime":"2020-08-25 10:13:55","title":"2020å¹´ï¼ŒPEP8æŒ‡å®šä¸€è¡Œæœ€å¤§é•¿åº¦79çš„æ ‡å‡†æ˜¯å¦å€¼å¾—åšæŒï¼Ÿ","link":"https://www.dongwm.com/post/pep8-max-line-length/","description":"<h3 id=\"2020å¹´ï¼ŒPEP8æŒ‡å®šä¸€è¡Œæœ€å¤§é•¿åº¦79çš„æ ‡å‡†æ˜¯å¦å€¼å¾—åšæŒï¼Ÿ\">2020 å¹´ï¼ŒPEP8 æŒ‡å®šä¸€è¡Œæœ€å¤§é•¿åº¦ 79 çš„æ ‡å‡†æ˜¯å¦å€¼å¾—åšæŒï¼Ÿ</h3> \n<p><a href=\"https://www.python.org/dev/peps/pep-0008/\">PEP8</a> æ˜¯ Python å®˜æ–¹ç¼–ç é£æ ¼æŒ‡å—ï¼Œæ˜¯æ¯ä¸ª Python å·¥ç¨‹å¸ˆéƒ½è¦éµå®ˆçš„è§„èŒƒã€‚æˆ‘è®¤ä¸ºå…»æˆè‰¯å¥½çš„ç¼–ç ä¹ æƒ¯æ˜¯éå¸¸é‡è¦çš„ï¼Œå› ä¸ºä»£ç æ˜¯å†™ç»™äººè¯»çš„ï¼Œä¸€æ‰‹æ¼‚äº®çš„ä»£ç çœ‹èµ·æ¥å°±æ˜¯èµå¿ƒæ‚¦ç›®ã€‚æˆ‘ä»å­¦ä¹  Python å¼€å§‹æ²¡å¤šä¹…å°±å¼€å§‹åˆ»æ„çš„éµå®ˆ PEP8ï¼Œå¯¹å…¶ä¸­ç»å¤§éƒ¨åˆ†çš„è§„èŒƒéƒ½æ²¡æœ‰å¼‚è®®ï¼Œä»¥æˆ‘çš„å·¥ç¨‹ç»éªŒï¼ŒPEP8 åŸºæœ¬è¦†ç›–äº†æ—¥å¸¸å¼€å‘æ¶‰åŠåˆ°çš„å„ä¸ªåœ°æ–¹ã€‚</p> \n<p>è¿™ç¯‡æ–‡ç« ä¸»è¦è®¨è®ºã€ŒMaximum Line Lengthã€éƒ¨åˆ†è§„å®šçš„ã€Œæœ€å¤§è¡Œé•¿åº¦ä¸º 79 ä¸ªå­—ç¬¦ã€è¿™é¡¹ã€‚é¦–å…ˆæ˜ç¡®ä¸€ç‚¹ï¼Œè¿™ä¸ª 79 çš„é•¿åº¦ä¸€ç›´ä»¥æ¥éƒ½ä¸æ˜¯ PEP8 çš„åˆ»æ¿é™åˆ¶ï¼Œä» 2013 å¹´å¼€å§‹ï¼ŒPEP8 å°±ç”¨å„ç§ç»†èŠ‚æè¿°æåˆ°å¯ä»¥æ‰©å±•åˆ° 99 ä¸ªå­—ç¬¦ï¼Œç°åœ¨çš„ç‰ˆæœ¬æ˜¯è¿™æ ·æè¿°çš„:</p> \n<blockquote>\n <p>Some teams strongly prefer a longer line length. For code maintained exclusively or primarily by a team that can reach agreement on this issue, it is okay to increase the line length limit up to 99 characters, provided that comments and docstrings are still wrapped at 72 characters.</p> \n</blockquote> \n<p>ä¹Ÿå°±æ˜¯çœ‹å›¢é˜Ÿçš„çº¦å®šï¼Œå¯ä»¥å°†è¡Œé•¿åº¦é™åˆ¶å¢åŠ åˆ°æœ€å¤š 99 ä¸ªå­—ç¬¦ï¼Œå½“ç„¶å‰ææ˜¯æ³¨é‡Šå’Œæ–‡æ¡£å­—ç¬¦ä¸²ä¸è¶…è¿‡ 72 ä¸ªå­—ç¬¦ã€‚</p> \n<p>å¯¹äºç¼–ç¨‹è¯­è¨€æ¥è¯´ï¼Œä»£ç æ ¼å¼åŒ–æ˜¯æœ€å®¹æ˜“å¼•èµ·äº‰è®®çš„ä¸€ä¸ªé—®é¢˜ã€‚PEP8 å­˜åœ¨çš„ä»·å€¼åœ¨äºé˜»æ­¢å¼€å‘è€…äº‰è®ºæ— å…³ç´§è¦çš„æ ¼å¼åŒ–è§„åˆ™ï¼Œç”±å®˜æ–¹æä¾›ä¸€ä¸ªè‰¯å¥½çš„ã€è¢«å¹¿æ³›è®¤å¯çš„æŒ‡å—ã€‚åšå¾—æ›´å¥½çš„æ˜¯ Golangï¼Œé€šè¿‡ gofmt èƒ½æŠŠä»£ç æ ¼å¼åŒ–æˆç¬¦åˆ Golang è¯­è¨€è¦æ±‚çš„æ ¼å¼ï¼Œå¼€å‘è€…å°±å¯ä»¥å°†å®è´µçš„æ—¶é—´ä¸“æ³¨åœ¨è¯­è¨€è¦è§£å†³çš„é—®é¢˜ä¸Šã€‚</p> \n<p>è¯´å›æ¥ï¼Œå®˜æ–¹æä¾›çš„ç¼–ç é£æ ¼æ ‡å‡†ä¸å¯é¿å…çš„ä¼šç›¸å¯¹ä¿å®ˆï¼Œå°±åƒç”¨å„ç§æ“ä½œç³»ç»Ÿçš„å‘è¡Œç‰ˆçš„åŒ…ç®¡ç†å·¥å…·å®‰è£…è½¯ä»¶ï¼Œé»˜è®¤å‚æ•°éƒ½æ˜¯ä¸­è§„ä¸­çŸ©ï¼Œå¾ˆå¤šæ—¶å€™éƒ½ä¸é€‚åˆåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ç›´æ¥ä½¿ç”¨ã€‚å°±æ‹¿ PEP8 çš„ç±»å‹æ£€æŸ¥å™¨ pycodestyle (åŸæ¥çš„ pep8) æ¥è¯´ï¼Œé»˜è®¤å°±åˆ»æ¿çš„è¦æ±‚è¡Œçš„å­—ç¬¦æ•°ä¸èƒ½è¶…è¿‡ 80ï¼Œå¦åˆ™å°±æŠ›é”™ï¼š</p> \n<figure class=\"highlight bash\" data-lang=\"bash\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs bash\"><span></span>â¯ pycodestyle  models/encourage.py\nmodels/encourage.py:33:80: E501 line too long <span class=\"o\">(</span><span class=\"m\">80</span> &gt; <span class=\"m\">79</span> characters<span class=\"o\">)</span>\nmodels/encourage.py:86:80: E501 line too long <span class=\"o\">(</span><span class=\"m\">82</span> &gt; <span class=\"m\">79</span> characters<span class=\"o\">)</span>\nmodels/encourage.py:192:80: E501 line too long <span class=\"o\">(</span><span class=\"m\">83</span> &gt; <span class=\"m\">79</span> characters<span class=\"o\">)</span>\nmodels/encourage.py:193:80: E501 line too long <span class=\"o\">(</span><span class=\"m\">83</span> &gt; <span class=\"m\">79</span> characters<span class=\"o\">)</span>\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>æ‰€ä»¥æ¸æ¸åœ°å¾ˆå¤š Python å¼€å‘è€…å°±æœ‰äº†<code>ä¸€è¡Œæœ€å¤§é•¿åº¦æœ€å¤š79</code>è¿™ç§å°è±¡ï¼Œè¿™æ˜¯ä¸å¯¹çš„ã€‚</p> \n<h3 id=\"æˆ‘çš„ç†ç”±\">æˆ‘çš„ç†ç”±</h3> \n<p>PEP8 æ˜¯åœ¨ 2001 å¹´åˆ¶å®šçš„ï¼Œæˆ‘è®¤ä¸ºä¸€å¼€å§‹é™åˆ¶æ¯è¡Œå­—ç¬¦æ•°ä¸åº”è¯¥è¶…è¿‡ 79 æ˜¯ç”±äºå½“æ—¶ç”µè„‘é…ç½®çš„é™åˆ¶ï¼Œå¤–ã€Œä¸ºä»€ä¹ˆé€‰ 79ã€æˆ‘ä» StackOverFlow ä¸Šæ‰¾åˆ°äº†ç­”æ¡ˆï¼š</p> \n<blockquote>\n <p> é»˜è®¤å°ºå¯¸ä¸‹çš„ç­‰å®½å­—ä½“æ‰“å°ï¼ˆåœ¨ A4 çº¸ä¸Šï¼‰ä¸º 80 åˆ—ä¹˜ 66 è¡Œ </p> \n</blockquote> \n<p>è¿™æ ·å°±å¯ä»¥æŠŠä»£ç æ˜¾ç¤ºè‰¯å¥½çš„æ‰“å°åœ¨çº¸ä¸Šäº†ã€‚</p> \n<p>ä½†æ˜¯ç°åœ¨æ— è®ºæ˜¯å±å¹•å°ºå¯¸è¿˜æ˜¯åˆ†è¾¨ç‡éƒ½è·å¾—äº†æå¤§çš„æå‡ï¼Œå¯è¯»æ€§ä¸æ˜¯é—®é¢˜ï¼Œè€Œä¸šåŠ¡é€»è¾‘çš„å¤æ‚åº¦è¿œè¶…å†™æŒ‡å—çš„é‚£ä¸ªæ—¶ä»£ï¼Œå˜é‡åã€å‡½æ•°åã€ä¸‰ç›®è¿ç®—ç¬¦ã€åˆ—è¡¨ (å­—å…¸) è§£æç­‰ç­‰ç‚¹éƒ½éå¸¸å®¹æ˜“æœ€åè®©è¡Œè¶…è¿‡ 79ï¼Œä¸ºäº†éµå®ˆè¿™ä¸ªè§„èŒƒæ¢è¡Œå¾ˆå¤šæ—¶å€™åè€Œé™ä½äº†å¯è¯»æ€§ï¼Œå°¤å…¶æ˜¯é€»è¾‘æ¯”è¾ƒé•¿ï¼Œæ¢è¡Œå¯èƒ½è®©è¿™æ®µé€»è¾‘è¶…è¿‡ä¸€å±ï¼Œè¿˜ä¸å¦‚ä¸æ¢è¡Œå¥½ç†è§£ã€‚</p> \n<p>å½“ç„¶è¡Œçš„é•¿åº¦ä¹Ÿä¸èƒ½ç‰¹åˆ«é•¿ï¼Œå› ä¸ºç»å¤§éƒ¨åˆ†è§†æƒ…å†µå·²ç»æœ‰æ›´å¥½çš„æ—¶æœºæå‰æ¢è¡Œäº†ã€‚æˆ‘ç¿»äº†ä¸‹ CPython ä»£ç ï¼Œå®˜æ–¹æ ‡å‡†åº“é‡Œé¢å¾ˆå¤šæ¨¡å—ï¼Œç”šè‡³æ–°æ¨¡å—éƒ½æ²¡æœ‰éµå®ˆ 79 å­—ç¬¦æ•°è¿™ä¸ªé™åˆ¶ï¼Œå¦‚ dataclassesã€pathlibã€enumï¼Œmypy ä¹Ÿæ²¡æœ‰éµå®ˆã€‚</p> \n<p>é‚£ 2020 å¹´çš„ç°åœ¨ï¼Œé•¿åº¦å®šåœ¨å¤šå°‘æœ€åˆé€‚å‘¢ï¼Ÿä¸ºäº†ç¡®å®šè¿™ä¸ªæˆ‘ç‰¹æ„æ‰¾äº†ä¸€äº›çŸ¥åå¼€æºé¡¹ç›®çœ‹ä»–ä»¬æ€ä¹ˆè§„å®šçš„:</p> \n<ul> \n <li>blackã€‚é»˜è®¤çš„é˜ˆå€¼æ˜¯ 88</li> \n <li>requestsã€‚é€‚å½“çš„å¯ä»¥è¾¾åˆ° 100 ä¸ªå­—ç¬¦ï¼Œæœ‰å¿…è¦å¯ä»¥è¶…è¿‡ 100</li> \n <li>flask (Pocoo)ã€‚æœ‰å¿…è¦å¯ä»¥æ‰©å±•åˆ° 84</li> \n <li>djangoã€‚å¦‚æœä»£ç è¡Œçœ‹èµ·æ¥ä¸‘é™‹æˆ–éš¾ä»¥é˜…è¯»å¯ä»¥æ‰©å±•åˆ° 119</li> \n</ul> \n<p>é˜ˆå€¼å„ä¸ç›¸åŒï¼Œä½† 79 æ˜¾ç„¶ä¸æ˜¯ä¸€ä¸ªä¼ä¸šå¼€å‘ä¸­å€¼å¾—é¼“åŠ±å’ŒåšæŒçš„é•¿åº¦é˜ˆå€¼ï¼Œæˆ‘åœ¨æ—¥å¸¸å·¥ä½œä¸­ä¸€èˆ¬ä¸è¶…è¿‡ 90 å³å¯ã€‚</p> \n<h3 id=\"å»¶ä¼¸é˜…è¯»\">å»¶ä¼¸é˜…è¯»</h3> \n<ol> \n <li><a href=\"https://stackoverflow.com/a/89011/2202409\">https://stackoverflow.com/a/89011/2202409</a></li> \n <li><a href=\"https://github.com/psf/black/tree/master#command-line-options\">https://github.com/psf/black/tree/master#command-line-options</a></li> \n <li><a href=\"https://github.com/psf/requests/blob/master/docs/dev/contributing.rst\">https://github.com/psf/requests/blob/master/docs/dev/contributing.rst</a></li> \n <li><a href=\"https://github.com/pallets/flask/blob/2659f0a5e62c9a97ef37dc2ded3ca8fda3c53c9f/docs/styleguide.rst\">https://github.com/pallets/flask/blob/2659f0a5e62c9a97ef37dc2ded3ca8fda3c53c9f/docs/styleguide.rst</a></li> \n <li><a href=\"https://docs.djangoproject.com/en/dev/internals/contributing/writing-code/coding-style/\">https://docs.djangoproject.com/en/dev/internals/contributing/writing-code/coding-style/</a></li> \n</ol>","descriptionType":"html","feedId":12869,"bgimg":"","linkMd5":"586831abc1a16094e27dad08499aaa1c","bgimgJsdelivr":"","metaImg":"","author":"dongweiming","publishedOrCreatedDate":1598321635483},{"createdTime":"2020-08-25 10:13:55","updatedTime":"2020-08-25 10:13:55","title":"ä¸çŸ¥é“å–ä»€ä¹ˆæ ‡é¢˜ä¹‹ä»»å¤©å ‚ç†è´¢","link":"https://www.dongwm.com/post/nintendo-financing/","description":"<h3 id=\"å‰è¨€\">å‰è¨€</h3> \n<p>æ—©å°±æƒ³æ°´ä¸€ç¯‡ï¼Œæ— å¥ˆå®åœ¨å¤ªå¿™äº†ã€‚ä»Šå¤©ç»ˆäºæŠ½å‡ºç‚¹æ—¶é—´å†™å†™ç–«æƒ…è¿™æ®µæ—¶é—´ç†è´¢çš„æ•…äº‹ï¼Œä»¥åŠè¿‡ç¨‹ä¸­æˆ‘è§‰å¾—æœ‰æ„æ€å‘ç”Ÿçš„æ•…äº‹å’Œæ„Ÿæ‚Ÿã€‚</p> \n<p>å…ˆè¯´ç»“è®ºå§ï¼Œé å®ƒ (ä»¬) å°æŒ£ä¸€ç¬”è¦é å¤©æ—¶åœ°åˆ©äººå’Œï¼šç–«æƒ…ã€æ¨ç‰¹ã€æµ·æ·˜ç»éªŒã€æŠ€æœ¯æ‰‹æ®µã€‚æŒ¨ä¸ªæ¥è¯´</p> \n<h3 id=\"çˆ±æµ·æ·˜\">çˆ±æµ·æ·˜</h3> \n<p>ç”±äºå¯¹å›½å†…ç¯å¢ƒçš„ä¸ä¿¡ä»»ï¼Œå°å­©å‡ºç”Ÿä¸ä¹…æˆ‘å°±å¼€å§‹å­¦ä¹ æµ·æ·˜å±¯å¥¶ç²‰å°¿ä¸æ¹¿ï¼Œç®—æ˜¯æ¯”è¾ƒæ—©æµ·æ·˜çš„ä¸€æ‹¨äººï¼Œä¸è¿‡å½“æ—¶å®Œå…¨æ²¡æƒ³ç€æŒ£é’±ï¼Œå°±æ˜¯è‡ªç”¨ã€‚å†ä¹‹åå°±æ˜¯åœ¨é»‘äº”ç­‰æ´»åŠ¨è´¹æœŸé—´ä»ç¾äºšã€çº½å·´ä¼¦å®˜ç½‘ç­‰ä¹° Ps4ã€MacBookã€é‹å­ç­‰ç­‰ï¼Œæœ‰æ—¶å€™ä¹Ÿä¼šå» eBay æ‹ä¸€äº›å–œæ¬¢çš„ç»ç‰ˆçš„é™å®šçš„ä¸œè¥¿ã€‚</p> \n<p>å½“ç„¶ä¹Ÿä¸æ˜¯æ‰€æœ‰ç”µå­äº§å“æµ·æ·˜æœ€ä¾¿å®œï¼Œä¾‹å¦‚ Switchã€æ–°æ¸¸æˆåœ¨å›½å†…ç”µå•†ä¹°æ€§ä»·æ¯”æ˜¯æœ€å¥½çš„ (å½“ç„¶æˆ‘æŒ‡çš„æ˜¯å¹³å¸¸)ã€‚ä¾‹å¦‚æˆ‘ 18 å¹´å…¥æ‰‹ Switchï¼Œå»å¹´ (2019) åŒåä¸€ä¹°äº†æ–°çš„æ—¥ç‰ˆç»­èˆª Switch éƒ½æ˜¯åœ¨ç‹—ä¸œã€‚</p> \n<p>å¯ä»¥è¯´æˆ‘å»å¹´ä¸ŠåŠå¹´ä¹‹å‰çš„æµ·æ·˜å®Œå…¨éƒ½æ˜¯è‡ªç”¨ï¼Œå¼€å§‹é æµ·æ·˜æŒ£é’±å…¶å®å§‹äºå»å¹´é»‘äº”ç¾äºšå¡å°”è¾¾ç­‰å¡å¸¦æ‰“éª¨æŠ˜ $29.99ï¼Œé™¤äº†å¤šä¹°äº† 2 ä¸ªç»™æœ‹å‹ï¼Œä¹Ÿå¤šä¹°äº†ä¸€äº›åœ¨æŸé±¼ä¸Šå–æ‰å°èµšäº†ä¸€ç¬”ã€‚ä»è¿™æ—¶å¼€å§‹å°åˆ°äº†ç”œå¤´ï¼Œæœ‰æ—¶å€™å…³æ³¨åˆ°å„ç”µå•†æ‰“æŠ˜å¦‚æœè§‰å¾—ä»·æ ¼åˆé€‚å°±ä¼šå±¯ä¸€äº›ã€‚</p> \n<h3 id=\"å¥èº«ç¯å¤§å†’é™©\">å¥èº«ç¯å¤§å†’é™©</h3> \n<p>åœ¨æ¨ä¸Šçœ‹åˆ°è€å©†ã€æ–°å£ç»“è¡£ã€‘ä»£è¨€è¿™æ¸¸æˆè¿˜èƒ½ä¸ä¹°ï¼Ÿæ°å¥½æˆ‘å½“æ—¶æ­£åœ¨è‹¦æ¼å†¬å¤©å‡è‚¥ï¼Œçœ‹äº† smzdm æ­£å¥½ä¸­äºšæµ·å¤–è´­æœ‰å°±ä¸‹å•äº†ï¼Œåˆ°æ‰‹ 521ï¼Œè¿™åº”è¯¥æ˜¯å²ä¸Šæœ€å¥½ä»·æ ¼äº†ã€‚</p> \n<p>åˆ°æ‰‹ç©äº†å‡ å¤©è§‰å¾—è¿™ä¸ªæ¸¸æˆå¤ªå€¼å¾—æ¨å¹¿äº†ï¼Œä»»å¤©å ‚çœŸæ˜¯è‰¯å¿ƒä¼ä¸šè¿™ä¹ˆå…³æ³¨å®…ç”·å¥åº·ï¼Œæ„ŸåŠ¨ã€‚</p> \n<p>æŠ±ç€è®©æ›´å¤šäººå—ç›Šçš„å®ä¼Ÿç›®æ ‡å¹´å‰å¤§æ¦‚å–äº† 10 å‡ ä¸ªï¼Œå…¶ä¸­ä¸€åŠå®‰åˆ©ç»™äº†èº«è¾¹çš„äººï¼Œå…¬å¸æ–°å¹´æ”¾å‡å‰æ­£å¥½åˆ°äº† 2 ä¸ªï¼Œç›´æ¥ 650 å‡ºç»™äº†åŒäº‹ (åˆ©æ¶¦å¤§æ¦‚ 150 / ä¸ª)ï¼Œä¸çŸ¥é“ä»–ä»¬çŸ¥é“è¿‡å¹´æœŸé—´å¥èº«ç¯æ¶¨åˆ° 1800 æ˜¯ä»€ä¹ˆæ„Ÿå—ğŸ˜</p> \n<h3 id=\"ç–«æƒ…\">ç–«æƒ…</h3> \n<p>æœ¬æ¥ä¹Ÿå°±æ˜¯è¿™æ ·äº†ï¼Œæˆ‘ä¸æ˜¯ä¸“èŒä»£è´­ï¼Œå°±æ˜¯é¡ºæ‰‹ã€‚</p> \n<p>æ²¡æƒ³åˆ°å¼€å¹´å°±æ˜¯æ–°å† ï¼Œçœ‹åˆ°æ¯å¤©è¶Šæ¥è¶Šä¸¥é‡çš„ç–«æƒ…ï¼Œåœ¨å®¶é‚£æ®µæ—¶é—´ç©ç€æ¸¸æˆåˆ·åˆ·æ¨çœ‹çœ‹å„ç§æ¶ˆæ¯ã€‚æˆ‘å…³æ³¨äº†ä»»å¤©å ‚å®˜æ–¹å·å¾ˆä¹…äº†ï¼Œé‡Œé¢ä¼šæœ‰æ–°æ¸¸é¢„å‘Šç‰‡ã€å…¬å‘Šã€ä¸€äº›æ´»åŠ¨ç­‰å†…å®¹ï¼Œæœ‰ä¸€å¤©æˆ‘å°±åˆ·åˆ°äº† <a href=\"https://www.nintendo.co.jp/support/information/2020/0206_01.html\">ç”±äºæ–°å† å½±å“äº† Switch ç¡¬ä»¶å’Œå¥èº«ç¯çš„ç”Ÿäº§çš„å…¬å‘Š</a> ï¼Œæˆ‘æ•é”çš„ç¿»äº†ä¸‹æŸå®å’ŒæŸé±¼ï¼Œå‘ç°å¥èº«ç¯å¼€å§‹æœªçŸ¥åŸå› çš„æ¶¨ä»·ï¼Œå¾ˆå¤šä¹°å®¶å–å®¶ä¹Ÿæä¸æ¸…æ¥šï¼Œè¿™ä¹Ÿé€ æˆäº†è´­ä¹°è€…çš„ææ…Œã€‚</p> \n<p>çœ‹ä¸€ä¸‹æˆ‘å½“æ—¶åœ¨æŸä¸ªæ¸¸æˆäº¤æµç¾¤è¯´çš„è¯:</p> \n<p><img src=\"https://user-images.githubusercontent.com/841395/86762364-2dc9d800-c079-11ea-8381-9a5c9ec3ed15.jpg\" alt=\"\" /></p> \n<p>åŒæ—¶ç«‹åˆ»å‘æŒ¥æˆ‘å…¨ä¸–ç•Œæµ·æ·˜ç»éªŒæ‰¾å¥èº«ç¯ï¼Œä¹Ÿåœ¨æŸé±¼ä¸Šæ¶é¢„è®¢å¥èº«ç¯çš„é“¾æ¥ï¼Œä¸€å¼€å§‹ 850ï¼Œåæ¥æ¶¨åˆ° 1100ï¼Œå“ï¼Œå½“æ—¶æ²¡æœ‰ç°è´§ï¼Œé—æ†¾äº†ã€‚é‚£å‡ å¤©æˆ‘å‚ä¸å¹¶è§è¯†åˆ°äº†ä¸­å›½ä¹°å®¶çš„è´­ä¹°åŠ›å’Œç–¯ç‹‚ã€‚</p> \n<p>è¿™æ ·è¯´å§ï¼Œä½ ä»¬è¿™å‡ ä¸ªæœˆçœ‹åˆ°çš„å„ä¸ªå›½å®¶æ¸¸æˆé”€å”®æ¦œä¸­å¥èº«ç¯å’ŒåŠ¨æ£®ï¼Œå…¶ä¸­å¾ˆå¤šéƒ½æµè½¬åˆ°äº†å›½å†…ï¼Œä¸­å›½ç»å¯¹æ˜¯å…¨ä¸–ç•Œç»™ä»»å¤©å ‚è´¡çŒ®æœ€å¤§çš„å›½å®¶ã€‚</p> \n<p>è¯´ç‚¹åç»­ã€‚å¥èº«ç¯æœ€é«˜æ—¶ 1800ï¼Œå…¶å®æˆæœ¬ 600-700 è¿™ä¸ªèŒƒå›´ï¼Œå¦‚æœç”¨äº†ç¤¼å“å¡é‚£å°±æ›´ä½äº†ï¼Œæœ¬æ¥å¥èº«ç¯åœ¨å¤–é¢ç”µå•†å¶å°”ä¼šæ‰“æŠ˜ï¼Œè§è¯†åˆ°è¿™ç§ç–¯ç‹‚çš„è´­ä¹°åŠ›åæˆ‘å†ä¹Ÿæ²¡è§è¿‡æ‰“æŠ˜äº†ğŸ¤¦ï¼Œä¸æ¶¨ä»·èƒ½ä¹°åˆ°å°±å¯ä»¥é«˜å…´å“­äº†ã€‚ç”±äºç–«æƒ…å½±å“ï¼Œæµ·æ·˜å‘¨æœŸæ¯”ä¹‹å‰çš„è¶…äº†ä¸€å€ï¼Œå…¶ä¸­æœ‰ 6 ä¸ªæ˜¯ä»æ¬§æ´²æœ€ä¸¥é‡çš„æ„å¤§åˆ©ä¹°çš„ï¼Œè¢«æ‹–äº† 2 ä¸ªå¤šæœˆæ‰åˆ°æˆ‘æ‰‹ä¸Šï¼Œæ«å¶å›½å—å…¶å›½å®¶æ”¿ç­–å½±å“å‘¨æœŸä¹Ÿå˜å¾—ä¸å¯æ§ï¼Œæˆ‘æœ‰ä¸€åŠçš„éƒ½æ˜¯è¶…è¿‡ä¸€ä¸ªæœˆæ‰åˆ°æ‰‹ã€‚</p> \n<p>è¿™é‡Œç»™å¤§å®¶ä¸ªå°è´´å£«ï¼Œå…¶å®æ•´ä¸ªè¿‡ç¨‹ä¸­å„ä¸ªäºšé©¬é€Šéƒ½åœ¨ä¸æ–­åœ°ã€å°æ•°é‡çš„ä¸Šè´§ï¼Œéœ€è¦æŠ¢ï¼Œä¸€ä¼šè¯´æŠ€æœ¯æ‰‹æ®µæ—¶å†ç»†èŠã€‚</p> \n<h3 id=\"çŒ›ç”·æ¡æ ‘æ\">çŒ›ç”·æ¡æ ‘æ</h3> \n<p>ä½ ç«Ÿç„¶ä¸çŸ¥é“æˆ‘åœ¨è¯´é‚£ä¸ªæ¸¸æˆï¼Ÿå•Š...</p> \n<p>ä¹‹å‰å¬è¿‡è¿™ä¸ªæ¸¸æˆï¼Œæˆ‘ä¸€ç›´ä»¥ä¸ºæ˜¯ä¸ªçœ‹èµ·æ¥æ¯”è¾ƒå¯çˆ±çš„è’å²›æ±‚ç”Ÿã€æ‰“æ€ªå‡çº§çš„æ¸¸æˆç½¢äº†å¹¶æ²¡æœ‰ç‰¹åˆ«å…³æ³¨ã€‚å…³æ³¨å®ƒè¿˜æ˜¯å› ä¸ºåŠ¨æ£®é™å®š Switch:</p> \n<p><img src=\"https://user-images.githubusercontent.com/841395/86668507-45777100-c025-11ea-9587-804d7e817dc9.jpg\" alt=\"\" /></p> \n<p>11 å·é‚£å¤©ç¿»æ¨ç‰¹çœ‹åˆ°ä¸€ä¸ªå…³æ³¨çš„è®¾è®¡å¸ˆå‘äº†å›¾ï¼Œè¿™ç®€ç›´æ˜¯ Switch é¢œå€¼å·…å³°å•Šï¼Œå¦‚æœè¯´ä¹‹å‰çš„è¿ªå£«å°¼é™å®šè®©æˆ‘çŠ¹è±«è¿‡ï¼Œè¿™ä¸ªå°±åƒæˆ‘åœ¨è±†ç“£å¹¿æ’­ä¸­è¯´çš„é‚£æ ·ï¼Œæˆ‘å¿…é¡»å¾—ä¹°ä¸€ä¸ªï¼</p> \n<p>3DS æ—¶é—´æ²¡æœ‰ç©è¿‡è¿™ä¸ªæ¸¸æˆï¼Œç­‰æˆ‘å…³æ³¨æ—¶å·²ç»å¤ªæ™šäº†ï¼Œå…¨ä¸–ç•Œéƒ½é¢„çº¦ä¸åˆ°äº†ã€‚æˆ‘ä¹‹å‰ä¹°çš„æ¸¸æˆéƒ½æ˜¯æœ‰è´§çš„ç›´æ¥ä¸‹å•å°±å¯ä»¥ï¼Œè€Œé¢„è®¢é€šå¸¸å¾—å…³æ³¨çš„æ—©æˆ–è€…å» eBay ç›¸å¯¹éº»çƒ¦å¾ˆå¤šï¼Œè¿™ä¸ªé™å®šæœºæˆ‘é¢„æµ‹ä¼šå’Œå½“æ—¶ PS4 äº”äº¿å°çºªå¿µå…¨çƒé™é‡ç‰ˆé‚£æ ·å³ä¾¿ eBay æœ‰è´§ä¹Ÿä¼šè¢«ç‚’çš„è‡³å°‘ç¿»å€ã€‚ç„¶åå…³æ³¨åˆ°æ—¥æœ¬ä»»å¤©å ‚å‘æ¨è¯´è¯´ 3 æœˆ 7 æ—¥ä¸Šåˆä¼šå¼€æ”¾é¢„çº¦ï¼Œæ—©æ—©è®¾äº†æé†’ç­‰é‚£ä¸€å¤©ã€‚</p> \n<p>æ­£æ˜¯ç”±äºå¯¹é™å®šæœºçš„çƒ­æƒ…ï¼Œ2 æœˆ 20 æ—¥æ™šä¸Šçœ‹äº†åŠ¨æ£®ç›´é¢ä¼šï¼Œçœ‹å®Œçš„æ„Ÿå—æ˜¯ï¼šè¿™ä¸ªæ¸¸æˆæœ‰æ„æ€ï¼Œè¦å¤§ç«äº†ï¼ç«‹åˆ»å»æ‹¼å¤•å¤• 305 é¢„å®šäº†æ¸¯ç‰ˆ (æ¸¯ç‰ˆå¯ä»¥ç¬¬ä¸€æ—¶é—´åˆ°æ‰‹)ï¼Œç”±äºæ–°æ¸¸æˆé€šå¸¸éƒ½ä¸æ‰“æŠ˜ï¼Œå›½å¤–ç½‘ç«™ç¿»äº†ä¸€åœˆï¼Œæ²¡ä»€ä¹ˆæŠ˜æ‰£ä¹Ÿéƒ½æ²¡æœ‰ç‰¹å…¸äº†ï¼Œæœ€ååœ¨æ¾³æ´²ä¸€ä¸ªç”µå•†é¢„è®¢äº† 5 ä¸ªå¸¦ç‰¹å…¸çš„æ¸¸æˆå¡å¸¦ã€‚</p> \n<p>3 æœˆ 7 æ—¥ä¸Šåˆæ—©æ—©å‡†å¤‡å¥½æŠ¢ä¸ªé™å®šæœºï¼Œæˆ‘ä»æ¥æ²¡è§è¿‡æŠ¢é¢„å”®å•†å“è¿™ä¹ˆç–¯ç‹‚çš„.... æˆ‘åŒæ—¶å…³æ³¨äº†å¤šä¸ªæ—¥æœ¬ç”µå•†ï¼Œä¹Ÿå‚åŠ äº†å…¶ä¸­ä¸€äº›æŠ½è´­ä¹°èµ„æ ¼çš„æ´»åŠ¨ã€‚æ—¥äºšæˆ‘å°±æ˜¯åœ¨ã€Œè´§åˆ°ä»˜æ¬¾ã€é€‰é¡¹é‚£é‡ŒçŠ¹è±«äº† 2 ç§’é’Ÿï¼Œå°±æ— è´§äº†.... ğŸ˜¹ å…¶ä»–çš„ç”µå•†ä¸€å¾‹æ‰“ä¸å¼€ï¼Œç­‰å‡ åˆ†é’Ÿåèƒ½æ‰“å¼€æ—¶å…¨éƒ¨å”®ç½„ã€‚ä¹‹åæ—¥äºšä¹Ÿä¸Šè¿‡ 2 æ¬¡æˆ‘éƒ½æ²¡èµ¶ä¸Šï¼Œä¸­äºšæµ·å¤–è´­é€šå¸¸ä¹Ÿä¼šèƒ½é¢„è®¢ä¸€æ³¢ï¼Œæˆ‘è¿˜è€å…³æ³¨ç»“æœä¹Ÿæ²¡èµ¶ä¸Šï¼Œå“ï¼Œéš¾å—ã€‚</p> \n<p>ç”µå•†è´­ä¹°è¿™æ¡è·¯çœ‹èµ·æ¥å¾ˆéš¾äº†ï¼Œæˆ‘å°±æƒ³ç€å»æ¸¸ç®±æ‰¾äººå¸®å¸¦ã€‚å½“æ—¶æ¸¸ç®± App ä¸Šå…¨æ˜¯æ±‚é™å®šæœºå’Œå¥èº«ç¯çš„ï¼Œå½“æ—¶çœ‹åˆ°åŠ æ‹¿å¤§ä¸€ä¸ªç”µå•†æœ‰è´§ï¼Œè”ç³»äº†ä¸€ä¸ªäººè°ˆå¥½äº†ä»·é’±ã€‚ä¸è¿‡è¿™ä¸ªäººè¢«æˆ‘æ•™ä¼šäº†ä¹°äº†å‡ ä¸ªè§‰å¾—æˆ‘å‡ºä»·ä½ä¸æ„¿æ„å–ç»™æˆ‘ï¼Œåˆä¸å¥½æ„æ€æ‰“è„¸å°±å’Œæˆ‘è¯´æ²¡æŠ¢åˆ°ï¼Œäººè‰°ä¸æ‹† (åæ¥ä»å…¶ä»–æ¸¸ç®±æœ‹å‹é‚£é‡Œè¯å®äº†ï¼Œæˆ‘æ²¡æœ‰æ¶æ„çŒœæµ‹é”™å¥¹)ï¼Œæƒ³å¤šèµšç‚¹å¯ä»¥ç†è§£ï¼Œåˆ äº†å¾®ä¿¡ï¼Œä¸€åˆ‡å›åˆ°åŸç‚¹ã€‚</p> \n<p>æœ‰åŒå­¦é—®ä¸ºå•¥ä¸é—²é±¼é¢„è®¢å‘¢ï¼Ÿä¸€ä¸ªæ˜¯ä»·æ ¼å¤ªé«˜ï¼Œå¦å¤–æ˜¯è®©æˆ‘æˆ‘ä¸€ä¸ªä¼šæµ·æ·˜çš„äººä»å…¶ä»–äººé‚£é‡Œè®¢ï¼Ÿå°±åƒæˆ‘æ˜¯ä¸€ä¸ª Python å·¥ç¨‹å¸ˆå¾—æ‰¾åˆ«äººå¸®æˆ‘å†™ Python ä»£ç ä¸€ä¸ªæ„Ÿå—ï¼Œèƒ½ç†è§£ä¸ï¼Ÿ</p> \n<h3 id=\"çˆ¬è™«æŠ€èƒ½ç”¨åœ¨äº†ä¹°é™å®šä¸»æœºä¸Š\">çˆ¬è™«æŠ€èƒ½ç”¨åœ¨äº†ä¹°é™å®šä¸»æœºä¸Š</h3> \n<p>å…¶ä»–è·¯éƒ½ä¸é€šï¼Œåªèƒ½è‡ªå·±åŠ¨æ‰‹äº†ã€‚ä¹‹å‰åœ¨ eBay æ‹å–æ—¶æˆ‘å°±é€šè¿‡ä¸€ä¸ª Python ç¨‹åºåœ¨é©¬ä¸Šç»“æŸç«æ‹æ—¶å‡ºä»·ï¼Œåœ¨ä¸è¶…è¿‡è®¾å®šçš„æœ€é«˜æ¥å—ä»·æ ¼çš„å‰æä¸‹è·Ÿæ‹æœ€ç»ˆä¿è¯å‡ºä»·æœ€ä½åœ°ç«æ‹æˆåŠŸã€‚åœ¨è¿™é‡Œä¹Ÿæ˜¯ç»™å¤§å®¶ä¸€ä¸ªæ€è·¯ï¼Œå…¶å®å†™çˆ¬è™«å¹¶ä¸æ˜¯åªä¸ºäº†æŠ“å–ä¿¡æ¯å±•ç¤ºåˆ†æï¼Œå¹¿ä¹‰ä¸Šçš„æ¥è¯´èƒ½åšå¤ªå¤šäº‹æƒ…äº†ï¼Œä¾‹å¦‚æˆ‘æ¥ä¸‹æ¥è¯´çš„ç”µå•†æŠ“å–ç¨‹åºã€‚</p> \n<p>æˆ‘å¼€å§‹ç ”ç©¶æ€ä¹ˆè¹²æ–°ä¸Šæ¶çš„æ¸¸æˆæœºï¼Œå¤§å®¶çŸ¥é“ç¾å›½å„ä¸ªç”µå•†ç å•æ˜¯å¾ˆä¸¥é‡çš„ï¼Œå¹¸å¥½æˆ‘å¤šå¹´æµ·æ·˜ç§¯æ”’äº†å¤šä¸ªæœ‰å¾ˆå¥½çš„è´­ç‰©è®°å½•çš„è´¦å·å’Œä¿¡ç”¨å¡ã€‚ä»åŒ—ç¾çœé’±å¿«æŠ¥é‡Œæ€»ç»“å‡ºç¾äºšç­‰ç”µå•†ä¼šä¸å®šæœŸä¸Šçº¿å°‘é‡æ¸¸æˆæœºï¼Œä½†æ˜¯æˆ‘ä¸å¯èƒ½ä¸€å¤© 24 å°æ—¶éƒ½å®ˆåœ¨ç”µè„‘æ—è¾¹åˆ·ï¼Œæ‰€ä»¥æˆ‘å°±å¼€å§‹ç”¨ Go å†™äº†ä¸€ä¸ªçˆ¬è™«ï¼Œæ¨¡å—åŒ–çš„æ·»åŠ äº†äºšé©¬é€Šã€æ²ƒå°”ç›ã€Bestbuyã€Bhphotovideoã€Adoramaã€Toysrus ä»¥åŠåŠ æ‹¿å¤§æœ¬åœŸçš„ londondrugs çš„æŠ“å–ç¨‹åºï¼Œé€»è¾‘æ¯”è¾ƒæ˜ç¡®ï¼šæŠ“å–é¡µé¢ / APIï¼Œå¦‚æœæœ‰åº“å­˜å°±å‘é‚®ä»¶é€šçŸ¥æˆ‘ã€‚ä¸è¿‡å…¶ä¸­å¤§éƒ¨åˆ†ç”µå•†åªä¸Šæ¶äº†ä¸€æ¬¡ï¼Œå†ä¹Ÿæ²¡è¡¥è´§ï¼Œè€Œç»å¸¸è¡¥è´§çš„ç¾äºšçš„æŠ“å–é™åˆ¶çš„å¾ˆå‰å®³ä¸èƒ½æŠ“çš„é¢‘ç¹ã€‚</p> \n<p>è¿™ä¸ªæ—¶å€™åœ¨ Dealmoon è¯„è®ºåŒºçœ‹åˆ°æœ‰äººæ¨è Nowinstock è¿™ä¸ªç½‘ç«™ (ç°åœ¨è¿™ä¸ªç½‘ç«™æ•°æ®ä¸¥é‡æ»å)ï¼Œä»–ä¿©é…åˆå¾ˆå¿«æˆ‘å°±æŠ¢åˆ°äº†ä¸€ä¸ªç¾äºšçš„ç¾ç‰ˆï¼Œå…¶å®æ¯”é¢„æƒ³çš„å¾ˆå®¹æ˜“ï¼Œå°±æ˜¯è¡¥è´§æ—¶ä½ å…ˆå¾—åˆ°æ¶ˆæ¯å³å¯ã€‚ç„¶åå°±æ€è€ƒç€å¤šå›¤å‡ ä¸ªå–å‘—ï¼ŒNowinstock ä¸Šå…³æ³¨åˆ°æ¬§ç‰ˆä¸Šè´§é¢‘ç¹ä¸”å¯ä»¥é€€ç¨ç›´é‚®åˆ°ä¸­å›½ï¼Œæ‰€ä»¥ä»å¾·äºšæ³•äºšæ„äºšæŠ¢äº†ä¸€äº›ã€‚ä¹‹åæ¬§ç‰ˆäºšé©¬é€Šå‘ç°è¿™ä¸ªä¸œè¥¿å¤ªå¤šæµå…¥ä¸­å›½å°±å–æ¶ˆä¸å†æ”¯æŒç›´é‚®ï¼Œæ€§ä»·æ¯”å°±å¾ˆä½æˆ‘å°±ä¸å†å…³æ³¨äº†ã€‚</p> \n<p>3 æœˆ 20 æ—¥æ¸¸æˆæœºä¸Šå¸‚ä¹‹å‰ï¼Œæˆ‘å„ä¸ªç‰ˆæœ¬çš„ä¹°äº† 12 å°ï¼Œé™¤äº†è‡ªç”¨ 1 å°ç¾ç‰ˆï¼Œç°åœ¨è¿˜ç•™äº†ä¸€ä¸ªç»ç‰ˆçš„ç¾ç‰ˆä¸ç€æ€¥å‡ºä»¥å¤–ï¼Œå…¶ä»–çš„åŸºæœ¬éƒ½åœ¨ä»·æ ¼æœ€é«˜ç‚¹é™„è¿‘å‡ºæ‰äº†ã€‚</p> \n<p>æœ‰äº†é™å®šæœºæˆ‘å»å¹´åŒåä¸€ä¹°çš„æ—¥ç‰ˆç»­èˆªç«‹åˆ»ä¸é¦™äº†ï¼Œè€Œ Switch å‘¨è¾¹åœ¨å›½å†…çš„å‚å­å¤§å¤šå¤„äºåœæ»çŠ¶æ€ï¼Œå†åŠ ä¸ŠåŠ¨æ£®é™å®šçš„ä»·æ ¼æœ€é«˜ç‚¹åµåˆ° 5k+ï¼Œæ–°çš„æ—¥ç‰ˆç»­èˆªçš„ä»·æ ¼ä¹Ÿæ¶¨åˆ° 3800 å·¦å³ï¼Œå€Ÿç€è¿™ä¸ªæœºä¼šæŸé±¼æŠŠæˆ‘çš„ Switch2600 å¾ˆç—›å¿«çš„å‡ºæ‰äº†ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ç©äº† 5 ä¸ªæœˆå–äº†è¿˜æŒ£äº† 700 å—é’±... é‚£ä¸ªä¹°å®¶è¿˜è¯´è¿™æ˜¯ä»–ç¬¬ä¸€æ¬¡ä¹°äºŒæ‰‹æ¯”å…¨æ–°è´µå¾ˆå¤šçš„é—²ç½®ã€‚åœ¨äºŒæœˆæ—¶æˆ‘å°±é¢„è§äº† Switch æ¶¨ä»·çš„äº‹å®ï¼Œæ‰€ä»¥çœ‹ç€ Switch æ¶¨æ²¡ç€æ€¥å‡ºï¼Œç›´åˆ°è¿™ä¸ªèŠ‚ç‚¹ã€‚</p> \n<h3 id=\"åŠ¨æ£®å¡å¸¦\">åŠ¨æ£®å¡å¸¦</h3> \n<p>æ¥ä¸‹æ¥è¯´ç¬¬ä¸‰ä¸ªç†è´¢äº§å“ã€‚å‰é¢æåˆ°æœ¬æ¥æ‹¼å¤•å¤•ä¸Šé¢„å®šäº†å¡å¸¦å‡†å¤‡ç¬¬ä¸€æ—¶é—´ä¸Šå²›ï¼Œä¹Ÿé¢„å®šäº†äº”ä¸ªæ¾³ç‰ˆå¡å¸¦ï¼Œè™½ç„¶å½“æ—¶æ±‡ç‡ä¸€èˆ¬ï¼Œä½†åæ¥çœ‹å¤ªæ˜æ™ºäº†ã€‚</p> \n<p>ç–«æƒ…åœ¨å…¨ä¸–ç•Œæ‰©æ•£åï¼Œå¯¹å¤šä¸ªå›½å®¶çš„è´§å¸æ±‡ç‡äº§ç”Ÿäº†å½±å“ï¼Œå…¶ä¸­æœ€æ˜æ˜¾çš„å°±æ˜¯æ¾³æ´²ï¼Œæ¥æ„Ÿå—ä¸‹:</p> \n<p><img src=\"https://user-images.githubusercontent.com/841395/86705731-c136e500-c048-11ea-9cee-7a500dc3bded.png\" alt=\"\" /></p> \n<p>å¯ä»¥çœ‹åˆ°æ¸¸æˆå‘å”®æ—¥å‰åå‡ å¤©çš„æ±‡ç‡... å¯¹æˆ‘è¿™ç§æ±‡ç‡æ•æ„Ÿå‹ä¹°å®¶æ¥è¯´ï¼Œæœºä¼šå¤ªéš¾å¾—ï¼Œäºæ˜¯åœ¨æ¾³æ´²ä¹°å…¶ä»–ä¸œè¥¿æ—¶å€™é¡ºä¾¿ä¹°äº†ä¸€äº›åŠ¨æ£®æ¸¸æˆå¡å¸¦ (éƒ½å¸¦ç‰¹å…¸æµ·æŠ¥ï¼‰ã€‚äº‹å®ä¸Šæ±‡ç‡æ¯” Google è¿™ä¸ªå›¾é‡Œé¢è¿˜è¦å†ä½å†™ï¼Œç„¶åç”¨æˆ‘ä¹‹å‰æçš„å°æ¹¾ Paypal + å›½å¡çš„æ–¹å¼åœ¨æ¾³æ´²ä¹°äº†ä¼šå‘˜å’Œä»»äºåˆ¸å…‘æ¢äº†åŠ¨æ£® (æŠ˜åˆäººæ°‘å¸ä¸åˆ° 290)ï¼Œè¿™æ ·å°±ç¬¬ä¸€æ—¶é—´ä¸Šå²›äº†ã€‚æ‹¼å¤šå¤šå½“æ—¶è®¢çš„å¡å¸¦ä¹Ÿæ²¡é€€ï¼Œåæ¥ 500 å—é’±åˆ°æ‰‹å°±å‡ºæ‰äº†ã€‚</p> \n<p>åŠ¨æ£®ä¸Šå¸‚åçš„çˆ†ç«ï¼ŒåŠ ä¸Šç–«æƒ…è®©å¡å¸¦ä¸å®¹æ˜“è¿›å…¥ä¸­å›½å¸‚åœºï¼Œå†åŠ ä¸Šå•†å®¶é›†ä½“å›¤è´§æ¶¨ä»·ï¼Œæˆ‘å½“æ—¶é¢„å®šçš„é‚£ 5 ä¸ªå…¨éƒ¨åœ¨å½“æ—¶æ®µæœ€é«˜ä»· 580 å‡ºæ‰ã€‚</p> \n<p>è¡¥åç»­ï¼Œå‘å”®å‰ç”±äºæ±‡ç‡å¤ªä½å›¤çš„æ¸¸æˆå¡å¸¦ç»å¤§å¤šæ•°éƒ½åœ¨å…¨ç½‘ä¸‹æ¶å‰å‡ºæ‰äº†ï¼Œåé¢æ±‡ç‡æ¶¨èµ·æ¥ä»£è´­çš„ä»·å€¼å°±å¾ˆä½äº†ã€‚</p> \n<h3 id=\"å¼‚åº¦ç¥å‰‘å†³å®šç‰ˆæ¬§ç‰ˆå¥—è£…\">å¼‚åº¦ç¥å‰‘å†³å®šç‰ˆæ¬§ç‰ˆå¥—è£…</h3> \n<p>æ¥ä¸‹æ¥ç¬¬å››ä¸ªç†è´¢äº§å“ã€‚å…¶å®è¿™ä¸ªä¹Ÿä¸ç®—ç†è´¢ï¼Œè¿™ç§çƒ­é—¨æ¸¸æˆçš„é¦–å‘é™å®šå¥—è£…åœ¨ä¸Šå¸‚æ—¶éƒ½è¢«ç‚’èµ·æ¥ï¼Œå¯¹äºæˆ‘è¿™ä¸ªç‹‚çƒ­ RPG çˆ±å¥½è€…ï¼Œè™½ç„¶æ—©æ—©çš„é¢„å®šä¸€ä¸ªï¼Œä½†çœ‹åˆ°ä»»å¤©å ‚çš„ç†è´¢èƒ½åŠ›åä¹Ÿåœ¨è‡ªç”¨å¤–é‡‡è´­äº†ä¸€äº›...</p> \n<h3 id=\"å…¶ä»–å¡å¸¦\">å…¶ä»–å¡å¸¦</h3> \n<p>å½“ç„¶æˆ‘ä¹Ÿæäº†å…¶ä»–å¾ˆå¤šå¡å¸¦ï¼Œæœ‰çš„è‡ªå·±ç•™ä¸‹ï¼Œæœ‰çš„å–æ‰ã€‚å°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ï¼Œä½†å…¶å®æœ‰äº›å¡å¸¦åˆ©æ¶¦ä¹Ÿæ˜¯å¾ˆä¸é”™çš„ï¼Œ ä¾‹å¦‚èˆåŠ›å…¨å¼€ 2020 æ˜¯ 140-150 çš„æˆæœ¬ï¼Œæˆ‘æœ€é«˜å–åˆ°äº† 280</p> \n<h3 id=\"è¯´è¯´æ”¶ç›Š\">è¯´è¯´æ”¶ç›Š</h3> \n<p>ç†è´¢æ•ˆæœè¿˜ä¸é”™ï¼Œæ€»ä½“æ”¶ç›Šå°±ä¸è¯´äº†ï¼Œç»™å¤§å®¶ä¸€ä¸ªæ„Ÿå—å§ã€‚</p> \n<ol> \n <li>å¥èº«ç¯ã€‚æˆæœ¬ 650 (ç¾ / æ¾³ç‰ˆ)/750 (æ¬§ç‰ˆ)ï¼Œå¤§æ¦‚ä¸€åŠæ˜¯é¢„å®šçš„ï¼Œæ‰€ä»¥æ¯ä¸ªåˆ©æ¶¦ 200-400ï¼Œè‡ªå·±å–çš„ 1000-1300</li> \n <li>é™å®š Switchã€‚ç¾ç‰ˆæˆæœ¬ &amp; lt;2200, æ¬§ç‰ˆ &amp; lt;2900ï¼Œæˆ‘å–è¿‡çš„æœ€ä½ä»· 3600ï¼Œæœ€é«˜ä»· 4500</li> \n <li>åŠ¨æ£®å¡å¸¦ã€‚æˆæœ¬ &amp; lt;300ï¼Œå–è¿‡çš„æœ€é«˜ä»· 580ï¼Œå¤§éƒ¨åˆ†åœ¨ 450 ä»¥ä¸Šå‡ºï¼Œå°‘éƒ¨åˆ†é¢„è®¢ 335-380</li> \n <li>å¼‚åº¦ç¥å‰‘æ¬§ç‰ˆå¥—è£…ã€‚æˆæœ¬ &amp; lt;950ï¼Œå”®ä»· 1350-1500</li> \n <li>å…¶ä»–å¡å¸¦ã€‚æœ‰æŒ£æœ‰èµ”ï¼Œæ€»ä½“ä¸Šéƒ½åœ¨ 30-50 / ä¸ªåˆ©æ¶¦ã€‚</li> \n</ol> \n<h3 id=\"é’±å¹¶ä¸å¥½æŒ£\">é’±å¹¶ä¸å¥½æŒ£</h3> \n<p>è¿™ä¸ªé’±ä¹Ÿæ²¡æœ‰å¤šå¥½æŒ£å§ã€‚ç¬¬ä¸€æ–¹é¢èŠ±äº†æˆ‘å¾ˆå¤šç²¾åŠ›ï¼šæ‰¾è´§ã€è¹²ã€å†™æŠ“å–ç¨‹åºã€å…³æ³¨æµ·æ·˜æ•´ä½“æµç¨‹ã€å›å¤å’¨è¯¢ï¼Œæœ‰æ—¶å€™æ¸…å…³è¢«ç¨äº†è¿˜è¦å»å¤„ç†ç­‰ç­‰ï¼Œäº‹æƒ…å¾ˆæ‚ï¼›å¦å¤–ä¸€æ–¹é¢åœ¨é—²é±¼èƒ½è§è¯†äº†å„ç§äººï¼Œç»™å¤§å®¶åˆ†äº« 2 ä¸ªä¾‹å­å§</p> \n<h4 id=\"çŠ¹è±«ä¸å†³é”™è¿‡äº†å¥½ä»·\">çŠ¹è±«ä¸å†³é”™è¿‡äº†å¥½ä»·</h4> \n<p>å…¶å®ç°å®ç”Ÿæ´»ä¸­æˆ‘ä¹Ÿä¼šçŠ¹è±«ï¼Œæœºä¼šä¸€é—ªå³é€é”™è¿‡æ²¡åŠæ³•åæ‚”ã€‚å†é¢„è®¢å¥èº«ç¯å’ŒåŠ¨æ£®å¡å¸¦æ—¶ï¼Œæœ‰ä¸å°‘äººæ‰¾æˆ‘å’¨è¯¢äº†æ²¡æœ‰ç¬¬ä¸€æ—¶é—´æ‹ä¸‹ï¼Œç­‰è¿‡ä¼šå†æ¥æˆ‘å·²ç»æ¶¨ä»·ç”šè‡³å–å®Œäº†ï¼Œæˆ‘ä»æ¥ä¸ä¼šå› ä¸ºå¯¹æ–¹ä¹‹å‰æ¥å’¨è¯¢è¿‡å°±æŒ‰åŸæ¥çš„ä»·æ ¼ï¼Œæˆ‘è¿™ç§ç›´ç”·å¿…å®šæ˜¯å…¬äº‹å…¬åŠï¼Œä½ è¦ä¸ºè‡ªå·±çš„çŠ¹è±«æ‰¿æ‹…åæœ</p> \n<h4 id=\"è®°è€…/æ·±äº•å†°\">è®°è€… / æ·±äº•å†°</h4> \n<p>è¿™æ˜¯ä¸€ä¸ªä¸“ç”¨æœ¯è¯­ï¼Œä»–ä»¬ä¼šç•™è¨€æˆ–è€…ç§èŠä½ ï¼Œè¯´å“å‘€è¿™ä¸ªä¸œè¥¿æˆæœ¬æ‰ 630ï¼Œä½ æ€ä¹ˆå– 1000ï¼Ÿå¤ªé»‘äº†ï¼Œè¿™æ ·å§ï¼Œæˆ‘å’¬å’¬ç‰™è®©ä½ æŒ£ 70ï¼Œ700 å–æˆ‘ä¸€ä¸ª....</p> \n<p>å¤§éƒ¨åˆ†äººä¼šå°è¯•å°åˆ€ï¼Œä¹Ÿæœ‰ä¸€äº›äººå¤§åˆ€ï¼Œä¸¾ä¸ªä¾‹å­ï¼šæŸå•†å“æˆ‘æŒ‚çš„ä»·æ ¼æ˜¯ 1000ï¼ŒTa ç§èŠæˆ‘ç±»ä¼¼ã€Œ600 ç§’æ”¶ã€è¿™ç§ã€‚</p> \n<p><img src=\"https://user-images.githubusercontent.com/841395/86718717-ed0c9780-c055-11ea-84be-c03f20f8c290.gif\" alt=\"\" /></p> \n<p>ä¸€å¼€å§‹æˆ‘éƒ½éœ‡æƒŠäº†ï¼Œç‰¹åˆ«ç”Ÿæ°”ï¼Œåæ¥è§å¤šäº†å¦ç„¶äº†ã€‚ç°åœ¨æ‡‚ä¸ºä»€ä¹ˆæŸé±¼ç¬¬ä¸€ä¸ª emoji æ”¾çš„æ˜¯ç¬‘è„¸äº†ï¼Œä¹‹åæˆ‘è¦ä¸ç„¶ä¸æ­ç†ï¼Œè¦ä¸ç„¶å…¨ç¨‹ç»™ä»–ä¸ªç¬‘è„¸å®Œäº‹ã€‚</p> \n<h3 id=\"åè®°\">åè®°</h3> \n<p>è¿™æ¬¡èƒ½å¤Ÿç†è´¢æˆåŠŸæœ€ä¸»è¦è¿˜æ˜¯å› ä¸ºç–«æƒ…å½±å“ï¼Œæ˜¯ä¸å¯å¤åˆ¶çš„ä¸€æ¬¡ä½“éªŒã€‚æ„Ÿè§‰æˆ‘é€‚åˆæŠ•æœºçš„ O (âˆ©<em>âˆ©)O</em></p> \n<p>ä¸Šä¸ªå›¾ç»“æŸå•¦:</p> \n<p><img src=\"https://user-images.githubusercontent.com/841395/86758781-abd8af80-c076-11ea-86fd-ca222da159a5.jpg\" alt=\"\" /></p>","descriptionType":"html","feedId":12869,"bgimg":"https://user-images.githubusercontent.com/841395/86762364-2dc9d800-c079-11ea-8381-9a5c9ec3ed15.jpg","linkMd5":"ef3c5c9a36bde37691684f991c67d0c8","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn72@2020_4/2020/08/25/02-14-00-835_4d037d48a907cc85.webp","destWidth":450,"destHeight":800,"sourceBytes":225806,"destBytes":32910,"author":"dongweiming","articleImgCdnMap":{"https://user-images.githubusercontent.com/841395/86762364-2dc9d800-c079-11ea-8381-9a5c9ec3ed15.jpg":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn72@2020_4/2020/08/25/02-14-00-835_4d037d48a907cc85.webp","https://user-images.githubusercontent.com/841395/86668507-45777100-c025-11ea-9587-804d7e817dc9.jpg":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn90@2020_4/2020/08/25/02-15-26-061_7c7b9e8b4cea4120.webp","https://user-images.githubusercontent.com/841395/86705731-c136e500-c048-11ea-9cee-7a500dc3bded.png":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn97@2020_1/2020/08/25/02-15-25-321_d4a1a5565f77f75b.webp","https://user-images.githubusercontent.com/841395/86718717-ed0c9780-c055-11ea-84be-c03f20f8c290.gif":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn85@2020_6/2020/08/25/02-15-25-990_a02d8479c8c019c0.webp","https://user-images.githubusercontent.com/841395/86758781-abd8af80-c076-11ea-86fd-ca222da159a5.jpg":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn29@2020_3/2020/08/25/02-15-26-941_d574dff178ca2753.webp"},"publishedOrCreatedDate":1598321635483},{"createdTime":"2020-08-25 10:13:55","updatedTime":"2020-08-25 10:13:55","title":"2019å¹´å°ç»“","link":"https://www.dongwm.com/post/2019-final/","description":"<p>æ—©å°±æƒ³å†™ä¸€ç¯‡å¹´ç»ˆæ€»ç»“ï¼Œå°±åƒè±†ç“£ä¹¦å½±éŸ³æŠ¥å‘Šé‚£æ ·å¤ç›˜ä¸€ä¸‹æˆ‘è¿™ä¸€å¹´ã€‚ä¸è¿‡æ¯å¹´å¹´åº•å´æ˜¯æˆ‘æœ€å¿™çš„ä¸€æ®µæ—¶é—´ï¼Œä¸€ç›´æ‹–åˆ°ç°åœ¨ã€‚</p> \n<h3 id=\"å¥³å„¿\">å¥³å„¿</h3> \n<p>æ—¶é—´è¿‡å¾—å¥½å¿«ï¼Œä¸€è½¬çœ¼å°æœ‹å‹å·²ç»ä¸Šå¹¼å„¿å›­å¤§ç­äº†ã€‚çœ‹ç€å°æœ‹å‹ä¸€å¤©å¤©é•¿å¤§ï¼Œä¸å¯ä»¥é¿å…çš„æ„Ÿè§‰åˆ°è‡ªå·±è¶Šæ¥è¶Šã€Œæˆç†Ÿã€ï¼Œæ›´ç°å®äº†ï¼Œçœ‹æ¸…äº†å¾ˆå¤šäº‹æƒ…ï¼Œç„¦è™‘çš„åœ°æ–¹å¤šäº†ã€‚</p> \n<p>è‡ªä»æœ‰äº†å¥³å„¿ï¼Œå¯¹å¾ˆå¤šä¸œè¥¿çš„çœ‹æ³•éƒ½å‘ç”Ÿäº†æ”¹å˜ã€‚</p> \n<p>æˆ‘æœ¬èº«æ˜¯ä¸€ä¸ªæ¯”è¾ƒå®…çš„äººï¼Œå–œæ¬¢å®‰é™ï¼Œå“ªæ€•ä»€ä¹ˆéƒ½ä¸å¹²æ‘Šåœ¨æ²™å‘æˆ‘éƒ½è§‰å¾—æŒºå¥½çš„ã€‚ä½†æ˜¯å°æœ‹å‹æ­£å¥½ç›¸åï¼Œé™¤äº†è¢«å¥¹çš„æƒ³è±¡åŠ›å’Œå¥½å¥‡å¿ƒæŠ˜æœä¹‹å¤–ï¼Œæœ€ç¾¡æ…•çš„å°±æ˜¯å¥¹çš„ç²¾åŠ›ã€‚æˆ‘è™½ç„¶å®…ä½†æ˜¯å¸Œæœ›å¥¹éå¸¸æ´»æ³¼ï¼Œæ€§æ ¼å¼€æœ—ï¼Œæ‰€ä»¥å°½é‡ä¸è¦å®…åœ¨å®¶ï¼Œåœ¨å‘¨æœ«æˆ–è€…å‡æœŸå‚ä¸å„ç§æ´»åŠ¨ã€‚</p> \n<p>åˆšå·¥ä½œé‚£ä¼šæˆ‘æ˜¯ä¸ªç‰¹åˆ«æ­£é¢ã€é˜³å…‰ä¸”éå¸¸æœ‰ç²¾åŠ›çš„äººï¼Œè€Œç°åœ¨æ—¢æœ‰ç°å®çš„å‹åŠ›ï¼Œä¹Ÿæœ‰å¹´é¾„å’Œç²¾åŠ›ç‚¹çš„é—®é¢˜ï¼Œä½†çœ‹ç€å¥¹æ¯å¤©åœ¨ç©ã€åœ¨è·‘æ„Ÿè§‰çœ‹å¹´è½»çš„è‡ªå·±ï¼Œä¹ŸæŒºå¥½çš„ã€‚åªæ˜¯ä¸å¯é¿å…åœ°æ„Ÿè§‰åˆ°äº†è‡ªå·±åœ¨å˜è€ï¼Œæˆ‘ä¼šå¶å°”å¸Œæœ›å¥¹ä¸è¦é•¿å¤§ï¼Œå› ä¸ºå¥¹é•¿å¤§äº†å°±ä¸å’Œæˆ‘ä»¬ç©äº†ğŸ˜­</p> \n<h3 id=\"å»äº†ä¸€æ¬¡æ—¥æœ¬å›æ¥å‡äº†30æ–¤\">å»äº†ä¸€æ¬¡æ—¥æœ¬å›æ¥å‡äº† 30 æ–¤</h3> \n<p>å¸Œæœ›è¿™ä¸ªå°æ ‡é¢˜æ²¡å¼•èµ·ä»€ä¹ˆè¯¯è§£ O (âˆ©_âˆ©)O</p> \n<p>è¿˜æ²¡æ¯•ä¸šæ—¶æˆ‘çœ‹è¿‡ä¸€ä¸ªä¼˜é…·ç¨‹åºå‘˜åŠ ç­çŒæ­»çš„æ–°é—»ï¼Œæ‰€ä»¥ä¸€å¼€å§‹å·¥ä½œæˆ‘é€‰æ‹©äº†å»åšè¿ç»´ï¼Œåœ¨åˆšå·¥ä½œçš„å‡ å¹´é‡Œå†…å¿ƒåˆ»æ„çš„æ‹’ç»åšä¸ªç¨‹åºå‘˜ï¼Œä½†æ˜¯åæ¥å´å‘ç°æ›´é€‚åˆå’Œæ„¿æ„åšä¸ªå¼€å‘ï¼Œæ‰€ä»¥ä½ çœ‹ï¼Œç°åœ¨å•ªå•ªæ‰“è„¸å‘€ã€‚</p> \n<p>ä¸€ç›´ä»¥æ¥æˆ‘è¿˜ç®—å…³æ³¨å¥åº·ï¼Œåœ¨ç»“å©šå‰ä½“é‡ä¸€ç›´åœ¨ 125 æ–¤å·¦å³ï¼ŒåŸæ¥æœ€çˆ±çš„è¿åŠ¨å°±æ˜¯çˆ¬å±±ï¼Œä¸€ç›´åˆ°æ¥è”¬èœå‚æ¬åˆ°äº†æœé˜³ï¼Œè¿™å‡ å¹´è¶Šæ¥è¶Šèµ°æ²¹è…»å¤§å”è·¯çº¿äº†ï¼Œå·¥ä½œåŸå› æˆå¤©åœ¨å¤–é¢åƒé¥­ï¼Œä¸å¾—å·²æ¥å—å¹¶ä¹ æƒ¯äº†åç”œã€å£å‘³é‡ã€è”¬èœæ°´æœå°‘çš„é¥®é£Ÿç‰¹ç‚¹ï¼Œä½“é‡å°±è¿™ä¹ˆæ‚„æ‚„çš„æ¶¨äº†èµ·æ¥ï¼Œå†åŠ ä¸Šç»“å©šåå¯¹äºå½¢è±¡ä¹Ÿä¸å¤ªå…³æ³¨äº†ï¼Œå¼€å§‹å˜å¾—éšé‡è€Œå®‰ã€‚ä»”ç»†æƒ³æƒ³ï¼Œæœ‰å¤ªå¤šç°åœ¨çš„å–œå¥½æ”¾åœ¨ 5 å¹´å‰æˆ‘å®Œå…¨ä¸èƒ½æ¥å—çš„ï¼Œä¾‹å¦‚å†°çº¢èŒ¶ã€çº¢çƒ§è‚‰ã€éº»è¾£é¸­å¤´ï¼Œå¯ä¹é¸¡ç¿…ï¼Œemmï¼Œè¯´åˆ°è¿™é‡Œæˆ‘éƒ½é¥¿äº†ï¼Œèµ¶ç´§å²”å¼€è¯é¢˜...</p> \n<p>å»å¹´å› ä¸º <a href=\"https://www.dongwm.com/post/131/\">è¾“å°¿ç®¡ç»“çŸ³</a> ä½é™¢äº† 2 å‘¨ï¼Œè¿˜å·®ç‚¹åšæ‰‹æœ¯ï¼ŒåŸå› ä¹‹ä¸€å°±æ˜¯è¿åŠ¨é‡å¤ªå°‘ã€‚ä¸è¿‡è¿™ä»¶äº‹è¿˜æ˜¯æ²¡æœ‰è®©æˆ‘ä¸‹å®šå†³å¿ƒå¢åŠ è¿åŠ¨é‡æå¸¦å‡ä¸ªè‚¥ã€‚</p> \n<p>è®©æˆ‘å¿…é¡»åœæ­¢ç°åœ¨çš„é¥®é£Ÿä¹ æƒ¯å’Œå‡è‚¥çš„åŸå› æ˜¯ä»Šå¹´çš„æ—¥æœ¬ä¹‹è¡Œã€‚å¦‚æœä½ å…³æ³¨è±†ç“£çš„è¯ï¼Œé‡Œé¢å¾ˆå¤šç”¨æˆ·åŒ…æ‹¬æˆ‘å‚åŒäº‹æ¯å¹´éƒ½ä¼šå»æ—¥æœ¬ï¼Œæˆ‘è™½ç„¶ä¸æ˜¯å°ç²‰çº¢ï¼Œä½†æ˜¯ä¸€ç›´æ˜¯éå¸¸æŠ—æ‹’å»æ—¥æœ¬çš„ï¼Œè¿™æ¬¡å…¶å®æ²¡æƒ³ç€åœ¨æ—¥æœ¬ç©ä»€ä¹ˆï¼Œä¸»è¦ç›®çš„æƒ³å®Œæˆå¸¦å¥³å„¿ã€Œå»éå…¨ä¸–ç•Œè¿ªå£«å°¼ä¹å›­ã€è¿™ä¸ªæˆå°±é‡Œçš„ä¸œäº¬ DisneySea å’Œ DisneyLandã€‚</p> \n<p>å»äº†ä¸€æ¬¡åï¼Œå¯ä»¥è¯´æˆ‘å¼€å§‹å–œæ¬¢ä¸Šè¿™ä¸ªå›½å®¶ï¼Œè¿™å…·ä½“åŸå› å°±ä¸å±•å¼€äº†ï¼Œæ¨èå¤§å®¶è‡ªå·±å»äº†æ„Ÿå—ä¸€ä¸‹ã€‚</p> \n<p>å»æ—¥æœ¬å¯¹æˆ‘è§¦åŠ¨æœ€å¤§çš„æ˜¯ä¸Šç­æ—çš„é‚£ç§çŠ¶æ€ï¼Œåœ¨è·¯ä¸Šæˆ–è€…åœ°é“ä¸Šï¼Œä»äºŒåå¤šå²åˆ°äº”åå¤šå²çš„ç”·å£«ç»™æˆ‘çš„æ„Ÿè§‰éƒ½æ˜¯è¡£è¡«é©å±¥ï¼Œç²¾ç¥é¥±æ»¡ï¼Œé‹å­ä¸€å°˜ä¸æŸ“ï¼Œå¯¹æ¯”æˆ‘è‡ªå·±ä»¥åŠç”Ÿæ´»çš„å‘¨è¾¹ï¼Œå¾ˆå¤šåŒå­¦éƒ½æ˜¯ä¸ä¿®è¾¹å¹…ã€ç©¿è¡£éšæ„ã€ç›®å…‰å‘†æ»ï¼Œæœ€é‡è¦çš„æ˜¯æ²¡äººè§‰å¾—è¿™æ˜¯ä»€ä¹ˆé—®é¢˜ã€‚</p> \n<p>æ—¥æœ¬è¡Œå¯¹æˆ‘æ‰“å‡»æœ€å¤§çš„æ˜¯åœ¨è¿ªå£«å°¼ä¹å›­çš„ 2 å¤©ï¼Œ<strong>æˆ‘å‡ ä¹æ²¡æœ‰è§è¿‡æ¯”æˆ‘èƒ–å’Œæ²¹è…»çš„å°æœ‹å‹çˆ¸çˆ¸</strong>ï¼Œä¹Ÿè®¸è¿™å’Œæ—¥æœ¬çš„é¥®é£Ÿä¹ æƒ¯æœ‰å…³ï¼Œä½†æ˜¯æ›´å¤šçš„æ˜¯ä¸€ç§ç”Ÿæ´»æ€åº¦ã€‚</p> \n<p>åœ¨æ—¥æœ¬æ—¶æˆ‘å°±è¯´å›å»ä¸€å®šè¦å‡è‚¥ï¼Œè¦å‡è‚¥ï¼Œè¦å‡è‚¥ã€‚å½“æ—¶æˆ‘çš„ä½“é‡ 170 + æ–¤ï¼Œåˆ°ç°åœ¨è¿‡äº†åŠå¹´å¤šï¼Œæˆ‘çš„ä½“é‡çº¦ 140 æ–¤ã€‚æˆ‘æ˜¯æ€ä¹ˆåšçš„å‘¢ï¼Ÿ</p> \n<ul> \n <li>æ§åˆ¶é¥®é£Ÿã€‚åƒé¥­å¼€å§‹èŠ‚åˆ¶ï¼Œå°¤å…¶æ˜¯ä¸»é£Ÿè¦å°‘åƒï¼Œæ™šé¥­ä¹Ÿè¦åƒå°‘ã€‚æœ‰æ®µæ—¶é—´ç»å¸¸æ™šä¸Šå°±åƒä¸€æ ¹ç‰ç±³</li> \n <li>è¿åŠ¨ã€‚æˆ‘è¿™ç§ä¸Šç­æ—å¾ˆéš¾å»å¥èº«æˆ¿ï¼Œä½ æƒ³å•Šï¼Œä¸‹ç­åƒé¥­é€šå‹¤ï¼Œåˆ°å®¶å·²ç» 8 ç‚¹å¤šï¼Œé™ªå°æœ‹å‹ç©ä¸€ä¼šï¼Œè¾…å¯¼ç‚¹å­¦ä¹ ï¼Œè®²è®²ç¡å‰æ•…äº‹è¿™äº›å®Œäº‹å°±å¿« 10 ç‚¹äº†ã€‚æ‰€ä»¥æˆ‘æ¯å¤©æ™¨è·‘ï¼Œæ—©ä¸Š 6 ç‚¹å¤šèµ·åºŠç»•å°åŒºè·‘æ­¥ 5 åœˆ (çº¦ 5 å…¬é‡Œ) åŠå°æ—¶å·¦å³ï¼Œæ²¡æœ‰äº‹æƒ…çš„è¯ä¼šåšæŒæ¯å‘¨è·‘ 5-6 æ¬¡ã€‚å—¯ï¼Œè·‘æ­¥å¯¹å¾ˆå¤šäººæ¥è¯´å¾ˆæ¯ç‡¥ï¼Œå¯¹æˆ‘æ¥è¯´è¿˜ä¸é”™ï¼Œå¬å¬éŸ³ä¹ï¼Œæ€è€ƒä¸€äº›äº‹æƒ…ã€‚</li> \n</ul> \n<p>æ„Ÿå—ä¸‹æˆ‘çš„å’•å’š:</p> \n<p><img src=\"https://user-images.githubusercontent.com/841395/72201023-dc0a1180-348a-11ea-856d-d7e87ee23a8d.png\" alt=\"\" /></p> \n<p>è·‘åˆ° 10 æœˆä»½å°±åœæ­¢äº†ï¼Œå› ä¸ºå¤©å˜å†·äº†ã€‚æ­£å½“æˆ‘æƒ³ç€å†¬å¤©æ€ä¹ˆç»§ç»­è¿åŠ¨æ—¶ï¼Œä»»å¤©å ‚å‡ºäº†ã€Šå¥èº«ç¯å¤§å†’é™©ã€‹ï¼Œç­‰äº†å‡ å¤©çœ‹ç€è¯„ä»·ä¸é”™ 11 æœˆåˆå…¥æ‰‹äº†ä¸€ä¸ªï¼Œä¿æŒæ¯å‘¨ 4-5 æ¬¡ï¼Œä¸è¿‡è¿™ä¸ªå¯æ¯”è·‘æ­¥ç´¯ï¼Œæ¯å¤©å¤§æ¦‚ 15-20 åˆ†é’Ÿã€‚ä¸å¾—ä¸è¯´è¿˜æ˜¯ä»»å¤©å ‚å…³å¿ƒå®…ç”·å¥åº·å‘€ã€‚ç­›ä¸€ä¸‹:</p> \n<p><img src=\"https://user-images.githubusercontent.com/841395/72203188-be957180-34a3-11ea-9a86-93b3f98cffc6.jpg\" alt=\"\" /></p> \n<p>å¼ºçƒˆæ¨èå…¥æ‰‹ï¼Œç©ç€æ¸¸æˆè¿˜èƒ½å‡è‚¥ï¼Œæ¯”æ¯ç‡¥çš„å•çº¯è¿åŠ¨å¼€å¿ƒå¤šäº†ã€‚</p> \n<h3 id=\"æŠ€æœ¯\">æŠ€æœ¯</h3> \n<p>ä»Šå¹´å­¦çš„ä¸œè¥¿ä¸å¤šï¼Œæ€»ä½“ä¸Šå››ç‚¹å§:</p> \n<h4 id=\"æ‹¥æŠ±Python3.8\">æ‹¥æŠ± Python 3.8</h4> \n<p>2020 å¹´ä¸çŸ¥ä¸è§‰å·²ç»åˆ°äº†ï¼Œå’Œ Python 2 è¯´ä¸€å£°ã€ŒThanks and Goodbyeã€ï¼Œè™½ç„¶å·¥ä½œä¸­æœªæ¥ç›¸å½“é•¿æ—¶é—´è¿˜æ˜¯ä»¥ Python 2 ä¸ºä¸»ï¼Œä½†åœ¨æˆ‘çš„ä¸šä½™ä¸­å´ä¸€ç›´åœ¨ç”¨ Python 3 å¹¶ä¸”éƒ½ä¼šç¬¬ä¸€æ—¶é—´ä½“éªŒæœ€æ–°çš„ç‰ˆæœ¬ï¼Œä¾‹å¦‚ <a href=\"https://github.com/dongweiming/lyanna\">lyanna</a> ç”±äºç”¨äº†æœ€æ–°çš„æµ·è±¡è¿ç®—ç¬¦å·²ç»åªæ”¯æŒ Python 3.8 äº†ã€‚</p> \n<p>æ— è®ºä½•æ—¶æˆ‘éƒ½æ„¿æ„æœªé›¨ç»¸ç¼ªï¼Œèƒ½å‰ç»æ€§çš„äº†è§£å’Œå­¦ä¹ ä¸€äº›æ–°çš„å†…å®¹ã€‚æˆ‘ç°åœ¨å·²ç»å¯¹ Python 3 ç”šè‡³ Python 3.8 å®è·µäº†å¾ˆå¤šï¼Œåšåˆ°äº†èƒ¸æœ‰æˆç«¹ã€‚</p> \n<h4 id=\"æ¥å—TypeHintå’ŒMyPy\">æ¥å— Type Hint å’Œ MyPy</h4> \n<p>æœ€è¿‘åˆšå†™äº†ä¸€ç¯‡å…³äº <a href=\"https://www.dongwm.com/post/type-hints-and-mypy/\">ç±»å‹æç¤º</a> çš„æ–‡ç« ï¼Œç»†èŠ‚çœ‹è¿™ç¯‡æˆ‘å°±ä¸å†èµ˜è¿°äº†ã€‚è§‰å¾—è¿™ç®—æ˜¯æˆ‘çš„ä¸€ä¸ªä¼˜ç‚¹å§ï¼Œä¸ä¼šæ•…æ­¥è‡ªå°ï¼Œæ„¿æ„æ¥å—æ–°çš„äº‹ç‰©ã€‚</p> \n<p>è‡ªä»æ¥å—äº† Type Hintï¼Œç°åœ¨çœ‹ TypeScript éƒ½è¶Šæ¥è¶Šé¡ºçœ¼äº†ï¼Œæœ€è¿‘çš„ä¸€ä¸ªé¡¹ç›®ä¸­æ­£åœ¨ç”¨ã€‚</p> \n<h4 id=\"æäº†ä¸ªGoæ–¹é¢çš„æŠ€æœ¯åšå®¢\">æäº†ä¸ª Go æ–¹é¢çš„æŠ€æœ¯åšå®¢</h4> \n<p>å†™äº†çº¦ 20 ç¯‡æ–‡ç« ã€‚é“¾æ¥å°±ä¸è¯´äº†ï¼ŒçŸ¥é“çš„ä¹Ÿä¸å¿…è¯„è®ºã€‚æˆ‘å°±æ˜¯æƒ³å®‰é™çš„å­¦å­¦ Goã€‚ä¸è¿‡ä»Šå¹´æ²¡æœ‰èŠ±ä»€ä¹ˆæ—¶é—´åœ¨å®è·µä¸Šï¼Œæ˜å¹´è¡¥ä¸Šã€‚</p> \n<h4 id=\"ç»ˆäºç”¨å¿ƒå­¦äº†Kubernetes\">ç»ˆäºç”¨å¿ƒå­¦äº† Kubernetes</h4> \n<p>æƒ³å­¦ k8s å·²ç»å¾ˆä¹…äº†ï¼Œå‰å‰ååèŠ±äº†ä¸€ä¸ªå¤šæœˆç»ˆäºå¼„æ¸…æ¥šå®ƒï¼Œå¹¶ä¸”æäº†ä¸ª <a href=\"https://blog.dongwm.com/\">k8s ç‰ˆæœ¬çš„åšå®¢</a> ã€‚å½“ç„¶ä¹Ÿå†™äº†ä¸€ç³»åˆ—å…³äº Kubernetes çŸ¥è¯†å’Œå®è·µçš„ä¸“é¢˜æ–‡ç« ã€‚</p> \n<p>åˆšå­¦å®Œæ—¶æ­£å¥½å¹³å°æäº†ä¸€æ¬¡æŠ€æœ¯è®¾æ–½æ”¹é€ ä½¿ç”¨ k8s çš„åˆ†äº«ï¼Œåœ¨ä¼šä¸Šè¿˜æ˜¯å¯ä»¥æ„‰å¿«çš„ä»¥ä¸€ä¸ªäº§å“å¼€å‘çš„èº«ä»½å’Œå¹³å°åŒäº‹äº¤æµï¼Œå¹¶ä¸”ä»å®é™…å¼€å‘æµç¨‹çš„ç—›ç‚¹çš„è§’åº¦æäº†äº›éœ€æ±‚å’Œé—®é¢˜ã€‚è¿™ç§æ„Ÿè§‰å¾ˆå¥½ (<em>^â–½^</em>)</p> \n<h3 id=\"è”¬èœå‚\">è”¬èœå‚</h3> \n<p>è½¬çœ¼å·²ç»åœ¨æˆ‘ç“£äº”å¹´äº†ã€‚æˆ‘ä¸ç®—ä¸€ä¸ªæ–‡é’ï¼Œåœ¨è±†ç“£è¿™ä¹ˆä¹…é™¤äº†å®‰é€¸çš„ 955ï¼Œå–œæ¬¢è¿™ç§ä½›ç³»çš„çŠ¶æ€ï¼Œæ›´é‡è¦çš„æ˜¯è®¤å¯è±†ç“£å­˜åœ¨çš„ä»·å€¼ã€‚æ— è®ºä½•æ—¶æˆ‘éƒ½è®¤ä¸ºè±†ç“£ç°åœ¨åšçš„ä¸€äº›äº‹æƒ…æ˜¯å¾ˆä¼Ÿå¤§çš„ï¼Œå°¤å…¶æ˜¯æ”¾åœ¨ç°åœ¨è¿™ä¸ªæµ®èºã€è¶‹åˆ©çš„ç¤¾ä¼šæ¥çœ‹å°¤ä¸ºå¯è´µã€‚</p> \n<p>éå¸¸å–œæ¬¢è±†ç“£å“ç‰Œå½±ç‰‡ä¸­çš„æ ‡é¢˜ã€Œæˆ‘ä»¬çš„ç²¾ç¥è§’è½ã€ï¼Œèº«ä¸ºå…¶ä¸­çš„ä¸€å‘˜ï¼Œæˆ‘åœ¨åšå¥½æˆ‘é‚£éƒ¨åˆ†ï¼Œå°½åŠ›çš„ç»´æŠ¤è±†å‹ä¹Ÿæ˜¯æˆ‘è‡ªå·±çš„ç²¾ç¥è§’è½ã€‚</p> \n<h3 id=\"2020å¹´\">2020 å¹´</h3> \n<p>åˆ°äº†å±•æœ›ç¯èŠ‚äº†ï¼Œ2020 å¹´ï¼Œå¸Œæœ›å®ƒæ˜¯ä¸€ä¸ªæ–°çš„å¼€å§‹ã€‚</p> \n<h4 id=\"é€€å‡ºç½‘çº¢åœˆ\">é€€å‡ºç½‘çº¢åœˆ</h4> \n<p>2016 å¹´ä¹‹å‰ï¼Œè¿™ä¸ªåšå®¢åº”è¯¥åªæœ‰å¾ˆå°‘ä¸€éƒ¨åˆ†é€šè¿‡æœç´¢æ¥çš„æœ‹å‹çŸ¥é“ã€‚é‚£ä¼šå¾®ä¿¡å…¬ä¼—å·åˆšå…´èµ·ï¼ŒçŸ¥ä¹è¿˜æ˜¯ä¸ªå°ç«™ï¼Œé™¤äº†å¥½å¥½å†™åŸåˆ›æ–‡ç« å†åšå¥½åšå®¢çš„ SEO ä¹‹å¤–ï¼ŒçœŸçš„æ²¡æœ‰ä»€ä¹ˆå¥½åŠæ³•è®©åˆ«äººè®¤è¯†ä½ ã€‚</p> \n<p>æåšå®¢çš„åˆè¡·æ˜¯æŠŠå®ƒå½“åšæˆ‘æ”¾ç¬”è®°çš„åœ°æ–¹ï¼ŒæŠŠå·¥ä½œå­¦ä¹ ä¸­çš„ç†è§£ã€ç»éªŒå†™ä¸‹æ¥ï¼Œæœªæ¥æœ‰éœ€è¦çš„æ—¶å€™å¯ä»¥å¿«é€Ÿçš„ç¿»åˆ°ã€‚æˆ‘å†™æ–‡ç« ä¹Ÿä¸æ˜¯ä¸ºäº†æ™®åŠçŸ¥è¯†ï¼Œå†™åˆ°é€šä¿—æ˜“æ‡‚ï¼Œæˆ‘èƒ½æ‡‚å°±å¯ä»¥äº†ã€‚</p> \n<p>åˆšå·¥ä½œçš„äº‹æƒ…éå¸¸çƒ­è¡·äºå‚åŠ æŠ€æœ¯æ´»åŠ¨ï¼Œä¸€æ®µæ—¶é—´åå‘ç°å¹¶æ²¡æœ‰è®©è‡ªå·±è·å¾—æé«˜ï¼Œè€Œæˆ‘ä¹Ÿä¸çˆ±æŠ€æœ¯ç¤¾äº¤ï¼Œå°±æ˜¯å¬å®Œä¸»é¢˜èµ°äººã€‚ç­‰åˆ°æˆ‘æœ‰èƒ½åŠ›åšè®²å¸ˆæ—¶å¯¹å…¶ä»–è®²å¸ˆä»¥åŠæ´»åŠ¨è¦æ±‚ä¼šæ¯”è¾ƒå¤šï¼Œä¸€ç›´æ²¡æœ‰å®Œæˆã€Œå‡ºå»åšä¸ªæ¼”è®²ã€è¿™ä¸ªæˆå°±ã€‚</p> \n<p>ä» 2016 å¹´å†™ä¹¦ï¼Œç„¶åæçŸ¥ä¹ä¸“æ ï¼Œå¾®ä¿¡å…¬ä¼—å·ï¼Œå½•åˆ¶è¯¾ç¨‹ç­‰ç­‰ï¼Œåº”è¯¥ç®—æ˜¯ä¸ªç½‘çº¢äº†ï¼Œä½†è¿™èŠ±è´¹äº†æˆ‘å¤ªå¤šç²¾åŠ›ã€‚çƒ­æƒ…ä¹‹åçœ‹æ·¡äº†ï¼Œå…¶å®æœ€è¿‘ 2 å¹´è¶Šæ¥è¶Šä¸å†é¢å‘è¯»è€…å†™æ–‡ç« ï¼Œæ›´å¤šçš„è¿˜æ˜¯å†™æˆ‘æœ‰å…´è¶£å’Œå–œæ¬¢çš„ï¼Œç°åœ¨ä¹Ÿä¸æ€ä¹ˆåˆ·çŸ¥ä¹ï¼Œä¹Ÿå¾ˆå°‘æ›´æ–°å…¬ä¼—å·ã€‚</p> \n<p>å½“ç„¶ä»¥åæˆ‘è¿˜ä¼šåœ¨åšå®¢å†™å†™æ–‡ç« ï¼Œå°¤å…¶æ˜¯æˆ‘ç»™åšå®¢åŠ äº†ä¸ªã€Œ <a href=\"https://www.dongwm.com/activities\">åŠ¨æ€</a> ã€åŠŸèƒ½ï¼Œæœ‰å…´è¶£çš„åŒå­¦æ²¡äº‹å¯ä»¥å½“è±†ç“£å¹¿æ’­é‚£æ ·æ¥çœ‹çœ‹ï¼Œå…¶ä»–çš„åœ°æ–¹ä¼šè¶Šæ¥è¶Šå°‘çš„å†™æ–‡å­—äº†ã€‚</p> \n<h4 id=\"å­¦å¥½Go\">å­¦å¥½ Go</h4> \n<p>å—¯ï¼ŒPython è¯¥ä¼šçš„éƒ½ä¼šäº†ï¼Œæ„Ÿè§‰é‡åˆ°çš„äº†ç“¶é¢ˆã€‚è¯´ä¸å®šä¸‹ä¸€ä»½å·¥ä½œä¸“èŒå†™å†™ Goã€‚</p> \n<h4 id=\"æˆ‘-æƒ³-æ¢-ä¸ª-å‘\">æˆ‘ - æƒ³ - æ¢ - ä¸ª - å‘</h4> \n<p>æƒ…æ€€ä¸èƒ½å½“é¥­åƒï¼Œæ˜¯æ—¶å€™è¯´å‘Šåˆ«äº†ã€‚</p> \n<h4 id=\"æœ€å\">æœ€å</h4> \n<p>æœ€åç¥å„ä½æœ‹å‹æ–°çš„ä¸€å¹´æœ‰æ›´å¤šæ”¶è·ï¼</p>","descriptionType":"html","feedId":12869,"bgimg":"https://user-images.githubusercontent.com/841395/72201023-dc0a1180-348a-11ea-856d-d7e87ee23a8d.png","linkMd5":"dafa6ce75fe018c3df2ce54b204be78c","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn68@2020_6/2020/08/25/02-14-00-264_a85e41bcf24659d3.webp","destWidth":750,"destHeight":1334,"sourceBytes":225551,"destBytes":33440,"author":"dongweiming","articleImgCdnMap":{"https://user-images.githubusercontent.com/841395/72201023-dc0a1180-348a-11ea-856d-d7e87ee23a8d.png":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn68@2020_6/2020/08/25/02-14-00-264_a85e41bcf24659d3.webp","https://user-images.githubusercontent.com/841395/72203188-be957180-34a3-11ea-9a86-93b3f98cffc6.jpg":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn26@2020_5/2020/08/25/02-15-25-494_94903b810d79ba58.webp"},"publishedOrCreatedDate":1598321635483},{"createdTime":"2020-08-25 10:13:55","updatedTime":"2020-08-25 10:13:55","title":"Lyannaè¿æ¥äº†æ–°çš„3.0ç‰ˆæœ¬ - åŠ¨æ€","link":"https://www.dongwm.com/post/lyanna-3-0/","description":"<p>2020 å¹´ Python3 çš„æœ€åä¸€æ¬¡å¤§çš„æ›´æ–° 3.8.1 å·²ç»äº 12 æœˆ 18 æ—¥å‘å¸ƒï¼Œä¸ºäº†è¿æ¥è¿™æ¬¡æ›´æ–°ï¼Œ <a href=\"https://github.com/dongweiming/lyanna\">Lyanna</a> ä¹Ÿè¿æ¥äº†æ–°çš„ 3.0 ç‰ˆæœ¬ã€‚æ¥ä¸‹æ¥è¯¦ç»†çš„ä»‹ç»ä¸€ä¸‹æœ¬æ¬¡æ›´æ–°é‡ç‚¹</p> \n<h3 id=\"ä½¿ç”¨Python3.8ç”¨æ³•\">ä½¿ç”¨ Python3.8 ç”¨æ³•</h3> \n<p>ç”±äºä½¿ç”¨æœ€æ–°çš„ Python 3.8 è¯­æ³•æµ·è±¡è¿ç®—ç¬¦ (Assignment Expressions) é‡æ„äº†ä»£ç ï¼Œæ‰€ä»¥ä¸å†æ”¯æŒ Python 3.8 ä¹‹å‰çš„ç‰ˆæœ¬ã€‚</p> \n<h3 id=\"ä½¿ç”¨Mypy\">ä½¿ç”¨ Mypy</h3> \n<p>æˆ‘è¿‡å»ä¸€ç›´æ‹’ç»åœ¨åŠ¨æ€è¯­è¨€ä»£ç ä¸­å£°æ˜å‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹ï¼Œæˆ‘è®¤ä¸ºä¸€ä¸ªåˆæ ¼çš„ Python å·¥ç¨‹å¸ˆä¸ä¼šåœ¨è¿™é‡Œè¸©å‘ï¼ŒåŸºäºæˆ‘çš„ç¼–ç¨‹ä¹ æƒ¯å’Œå¯¹ä¸šåŠ¡çš„äº†è§£ï¼Œè¿‡å»è¿™äº›å¹´å‡ ä¹æ²¡æœ‰åœ¨ç±»å‹æ£€æŸ¥è¿™ä¸Šé¢å¼•èµ·è¿‡ä»€ä¹ˆçº¿ä¸Šä»£ç é”™è¯¯ã€‚ä¸è¿‡ç”±äºèº«è¾¹ Python å¼€å‘è€…è´¨é‡çš„ä¸‹é™ï¼Œå·²ç»è¶Šæ¥è¶Šæ„è¯†åˆ°ç±»å‹æ£€æŸ¥çš„é‡è¦æ€§ã€‚</p> \n<p>Mypy æ˜¯å®˜æ–¹çš„é™æ€ç±»å‹æ£€æŸ¥å·¥å…·ï¼Œlyanna ä» 3.0 å¼€å§‹å¼•å…¥ Mypyï¼Œå¹¶ä¸”å·²ç»å°½åŠ›çš„è¦†ç›–äº†å…¨éƒ¨ä»£ç ã€‚Mypy æœ‰ç©ºå¯ä»¥ä¸“é—¨èŠèŠ</p> \n<h3 id=\"åŠ¨æ€\">åŠ¨æ€</h3> \n<p>ã€ŒåŠ¨æ€ã€æ˜¯æœ¬æ¬¡æœ€å¤§çš„ä¸€ä¸ªç‰¹æ€§ã€‚å¾ˆå¤šåŒå­¦åº”è¯¥åˆ·è¿‡è±†ç“£å¹¿æ’­ã€æ¨ç‰¹ç”šè‡³çŸ¥ä¹æƒ³æ³•ï¼ŒåŠ¨æ€å°±æ˜¯ç±»ä¼¼çš„ä¸€ä¸ªåŠŸèƒ½ã€‚å…¶å®æˆ‘æƒ³åšå®ƒå·²ç»å¾ˆä¹…äº†ï¼Œè¿™æ˜¯å› ä¸ºåœ¨è±†ç“£ã€çŸ¥ä¹å’Œæ¨ç‰¹å‘è‡ªå·±çš„åŠ¨æ€æ˜¯ä¸€ç§ç¤¾äº¤è¡Œä¸ºï¼Œæ½œæ„è¯†é‡Œé¢æ˜¯å¸Œæœ›åˆ«äººçœ‹åˆ°å¹¶ä¸”å’Œä½ äº’åŠ¨ï¼Œè€Œæˆ‘å¯¹ç¤¾äº¤çš„æ„æ„¿éå¸¸ä½ã€‚é‚£ä¹ˆåœ¨è‡ªå·±çš„åšå®¢æä¸€ä¸ªã€ŒåŠ¨æ€ã€æœ‰ä»¥ä¸‹å¥½å¤„:</p> \n<ul> \n <li>ä½œä¸ºäº§å“ç»ç†ï¼Œå¯ä»¥ææˆæˆ‘è®¤ä¸ºæœ€å¥½çš„æ•ˆæœ</li> \n <li>æ•°æ®ä¿å­˜åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼Œè‡ªå·±å¯ä»¥å®Œå…¨æŒæ§</li> \n <li>æ”¯æŒ Markdown å’Œä»£ç é«˜äº®ï¼Œæ›´åˆ©äºå‘æŠ€æœ¯ç›¸å…³çš„åŠ¨æ€ (å¦‚ä»£ç ç‰‡æ®µ)ï¼Œè€Œç¤¾äº¤ç½‘ç«™æ˜¯å¨±ä¹çš„ï¼Œå†™ä»£ç å°±æœ‰ç‚¹æ— è¶£äº†ã€‚</li> \n <li>æœ‰æ—¶å€™æˆ‘åªæ˜¯æƒ³éšä¾¿è¯´è¯´ï¼Œæ²¡æœ‰åˆ†äº«åˆ°ç¤¾äº¤å¹³å°çš„ä»·å€¼ç”šè‡³åªæƒ³è‡ªå·±çœ‹åˆ°ï¼Œå…¶ä»–åŒå­¦å¦‚æœä¸æ˜¯ä¸»åŠ¨å°±ä¸å¿…åˆ·åˆ°äº†</li> \n</ul> \n<p>å…ˆæƒ³åˆ°è¿™ä¹ˆå¤šï¼Œå¤§å®¶æ„Ÿå—ä¸‹:</p> \n<p><img src=\"https://static.dongwm.com/static/upload/activity-demo.gif\" alt=\"\" /></p> \n<p>è¿™ä¸ªæ•ˆæœå¾ˆåƒè±†ç“£å¯¹å§ï¼Ÿå“ˆå“ˆå½“å¹´çš„ PM å’Œè®¾è®¡å¸ˆå¤ªå‰å®³äº†ï¼Œä¸è¿‡æˆ‘è¿™é‡Œä½¿ç”¨äº† Vue å®ç° (è±†ç“£æ˜¯ç”¨çš„ jQuery)ï¼Œè€Œä¸”æ”¯æŒä¸Šä¼ è§†é¢‘ã€‚è¿™æ¬¡æ²¡æœ‰åå°ï¼Œå¦‚æœä½œä¸ºç®¡ç†å‘˜ç™»å½•ä¼šè‡ªåŠ¨åœ¨åŠ¨æ€é¡µé¢æ˜¾ç¤ºå‘åŠ¨æ€çš„è¡¨å•æ¡†ï¼Œç›®å‰å¯ä»¥å‘çº¯æ–‡æœ¬ / Markdown å†…å®¹ã€ç…§ç‰‡ã€è§†é¢‘å’Œé“¾æ¥ã€‚</p> \n<h3 id=\"ä½¿ç”¨YAMLæ ¼å¼çš„é…ç½®æ–‡ä»¶\">ä½¿ç”¨ YAML æ ¼å¼çš„é…ç½®æ–‡ä»¶</h3> \n<p>ä¹‹å‰ä½¿ç”¨äº†<code>local_settings.py</code>è‡ªå®šä¹‰é…ç½®ï¼Œåœ¨ v2.7 æ—¶ï¼Œå³ä¾§è¾¹æ éƒ¨åˆ†æ”¹ç”¨äº† config.yamlï¼Œè€Œç°åœ¨å®Œå…¨ä½¿ç”¨ YAML æ ¼å¼çš„é…ç½®æ–‡ä»¶äº†ã€‚æ”¹ç”¨ YAML ä¸»è¦æ˜¯ç”±äºå®ƒçš„è¡¨ç°åŠ›æ›´å¼ºã€‚</p> \n<h3 id=\"å›å¤è¯„è®º\">å›å¤è¯„è®º</h3> \n<p>åº”å…¬ä¼—å·è¯»è€…æ„è§ï¼Œå¯ä»¥ç›´æ¥å¯¹è¯„è®ºè¯„è®ºå•¦:</p> \n<p><img src=\"https://user-images.githubusercontent.com/841395/71416873-73a2ee00-269d-11ea-98a0-837fc59140d4.png\" alt=\"\" /></p> \n<h3 id=\"3.0ä¸å…¼å®¹é—®é¢˜\">3.0 ä¸å…¼å®¹é—®é¢˜</h3> \n<p>åœ¨ v3.0 æ·»åŠ äº†åŠ¨æ€åŠŸèƒ½ï¼Œå¦‚æœä¹‹å‰ä½ å·²ç»ä½¿ç”¨çš„ç‰ˆæœ¬ &gt; 2.7ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤å®Œæˆè¿ç§»:</p> \n<figure class=\"highlight bash\" data-lang=\"bash\">\n <table>\n  <tbody>\n   <tr>\n    <td class=\"code\"><pre class=\"hljs bash\"><span></span>python manage.py migrate-for-v30\n</pre></td>\n   </tr>\n  </tbody>\n </table>\n</figure> \n<p>æ›´ä½ç‰ˆæœ¬å¯ä»¥çœ‹é¡¹ç›®æ–‡æ¡£çš„è¿ç§»è¯´æ˜</p> \n<h3 id=\"åè®°\">åè®°</h3> \n<p>ä»‹ç»å°±åˆ°è¿™é‡Œäº†ã€‚æ¬¢è¿æ‹‰æœ€æ–°ä»£ç ä½“éªŒï¼Œä¹Ÿå¯ä»¥åˆ°æœ¬åšå®¢çš„ <a href=\"https://www.dongwm.com/activities\">åŠ¨æ€</a> é‡ŒçœŸå®ä½“éªŒï¼Œçœ‹çœ‹æˆ‘çš„åŠ¨æ€..</p>","descriptionType":"html","feedId":12869,"bgimg":"https://static.dongwm.com/static/upload/activity-demo.gif","linkMd5":"686a64a061f95f15ccfc4bc399c786b5","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn80@2020_5/2020/08/25/02-15-23-114_ce04dbe495482884.webp","destWidth":600,"destHeight":375,"sourceBytes":6908817,"destBytes":4971396,"author":"dongweiming","articleImgCdnMap":{"https://static.dongwm.com/static/upload/activity-demo.gif":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn80@2020_5/2020/08/25/02-15-23-114_ce04dbe495482884.webp","https://user-images.githubusercontent.com/841395/71416873-73a2ee00-269d-11ea-98a0-837fc59140d4.png":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn1@2020_3/2020/08/25/02-15-25-524_42e5a57cbfb3cf0e.webp"},"publishedOrCreatedDate":1598321635482},{"createdTime":"2020-08-25 10:13:55","updatedTime":"2020-08-25 10:13:55","title":"2019å¹´åº¦Pythonæ¦œå•","link":"https://www.dongwm.com/post/annual2019/","description":"<p>2019 å¹´é©¬ä¸Šå°±è¦ç»“æŸäº†ï¼Œä» 2020 å¹´å¼€å§‹å°±ä¸å†æ˜¯ Python 2 çš„æ—¶ä»£äº†ï¼Œæˆ‘ä»¬ä¸€èµ·è§è¯è¿™ä¸€åˆ»å§ï¼</p> \n<p>ä»Šå¹´çš„æ¦œå•åŠŸèƒ½å’Œå»å¹´ç›¸å·®ä¸å¤§ï¼Œä»Šå¹´çš„è°ƒæ•´ä¸»è¦æ˜¯æ ·å¼å’Œå“åº”å¼ã€‚æ¦œå•å†…å®¹å’Œå»å¹´çš„åŒºåˆ«è¾ƒå°‘:</p> \n<p>å»æ‰äº†ã€Œ2019 å¹´æœ€å—æ¬¢è¿çš„ Python ä¸­æ–‡æ–‡ç« ã€ã€ã€Œé‡æ¸©ç»å…¸ Python å¹»ç¯ç‰‡ã€ç­‰æ¦œå•</p> \n<p>å’Œå»å¹´ä¸€æ ·æ²¡æœ‰ã€Œ2019 å¹´æœ€å—æ¬¢è¿çš„ Python ä¸­æ–‡æ–‡ç« ã€å’Œã€Œ2019 å¹´æœ€å—å…³æ³¨çš„ä¸­æ–‡æŠ€æœ¯åšå®¢ã€è¿™ 2 ä¸ªæ¦œå•ï¼Œå¤ªå°‘æœ‰æ·±åº¦å’Œæ°´å‡†çš„ Python æŠ€æœ¯æ–‡ç« äº†ï¼Œå›½å†…çš„æŠ€æœ¯ç¯å¢ƒå¤ªæµ®èºï¼Œå‡‘ä¸å¤Ÿå°±ç®—äº†ã€‚</p> \n<p>å°±è¯´åˆ°è¿™é‡Œï¼Œåœ°å€æ˜¯<a href=\"https://annual2019.pycourses.com/\">https://annual2019.pycourses.com/</a>(ä½ ä»¬å·²ç»å¯ä»¥çŒœåˆ°å§~)</p> \n<p>æ¦œå•å†…å®¹å¦‚ä¸‹ï¼š</p> \n<ol> \n <li>å¼€ç¯‡</li> \n <li>2019 å¹´ Star æœ€å¤šçš„ | Python é¡¹ç›®</li> \n <li>2019 å¹´æœ€å—å…³æ³¨çš„ | Python é¡¹ç›®</li> \n <li>Python 3.8 æ–°ç‰¹æ€§</li> \n <li>2019 å¹´æœ€å—å…³æ³¨çš„ | ä¸­å›½å¼€å‘è€… Python é¡¹ç›®</li> \n <li>996.ICU</li> \n <li>2019 å¹´æœ€å—æ¬¢è¿çš„ | Web æ¡†æ¶</li> \n <li>Python - 100 å¤©ä»æ–°æ‰‹åˆ°å¤§å¸ˆ</li> \n <li>2019 å¹´æœ€å—æ¬¢è¿çš„ | PyCON è§†é¢‘</li> \n <li>How to write a Python web framework</li> \n <li>2019 å¹´è¦ç†Ÿæ‚‰çš„ | Python é¡¹ç›®</li> \n <li>wtfpython çš„ä¸­æ–‡ç¿»è¯‘</li> \n <li>2019 å¹´æœ€å—æ¬¢è¿çš„ | Python å¼€å‘è€…</li> \n <li>Python Cheat Sheet</li> \n <li>2019 å¹´æœ€å—æ¬¢è¿çš„ | Python è‹±æ–‡æ–‡ç« </li> \n <li>Python å·¥åŒ </li> \n <li>2019 å¹´æœ€å—æ¬¢è¿çš„ | Django è‹±æ–‡æ–‡ç« </li> \n <li>2019 å¹´æœ€å—å…³æ³¨çš„ | è‹±æ–‡æŠ€æœ¯åšå®¢</li> \n <li>The Little Book of Python Anti-Patterns</li> \n <li>2019 å¹´æœ€å—æ¬¢è¿çš„ | Podcast</li> \n <li>æ•è›‡è€…è¯´</li> \n <li>2019 å¹´æœ€å—å…³æ³¨çš„ | Python è‹±æ–‡ä¹¦ç±</li> \n <li>2019 å¹´æœ€å—å…³æ³¨çš„ | Python ä¸­æ–‡ä¹¦ç±</li> \n <li>A next generation HTTP client for Python. Ã°ÂŸÂ¦Â‹</li> \n <li>StackOverflow ä¸Šæœ€å—å…³æ³¨çš„ | 10 ä¸ª Python é—®é¢˜</li> \n <li>StackOverflow ä¸Šæœ€å—å…³æ³¨çš„ | 10 ä¸ª Python å›ç­”</li> \n <li>2019 å¹´ StackOverflow ä¸Šæœ€å—å…³æ³¨çš„ | 10 ä¸ª Python å›ç­”</li> \n <li>Diy Async Web Framework</li> \n <li>2019 å¹´æœ€å—å…³æ³¨çš„ Python æ–°é—»æ¸ é“</li> \n <li>2019 å¹´ Reddit çƒ­è®® Python è¯é¢˜</li> \n <li>Python Django Web Framework - Full Course for Beginners</li> \n <li>2019 å¹´ 1 æœˆ | æœ€å—å…³æ³¨çš„å†…å®¹</li> \n <li>Python Type Checking</li> \n <li>2019 å¹´ 2 æœˆ | æœ€å—å…³æ³¨çš„å†…å®¹</li> \n <li>2019 Steering Council Election Results</li> \n <li>2019 å¹´ 3 æœˆ | æœ€å—å…³æ³¨çš„å†…å®¹</li> \n <li>10 Python Tips and Tricks For Writing Better Code</li> \n <li>2019 å¹´ 4 æœˆ | æœ€å—å…³æ³¨çš„å†…å®¹</li> \n <li>Go for Python Programmers</li> \n <li>2019 å¹´ 5 æœˆ | æœ€å—å…³æ³¨çš„å†…å®¹</li> \n <li>Things youâ€™re probably not using in Python 3 â€“ but should</li> \n <li>2019 å¹´ 6 æœˆ | æœ€å—å…³æ³¨çš„å†…å®¹</li> \n <li>Deconstructing xkcd.com/1987/</li> \n <li>2019 å¹´ 7 æœˆ | æœ€å—å…³æ³¨çš„å†…å®¹</li> \n <li>Dead Simple Python</li> \n <li>2019 å¹´ 8 æœˆ | æœ€å—å…³æ³¨çš„å†…å®¹</li> \n <li>Python for Beginners</li> \n <li>2019 å¹´ 9 æœˆ | æœ€å—å…³æ³¨çš„å†…å®¹</li> \n <li>Pipenv æœ‰ä»€ä¹ˆé—®é¢˜</li> \n <li>2019 å¹´ 10 æœˆ | æœ€å—å…³æ³¨çš„å†…å®¹</li> \n <li>ä¸€æ¬¡è°ƒè¯•æ®µé”™è¯¯ (segmentation fault) çš„ç»éªŒ</li> \n <li>2019 å¹´ 11 æœˆ | æœ€å—å…³æ³¨çš„å†…å®¹</li> \n <li>å…è´¹è·å– JetBrains å…¨å®¶æ¡¶æ­£ç‰ˆ License æ•™ç¨‹ï¼</li> \n <li>2019 å¹´ 12 æœˆ | æœ€å—å…³æ³¨çš„å†…å®¹</li> \n <li>ASGI æ–‡æ¡£</li> \n <li>æ—¶é—´çº¿</li> \n <li>ç»“æŸé¡µ</li> \n</ol> \n<p>å¸Œæœ›è¿™ä¸ªæ¦œå•å¯¹ä½ æœ‰å¸®åŠ©ã€‚</p>","descriptionType":"html","feedId":12869,"bgimg":"","linkMd5":"6e874856fa3ae52e8348db4346b1566e","bgimgJsdelivr":"","metaImg":"","author":"dongweiming","publishedOrCreatedDate":1598321635482}],"record":{"createdTime":"2020-08-25 10:13:55","updatedTime":"2020-08-25 10:13:55","feedId":12869,"fetchDate":"Tue, 25 Aug 2020 02:13:55 +0000","fetchMs":8478,"handleMs":3919,"totalMs":107967,"newArticles":0,"totalArticles":10,"status":1,"type":0,"ip":"34.225.141.231","hostName":"us-021.herokuapp.com","requestId":"617c0963a80a4d6ea4eda23c99b63d0d_12869","contentType":"text/xml","totalBytes":8292418,"bgimgsTotal":5,"bgimgsGithubTotal":5,"articlesImgsTotal":17,"articlesImgsGithubTotal":17,"successGithubMap":{"myreaderx8":1,"myreaderx7":1,"myreaderx16":1,"myreaderx6":1,"myreaderx32":1,"myreaderx4":1,"myreaderx3":1,"myreaderx12":1,"myreaderx13":1,"myreaderx1":1,"myreaderx30":1,"myreaderx5oss":1,"myreaderx31":1,"myreaderx18":1,"myreaderx29":1,"myreaderx19":1,"myreaderx":1},"failGithubMap":{}},"feed":{"createdTime":"2020-08-25 04:38:02","updatedTime":"2020-08-25 04:38:02","id":12869,"name":"å°æ˜æ˜s Ã  domicile","url":"http://www.dongwm.com/atom.xml","subscriber":null,"website":null,"icon":"https://www.dongwm.com/favicon.ico","icon_jsdelivr":null,"description":"","weekly":null,"link":"https://www.dongwm.com"},"noPictureArticleList":[],"tmpCommonImgCdnBytes":5068318,"tmpBodyImgCdnBytes":3224100,"tmpBgImgCdnBytes":0,"extra4":{"start":1598321622353,"total":0,"statList":[{"spend":9216,"msg":"è·å–xmlå†…å®¹"},{"spend":3919,"msg":"è§£é‡Šæ–‡ç« "},{"spend":0,"msg":"ä¸Šä¼ å°é¢å›¾åˆ°cdn"},{"spend":6,"msg":"ä¿®æ­£å°é¢å›¾ä¸Šä¼ å¤±è´¥é‡æ–°ä¸Šä¼ "},{"spend":5247,"msg":"æ­£æ–‡é“¾æ¥ä¸Šä¼ åˆ°cdn"}]},"extra5":17,"extra6":17,"extra7ImgCdnFailResultVector":[null],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://us-032.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-24.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-007.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-58.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe66.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-024.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe70.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-011.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-54.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-036.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-019.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-003.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://user-images.githubusercontent.com/841395/72195277-8282f200-344c-11ea-8465-6911d6f670ce.png","sourceStatusCode":200,"destWidth":2878,"destHeight":184,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn75@2020_6/2020/08/25/02-13-59-640_c5110cd44743ee28.webp","sourceBytes":79023,"destBytes":25020,"targetWebpQuality":75,"feedId":12869,"totalSpendMs":1157,"convertSpendMs":31,"createdTime":"2020-08-25 10:13:59","host":"us-027*","referer":"https://www.dongwm.com/post/optimize-javascript/","linkMd5ListStr":"7f534e6a85cd22cfc97bbb13ba29c72c,7f534e6a85cd22cfc97bbb13ba29c72c","githubUser":"myreaderx7","githubHttpCode":201,"extra22GetBytesInfo":"1ã€æ²¡æœ‰Refererå­—æ®µ","extra23historyStatusCode":[200],"sourceSize":"77.2 KB","destSize":"24.4 KB","compressRate":"31.7%"},{"code":1,"isDone":false,"source":"https://user-images.githubusercontent.com/841395/86583062-38229e00-bfb5-11ea-9a10-3ae03d522dda.jpeg","sourceStatusCode":200,"destWidth":225,"destHeight":225,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn64@2020_5/2020/08/25/02-13-59-866_1b6daf3da23718a6.webp","sourceBytes":5732,"destBytes":5552,"targetWebpQuality":75,"feedId":12869,"totalSpendMs":1323,"convertSpendMs":5,"createdTime":"2020-08-25 10:13:59","host":"europe-23*","referer":"https://www.dongwm.com/post/tuofa/","linkMd5ListStr":"82fe96b695540120ca2214acc547bc7c,82fe96b695540120ca2214acc547bc7c","githubUser":"myreaderx30","githubHttpCode":201,"extra22GetBytesInfo":"1ã€æ²¡æœ‰Refererå­—æ®µ","extra23historyStatusCode":[200],"sourceSize":"5.6 KB","destSize":"5.4 KB","compressRate":"96.9%"},{"code":1,"isDone":false,"source":"https://user-images.githubusercontent.com/841395/72201023-dc0a1180-348a-11ea-856d-d7e87ee23a8d.png","sourceStatusCode":200,"destWidth":750,"destHeight":1334,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn68@2020_6/2020/08/25/02-14-00-264_a85e41bcf24659d3.webp","sourceBytes":225551,"destBytes":33440,"targetWebpQuality":75,"feedId":12869,"totalSpendMs":2046,"convertSpendMs":38,"createdTime":"2020-08-25 10:13:59","host":"europe61*","referer":"https://www.dongwm.com/post/2019-final/","linkMd5ListStr":"dafa6ce75fe018c3df2ce54b204be78c,dafa6ce75fe018c3df2ce54b204be78c","githubUser":"myreaderx8","githubHttpCode":201,"extra22GetBytesInfo":"1ã€æ²¡æœ‰Refererå­—æ®µ","extra23historyStatusCode":[200],"sourceSize":"220.3 KB","destSize":"32.7 KB","compressRate":"14.8%"},{"code":1,"isDone":false,"source":"https://user-images.githubusercontent.com/841395/86762364-2dc9d800-c079-11ea-8381-9a5c9ec3ed15.jpg","sourceStatusCode":200,"destWidth":450,"destHeight":800,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn72@2020_4/2020/08/25/02-14-00-835_4d037d48a907cc85.webp","sourceBytes":225806,"destBytes":32910,"targetWebpQuality":75,"feedId":12869,"totalSpendMs":1039,"convertSpendMs":21,"createdTime":"2020-08-25 10:14:00","host":"us-039*","referer":"https://www.dongwm.com/post/nintendo-financing/","linkMd5ListStr":"ef3c5c9a36bde37691684f991c67d0c8,ef3c5c9a36bde37691684f991c67d0c8","githubUser":"myreaderx32","githubHttpCode":201,"extra22GetBytesInfo":"1ã€æ²¡æœ‰Refererå­—æ®µ","extra23historyStatusCode":[200],"sourceSize":"220.5 KB","destSize":"32.1 KB","compressRate":"14.6%"},{"code":1,"isDone":false,"source":"https://static.dongwm.com/static/upload/activity-demo.gif","sourceStatusCode":200,"destWidth":600,"destHeight":375,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn80@2020_5/2020/08/25/02-15-23-114_ce04dbe495482884.webp","sourceBytes":6908817,"destBytes":4971396,"targetWebpQuality":60,"feedId":12869,"totalSpendMs":25445,"convertSpendMs":14368,"createdTime":"2020-08-25 10:14:59","host":"us-027*","referer":"https://www.dongwm.com/post/lyanna-3-0/","linkMd5ListStr":"686a64a061f95f15ccfc4bc399c786b5,686a64a061f95f15ccfc4bc399c786b5","githubUser":"myreaderx12","githubHttpCode":201,"extra22GetBytesInfo":"2ã€Refererå­—æ®µ ï¼š https://www.dongwm.com/post/lyanna-3-0/","extra23historyStatusCode":[403,200],"sourceSize":"6.6 MB","destSize":"4.7 MB","compressRate":"72%"},{"code":1,"isDone":false,"source":"https://user-images.githubusercontent.com/841395/86705731-c136e500-c048-11ea-9cee-7a500dc3bded.png","sourceStatusCode":200,"destWidth":668,"destHeight":466,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn97@2020_1/2020/08/25/02-15-25-321_d4a1a5565f77f75b.webp","sourceBytes":45098,"destBytes":11762,"targetWebpQuality":75,"feedId":12869,"totalSpendMs":982,"convertSpendMs":12,"createdTime":"2020-08-25 10:15:25","host":"us-032*","referer":"https://www.dongwm.com/post/nintendo-financing/","linkMd5ListStr":"ef3c5c9a36bde37691684f991c67d0c8","githubUser":"myreaderx4","githubHttpCode":201,"extra22GetBytesInfo":"1ã€æ²¡æœ‰Refererå­—æ®µ","extra23historyStatusCode":[200],"sourceSize":"44 KB","destSize":"11.5 KB","compressRate":"26.1%"},{"code":1,"isDone":false,"source":"https://user-images.githubusercontent.com/841395/71416873-73a2ee00-269d-11ea-98a0-837fc59140d4.png","sourceStatusCode":200,"destWidth":1634,"destHeight":684,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn1@2020_3/2020/08/25/02-15-25-524_42e5a57cbfb3cf0e.webp","sourceBytes":119009,"destBytes":26340,"targetWebpQuality":75,"feedId":12869,"totalSpendMs":1148,"convertSpendMs":100,"createdTime":"2020-08-25 10:15:25","host":"us-019*","referer":"https://www.dongwm.com/post/lyanna-3-0/","linkMd5ListStr":"686a64a061f95f15ccfc4bc399c786b5","githubUser":"myreaderx13","githubHttpCode":201,"extra22GetBytesInfo":"1ã€æ²¡æœ‰Refererå­—æ®µ","extra23historyStatusCode":[200],"sourceSize":"116.2 KB","destSize":"25.7 KB","compressRate":"22.1%"},{"code":1,"isDone":false,"source":"https://user-images.githubusercontent.com/841395/72195349-ca097e00-344c-11ea-819e-835e01647843.gif","sourceStatusCode":200,"destWidth":400,"destHeight":304,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn22@2020_3/2020/08/25/02-15-25-815_3ec76e4cd48cec14.webp","sourceBytes":700240,"destBytes":235452,"targetWebpQuality":75,"feedId":12869,"totalSpendMs":1785,"convertSpendMs":471,"createdTime":"2020-08-25 10:15:25","host":"us-024*","referer":"https://www.dongwm.com/post/optimize-javascript/","linkMd5ListStr":"7f534e6a85cd22cfc97bbb13ba29c72c","githubUser":"myreaderx3","githubHttpCode":201,"extra22GetBytesInfo":"1ã€æ²¡æœ‰Refererå­—æ®µ","extra23historyStatusCode":[200],"sourceSize":"683.8 KB","destSize":"229.9 KB","compressRate":"33.6%"},{"code":1,"isDone":false,"source":"https://user-images.githubusercontent.com/841395/86578114-df9bd280-bfad-11ea-8f55-318059a13389.gif","sourceStatusCode":200,"destWidth":300,"destHeight":190,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn5@2020_1/2020/08/25/02-15-25-872_bb8b7ed646770129.webp","sourceBytes":610152,"destBytes":153218,"targetWebpQuality":75,"feedId":12869,"totalSpendMs":1747,"convertSpendMs":485,"createdTime":"2020-08-25 10:15:25","host":"us-007*","referer":"https://www.dongwm.com/post/tuofa/","linkMd5ListStr":"82fe96b695540120ca2214acc547bc7c","githubUser":"myreaderx18","githubHttpCode":201,"extra22GetBytesInfo":"1ã€æ²¡æœ‰Refererå­—æ®µ","extra23historyStatusCode":[200],"sourceSize":"595.9 KB","destSize":"149.6 KB","compressRate":"25.1%"},{"code":1,"isDone":false,"source":"https://user-images.githubusercontent.com/841395/72195287-8dd61d80-344c-11ea-88a6-f5c1b246d9c7.png","sourceStatusCode":200,"destWidth":2876,"destHeight":182,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn14@2020_1/2020/08/25/02-15-25-978_5d502806d8613b95.webp","sourceBytes":77492,"destBytes":23654,"targetWebpQuality":75,"feedId":12869,"totalSpendMs":1873,"convertSpendMs":19,"createdTime":"2020-08-25 10:15:25","host":"europe-58*","referer":"https://www.dongwm.com/post/optimize-javascript/","linkMd5ListStr":"7f534e6a85cd22cfc97bbb13ba29c72c","githubUser":"myreaderx19","githubHttpCode":201,"extra22GetBytesInfo":"1ã€æ²¡æœ‰Refererå­—æ®µ","extra23historyStatusCode":[200],"sourceSize":"75.7 KB","destSize":"23.1 KB","compressRate":"30.5%"},{"code":1,"isDone":false,"source":"https://user-images.githubusercontent.com/841395/86718717-ed0c9780-c055-11ea-84be-c03f20f8c290.gif","sourceStatusCode":200,"destWidth":320,"destHeight":240,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn85@2020_6/2020/08/25/02-15-25-990_a02d8479c8c019c0.webp","sourceBytes":930609,"destBytes":249570,"targetWebpQuality":75,"feedId":12869,"totalSpendMs":2004,"convertSpendMs":632,"createdTime":"2020-08-25 10:15:25","host":"us-003*","referer":"https://www.dongwm.com/post/nintendo-financing/","linkMd5ListStr":"ef3c5c9a36bde37691684f991c67d0c8","githubUser":"myreaderx31","githubHttpCode":201,"extra22GetBytesInfo":"1ã€æ²¡æœ‰Refererå­—æ®µ","extra23historyStatusCode":[200],"sourceSize":"908.8 KB","destSize":"243.7 KB","compressRate":"26.8%"},{"code":1,"isDone":false,"source":"https://user-images.githubusercontent.com/841395/72203188-be957180-34a3-11ea-9a86-93b3f98cffc6.jpg","sourceStatusCode":200,"destWidth":1280,"destHeight":853,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn26@2020_5/2020/08/25/02-15-25-494_94903b810d79ba58.webp","sourceBytes":631366,"destBytes":108680,"targetWebpQuality":75,"feedId":12869,"totalSpendMs":1384,"convertSpendMs":131,"createdTime":"2020-08-25 10:15:25","host":"us-011*","referer":"https://www.dongwm.com/post/2019-final/","linkMd5ListStr":"dafa6ce75fe018c3df2ce54b204be78c","githubUser":"myreaderx1","githubHttpCode":201,"extra22GetBytesInfo":"1ã€æ²¡æœ‰Refererå­—æ®µ","extra23historyStatusCode":[200],"sourceSize":"616.6 KB","destSize":"106.1 KB","compressRate":"17.2%"},{"code":1,"isDone":false,"source":"https://user-images.githubusercontent.com/841395/86668507-45777100-c025-11ea-9587-804d7e817dc9.jpg","sourceStatusCode":200,"destWidth":1472,"destHeight":652,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn90@2020_4/2020/08/25/02-15-26-061_7c7b9e8b4cea4120.webp","sourceBytes":281413,"destBytes":35812,"targetWebpQuality":75,"feedId":12869,"totalSpendMs":2045,"convertSpendMs":34,"createdTime":"2020-08-25 10:15:25","host":"europe66*","referer":"https://www.dongwm.com/post/nintendo-financing/","linkMd5ListStr":"ef3c5c9a36bde37691684f991c67d0c8","githubUser":"myreaderx6","githubHttpCode":201,"extra22GetBytesInfo":"1ã€æ²¡æœ‰Refererå­—æ®µ","extra23historyStatusCode":[200],"sourceSize":"274.8 KB","destSize":"35 KB","compressRate":"12.7%"},{"code":1,"isDone":false,"source":"https://user-images.githubusercontent.com/841395/72195286-8d3d8700-344c-11ea-8366-fd9e1725f367.png","sourceStatusCode":200,"destWidth":2868,"destHeight":1388,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn17@2020_1/2020/08/25/02-15-26-324_39d857bc3dff881c.webp","sourceBytes":2831362,"destBytes":194070,"targetWebpQuality":75,"feedId":12869,"totalSpendMs":2277,"convertSpendMs":329,"createdTime":"2020-08-25 10:15:25","host":"us-036*","referer":"https://www.dongwm.com/post/optimize-javascript/","linkMd5ListStr":"7f534e6a85cd22cfc97bbb13ba29c72c","githubUser":"myreaderx29","githubHttpCode":201,"extra22GetBytesInfo":"1ã€æ²¡æœ‰Refererå­—æ®µ","extra23historyStatusCode":[200],"sourceSize":"2.7 MB","destSize":"189.5 KB","compressRate":"6.9%"},{"code":1,"isDone":false,"source":"https://user-images.githubusercontent.com/841395/72195348-ca097e00-344c-11ea-88ba-989da01a3b10.gif","sourceStatusCode":200,"destWidth":418,"destHeight":480,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx/cdn93@2020_4/2020/08/25/02-15-27-276_ad933fc14a412e75.webp","sourceBytes":3440192,"destBytes":476732,"targetWebpQuality":75,"feedId":12869,"totalSpendMs":3388,"convertSpendMs":1530,"createdTime":"2020-08-25 10:15:25","host":"us-54*","referer":"https://www.dongwm.com/post/optimize-javascript/","linkMd5ListStr":"7f534e6a85cd22cfc97bbb13ba29c72c","githubUser":"myreaderx","githubHttpCode":201,"extra22GetBytesInfo":"1ã€æ²¡æœ‰Refererå­—æ®µ","extra23historyStatusCode":[200],"sourceSize":"3.3 MB","destSize":"465.6 KB","compressRate":"13.9%"},{"code":1,"isDone":false,"source":"https://user-images.githubusercontent.com/841395/86758781-abd8af80-c076-11ea-86fd-ca222da159a5.jpg","sourceStatusCode":200,"destWidth":4032,"destHeight":3024,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn29@2020_3/2020/08/25/02-15-26-941_d574dff178ca2753.webp","sourceBytes":3112130,"destBytes":557456,"targetWebpQuality":75,"feedId":12869,"totalSpendMs":3575,"convertSpendMs":506,"createdTime":"2020-08-25 10:15:25","host":"europe-24*","referer":"https://www.dongwm.com/post/nintendo-financing/","linkMd5ListStr":"ef3c5c9a36bde37691684f991c67d0c8","githubUser":"myreaderx16","githubHttpCode":201,"extra22GetBytesInfo":"1ã€æ²¡æœ‰Refererå­—æ®µ","extra23historyStatusCode":[200],"sourceSize":"3 MB","destSize":"544.4 KB","compressRate":"17.9%"},{"code":1,"isDone":false,"source":"https://user-images.githubusercontent.com/841395/86584056-eaa73080-bfb6-11ea-9121-1e6d2f1f9783.gif","sourceStatusCode":200,"destWidth":350,"destHeight":289,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn10@2020_3/2020/08/25/02-15-28-019_c8224a98d9be77d1.webp","sourceBytes":4067220,"destBytes":1151354,"targetWebpQuality":75,"feedId":12869,"totalSpendMs":5061,"convertSpendMs":1578,"createdTime":"2020-08-25 10:15:25","host":"europe70*","referer":"https://www.dongwm.com/post/tuofa/","linkMd5ListStr":"82fe96b695540120ca2214acc547bc7c","githubUser":"myreaderx5oss","githubHttpCode":201,"extra22GetBytesInfo":"1ã€æ²¡æœ‰Refererå­—æ®µ","extra23historyStatusCode":[200],"sourceSize":"3.9 MB","destSize":"1.1 MB","compressRate":"28.3%"}],"successGithubMap":{"myreaderx8":1,"myreaderx7":1,"myreaderx16":1,"myreaderx6":1,"myreaderx32":1,"myreaderx4":1,"myreaderx3":1,"myreaderx12":1,"myreaderx13":1,"myreaderx1":1,"myreaderx30":1,"myreaderx5oss":1,"myreaderx31":1,"myreaderx18":1,"myreaderx29":1,"myreaderx19":1,"myreaderx":1},"failGithubMap":{}}