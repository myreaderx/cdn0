{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2021-07-15 01:50:44","updatedTime":"2021-07-15 01:50:44","title":"非劣性検定（等価検定）をRで試してみる","link":"https://tjo.hatenablog.com/entry/2021/06/14/180757","description":"<p>この記事は、以前『<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%C5%FD%B7%D7%B3%D8\">統計学</a>のセンス』を読んだ時から気になっていたことを思い出したので、単にRで試してみたという備忘録です。</p>\n<p><iframe src=\"https://hatenablog-parts.com/embed?url=https%3A%2F%2Ftjo.hatenablog.com%2Fentry%2F2018%2F12%2F12%2F190000\" title=\"『新版 統計学のセンス』は統計学を「使う」人なら必携の書 - 渋谷駅前で働くデータサイエンティストのブログ\" class=\"embed-card embed-blogcard\" scrolling=\"no\" frameborder=\"0\" style=\"display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;\"></iframe></p>\n<p>非劣性検定（等価検定）の話題は、本書の最後にある8.3節「非劣性の検証とは？」であくまでも付録扱いとして登場します。ここでは、</p> \n<blockquote> \n <p><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%C5%FD%B7%D7%B3%D8\">統計学</a>的検定は通常「有意差検定」といわれるが、</p>\n <p>1) 標本数を大きくすることによって「医学的に有意でない差」を「<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%C5%FD%B7%D7%B3%D8\">統計学</a>的に有意」とすることができる<br /> 2) 標本数を小さくすることによって「医学的に有意な差」を「<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%C5%FD%B7%D7%B3%D8\">統計学</a>的に有意でない」とすることができる</p>\n <p>という欠点があることは意外と知られていない。（同書p.143）</p> \n</blockquote> \n<p>という有意差検定の問題点を指摘した上で、1980年代後半ごろから新薬審査に当たって「標準薬と同等程度の有効性」が検証できれば認可されるという流れが出てきたことで、積極的に同等性を検証するというニーズが出てきたという話題が紹介されています。</p>\n<br /> \n<p>で、重要なのは「有意差検定で有意でなければ同等」とは言えない、という点です。というのは、皆さんご存知のように通常の有意差検定では<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%B5%A2%CC%B5%B2%BE%C0%E2\">帰無仮説</a><img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=H_0\" alt=\"H_0\" />「差があるとは言えない」を棄却しに行くため、これが棄却できない場合の結論はあくまでも「差があるとは言えない」という玉虫色の状態にしかならないためです。</p>\n<br /> \n<p>そこで、通常の有意性検定即ちsuperiority test（優性検定）とは異なるinferiority test（非劣性検定）を別に立てて、これを実践しなければならないというのが本書の指摘です。本書p.144には以下のように解説されています。</p> \n<blockquote> \n <p><b>非劣性検定の手順</b></p>\n <br /> \n <p>1) <img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=%5CDelta\" alt=\"\\Delta\" />の設定</p>\n <p>臨床的にこれ以上劣っては、たとえ他のメリットがあっても標準薬に代わって使用できない差<img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=%5CDelta\" alt=\"\\Delta\" />を事前に慎重に設定する。言い換えれば、<img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=%5CDelta\" alt=\"\\Delta\" />以内は同等と見なせる差である。</p>\n <br /> \n <p>2) 検定</p>\n <p>次の仮説を<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%C5%FD%B7%D7%B3%D8\">統計学</a>的に片側<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%CD%AD%B0%D5%BF%E5%BD%E0\">有意水準</a><img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=%5Calpha%20%2F%202\" alt=\"\\alpha / 2\" />で検定する。</p>\n <p><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%B5%A2%CC%B5%B2%BE%C0%E2\">帰無仮説</a><img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=H_0\" alt=\"H_0\" />：<img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=%5CDelta\" alt=\"\\Delta\" />以上劣っている<br /> 対立仮説<img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=H_1\" alt=\"H_1\" />：<img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=%5CDelta\" alt=\"\\Delta\" />以上は劣らない</p>\n <p>2値データ（比率）の場合、独立な2群の比較にYamagawa-Tango-Hiejimaの検定が、対応のある2群比較にTangoの非劣性検定が適用できる。</p>\n <br /> \n <p>3) 統計的に有意な結果が出た（対立仮説が採択された）場合に、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%CD%AD%B0%D5%BF%E5%BD%E0\">有意水準</a><img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=%5Calpha\" alt=\"\\alpha\" />で同等である（<img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=%5CDelta\" alt=\"\\Delta\" />以上は劣らない）ことが検証されたと解釈する（検定自体は両側<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%CD%AD%B0%D5%BF%E5%BD%E0\">有意水準</a><img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=%5Calpha\" alt=\"\\alpha\" />である）。</p>\n <br /> \n <p>4) 差の信頼<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%B6%E8%B4%D6\">区間</a>も表示する。実は、2)の対立仮説は「信頼<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%B6%E8%B4%D6\">区間</a>の下限値 &gt; <img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=-%5CDelta\" alt=\"-\\Delta\" />」と対応している。</p> \n</blockquote> \n<p>丹後先生の我田引水が見えなくもないですが（笑）、これは様々な他の文献と相互参照しても同じ内容になっていて<a href=\"https://tjo.hatenablog.com/entry/2021/06/14/180757#f-6a6b3fa6\" name=\"fn-6a6b3fa6\" title=\"例えば[https://www.fda.gov/media/78504/download:title=米FDAのドキュメント]など\">*1</a>、尚且つ分かりやすいです。ちなみに模式図にしたものが<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/PubMed\">PubMed</a> Central収録の総説にあって、こちらも分かりやすいです。余談ですが、非劣性検定関連の用語を<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%B0%A5%B0%A4%EB\">ググる</a>とsuggestに\"inferiority margin\"（非劣性マージン）という語が出てくるのですが、<img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=%5CDelta\" alt=\"\\Delta\" />が意味しているのはまさにそれなのでしょう。</p>\n<p><iframe src=\"https://hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.ncbi.nlm.nih.gov%2Fpmc%2Farticles%2FPMC3510268%2F\" title=\"Understanding noninferiority trials\" class=\"embed-card embed-webcard\" scrolling=\"no\" frameborder=\"0\" style=\"display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;\"></iframe></p>\n<p><span itemscope=\"\" itemtype=\"http://schema.org/Photograph\"><img src=\"https://cdn-ak.f.st-hatena.com/images/fotolife/T/TJO/20210614/20210614170712.png\" alt=\"f:id:TJO:20210614170712p:plain\" width=\"716\" height=\"386\" loading=\"lazy\" title=\"\" class=\"hatena-fotolife\" itemprop=\"image\" /></span></p>\n<p>これを見ると、優性検定（有意差検定）・非劣性検定・等価検定はそれぞれ判定のやり方も、そして解釈の仕方も異なるのだということが良く分かります。今回は『<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%C5%FD%B7%D7%B3%D8\">統計学</a>のセンス』に倣って非劣性検定にフォーカスを当てているつもりですが、もしかしたら以下に紹介する実践の中身も実は等価検定が混じっているかもしれないのでその点は予めご容赦ください。</p>\n<br /> \n<p>そんなわけで非劣性検定を実際にRでやってみようと思い、調べたところ以下の2つのCRANパッケージが見つかりました。</p>\n<p><iframe src=\"https://hatenablog-parts.com/embed?url=https%3A%2F%2Fcran.r-project.org%2Fweb%2Fpackages%2FequivUMP%2Findex.html\" title=\"CRAN - Package equivUMP\" class=\"embed-card embed-webcard\" scrolling=\"no\" frameborder=\"0\" style=\"display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;\"></iframe><br /> <iframe src=\"https://hatenablog-parts.com/embed?url=https%3A%2F%2Fcran.r-project.org%2Fweb%2Fpackages%2FEQUIVNONINF%2Findex.html\" title=\"CRAN - Package EQUIVNONINF\" class=\"embed-card embed-webcard\" scrolling=\"no\" frameborder=\"0\" style=\"display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;\"></iframe></p>\n<p>このうち、{equivUMP}はシンプルにequiv.testという関数のみの構成で分かりやすいのですが<a href=\"https://tjo.hatenablog.com/entry/2021/06/14/180757#f-ca354e79\" name=\"fn-ca354e79\" title=\"パッケージの説明には「stats::t.testと中身は同じで出力が違うだけ」的なことが書かれている\">*2</a>、{EQUIVNONINF}の方は検定力算出などの関数が沢山並んでいていまいち使い方が分からず……どちらもvignettesがないので、諦めて前者のみで試してみることにしました。というか、どなたか後者の詳細に明るい方いらっしゃいましたら是非ご教示くださいm(_ _)m</p>\n<br /> \n<p>ちなみにequivUMP::equiv.testもハイパーパラメータがあるので、その設定によっては微妙に結果が変わることが推測されます。Vignettesがないので素のdocを見ると、</p> \n<blockquote> \n <p>対応のない2群の検定においては</p>\n <br /> \n <p><img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=%5Ctheta%20%3D%20%5Cdisplaystyle%20%5Cfrac%7B%5Cmu_x%20-%20%5Cmu_y%20-%20%5Cmu%7D%7B%5Csigma%7D\" alt=\"\\theta = \\displaystyle \\frac{\\mu_x - \\mu_y - \\mu}{\\sigma}\" /><br /> （ただし<img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=%5Csigma\" alt=\"\\sigma\" />は2群の<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%C9%B8%BD%E0%CA%D0%BA%B9\">標準偏差</a>を統合したものと言っているので、Cohen's dでも用いられる<img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=s%20%3D%20%5Cdisplaystyle%20%5Csqrt%7B%5Cfrac%7B%28n_x-1%29s_x%5E2%20%2B%20%28n_y-1%29s_y%5E2%7D%7Bn_x%2Bn_x-2%7D%7D\" alt=\"s = \\displaystyle \\sqrt{\\frac{(n_x-1)s_x^2 + (n_y-1)s_y^2}{n_x+n_x-2}}\" />と同じようなものと思われる）</p>\n <br /> \n <p>を検定統計量として、</p>\n <br /> \n <p><img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=H_0\" alt=\"H_0\" />: <img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=%5Ctheta%20%5Cleq%20-%5Cepsilon\" alt=\"\\theta \\leq -\\epsilon\" /> or <img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=%20%5Cepsilon%20%5Cgeq%20%5Ctheta\" alt=\" \\epsilon \\geq \\theta\" /></p>\n <p><img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=H_1\" alt=\"H_1\" />: <img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=%20-%5Cepsilon%20%3C%20%5Ctheta%20%3C%20%5Cepsilon\" alt=\" -\\epsilon < \\theta < \\epsilon\" /></p>\n <br /> \n <p>を検定する</p> \n</blockquote> \n<p>と言っているので、<img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=%5Cepsilon\" alt=\"\\epsilon\" />即ちepsが『<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%C5%FD%B7%D7%B3%D8\">統計学</a>のセンス』で言うところの非劣性マージン<img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=%5CDelta\" alt=\"\\Delta\" />と似た役割を果たすハイパーパラメータであることが分かります。なおdocを見ると規定値でeps = 1となっています。</p>\n<br /> \n<p>では、実際にRでやってみましょう。まず適当に差の無さそうな2群の連続値サンプルを乱数から生成します（再現性のためシードは適当な決め打ちです）。ついでなので、最近覚えた{ggplot2}で適当に図示してみます。</p> \n<pre class=\"code lang-r\" data-lang=\"r\" data-unlink=\"\"><span class=\"synPreProc\">library</span><span class=\"synSpecial\">(</span>ggplot2<span class=\"synSpecial\">)</span>\n<span class=\"synPreProc\">library</span><span class=\"synSpecial\">(</span>equivUMP<span class=\"synSpecial\">)</span>\n\nnum <span class=\"synStatement\">&lt;-</span> <span class=\"synConstant\">30</span>\n\nset.seed<span class=\"synSpecial\">(</span><span class=\"synConstant\">51</span><span class=\"synSpecial\">)</span>\nx <span class=\"synStatement\">&lt;-</span> rnorm<span class=\"synSpecial\">(</span>num<span class=\"synSpecial\">,</span> <span class=\"synConstant\">0</span><span class=\"synSpecial\">,</span> <span class=\"synConstant\">1</span><span class=\"synSpecial\">)</span>\nset.seed<span class=\"synSpecial\">(</span><span class=\"synConstant\">52</span><span class=\"synSpecial\">)</span>\ny <span class=\"synStatement\">&lt;-</span> rnorm<span class=\"synSpecial\">(</span>num<span class=\"synSpecial\">,</span> <span class=\"synConstant\">0</span><span class=\"synSpecial\">,</span> <span class=\"synConstant\">1</span><span class=\"synSpecial\">)</span>\n\nd <span class=\"synStatement\">&lt;-</span> rbind<span class=\"synSpecial\">(</span><span class=\"synType\">data.frame</span><span class=\"synSpecial\">(</span>name <span class=\"synStatement\">=</span> <span class=\"synConstant\">\"A\"</span><span class=\"synSpecial\">,</span> val <span class=\"synStatement\">=</span> x<span class=\"synSpecial\">),</span>\n           <span class=\"synType\">data.frame</span><span class=\"synSpecial\">(</span>name <span class=\"synStatement\">=</span> <span class=\"synConstant\">\"B\"</span><span class=\"synSpecial\">,</span> val <span class=\"synStatement\">=</span> y<span class=\"synSpecial\">))</span>\np <span class=\"synStatement\">&lt;-</span> ggplot<span class=\"synSpecial\">(</span>data <span class=\"synStatement\">=</span> d<span class=\"synSpecial\">,</span> mapping <span class=\"synStatement\">=</span> aes<span class=\"synSpecial\">(</span>x <span class=\"synStatement\">=</span> name<span class=\"synSpecial\">,</span> y <span class=\"synStatement\">=</span> val<span class=\"synSpecial\">))</span>\np <span class=\"synStatement\">+</span> geom_boxplot<span class=\"synSpecial\">(</span>mapping <span class=\"synStatement\">=</span> aes<span class=\"synSpecial\">(</span>fill <span class=\"synStatement\">=</span> name<span class=\"synSpecial\">))</span> <span class=\"synStatement\">+</span>\n  theme<span class=\"synSpecial\">(</span>axis.text.x <span class=\"synStatement\">=</span> element_text<span class=\"synSpecial\">(</span>size <span class=\"synStatement\">=</span> <span class=\"synConstant\">24</span><span class=\"synSpecial\">),</span>\n        axis.text.y <span class=\"synStatement\">=</span> element_blank<span class=\"synSpecial\">(),</span> legend.position <span class=\"synStatement\">=</span> <span class=\"synConstant\">\"none\"</span><span class=\"synSpecial\">)</span> <span class=\"synStatement\">+</span>\n  labs<span class=\"synSpecial\">(</span>x <span class=\"synStatement\">=</span> <span class=\"synConstant\">NULL</span><span class=\"synSpecial\">,</span> y <span class=\"synStatement\">=</span> <span class=\"synConstant\">NULL</span><span class=\"synSpecial\">)</span>\n</pre>\n<p><span itemscope=\"\" itemtype=\"http://schema.org/Photograph\"><img src=\"https://cdn-ak.f.st-hatena.com/images/fotolife/T/TJO/20210608/20210608004724.png\" alt=\"f:id:TJO:20210608004724p:plain\" width=\"720\" height=\"540\" loading=\"lazy\" title=\"\" class=\"hatena-fotolife\" itemprop=\"image\" /></span></p>\n<p>あとは、equivUMP::equiv.testで等価検定（あれ？非劣性検定ではない？）をやるだけです。ついでにt検定もやってみます。</p> \n<pre class=\"code lang-r\" data-lang=\"r\" data-unlink=\"\">equiv.test<span class=\"synSpecial\">(</span>val <span class=\"synStatement\">~</span> name<span class=\"synSpecial\">,</span> d<span class=\"synSpecial\">)</span>\n<span class=\"synComment\">#R&gt; </span>\n<span class=\"synComment\">#R&gt; \tTwo sample equivalence test</span>\n<span class=\"synComment\">#R&gt; </span>\n<span class=\"synComment\">#R&gt; data:  val by name</span>\n<span class=\"synComment\">#R&gt; t = -0.45436, df = 58.000, ncp = 3.873, p-value = 0.0003082</span>\n<span class=\"synComment\">#R&gt; alternative hypothesis: equivalence</span>\n<span class=\"synComment\">#R&gt; null values:</span>\n<span class=\"synComment\">#R&gt;      lower upper</span>\n<span class=\"synComment\">#R&gt; [1,]  -Inf    -1</span>\n<span class=\"synComment\">#R&gt; [2,]     1   Inf</span>\n<span class=\"synComment\">#R&gt; sample estimates:</span>\n<span class=\"synComment\">#R&gt;         d </span>\n<span class=\"synComment\">#R&gt; -0.117316 </span>\n<span class=\"synComment\">#R&gt; </span>\nt.test<span class=\"synSpecial\">(</span>val <span class=\"synStatement\">~</span> name<span class=\"synSpecial\">,</span> d<span class=\"synSpecial\">)</span>\n<span class=\"synComment\">#R&gt; </span>\n<span class=\"synComment\">#R&gt; \tWelch Two Sample t-test</span>\n<span class=\"synComment\">#R&gt; </span>\n<span class=\"synComment\">#R&gt; data:  val by name</span>\n<span class=\"synComment\">#R&gt; t = -0.45436, df = 57.712, p-value = 0.6513</span>\n<span class=\"synComment\">#R&gt; alternative hypothesis: true difference in means is not equal to 0</span>\n<span class=\"synComment\">#R&gt; 95 percent confidence interval:</span>\n<span class=\"synComment\">#R&gt;  -0.6355746  0.4004386</span>\n<span class=\"synComment\">#R&gt; sample estimates:</span>\n<span class=\"synComment\">#R&gt; mean in group A mean in group B </span>\n<span class=\"synComment\">#R&gt;    -0.119963232    -0.002395238 </span>\n<span class=\"synComment\">#R&gt; </span>\n</pre>\n<p>等価検定ではp &lt; 0.05即ち「等しい」という結果になり、同時にt検定ではp &gt; 0.05即ち「差があるとは言えない」という結果になりました。これは事前に想定した通りの帰結です。きちんと用意した2群のサンプルが等価であることが示されました。</p>\n<br /> \n<p>では、以下のように「少し」ずらしたらどうなるでしょうか？</p> \n<pre class=\"code lang-r\" data-lang=\"r\" data-unlink=\"\">set.seed<span class=\"synSpecial\">(</span><span class=\"synConstant\">51</span><span class=\"synSpecial\">)</span>\nx <span class=\"synStatement\">&lt;-</span> rnorm<span class=\"synSpecial\">(</span>num<span class=\"synSpecial\">,</span> <span class=\"synConstant\">0</span><span class=\"synSpecial\">,</span> <span class=\"synConstant\">1</span><span class=\"synSpecial\">)</span>\nset.seed<span class=\"synSpecial\">(</span><span class=\"synConstant\">52</span><span class=\"synSpecial\">)</span>\ny <span class=\"synStatement\">&lt;-</span> rnorm<span class=\"synSpecial\">(</span>num<span class=\"synSpecial\">,</span> <span class=\"synConstant\">0.45</span><span class=\"synSpecial\">,</span> <span class=\"synConstant\">1</span><span class=\"synSpecial\">)</span>\n\nd <span class=\"synStatement\">&lt;-</span> rbind<span class=\"synSpecial\">(</span><span class=\"synType\">data.frame</span><span class=\"synSpecial\">(</span>name <span class=\"synStatement\">=</span> <span class=\"synConstant\">\"A\"</span><span class=\"synSpecial\">,</span> val <span class=\"synStatement\">=</span> x<span class=\"synSpecial\">),</span>\n           <span class=\"synType\">data.frame</span><span class=\"synSpecial\">(</span>name <span class=\"synStatement\">=</span> <span class=\"synConstant\">\"B\"</span><span class=\"synSpecial\">,</span> val <span class=\"synStatement\">=</span> y<span class=\"synSpecial\">))</span>\n\nequiv.test<span class=\"synSpecial\">(</span>val <span class=\"synStatement\">~</span> name<span class=\"synSpecial\">,</span> d<span class=\"synSpecial\">)</span>\n<span class=\"synComment\">#R&gt;</span>\n<span class=\"synComment\">#R&gt;\tTwo sample equivalence test</span>\n<span class=\"synComment\">#R&gt;</span>\n<span class=\"synComment\">#R&gt;data:  val by name</span>\n<span class=\"synComment\">#R&gt;t = -2.1935, df = 58.000, ncp = 3.873, p-value = 0.04897</span>\n<span class=\"synComment\">#R&gt;alternative hypothesis: equivalence</span>\n<span class=\"synComment\">#R&gt;null values:</span>\n<span class=\"synComment\">#R&gt;     lower upper</span>\n<span class=\"synComment\">#R&gt;[1,]  -Inf    -1</span>\n<span class=\"synComment\">#R&gt;[2,]     1   Inf</span>\n<span class=\"synComment\">#R&gt;sample estimates:</span>\n<span class=\"synComment\">#R&gt;         d </span>\n<span class=\"synComment\">#R&gt;-0.5663513 </span>\n<span class=\"synComment\">#R&gt;</span>\nt.test<span class=\"synSpecial\">(</span>val <span class=\"synStatement\">~</span> name<span class=\"synSpecial\">,</span> d<span class=\"synSpecial\">)</span>\n<span class=\"synComment\">#R&gt;</span>\n<span class=\"synComment\">#R&gt;\tWelch Two Sample t-test</span>\n<span class=\"synComment\">#R&gt;</span>\n<span class=\"synComment\">#R&gt;data:  val by name</span>\n<span class=\"synComment\">#R&gt;t = -2.1935, df = 57.712, p-value = 0.03232</span>\n<span class=\"synComment\">#R&gt;alternative hypothesis: true difference in means is not equal to 0</span>\n<span class=\"synComment\">#R&gt;95 percent confidence interval:</span>\n<span class=\"synComment\">#R&gt; -1.08557457 -0.04956142</span>\n<span class=\"synComment\">#R&gt;sample estimates:</span>\n<span class=\"synComment\">#R&gt;mean in group A mean in group B </span>\n<span class=\"synComment\">#R&gt;     -0.1199632       0.4476048 </span>\n</pre>\n<p>もちろんこれは僕がちょっとだけ試行錯誤して作った結果なのですが、等価検定がp &lt; 0.05で「等価である」となると同時にt検定もp &lt; 0.05で「差がある」となっています。これは明らかな矛盾です。そこで同じ「少しだけずらした」2群のサンプルに対して、あえてequivUMP::equiv.testのepsを以下のようにいじってみます。</p> \n<pre class=\"code lang-r\" data-lang=\"r\" data-unlink=\"\">equiv.test<span class=\"synSpecial\">(</span>val <span class=\"synStatement\">~</span> name<span class=\"synSpecial\">,</span> d<span class=\"synSpecial\">,</span> eps <span class=\"synStatement\">=</span> <span class=\"synConstant\">0.5</span><span class=\"synSpecial\">)</span>\n<span class=\"synComment\">#R&gt;</span>\n<span class=\"synComment\">#R&gt;\tTwo sample equivalence test</span>\n<span class=\"synComment\">#R&gt;</span>\n<span class=\"synComment\">#R&gt;data:  val by name</span>\n<span class=\"synComment\">#R&gt;t = -2.1935, df = 58.0000, ncp = 1.9365, p-value = 0.5958</span>\n<span class=\"synComment\">#R&gt;alternative hypothesis: equivalence</span>\n<span class=\"synComment\">#R&gt;null values:</span>\n<span class=\"synComment\">#R&gt;     lower upper</span>\n<span class=\"synComment\">#R&gt;[1,]  -Inf  -0.5</span>\n<span class=\"synComment\">#R&gt;[2,]   0.5   Inf</span>\n<span class=\"synComment\">#R&gt;sample estimates:</span>\n<span class=\"synComment\">#R&gt;         d </span>\n<span class=\"synComment\">#R&gt;-0.5663513 </span>\n</pre>\n<p>期待通り、等価検定が「等価ではない」になったので矛盾が解消されました。では、以下のような2群のサンプルとepsの設定にしたらどうなるでしょうか？</p> \n<pre class=\"code lang-r\" data-lang=\"r\" data-unlink=\"\">set.seed<span class=\"synSpecial\">(</span><span class=\"synConstant\">51</span><span class=\"synSpecial\">)</span>\nx <span class=\"synStatement\">&lt;-</span> rnorm<span class=\"synSpecial\">(</span>num<span class=\"synSpecial\">,</span> <span class=\"synConstant\">0</span><span class=\"synSpecial\">,</span> <span class=\"synConstant\">1</span><span class=\"synSpecial\">)</span>\nset.seed<span class=\"synSpecial\">(</span><span class=\"synConstant\">52</span><span class=\"synSpecial\">)</span>\ny <span class=\"synStatement\">&lt;-</span> rnorm<span class=\"synSpecial\">(</span>num<span class=\"synSpecial\">,</span> <span class=\"synConstant\">0.1</span><span class=\"synSpecial\">,</span> <span class=\"synConstant\">1</span><span class=\"synSpecial\">)</span>\n\nd <span class=\"synStatement\">&lt;-</span> rbind<span class=\"synSpecial\">(</span><span class=\"synType\">data.frame</span><span class=\"synSpecial\">(</span>name <span class=\"synStatement\">=</span> <span class=\"synConstant\">\"A\"</span><span class=\"synSpecial\">,</span> val <span class=\"synStatement\">=</span> x<span class=\"synSpecial\">),</span>\n           <span class=\"synType\">data.frame</span><span class=\"synSpecial\">(</span>name <span class=\"synStatement\">=</span> <span class=\"synConstant\">\"B\"</span><span class=\"synSpecial\">,</span> val <span class=\"synStatement\">=</span> y<span class=\"synSpecial\">))</span>\n\nequiv.test<span class=\"synSpecial\">(</span>val <span class=\"synStatement\">~</span> name<span class=\"synSpecial\">,</span> d<span class=\"synSpecial\">,</span> eps <span class=\"synStatement\">=</span> <span class=\"synConstant\">0.5</span><span class=\"synSpecial\">)</span>\n<span class=\"synComment\">#R&gt;</span>\n<span class=\"synComment\">#R&gt;\tTwo sample equivalence test</span>\n<span class=\"synComment\">#R&gt;</span>\n<span class=\"synComment\">#R&gt;data:  val by name</span>\n<span class=\"synComment\">#R&gt;t = -0.84083, df = 58.0000, ncp = 1.9365, p-value = 0.1337</span>\n<span class=\"synComment\">#R&gt;alternative hypothesis: equivalence</span>\n<span class=\"synComment\">#R&gt;null values:</span>\n<span class=\"synComment\">#R&gt;     lower upper</span>\n<span class=\"synComment\">#R&gt;[1,]  -Inf  -0.5</span>\n<span class=\"synComment\">#R&gt;[2,]   0.5   Inf</span>\n<span class=\"synComment\">#R&gt;sample estimates:</span>\n<span class=\"synComment\">#R&gt;         d </span>\n<span class=\"synComment\">#R&gt;-0.2171016 </span>\n<span class=\"synComment\">#R&gt;</span>\nt.test<span class=\"synSpecial\">(</span>val <span class=\"synStatement\">~</span> name<span class=\"synSpecial\">,</span> d<span class=\"synSpecial\">)</span>\n<span class=\"synComment\">#R&gt;</span>\n<span class=\"synComment\">#R&gt;\tWelch Two Sample t-test</span>\n<span class=\"synComment\">#R&gt;</span>\n<span class=\"synComment\">#R&gt;data:  val by name</span>\n<span class=\"synComment\">#R&gt;t = -0.84083, df = 57.712, p-value = 0.4039</span>\n<span class=\"synComment\">#R&gt;alternative hypothesis: true difference in means is not equal to 0</span>\n<span class=\"synComment\">#R&gt;95 percent confidence interval:</span>\n<span class=\"synComment\">#R&gt; -0.7355746  0.3004386</span>\n<span class=\"synComment\">#R&gt;sample estimates:</span>\n<span class=\"synComment\">#R&gt;mean in group A mean in group B </span>\n<span class=\"synComment\">#R&gt;    -0.11996323      0.09760476 </span>\n</pre>\n<p>等価検定もt検定も有意ではないので「等価とは言えない」のに「差があるとは言えない」という、どっちつかずの宙ぶらりんの結果になってしまいました……これは難しいものがありますね。</p>\n<br /> \n<p>疫学分野に詳しい知人曰くは「結局非劣性マージン<img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=%5CDelta\" alt=\"\\Delta\" />の設定次第で結果がいかようにも変わってしまうので、そもそも非劣性検定（等価検定）は取り扱いが難しい」だそうで、これはまさに『<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%C5%FD%B7%D7%B3%D8\">統計学</a>のセンス』が「<img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=%5CDelta\" alt=\"\\Delta\" />を事前に慎重に設定せよ」と警告していたのと同じ話だと思いました。</p>\n<br /> \n<p>ということで、元々<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%C5%FD%B7%D7%B3%D8\">統計学</a>を学ぶ過程で色々な本や人が「差が『ない』ことを示すのは難しい」と事あるごとに語っているのを何度も見てきましたが、実際に非劣性検定（等価検定）を触ってみたらそれが良く分かった……という体験談でした。ただし僕もまだまだこの枠組みを理解できたとは思えないので、詳しい方は是非ご教示くださると幸いです。</p> \n<div class=\"footnote\"> \n <p class=\"footnote\"><a href=\"https://tjo.hatenablog.com/entry/2021/06/14/180757#fn-6a6b3fa6\" name=\"f-6a6b3fa6\" class=\"footnote-number\">*1</a><span class=\"footnote-delimiter\">:</span><span class=\"footnote-text\">例えば<a href=\"https://www.fda.gov/media/78504/download\">米FDAのドキュメント</a>など</span></p> \n <p class=\"footnote\"><a href=\"https://tjo.hatenablog.com/entry/2021/06/14/180757#fn-ca354e79\" name=\"f-ca354e79\" class=\"footnote-number\">*2</a><span class=\"footnote-delimiter\">:</span><span class=\"footnote-text\">パッケージの説明には「stats::t.testと中身は同じで出力が違うだけ」的なことが書かれている</span></p> \n</div>","descriptionType":"html","publishedDate":"Mon, 14 Jun 2021 09:07:57 +0000","feedId":9983,"bgimg":"https://cdn-ak.f.st-hatena.com/images/fotolife/T/TJO/20210608/20210608004724.png","linkMd5":"ec6fda483ff94048312c8ec0924a8481","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn28@2020_5/2021/07/14/17-50-45-355_39feaf368bd762eb.webp","destWidth":720,"destHeight":540,"sourceBytes":4498,"destBytes":3938,"author":"TJO","enclosureType":"image/png","enclosureUrl":"https://cdn-ak.f.st-hatena.com/images/fotolife/T/TJO/20210608/20210608004724.png","articleImgCdnMap":{"https://chart.apis.google.com/chart?cht=tx&chl=H_0":null,"https://chart.apis.google.com/chart?cht=tx&chl=%5CDelta":null,"https://chart.apis.google.com/chart?cht=tx&chl=%5Calpha%20%2F%202":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn64@2020_4/2021/07/14/17-50-46-256_3838072f9752bb3f.webp","https://chart.apis.google.com/chart?cht=tx&chl=H_1":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn44@2020_6/2021/07/14/17-50-46-078_7c284595a12c5258.webp","https://chart.apis.google.com/chart?cht=tx&chl=%5Calpha":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn31@2020_3/2021/07/14/17-50-56-843_706a047ef5ea5493.webp","https://chart.apis.google.com/chart?cht=tx&chl=-%5CDelta":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn66@2020_3/2021/07/14/17-50-46-154_51933a11c44b3c4c.webp","https://cdn-ak.f.st-hatena.com/images/fotolife/T/TJO/20210614/20210614170712.png":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn76@2020_3/2021/07/14/17-50-46-363_08db5ace49d7bffb.webp","https://chart.apis.google.com/chart?cht=tx&chl=%5Ctheta%20%3D%20%5Cdisplaystyle%20%5Cfrac%7B%5Cmu_x%20-%20%5Cmu_y%20-%20%5Cmu%7D%7B%5Csigma%7D":"https://cdn.jsdelivr.net/gh/myreaderx33/cdn57@2020_3/2021/07/14/17-50-56-086_de87c89517520ee3.webp","https://chart.apis.google.com/chart?cht=tx&chl=%5Csigma":"https://cdn.jsdelivr.net/gh/myreaderx/cdn83@2020_4/2021/07/14/17-50-56-469_37baee83f9d10721.webp","https://chart.apis.google.com/chart?cht=tx&chl=s%20%3D%20%5Cdisplaystyle%20%5Csqrt%7B%5Cfrac%7B%28n_x-1%29s_x%5E2%20%2B%20%28n_y-1%29s_y%5E2%7D%7Bn_x%2Bn_x-2%7D%7D":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn34@2020_1/2021/07/14/17-50-56-101_698455688d47e3ba.webp","https://chart.apis.google.com/chart?cht=tx&chl=%5Ctheta%20%5Cleq%20-%5Cepsilon":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn72@2020_1/2021/07/14/17-51-05-885_f0fbe7eb9a153d5a.webp","https://chart.apis.google.com/chart?cht=tx&chl=%20%5Cepsilon%20%5Cgeq%20%5Ctheta":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn51@2020_6/2021/07/14/17-50-48-697_cb6d3979ef7cfd3c.webp","https://chart.apis.google.com/chart?cht=tx&chl=%20-%5Cepsilon%20%3C%20%5Ctheta%20%3C%20%5Cepsilon":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn79@2020_5/2021/07/14/17-50-48-297_33fa1683a9b80a0c.webp","https://chart.apis.google.com/chart?cht=tx&chl=%5Cepsilon":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn47@2020_6/2021/07/14/17-50-46-000_27ec4fcbba4550ec.webp","https://cdn-ak.f.st-hatena.com/images/fotolife/T/TJO/20210608/20210608004724.png":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn28@2020_5/2021/07/14/17-50-45-355_39feaf368bd762eb.webp"},"publishedOrCreatedDate":1626285044638}],"record":{"createdTime":"2021-07-15 01:50:44","updatedTime":"2021-07-15 01:50:44","feedId":9983,"fetchDate":"Wed, 14 Jul 2021 17:50:44 +0000","fetchMs":1684,"handleMs":6583,"totalMs":31043,"newArticles":0,"totalArticles":30,"status":1,"type":0,"ip":"bc1eecef1292254c09de6c1e66b750f3","hostName":"europe-24*","requestId":"297dd8ff8b2449b184cd285a2c1a2199_9983","contentType":"application/atom+xml; charset=utf-8","totalBytes":26658,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":15,"articlesImgsGithubTotal":13,"successGithubMap":{"myreaderx8":1,"myreaderx16":1,"myreaderx21":1,"myreaderx4":1,"myreaderx32":1,"myreaderx11":1,"myreaderx3":1,"myreaderx33":1,"myreaderx13":1,"myreaderx24":1,"myreaderx5oss":1,"myreaderx18":1,"myreaderx":1},"failGithubMap":{"myreaderx14":1,"myreaderx31":1}},"feed":{"createdTime":"2020-08-25 04:35:33","updatedTime":"2020-08-25 08:43:22","id":9983,"name":"渋谷駅前で働くデータサイエンティストのブログ","url":"http://tjo.hatenablog.com/feed","subscriber":null,"website":null,"icon":"https://tjo.hatenablog.com/favicon.ico","icon_jsdelivr":null,"description":"元祖「六本木で働くデータサイエンティスト」です / 道玄坂→銀座→東京→六本木→渋谷駅前","weekly":null,"link":"https://tjo.hatenablog.com"},"noPictureArticleList":[{"createdTime":"2021-07-15 01:51:06","updatedTime":"2021-07-15 01:51:06","id":null,"feedId":9983,"linkMd5":"ec6fda483ff94048312c8ec0924a8481"}],"tmpCommonImgCdnBytes":3938,"tmpBodyImgCdnBytes":22720,"tmpBgImgCdnBytes":0,"extra4":{"start":1626285035722,"total":0,"statList":[{"spend":2333,"msg":"获取xml内容"},{"spend":6583,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":21080,"msg":"正文链接上传到cdn"}]},"extra5":15,"extra6":15,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"https://chart.apis.google.com/chart?cht=tx&chl=%5CDelta","sourceStatusCode":200,"destWidth":15,"destHeight":15,"sourceBytes":357,"destBytes":234,"targetWebpQuality":75,"feedId":9983,"totalSpendMs":10557,"convertSpendMs":2,"createdTime":"2021-07-15 01:50:45","host":"europe66*","referer":"https://tjo.hatenablog.com/entry/2021/06/14/180757","linkMd5ListStr":"ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn55/contents/2021/07/14/17-50-56-284_1a08edf492f2f1f1.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Wed, 14 Jul 2021 17:50:56 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["CC26:3181:1A6EF03:1AF9962:60EF2400"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1626287606"],"x-ratelimit-resource":["core"],"x-ratelimit-used":["60"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn55/contents/2021/07/14/17-50-56-284_1a08edf492f2f1f1.webp","historyStatusCode":[],"spendMs":141},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"357 B","destSize":"234 B","compressRate":"65.5%"},{"code":1,"isDone":false,"source":"https://chart.apis.google.com/chart?cht=tx&chl=%5CDelta","sourceStatusCode":200,"destWidth":15,"destHeight":15,"sourceBytes":357,"destBytes":234,"targetWebpQuality":75,"feedId":9983,"totalSpendMs":153,"convertSpendMs":2,"createdTime":"2021-07-15 01:50:56","host":"europe66*","referer":"https://tjo.hatenablog.com/entry/2021/06/14/180757","linkMd5ListStr":"ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn55/contents/2021/07/14/17-50-56-445_1a08edf492f2f1f1.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Wed, 14 Jul 2021 17:50:56 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["CC26:3181:1A6EF34:1AF9992:60EF2400"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1626287606"],"x-ratelimit-resource":["core"],"x-ratelimit-used":["60"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn55/contents/2021/07/14/17-50-56-445_1a08edf492f2f1f1.webp","historyStatusCode":[],"spendMs":138},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"357 B","destSize":"234 B","compressRate":"65.5%"},{"code":1,"isDone":false,"source":"https://chart.apis.google.com/chart?cht=tx&chl=H_0","sourceStatusCode":200,"destWidth":24,"destHeight":17,"sourceBytes":648,"destBytes":332,"targetWebpQuality":75,"feedId":9983,"totalSpendMs":20729,"convertSpendMs":2,"createdTime":"2021-07-15 01:50:45","host":"europe63*","referer":"https://tjo.hatenablog.com/entry/2021/06/14/180757","linkMd5ListStr":"ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx31/cdn36/contents/2021/07/14/17-51-06-449_67df49147d3df5ab.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 69855631.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Wed, 14 Jul 2021 17:51:06 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["8E78:DF84:2A833C:300D6C:60EF240A"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1626287614"],"x-ratelimit-resource":["core"],"x-ratelimit-used":["60"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx31/cdn36/contents/2021/07/14/17-51-06-449_67df49147d3df5ab.webp","historyStatusCode":[],"spendMs":144},"base64UserPassword":null,"token":"da243******************************d9e47"},"githubUser":"myreaderx31","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"648 B","destSize":"332 B","compressRate":"51.2%"},{"code":1,"isDone":false,"source":"https://chart.apis.google.com/chart?cht=tx&chl=H_0","sourceStatusCode":200,"destWidth":24,"destHeight":17,"sourceBytes":648,"destBytes":332,"targetWebpQuality":75,"feedId":9983,"totalSpendMs":160,"convertSpendMs":2,"createdTime":"2021-07-15 01:51:06","host":"europe62*","referer":"https://tjo.hatenablog.com/entry/2021/06/14/180757","linkMd5ListStr":"ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx31/cdn36/contents/2021/07/14/17-51-06-618_67df49147d3df5ab.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 69855631.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Wed, 14 Jul 2021 17:51:06 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["B2F2:BA70:13B9795:144FF38:60EF240A"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1626287614"],"x-ratelimit-resource":["core"],"x-ratelimit-used":["60"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx31/cdn36/contents/2021/07/14/17-51-06-618_67df49147d3df5ab.webp","historyStatusCode":[],"spendMs":144},"base64UserPassword":null,"token":"da243******************************d9e47"},"githubUser":"myreaderx31","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"648 B","destSize":"332 B","compressRate":"51.2%"}],"extra10_invalidATagHrefValue":{"https://tjo.hatenablog.com/entry/2021/06/14/180757_#f-6a6b3fa6":"https://tjo.hatenablog.com/entry/2021/06/14/180757#f-6a6b3fa6","https://tjo.hatenablog.com/entry/2021/06/14/180757_#f-ca354e79":"https://tjo.hatenablog.com/entry/2021/06/14/180757#f-ca354e79","https://tjo.hatenablog.com/entry/2021/06/14/180757_#fn-6a6b3fa6":"https://tjo.hatenablog.com/entry/2021/06/14/180757#fn-6a6b3fa6","https://tjo.hatenablog.com/entry/2021/06/14/180757_#fn-ca354e79":"https://tjo.hatenablog.com/entry/2021/06/14/180757#fn-ca354e79"},"extra111_proxyServerAndStatMap":{"http://us-032.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-021.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe63.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe61.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe66.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-009.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-017.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe21.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe62.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-033.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-59.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-51.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe67.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-029.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://cdn-ak.f.st-hatena.com/images/fotolife/T/TJO/20210608/20210608004724.png","sourceStatusCode":200,"destWidth":720,"destHeight":540,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn28@2020_5/2021/07/14/17-50-45-355_39feaf368bd762eb.webp","sourceBytes":4498,"destBytes":3938,"targetWebpQuality":75,"feedId":9983,"totalSpendMs":544,"convertSpendMs":9,"createdTime":"2021-07-15 01:50:45","host":"us-025*","referer":"https://tjo.hatenablog.com/entry/2021/06/14/180757","linkMd5ListStr":"ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481","githubUser":"myreaderx21","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"4.4 KB","destSize":"3.8 KB","compressRate":"87.6%"},{"code":1,"isDone":false,"source":"https://chart.apis.google.com/chart?cht=tx&chl=H_1","sourceStatusCode":200,"destWidth":22,"destHeight":17,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn44@2020_6/2021/07/14/17-50-46-078_7c284595a12c5258.webp","sourceBytes":549,"destBytes":318,"targetWebpQuality":75,"feedId":9983,"totalSpendMs":341,"convertSpendMs":1,"createdTime":"2021-07-15 01:50:45","host":"us-51*","referer":"https://tjo.hatenablog.com/entry/2021/06/14/180757","linkMd5ListStr":"ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481","githubUser":"myreaderx18","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"549 B","destSize":"318 B","compressRate":"57.9%"},{"code":1,"isDone":false,"source":"https://chart.apis.google.com/chart?cht=tx&chl=%5Cepsilon","sourceStatusCode":200,"destWidth":7,"destHeight":10,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn47@2020_6/2021/07/14/17-50-46-000_27ec4fcbba4550ec.webp","sourceBytes":240,"destBytes":176,"targetWebpQuality":75,"feedId":9983,"totalSpendMs":337,"convertSpendMs":2,"createdTime":"2021-07-15 01:50:45","host":"us-029*","referer":"https://tjo.hatenablog.com/entry/2021/06/14/180757","linkMd5ListStr":"ec6fda483ff94048312c8ec0924a8481","githubUser":"myreaderx16","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"240 B","destSize":"176 B","compressRate":"73.3%"},{"code":1,"isDone":false,"source":"https://chart.apis.google.com/chart?cht=tx&chl=-%5CDelta","sourceStatusCode":200,"destWidth":29,"destHeight":15,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn66@2020_3/2021/07/14/17-50-46-154_51933a11c44b3c4c.webp","sourceBytes":403,"destBytes":238,"targetWebpQuality":75,"feedId":9983,"totalSpendMs":418,"convertSpendMs":2,"createdTime":"2021-07-15 01:50:45","host":"us-033*","referer":"https://tjo.hatenablog.com/entry/2021/06/14/180757","linkMd5ListStr":"ec6fda483ff94048312c8ec0924a8481","githubUser":"myreaderx24","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"403 B","destSize":"238 B","compressRate":"59.1%"},{"code":1,"isDone":false,"source":"https://chart.apis.google.com/chart?cht=tx&chl=%5Calpha%20%2F%202","sourceStatusCode":200,"destWidth":34,"destHeight":20,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn64@2020_4/2021/07/14/17-50-46-256_3838072f9752bb3f.webp","sourceBytes":789,"destBytes":462,"targetWebpQuality":75,"feedId":9983,"totalSpendMs":546,"convertSpendMs":10,"createdTime":"2021-07-15 01:50:45","host":"us-032*","referer":"https://tjo.hatenablog.com/entry/2021/06/14/180757","linkMd5ListStr":"ec6fda483ff94048312c8ec0924a8481","githubUser":"myreaderx4","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"789 B","destSize":"462 B","compressRate":"58.6%"},{"code":1,"isDone":false,"source":"https://cdn-ak.f.st-hatena.com/images/fotolife/T/TJO/20210614/20210614170712.png","sourceStatusCode":200,"destWidth":716,"destHeight":386,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn76@2020_3/2021/07/14/17-50-46-363_08db5ace49d7bffb.webp","sourceBytes":85665,"destBytes":16778,"targetWebpQuality":75,"feedId":9983,"totalSpendMs":667,"convertSpendMs":44,"createdTime":"2021-07-15 01:50:45","host":"us-009*","referer":"https://tjo.hatenablog.com/entry/2021/06/14/180757","linkMd5ListStr":"ec6fda483ff94048312c8ec0924a8481","githubUser":"myreaderx5oss","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"83.7 KB","destSize":"16.4 KB","compressRate":"19.6%"},{"code":1,"isDone":false,"source":"https://chart.apis.google.com/chart?cht=tx&chl=%20-%5Cepsilon%20%3C%20%5Ctheta%20%3C%20%5Cepsilon","sourceStatusCode":200,"destWidth":63,"destHeight":15,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn79@2020_5/2021/07/14/17-50-48-297_33fa1683a9b80a0c.webp","sourceBytes":1119,"destBytes":510,"targetWebpQuality":75,"feedId":9983,"totalSpendMs":3100,"convertSpendMs":2,"createdTime":"2021-07-15 01:50:45","host":"europe21*","referer":"https://tjo.hatenablog.com/entry/2021/06/14/180757","linkMd5ListStr":"ec6fda483ff94048312c8ec0924a8481","githubUser":"myreaderx32","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.1 KB","destSize":"510 B","compressRate":"45.6%"},{"code":1,"isDone":false,"source":"https://chart.apis.google.com/chart?cht=tx&chl=%20%5Cepsilon%20%5Cgeq%20%5Ctheta","sourceStatusCode":200,"destWidth":36,"destHeight":18,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn51@2020_6/2021/07/14/17-50-48-697_cb6d3979ef7cfd3c.webp","sourceBytes":764,"destBytes":466,"targetWebpQuality":75,"feedId":9983,"totalSpendMs":2984,"convertSpendMs":3,"createdTime":"2021-07-15 01:50:45","host":"us-017*","referer":"https://tjo.hatenablog.com/entry/2021/06/14/180757","linkMd5ListStr":"ec6fda483ff94048312c8ec0924a8481","githubUser":"myreaderx8","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"764 B","destSize":"466 B","compressRate":"61%"},{"code":1,"isDone":false,"source":"https://chart.apis.google.com/chart?cht=tx&chl=s%20%3D%20%5Cdisplaystyle%20%5Csqrt%7B%5Cfrac%7B%28n_x-1%29s_x%5E2%20%2B%20%28n_y-1%29s_y%5E2%7D%7Bn_x%2Bn_x-2%7D%7D","sourceStatusCode":200,"destWidth":189,"destHeight":50,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn34@2020_1/2021/07/14/17-50-56-101_698455688d47e3ba.webp","sourceBytes":4263,"destBytes":2018,"targetWebpQuality":75,"feedId":9983,"totalSpendMs":10586,"convertSpendMs":5,"createdTime":"2021-07-15 01:50:45","host":"europe62*","referer":"https://tjo.hatenablog.com/entry/2021/06/14/180757","linkMd5ListStr":"ec6fda483ff94048312c8ec0924a8481","githubUser":"myreaderx3","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"4.2 KB","destSize":"2 KB","compressRate":"47.3%"},{"code":1,"isDone":false,"source":"https://chart.apis.google.com/chart?cht=tx&chl=%5Ctheta%20%3D%20%5Cdisplaystyle%20%5Cfrac%7B%5Cmu_x%20-%20%5Cmu_y%20-%20%5Cmu%7D%7B%5Csigma%7D","sourceStatusCode":200,"destWidth":104,"destHeight":31,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx33/cdn57@2020_3/2021/07/14/17-50-56-086_de87c89517520ee3.webp","sourceBytes":1670,"destBytes":872,"targetWebpQuality":75,"feedId":9983,"totalSpendMs":10602,"convertSpendMs":7,"createdTime":"2021-07-15 01:50:45","host":"europe67*","referer":"https://tjo.hatenablog.com/entry/2021/06/14/180757","linkMd5ListStr":"ec6fda483ff94048312c8ec0924a8481","githubUser":"myreaderx33","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.6 KB","destSize":"872 B","compressRate":"52.2%"},{"code":1,"isDone":false,"source":"https://chart.apis.google.com/chart?cht=tx&chl=%5Csigma","sourceStatusCode":200,"destWidth":11,"destHeight":10,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx/cdn83@2020_4/2021/07/14/17-50-56-469_37baee83f9d10721.webp","sourceBytes":300,"destBytes":182,"targetWebpQuality":75,"feedId":9983,"totalSpendMs":11115,"convertSpendMs":6,"createdTime":"2021-07-15 01:50:45","host":"europe-59*","referer":"https://tjo.hatenablog.com/entry/2021/06/14/180757","linkMd5ListStr":"ec6fda483ff94048312c8ec0924a8481","githubUser":"myreaderx","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"300 B","destSize":"182 B","compressRate":"60.7%"},{"code":1,"isDone":false,"source":"https://chart.apis.google.com/chart?cht=tx&chl=%5Calpha","sourceStatusCode":200,"destWidth":11,"destHeight":10,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx11/cdn31@2020_3/2021/07/14/17-50-56-843_706a047ef5ea5493.webp","sourceBytes":334,"destBytes":204,"targetWebpQuality":75,"feedId":9983,"totalSpendMs":11354,"convertSpendMs":2,"createdTime":"2021-07-15 01:50:45","host":"europe61*","referer":"https://tjo.hatenablog.com/entry/2021/06/14/180757","linkMd5ListStr":"ec6fda483ff94048312c8ec0924a8481,ec6fda483ff94048312c8ec0924a8481","githubUser":"myreaderx11","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"334 B","destSize":"204 B","compressRate":"61.1%"},{"code":1,"isDone":false,"source":"https://chart.apis.google.com/chart?cht=tx&chl=%5Ctheta%20%5Cleq%20-%5Cepsilon","sourceStatusCode":200,"destWidth":51,"destHeight":18,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn72@2020_1/2021/07/14/17-51-05-885_f0fbe7eb9a153d5a.webp","sourceBytes":847,"destBytes":496,"targetWebpQuality":75,"feedId":9983,"totalSpendMs":20225,"convertSpendMs":3,"createdTime":"2021-07-15 01:50:45","host":"us-021*","referer":"https://tjo.hatenablog.com/entry/2021/06/14/180757","linkMd5ListStr":"ec6fda483ff94048312c8ec0924a8481","githubUser":"myreaderx13","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"847 B","destSize":"496 B","compressRate":"58.6%"}],"successGithubMap":{"myreaderx8":1,"myreaderx16":1,"myreaderx21":1,"myreaderx4":1,"myreaderx32":1,"myreaderx11":1,"myreaderx3":1,"myreaderx33":1,"myreaderx13":1,"myreaderx24":1,"myreaderx5oss":1,"myreaderx18":1,"myreaderx":1},"failGithubMap":{"myreaderx14":1,"myreaderx31":1}}