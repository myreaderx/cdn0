{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-13 13:50:08","updatedTime":"2020-10-13 13:50:08","title":"iPhone Web App 动态 icon","link":"http://www.aoao.org.cn/?p=151","description":"<p>不记得什么时候发现 iPhone 收藏到桌面的网页，在每次打开后会更新apple-touch-icon 的图片，也正是因为这个特性，我们可以用来动态更新icon</p>\n<p>看下这个例子 <a href=\"http://aoao.ws/app/testicon/\">http://aoao.ws/app/testicon/</a> 这个真的是iPhone Web App哦。不是iOS的，不信用iPad试下。。XD</p>\n<p>测试时，发现启动图也可以变更。但是，切记 iPhone 的启动图大小只能是320*460 。为什么不是320*480呢，这是为了让web app启动时，如果是横屏，能留20px的白边玩的。iPad 的启动图是768*1004，目前的测试发现只支持竖屏，囧rz </p>\n<p>然后又想了半天，发现除了日历、天气外，好像没啥啥应用要动态更新icon的样子。</p>\n<p>做了个体验性的天气 <a href=\"http://aoao.ws/app/weather/?w=北京\">http://aoao.ws/app/weather/?w=北京</a>。</p>\n<p><img src=\"http://www.aoao.org.cn/wp-content/uploads/2011/01/iphone-weather-icon.png\" alt=\"iphone weather icon\" title=\"iphone-weather-icon\" width=\"120\" height=\"120\" class=\"alignnone size-full wp-image-153\" /> <img src=\"http://qrcode.kaywa.com/img.php?s=5&#038;d=http%3A%2F%2Faoao.ws%2Fapp%2Fweather%2F%3Fw%3D%E5%8C%97%E4%BA%AC\" alt=\"qrcode\"  /></p>\n<p>写了才发现。。canvas在iOS3.x上真不给力。。<code>fillText</code>可以考虑用<a href=\"http://jim.studt.net/canvastext/\">canvastext</a>不然你的文字不知道飞到哪。不过这个也只能解决英文的问题，中文就别折腾了，真的要做服务的话，可以考虑服务端生成对应的图片。</p>\n<p>如果app太久没开的话，它还会坏掉，就成了这样</p>\n<p><img src=\"http://www.aoao.org.cn/wp-content/uploads/2011/01/iphone-weather-bug-icon.png\" alt=\"iphone weather bug icon\" title=\"iphone-weather-bug-icon\" width=\"120\" height=\"120\" class=\"alignnone size-full wp-image-154\" /></p>\n<p>T_T 自己加上系统的高光，<del datetime=\"2011-02-09T04:18:13+00:00\">初步估计原因可是为 iOS会在没开app的情况，自己去更新apple-touch-icon-precomposed.png ，但因为这图片实际又不存在，然后就自做主张了，</del><ins datetime=\"2011-02-09T04:18:13+00:00\">加入收藏时，桌面图标是好的，但其实已经坏掉了，双击home键时可以看到，只要动态改的就会坏，准确的说用data:image/png;base64,这种方式写入的会坏，但对于桌面的什么时候会变坏还是不清楚</ins>，同时发现我的高光画的不好，为什么要自己画高光呢，因为原生带的天气也不是用系统的高光，不过绘下边的文字还是偷懒了，其实可以做得更好。</p>\n<p>=。= 目前不支持 Retina Display ，其实写过测试，但发现图片得大点，Native App的优势体现了。</p>\n","descriptionType":"html","publishedDate":"Sat, 01 Jan 2011 15:11:11 +0000","feedId":20980,"bgimg":"","linkMd5":"40848018db03efaefaf072ef149c5468","bgimgJsdelivr":"","metaImg":"","author":"aoao","articleImgCdnMap":{"http://www.aoao.org.cn/wp-content/uploads/2011/01/iphone-weather-icon.png":null,"http://qrcode.kaywa.com/img.php?s=5&d=http%3A%2F%2Faoao.ws%2Fapp%2Fweather%2F%3Fw%3D%E5%8C%97%E4%BA%AC":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn11@2020_4/2020/10/13/05-50-08-868_392e8ac5f76704c2.webp","http://www.aoao.org.cn/wp-content/uploads/2011/01/iphone-weather-bug-icon.png":null},"publishedOrCreatedDate":1602568208601}],"record":{"createdTime":"2020-10-13 13:50:08","updatedTime":"2020-10-13 13:50:08","feedId":20980,"fetchDate":"Tue, 13 Oct 2020 05:50:08 +0000","fetchMs":159,"handleMs":182619,"totalMs":333136,"newArticles":0,"totalArticles":20,"status":1,"type":0,"ip":"d28287f36c8b0815640352f152cc1c11","hostName":"us-022*","requestId":"46f373511f954650b39760dc57e180e8_20980","contentType":"application/rss+xml; charset=UTF-8","totalBytes":6092,"bgimgsTotal":0,"bgimgsGithubTotal":0,"articlesImgsTotal":3,"articlesImgsGithubTotal":1,"successGithubMap":{"myreaderx4":1},"failGithubMap":{}},"feed":{"createdTime":"2020-09-07 02:23:51","updatedTime":"2020-09-07 04:15:08","id":20980,"name":"样式之美","url":"http://feeds.feedburner.com/aoao","subscriber":158,"website":null,"icon":"http://www.aoao.org.cn/favicon.ico","icon_jsdelivr":null,"description":"没落的角落","weekly":null,"link":"http://www.aoao.org.cn"},"noPictureArticleList":[{"createdTime":"2020-10-13 13:52:38","updatedTime":"2020-10-13 13:52:38","id":null,"feedId":20980,"linkMd5":"40848018db03efaefaf072ef149c5468"}],"tmpCommonImgCdnBytes":0,"tmpBodyImgCdnBytes":6092,"tmpBgImgCdnBytes":0,"extra4":{"start":1602568025815,"total":0,"statList":[{"spend":167,"msg":"获取xml内容"},{"spend":182619,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":150349,"msg":"正文链接上传到cdn"}]},"extra5":3,"extra6":1,"extra7ImgCdnFailResultVector":[null,null,null,null],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://europe63.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-51.herokuapp.com/":{"failCount":2,"successCount":1,"resultList":[200,null,null]},"http://us-029.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"http://qrcode.kaywa.com/img.php?s=5&d=http%3A%2F%2Faoao.ws%2Fapp%2Fweather%2F%3Fw%3D%E5%8C%97%E4%BA%AC","sourceStatusCode":200,"destWidth":175,"destHeight":175,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn11@2020_4/2020/10/13/05-50-08-868_392e8ac5f76704c2.webp","sourceBytes":1095,"destBytes":6092,"targetWebpQuality":75,"feedId":20980,"totalSpendMs":1176,"convertSpendMs":5,"createdTime":"2020-10-13 13:50:08","host":"us-51*","referer":"http://www.aoao.org.cn/?p=151","linkMd5ListStr":"40848018db03efaefaf072ef149c5468","githubUser":"myreaderx4","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.1 KB","destSize":"5.9 KB","compressRate":"556.3%"}],"successGithubMap":{"myreaderx4":1},"failGithubMap":{}}