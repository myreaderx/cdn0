{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-08-31 13:31:57","updatedTime":"2020-08-31 13:31:57","title":"How Argo Tunnel engineering uses Argo Tunnel","link":"https://blog.cloudflare.com/how-argo-tunnel-engineering-uses-argo-tunnel/","description":"<img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/How-Argo-Tunnel-engineering-uses-Argo-Tunnel-thumb.png\" alt=\"How Argo Tunnel engineering uses Argo Tunnel\"><p>Whether you are managing a fleet of machines or sharing a private site from your localhost, Argo Tunnel is here to help. On the Argo Tunnel team we help make origins accessible from the Internet in a secure and seamless manner. We also care deeply about productivity and developer experience for the team, so naturally we want to make sure we have a development environment that is reliable, easy to set up and fast to iterate on. </p><h2 id=\"a-brief-history-of-our-development-environment-dev-stack-\">A brief history of our development environment (dev-stack)</h2><h3 id=\"docker-compose\">Docker compose</h3><p>When our development team was still small, we used a docker-compose file to orchestrate the services needed to develop Argo Tunnel. There was no native support for hot reload, so every time an engineer made a change, they had to restart their dev-stack. </p><p>We could hack around it to hot reload with docker-compose, but when that failed, we had to waste time debugging the internals of Docker. As the team grew, we realized we needed to invest in improving our dev stack. </p><p>At the same time Cloudflare was in the process of migrating from Marathon to kubernetes (k8s). We set out to find a tool that could detect changes in source code and automatically upgrade pods with new images. </p><h3 id=\"skaffold-minikube\">Skaffold + Minikube</h3><p>Initially <a href=\"https://skaffold.dev/docs/quickstart/\">Skaffold</a> seemed to match the criteria. It watches for change in source code, builds new images and deploys applications onto any k8s. Following Skaffold’s tutorial, we picked minikube as the local k8s, but together they didn’t meet our expectations. Port forwarding wasn’t stable, we got frequent connections refused or timeout. </p><p>In addition, iteration time didn’t improve, because spinning up minikube takes a long time and it doesn’t use the host's docker registry and so it can’t take advantage of caching. At this point we considered reverting back to using docker compose, but the k8s ecosystem is booming, so we did some more research. </p><h3 id=\"tilt-docker-for-mac-k8s\">Tilt + Docker for mac k8s</h3><p>Eventually we found a great <a href=\"https://docs.tilt.dev/choosing_clusters.html\">blog post</a> from Tilt comparing different options for local k8s, and they seem to be solving the exact problem we are having. Tilt is a tool that makes local development on k8s easier. It detects changes in local sources and updates your deployment accordingly. </p><p>In addition, it supports live updates without having to rebuild containers, a process that used to take around 20 minutes. With live updates, we can copy the newest source into the container, run <code>cargo build</code> within the container, and restart the service without building a new image. Following Tilt’s blog post, we switched to Docker for Mac’s built-in k8s. Combining Tilt and Docker for Mac k8s, we finally have a development environment that meets our needs. </p><p>Rust services that could take 20 minutes to rebuild now take less than a minute.</p><h2 id=\"collaborating-with-a-distributed-team\">Collaborating with a distributed team</h2><p>We reached a much happier state with our dev-stack, but one problem remained: we needed a way to share it. As our teams became distributed with people in Austin, Lisbon and Seattle, we needed better ways to help each other.</p><p>One day, I was helping our newest member understand an error observed in <code>cloudflared</code>, Argo Tunnel’s command line interface (CLI) client. I knew the error could either originate from the backend service or a mock API gateway service, but I couldn’t tell for sure without looking at logs. </p><p>To get them, I had to ask our new teammate to manually send me the logs of the two services. By the time I discovered the source of the error, reviewed the deployment manifest, and determined the error was caused by a secret set as an empty string, two full hours had elapsed!</p><p>I could have solved this in minutes if I had remote access to her development environment. That’s exactly what Argo Tunnel can do! Argo Tunnel provides remote access to development environments by creating secure outbound-only connections to Cloudflare’s edge network from a resource exposing it to the Internet. That model helps protect servers and resources from being vulnerable to attack by an exposed IP address. </p><p>I can use Argo Tunnel to expose a remote dev environment, but the information stored is sensitive. Once exposed, we needed a way to prevent users from reaching it unless they are an authenticated member of my team. Cloudflare Access solves that challenge. Access sits in front of the hostname powered by Argo Tunnel and checks for identity on every request. I can combine both services to share the dev-stack details with the rest of the team in a secure deployment.</p><p>The built-in k8s dashboard gives a great overview of the dev-stack, with the list of pods, deployments, services, config maps, secrets, etc. It also allows us to inspect pod logs and exec into a container. By default, it is secured by a token that changes every time the service restarts. To avoid the hassle of distributing the service token to everyone on the team, we wrote a simple reverse proxy that injects the service token in the authorization header before forwarding requests to the dashboard service.</p><p>Then we run Argo Tunnel as a sidecar to this reverse proxy, so it is accessible from the Internet. Finally, to make sure no random person can see our dashboard, we put an Access policy that only allows team members to access the hostname. </p><p>The request flow is eyeball -&#62; Access -&#62; Argo Tunnel -&#62; reverse proxy -&#62; dashboard service</p><figure class=\"kg-card kg-image-card\"><img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image5-3.png\" class=\"kg-image\" alt=\"How Argo Tunnel engineering uses Argo Tunnel\"></figure><h2 id=\"working-example\">Working example</h2><p>Your team can use the same model to develop remotely. Here’s how to get started. </p><ol><li>Start a local k8s cluster. <a href=\"https://docs.tilt.dev/choosing_clusters.html \">https://docs.tilt.dev/choosing_clusters.html</a> offers great advice in choosing a local cluster based on your OS and experience with k8s</li></ol><figure class=\"kg-card kg-image-card\"><img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image3-7.png\" class=\"kg-image\" alt=\"How Argo Tunnel engineering uses Argo Tunnel\"></figure><p>2. Enable dashboard service:</p><figure class=\"kg-card kg-image-card\"><img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image2-8.png\" class=\"kg-image\" alt=\"How Argo Tunnel engineering uses Argo Tunnel\"></figure><p>3. Create a reverse proxy that will inject the service token of the kubernetes-dashboard service account in the Authorization header before forwarding requests to kubernetes dashboard service</p><!--kg-card-begin: markdown--><pre><code class=\"language-go\">package main\n \nimport (\n   &#34;crypto/tls&#34;\n   &#34;fmt&#34;\n   &#34;net/http&#34;\n   &#34;net/http/httputil&#34;\n   &#34;net/url&#34;\n   &#34;os&#34;\n)\n \nfunc main() {\n   config, err := loadConfigFromEnv()\n   if err != nil {\n       panic(err)\n   }\n   reverseProxy := httputil.NewSingleHostReverseProxy(config.proxyURL)\n   // The default Director builds the request URL. We want our custom Director to add Authorization, in\n   // addition to building the URL\n   singleHostDirector := reverseProxy.Director\n   reverseProxy.Director = func(r *http.Request) {\n       singleHostDirector(r)\n       r.Header.Add(&#34;Authorization&#34;, fmt.Sprintf(&#34;Bearer %s&#34;, config.token))\n       fmt.Println(&#34;request header&#34;, r.Header)\n       fmt.Println(&#34;request host&#34;, r.Host)\n       fmt.Println(&#34;request ULR&#34;, r.URL)\n   }\n   reverseProxy.Transport = &#38;http.Transport{\n       TLSClientConfig: &#38;tls.Config{\n           InsecureSkipVerify: true,\n       },\n   }\n   server := http.Server{\n       Addr:    config.listenAddr,\n       Handler: reverseProxy,\n   }\n   server.ListenAndServe()\n}\n \ntype config struct {\n   listenAddr string\n   proxyURL   *url.URL\n   token      string\n}\n \nfunc loadConfigFromEnv() (*config, error) {\n   listenAddr, err := requireEnv(&#34;LISTEN_ADDRESS&#34;)\n   if err != nil {\n       return nil, err\n   }\n   proxyURLStr, err := requireEnv(&#34;DASHBOARD_PROXY_URL&#34;)\n   if err != nil {\n       return nil, err\n   }\n   proxyURL, err := url.Parse(proxyURLStr)\n   if err != nil {\n       return nil, err\n   }\n   token, err := requireEnv(&#34;DASHBOARD_TOKEN&#34;)\n   if err != nil {\n       return nil, err\n   }\n   return &#38;config{\n       listenAddr: listenAddr,\n       proxyURL:   proxyURL,\n       token:      token,\n   }, nil\n}\n \nfunc requireEnv(key string) (string, error) {\n   result := os.Getenv(key)\n   if result == &#34;&#34; {\n       return &#34;&#34;, fmt.Errorf(&#34;%v not provided&#34;, key)\n   }\n   return result, nil\n}\n\n</code></pre>\n<!--kg-card-end: markdown--><p>4. Create an Argo Tunnel sidecar to expose this reverse proxy</p><!--kg-card-begin: markdown--><pre><code class=\"language-yaml\">apiVersion: apps/v1\nkind: Deployment\nmetadata:\n name: dashboard-auth-proxy\n namespace: kubernetes-dashboard\n labels:\n   app: dashboard-auth-proxy\nspec:\n replicas: 1\n selector:\n   matchLabels:\n     app: dashboard-auth-proxy\n template:\n   metadata:\n     labels:\n       app: dashboard-auth-proxy\n   spec:\n     containers:\n       - name: dashboard-tunnel\n         # Image from https://hub.docker.com/r/cloudflare/cloudflared\n         image: cloudflare/cloudflared:2020.8.0\n         command: [&#34;cloudflared&#34;, &#34;tunnel&#34;]\n         ports:\n           - containerPort: 5000\n         env:\n           - name: TUNNEL_URL\n             value: &#34;http://localhost:8000&#34;\n           - name: NO_AUTOUPDATE\n             value: &#34;true&#34;\n           - name: TUNNEL_METRICS\n             value: &#34;localhost:5000&#34;\n       # dashboard-proxy is a proxy that injects the dashboard token into Authorization header before forwarding\n       # the request to dashboard_proxy service\n       - name: dashboard-auth-proxy\n         image: dashboard-auth-proxy\n         ports:\n           - containerPort: 8000\n         env:\n           - name: LISTEN_ADDRESS\n             value: localhost:8000\n           - name: DASHBOARD_PROXY_URL\n             value: https://kubernetes-dashboard\n           - name: DASHBOARD_TOKEN\n             valueFrom:\n               secretKeyRef:\n                 name: ${TOKEN_NAME}\n                 key: token</code></pre>\n<!--kg-card-end: markdown--><p>5. Find out the URL to access your dashboard from Tilt’s UI</p><figure class=\"kg-card kg-image-card\"><img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image1-17.png\" class=\"kg-image\" alt=\"How Argo Tunnel engineering uses Argo Tunnel\"></figure><p>6. Share the URL with your collaborators so they can access your dashboard anywhere they are through the tunnel! </p><figure class=\"kg-card kg-image-card\"><img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image4-7.png\" class=\"kg-image\" alt=\"How Argo Tunnel engineering uses Argo Tunnel\"></figure><p>You can find the source code for the example in <a href=\"https://github.com/cloudflare/argo-tunnel-examples/tree/master/sharing-k8s-dashboard\">https://github.com/cloudflare/argo-tunnel-examples/tree/master/sharing-k8s-dashboard</a></p><p>If this sounds like a team you want to be on, we are <a href=\"https://www.cloudflare.com/careers/\">hiring</a>!</p>","descriptionType":"html","publishedDate":"Thu, 27 Aug 2020 11:00:00 +0000","feedId":1732,"bgimg":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/How-Argo-Tunnel-engineering-uses-Argo-Tunnel-thumb.png","linkMd5":"5efb2a9fb80d6e738b63c42dbe85ff7b","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn13@2020_5/2020/08/31/05-31-58-794_09efabd4d65ffdb6.webp","destWidth":1200,"destHeight":628,"sourceBytes":65325,"destBytes":19796,"author":"Chung-Ting Huang","articleImgCdnMap":{"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/How-Argo-Tunnel-engineering-uses-Argo-Tunnel-thumb.png":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn13@2020_5/2020/08/31/05-31-58-794_09efabd4d65ffdb6.webp","https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image5-3.png":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn33@2020_4/2020/08/31/05-32-00-428_18ae8e6e38111f00.webp","https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image3-7.png":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn54@2020_4/2020/08/31/05-32-00-400_5db46e2609e23d90.webp","https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image2-8.png":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn77@2020_4/2020/08/31/05-32-01-165_10eb3f0745f76e3d.webp","https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image1-17.png":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn50@2020_1/2020/08/31/05-32-00-291_b4d3eb8933517759.webp","https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image4-7.png":null},"publishedOrCreatedDate":1598851917900},{"createdTime":"2020-08-31 13:31:57","updatedTime":"2020-08-31 13:31:57","title":"Cloudflare and Human Rights: Joining the Global Network Initiative (GNI)","link":"https://blog.cloudflare.com/cloudflare-and-human-rights-joining-the-global-network-initiative-gni/","description":"<img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/GNI-2017Artboard-1@2x.png\" alt=\"Cloudflare and Human Rights: Joining the Global Network Initiative (GNI)\"><p>Consistent with our mission to help build a better Internet, Cloudflare has long recognized the importance of conducting our business in a way that respects the rights of Internet users around the world. We provide free services to important voices online - from <a href=\"https://www.cloudflare.com/galileo/\">human rights activists to independent journalists</a> to the entities that <a href=\"https://www.cloudflare.com/election-security/\">help maintain our democracies</a> - who would otherwise be vulnerable to cyberattack. We work hard to develop internal mechanisms and build products that <a href=\"https://blog.cloudflare.com/empowering-your-privacy/\">empower user privacy</a>. And we believe that being <a href=\"https://www.cloudflare.com/transparency/\">transparent</a> about the types of requests we receive from government entities and how we respond is critical to maintaining customer trust.</p><p>As Cloudflare continues to expand our global network, we think there is more we can do to formalize our commitment to help respect human rights online. To that end, we are excited to announce that we have joined the <a href=\"https://globalnetworkinitiative.org/\">Global Network Initiative (GNI)</a>, one of the world's leading human rights organizations in the information and communications Technology (ICT) sector, as observers.</p><h3 id=\"business-human-rights\">Business + Human Rights</h3><p>Understanding Cloudflare’s new partnership with GNI requires some additional background on how human rights concepts apply to businesses.</p><p>In 1945, following the end of World War II, 850 delegates representing forty-six nations gathered in San Francisco to create an international organization dedicated to preserving peace and helping to build a better world. In drafting the eventual United Nations (UN) Charter, the delegates included seven mentions of the need for a set of formal, universal rights that would provide basic protections for all people, everywhere.</p><p>Although human rights have traditionally been the purview of nation-states, in 2005 the UN Secretary-General appointed Harvard Professor John Ruggie as the first Special Representative for Business and Human Rights. Ruggie was tasked with determining whether businesses, particularly multinational corporations operating in many jurisdictions, ought to have their own unique obligations under international human rights law.</p><p>In 2008, Ruggie proposed the \"Protect, Respect and Remedy\" framework on business and human rights to the UN Human Rights Council. He argued that while states have an <em>obligation</em> to <em>protect</em> human rights, businesses have a <em>responsibility</em> to <em>respect</em> human rights. Essentially, businesses should act with due diligence in all of their operations to avoid infringing on the rights of others, and remedy any harms that do occur. Moreover, businesses' responsibilities exist independent of any state's ability or willingness to meet their own human rights obligations. </p><p>Ruggie's framework was later incorporated into the <a href=\"https://www.ohchr.org/documents/publications/guidingprinciplesbusinesshr_en.pdf\">UN Guiding Principles on Business and Human Rights</a>, which was unanimously endorsed by the UN Human Rights Council in 2011.</p><h3 id=\"cloudflare-human-rights\">Cloudflare + Human Rights</h3><p>With Cloudflare's network now operating in more than 100 countries, with more than a billion unique IP addresses passing through Cloudflare's network every day, we believe we have a significant responsibility to respect, and a tremendous potential to promote, human rights.</p><p>For example, privacy is a protected human right under Article 17 of the <a href=\"https://www.ohchr.org/en/professionalinterest/pages/ccpr.aspx\">International Covenant on Civil and Political Rights</a>, which means that the law enforcement and other government orders we periodically receive to access customer's personal information affect the human rights of our customers and users. Twice a year, we publish a <a href=\"https://www.cloudflare.com/transparency/\">Transparency Report</a> that describes exactly how many orders, subpoenas, and warrants we receive, how we respond, and how many customers or domains are affected.</p><p>In responding to law enforcement requests for subscriber information, Cloudflare has relied on three principles: due process, respect for our customer's privacy, and notice for those affected. As we say often, Cloudflare's intent is to follow the law, and not to make law enforcement's job any harder, or easier. </p><p>However, as Cloudflare expands internationally, relying on due process and transparency alone may not always be sufficient. For one thing, those kinds of protections are dependent on good-faith implementation of legal processes like rule of law and judicial oversight. They also require a government and legal system that carries some political legitimacy, like those established through democratic processes.  </p><p>To improve the consistency of how we work with governments around the world, Cloudflare will be incorporating human rights training and due diligence tools like human rights impact assessments into our decision-making processes throughout our company.  </p><p>We recognize that as a company there are limits to what Cloudflare can or should do as we operate around the world. But we are committed to more formally documenting our efforts to respect human rights under the UN Guiding Principles on Business and Human Rights, and we've partnered with GNI to help us get there.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/Web-Top-copy-2-1.png\" class=\"kg-image\" alt=\"Cloudflare and Human Rights: Joining the Global Network Initiative (GNI)\"></figure><h3 id=\"who-is-gni\">Who is GNI?</h3><p>GNI is a non-profit organization launched in 2008. GNI members include ICT companies, civil society organizations (including human rights and press freedom groups), academic experts, and investors from around the world. Its mission is to protect and advance freedom of expression and privacy rights in the ICT sector by setting a global standard for responsible decision making and serving as a multistakeholder voice in the face of government restrictions and demands.</p><p>GNI provides companies with concrete guidance on how to implement the<a href=\"https://globalnetworkinitiative.org/gni-principles/\"> GNI Principles</a>, which are based on international human rights law and standards, and are informed by the United Nations Guiding Principles on Business and Human Rights.   </p><p>When companies join GNI, they agree to have their implementation of the GNI Principles assessed independently by participating in GNI’s assessment process. The assessment is made up of a review of relevant internal systems, policies and procedures for implementing the Principles and an examination of specific cases or examples that show how the company is implementing them in practice.</p><h3 id=\"what-s-next\">What's Next?</h3><p>Cloudflare will serve in observer status in GNI for the next year while we work with GNI's staff to implement and document formal human rights practices and training throughout our company.  Cloudflare will undergo its first independent assessment after becoming full GNI members.</p><p>It's an exciting step for us as a company. But, we also think there is more Cloudflare can do to help build a better, more sustainable Internet. As we say often, we are just getting started.</p>","descriptionType":"html","publishedDate":"Wed, 26 Aug 2020 12:00:00 +0000","feedId":1732,"bgimg":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/GNI-2017Artboard-1@2x.png","linkMd5":"a12a25b9017f38f1ff29861415e0ba4d","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn100@2020_2/2020/08/31/05-31-58-289_5de8dad821c9207f.webp","destWidth":1200,"destHeight":736,"sourceBytes":211827,"destBytes":26146,"author":"Patrick Day","articleImgCdnMap":{"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/GNI-2017Artboard-1@2x.png":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn100@2020_2/2020/08/31/05-31-58-289_5de8dad821c9207f.webp","https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/Web-Top-copy-2-1.png":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn69@2020_4/2020/08/31/05-31-59-930_1c01315b44fefac0.webp"},"publishedOrCreatedDate":1598851917899},{"createdTime":"2020-08-31 13:31:57","updatedTime":"2020-08-31 13:31:57","title":"Analysis of Today's CenturyLink/Level(3) Outage","link":"https://blog.cloudflare.com/analysis-of-todays-centurylink-level-3-outage/","description":"<img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/4-1.png\" alt=\"Analysis of Today's CenturyLink/Level(3) Outage\"><p>Today CenturyLink/Level(3), a major ISP and Internet bandwidth provider, experienced a significant outage that impacted some of Cloudflare’s customers as well as a significant number of other services and providers across the Internet. While we’re waiting for a post mortem from CenturyLink/Level(3), I wanted to write up the timeline of what we saw, how Cloudflare’s systems routed around the problem, why some of our customers were still impacted in spite of our mitigations, and what appears to be the likely root cause of the issue.</p><h3 id=\"increase-in-errors\">Increase In Errors</h3><p>At 10:03 UTC our monitoring systems started to observe an increased number of errors reaching our customers’ origin servers. These show up as “522 Errors” and indicate that there is an issue connecting from Cloudflare’s network to wherever our customers’ applications are hosted. </p><p>Cloudflare is connected to CenturyLink/Level(3) among a large and diverse set of network providers. When we see an increase in errors from one network provider, our systems automatically attempt to reach customers’ applications across alternative providers. Given the number of providers we have access to, we are generally able to continue to route traffic even when one provider has an issue.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/1-3.png\" class=\"kg-image\" alt=\"Analysis of Today's CenturyLink/Level(3) Outage\"><figcaption>The diverse set of network providers Cloudflare connects to. Source: <a href=\"https://bgp.he.net/AS13335#_asinfo\">https://bgp.he.net/AS13335#_asinfo</a><span class=\"-mobiledoc-kit__atom\">‌‌</span></figcaption></figure><h3 id=\"automatic-mitigations\">Automatic Mitigations</h3><p>In this case, beginning within seconds of the increase in 522 errors, our systems automatically rerouted traffic from CenturyLink/Level(3) to alternate network providers we connect to including Cogent, NTT, GTT, Telia, and Tata.</p><p>Our Network Operations Center was also alerted and our team began taking additional steps to mitigate any issues our automated systems weren’t automatically able to address beginning at 10:09 UTC. We were successful in keeping traffic flowing across our network for most customers and end users even with the loss of CenturyLink/Level(3) as one of our network providers.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/2-1.png\" class=\"kg-image\" alt=\"Analysis of Today's CenturyLink/Level(3) Outage\"><figcaption>Dashboard Cloudflare’s automated systems recognizing the damage to the Internet caused by the CenturyLink/Level(3) failure and automatically routing around it.</figcaption></figure><p>The graph below shows traffic between Cloudflare’s network and six major tier-1 networks that are among the network providers we connect to. The red portion shows CenturyLink/Level(3) traffic, which dropped to near-zero during the incident. You can also see how we automatically shifted traffic to other network providers during the incident to mitigate the impact and ensure traffic continued to flow.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/3-2.png\" class=\"kg-image\" alt=\"Analysis of Today's CenturyLink/Level(3) Outage\"><figcaption>Traffic across six major tier-1 networks that are among the network providers Cloudflare connects to. CenturyLink/Level(3) in red.</figcaption></figure><p>The following graph shows 522 errors (indicating our inability to reach customers’ applications) across our network during the time of the incident. </p><figure class=\"kg-card kg-image-card\"><img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/4-2.png\" class=\"kg-image\" alt=\"Analysis of Today's CenturyLink/Level(3) Outage\"></figure><p>The sharp spike up at 10:03 UTC was the CenturyLink/Level(3) network failing. Our automated systems immediately kicked in to attempt to reroute and rebalance traffic across alternative network providers, causing the errors to drop in half immediately and then fall to approximately 25 percent of the peak as those paths were automatically optimized.</p><p>Between 10:03 UTC and 10:11 UTC our systems automatically disabled CenturyLink/Level(3) in the 48 cities where we’re connected to them and rerouted traffic across alternate network providers. Our systems take into account capacity on other providers before shifting out traffic in order to prevent cascading failures. This is why the failover, while automatic, isn’t instantaneous in all locations. Our team was able to apply additional manual mitigations to reduce the number of errors another 5 percent.</p><h3 id=\"why-did-the-errors-not-drop-to-zero\">Why Did the Errors Not Drop to Zero?</h3><p>Unfortunately, there were still an elevated number of errors indicating we were still unable to reach some customers. CenturyLink/Level(3) is among the largest network providers in the world. As a result, many hosting providers only have single-homed connectivity to the Internet through their network.</p><p>To use the <a href=\"https://www.theverge.com/2014/8/20/6046003/a-history-of-metaphors-for-the-internet\">old Internet as a “superhighway” analogy</a>, that’s like only having a single offramp to a town. If the offramp is blocked, then there’s no way to reach the town. This was exacerbated in some cases because CenturyLink/Level(3)’s network was not honoring route withdrawals and continued to advertise routes to networks like Cloudflare’s even after they’d been withdrawn. In the case of customers whose only connectivity to the Internet is via CenturyLink/Level(3), or if CenturyLink/Level(3) continued to announce bad routes after they'd been withdrawn, there was no way for us to reach their applications and they continued to see 522 errors until CenturyLink/Level(3) resolved their issue around 14:30 UTC.</p><p>The same was a problem on the other (“eyeball”) side of the network. Individuals need to have an onramp onto the Internet’s superhighway. An onramp to the Internet is essentially what your ISP provides. CenturyLink is one of the largest ISPs in the United States.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image-3.png\" class=\"kg-image\" alt=\"Analysis of Today's CenturyLink/Level(3) Outage\"><figcaption>Source: <a href=\"https://broadbandnow.com/CenturyLink\">https://broadbandnow.com/CenturyLink</a></figcaption></figure><p>Because this outage appeared to take all of the CenturyLink/Level(3) network offline, individuals who are CenturyLink customers would not have been able to reach Cloudflare or any other Internet provider until the issue was resolved. Globally, we saw a 3.5% drop in global traffic during the outage, nearly all of which was due to a nearly complete outage of CenturyLink’s ISP service across the United States.</p><h3 id=\"so-what-likely-happened-here\">So What Likely Happened Here?</h3><p>While we will not know exactly what happened until CenturyLink/Level(3) issue a post mortem, we can see clues from BGP announcements and how they propagated across the Internet during the outage. BGP is the Border Gateway Protocol. It is how routers on the Internet announce to each other what IPs sit behind them and therefore what traffic they should receive.</p><p>Starting at 10:04 UTC, there were a significant number of BGP updates. A BGP update is the signal a router makes to say that a route has changed or is no longer available. Under normal conditions, the Internet sees about 1.5MBs – 2MBs of BGP updates every 15 minutes. At the start of the incident, the number of BGP updates spiked to more than 26MBs of BGP updates per 15 minute period and stayed elevated throughout the incident.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/6-1.png\" class=\"kg-image\" alt=\"Analysis of Today's CenturyLink/Level(3) Outage\"><figcaption>Source: <a href=\"http://archive.routeviews.org/bgpdata/2020.08/UPDATES/\">http://archive.routeviews.org/bgpdata/2020.08/UPDATES/</a></figcaption></figure><p>These updates show the instability of BGP routes inside the CenturyLink/Level(3) backbone. The question is what would have caused this instability. The CenturyLink/Level(3) status update offers some hints and points at a flowspec update as the root cause.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/7-1.png\" class=\"kg-image\" alt=\"Analysis of Today's CenturyLink/Level(3) Outage\"></figure><h3 id=\"what-s-flowspec\">What’s Flowspec?</h3><p>In CenturyLink/Level(3)’s update they mention that a bad Flowspec rule caused the issue. So what is Flowspec? Flowspec is an extension to BGP, which allows firewall rules to be easily distributed across a network, or even between networks, using BGP. Flowspec is a powerful tool. It allows you to efficiently push rules across an entire network almost instantly. It is great when you are trying to quickly respond to something like an attack, but it can be dangerous if you make a mistake.</p><p>At Cloudflare, early in our history, we used to use Flowspec ourselves to push out firewall rules in order to, for instance, mitigate large network-layer DDoS attacks. We <a href=\"https://blog.cloudflare.com/todays-outage-post-mortem-82515/\">suffered our own Flowspec-induced outage more than 7 years ago</a>. We no longer use Flowspec ourselves, but it remains a common protocol for pushing out network firewall rules.</p><p>We can only speculate what happened at CenturyLink/Level(3), but one plausible scenario is that they issued a Flowspec command to try to block an attack or other abuse directed at their network. The status report indicates that the Flowspec rule prevented BGP itself from being announced. We have no way of knowing what that Flowspec rule was, but here’s one in Juniper’s format that would have blocked all BGP communications across their network.</p><pre><code>route DISCARD-BGP {\n   match {\n      protocol tcp;\n      destination-port 179;\n   }\n then discard;\n}\n</code></pre><h3 id=\"why-so-many-updates\">Why So Many Updates?</h3><p>A mystery remains, however, why global BGP updates stayed elevated throughout the incident. If the rule blocked BGP then you would expect to see an increase in BGP announcements initially and then they would fall back to normal.</p><p>One possible explanation is that the offending Flowspec rule came near the end of a long list of BGP updates. If that were the case, what may have happened is that every router in CenturyLink/Level(3)’s network would receive the Flowspec rule. They would then block BGP. That would cause them to stop receiving the rule. They would start back up again, working their way through all the BGP rules until they got to the offending Flowspec rule again. BGP would be dropped again. The Flowspec rule would no longer be received. And the loop would continue, over and over.</p><p>One challenge of this is that on every cycle, the queue of BGP updates would continue to increase within CenturyLink/Level(3)’s network. This may have gotten to a point where the memory and CPU of their routers was overloaded, causing an additional set of challenges to getting their network back online.</p><h3 id=\"why-did-it-take-so-long-to-fix\">Why Did It Take So Long to Fix?</h3><p>This was a significant global Internet outage and, undoubtedly, the CenturyLink/Level(3) team received immediate alerts. They are a very sophisticated network operator with a world class Network Operations Center (NOC). So why did it take more than four hours to resolve?</p><p>Again, we can only speculate. First, it may have been that the Flowspec rule and the significant load that large number of BGP updates imposed on their routers made it difficult for them to login to their own interfaces. Several of the other tier-1 providers took action, it appears at CenturyLink/Level(3)’s request, to de-peer their networks. This would have limited the number of BGP announcements being received by the CenturyLink/Level(3) network and helped give it time to catch up.</p><p>Second, it also may have been that the Flowspec rule was not issued by CenturyLink/Level(3) themselves but rather by one of their customers. Many network providers will allow Flowspec peering. This can be a powerful tool for downstream customers wishing to block attack traffic, but can make it much more difficult to track down an offending Flowspec rule when something goes wrong.</p><p>Finally, it never helps when these issues occur early on a Sunday morning. Networks the size and scale of CenturyLink/Level(3)’s are extremely complicated. Incidents happen. We appreciate their team keeping us informed with what was going on throughout the incident. #hugops</p>","descriptionType":"html","publishedDate":"Sun, 30 Aug 2020 20:55:17 +0000","feedId":1732,"bgimg":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/4-1.png","linkMd5":"0518962a9a2f87ce392d7aeef7536f01","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn5@2020_5/2020/08/31/05-31-58-014_30fd90dd32e1fb70.webp","destWidth":1428,"destHeight":880,"sourceBytes":93570,"destBytes":21614,"author":"Matthew Prince","articleImgCdnMap":{"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/4-1.png":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn5@2020_5/2020/08/31/05-31-58-014_30fd90dd32e1fb70.webp","https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/1-3.png":"https://cdn.jsdelivr.net/gh/myreaderx15/cdn25@2020_1/2020/08/31/05-32-01-352_ab758dc56f310ef6.webp","https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/2-1.png":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn19@2020_6/2020/08/31/05-32-00-077_faf22a3f1ada809d.webp","https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/3-2.png":"https://cdn.jsdelivr.net/gh/myreaderx25/cdn61@2020_5/2020/08/31/05-31-59-991_9fa9f59f7b7612ec.webp","https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/4-2.png":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn58@2020_2/2020/08/31/05-32-00-233_4088fec2e8489c52.webp","https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image-3.png":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn37@2020_2/2020/08/31/05-32-00-151_f2bdae37da6cf106.webp","https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/6-1.png":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn17@2020_3/2020/08/31/05-31-59-977_9b7bdd0a2eaa3242.webp","https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/7-1.png":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn41@2020_6/2020/08/31/05-31-59-968_d237dc4046274a60.webp"},"publishedOrCreatedDate":1598851917899},{"createdTime":"2020-08-31 13:31:57","updatedTime":"2020-08-31 13:31:57","title":"Asynchronous HTMLRewriter for Cloudflare Workers","link":"https://blog.cloudflare.com/asynchronous-htmlrewriter-for-cloudflare-workers/","description":"<figure class=\"kg-card kg-image-card\"><img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image3-10.png\" class=\"kg-image\" alt=\"Asynchronous HTMLRewriter for Cloudflare Workers\"></figure><img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image3-9.png\" alt=\"Asynchronous HTMLRewriter for Cloudflare Workers\"><p>Last year, we launched <a href=\"https://blog.cloudflare.com/introducing-htmlrewriter/\">HTMLRewriter</a> for Cloudflare Workers, which enables developers to make streaming changes to HTML on the edge. Unlike a traditional DOM parser that loads the entire HTML document into memory, we developed a <a href=\"https://github.com/cloudflare/lol-html\">streaming parser</a> written in Rust. Today, we’re announcing support for asynchronous handlers in HTMLRewriter. Now you can perform asynchronous tasks based on the content of the HTML document: from prefetching fonts and image assets to fetching user-specific content from a CMS.</p><h3 id=\"how-can-i-use-htmlrewriter\">How can I use HTMLRewriter?</h3><p>We designed HTMLRewriter to have a jQuery-like experience. First, you define a handler, then you assign it to a CSS selector; Workers does the rest for you. You can look at our new and improved <a href=\"https://developers.cloudflare.com/workers/runtime-apis/html-rewriter#selectors\">documentation</a> to see our supported list of selectors, which now include <code>nth-child</code> selectors. The example below changes the alternative text for every second image in a document.</p><!--kg-card-begin: markdown--><pre><code class=\"language-javascript\">async function editHtml(request) {\n  return new HTMLRewriter()\n     .on(&#34;img:nth-child(2)&#34;, new ElementHandler())\n     .transform(await fetch(request))\n}\n\nclass ElementHandler {\n   element(e) {\n      e.setAttribute(&#34;alt&#34;, &#34;A very interesting image&#34;)\n   }\n}\n</code></pre>\n<!--kg-card-end: markdown--><p>Since these changes are applied using streams, we maintain a low TTFB (time to first byte) and users never know the HTML was transformed. If you’re interested in how we’re able to accomplish this technically, you can read our blog post about <a href=\"https://blog.cloudflare.com/html-parsing-2/\">HTML parsing.</a></p><h3 id=\"what-s-new-with-htmlrewriter\">What’s new with HTMLRewriter?</h3><p>Now you can define an <code>async</code> handler which allows any code that uses <code>await</code>. This means you can make dynamic HTML injection, based on the contents of the document, without having prior knowledge of what it contains. This allows you to customize HTML based on a particular user, feature flag, or even an integration with a CMS.</p><!--kg-card-begin: markdown--><pre><code class=\"language-javascript\">class UserCustomizer {\n   // Remember to add the `async` keyword to the handler method\n   async element(e) {\n      const user = await fetch(`https://my.api.com/user/${e.getAttribute(&#34;user-id&#34;)}/online`)\n      if (user.ok) {\n         // Add the user’s name to the element\n         e.setAttribute(&#34;user-name&#34;, await user.text())\n      } else {\n         // Remove the element, since this user not online\n         e.remove()\n      }\n   }\n}\n\n</code></pre>\n<!--kg-card-end: markdown--><h3 id=\"what-can-i-build-with-htmlrewriter\">What can I build with HTMLRewriter?</h3><p>To illustrate the flexibility of HTMLRewriter, I wrote an example that you can deploy on your own website. If you manage a website, you know that old links and images can expire with time. Here’s an excerpt from a years’ old post I wrote on the Cloudflare Blog:</p><figure class=\"kg-card kg-image-card\"><img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image1-18.png\" class=\"kg-image\" alt=\"Asynchronous HTMLRewriter for Cloudflare Workers\"></figure><p>As you might see, that missing image is not the prettiest sight. However, we can easily fix this using async handlers in HTMLRewriter. Using a service like the <a href=\"https://archive.org/help/wayback_api.php\">Internet Archive</a> API, we can check if an image no longer exists and rewrite the URL to use the latest archive. That means users don’t see an ugly placeholder and won’t even know the image was replaced.</p><!--kg-card-begin: markdown--><pre><code class=\"language-javascript\">async function fetchAndFixImages(request) {\n   return new HTMLRewriter()\n      .on(&#34;img&#34;, new ImageFixer())\n      .transform(await fetch(request))\n}\n\nclass ImageFixer {\n   async element(e) {\n    var url = e.getAttribute(&#34;src&#34;)\n    var response = await fetch(url)\n    if (!response.ok) {\n       var archive = await fetch(`https://archive.org/wayback/available?url=${url}`)\n       if (archive.ok) {\n          var snapshot = await archive.json()\n          e.setAttribute(&#34;src&#34;, snapshot.archived_snapshots.closest.url)\n       } else {\n          e.remove()\n       }\n    }\n  }\n}\n</code></pre>\n<!--kg-card-end: markdown--><p>Using the Workers Playground, you can view a <a href=\"https://cloudflareworkers.com/#42b5ec636af37ae988c3041e61da1870:https://blog.cloudflare.com/minecraft-api-with-workers-coffeescript/\">working sample</a> of the above code. A more complex example could even alert a service like Sentry when a missing image is detected. Using the previous missing image, now you can see the image is restored and users are none of the wiser.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image2-9.png\" class=\"kg-image\" alt=\"Asynchronous HTMLRewriter for Cloudflare Workers\"></figure><p>If you’re interested in deploying this to your own website, click on the button below:</p><!--kg-card-begin: markdown--><p><a href=\"https://deploy.workers.cloudflare.com/?url=https://github.com/Electroid/wayback-worker\"><img src=\"https://deploy.workers.cloudflare.com/button\" alt=\"Asynchronous HTMLRewriter for Cloudflare Workers\"></a></p>\n<!--kg-card-end: markdown--><h3 id=\"what-else-can-i-build-with-htmlrewriter\">What else can I build with HTMLRewriter?</h3><p>We’ve been blown away by developer projects using HTMLRewriter. Here are a few projects that caught our eye and are great examples of the power of Cloudflare Workers and HTMLRewriter:</p><ul><li><a href=\"https://web.scraper.workers.dev/\">An elegant web scraper</a></li><li><a href=\"https://stanislas.blog/2020/05/native-image-lazy-loading-ghost-cloudflare-worker/\">Optimizing images with lazy loading</a></li><li><a href=\"https://dev.to/cloudflareworkers/localizing-applications-with-cloudflare-worker-s-new-streaming-html-rewriter-1k41\">Localizing a website</a></li><li><a href=\"https://jross.me/using-cloudflare-workers-htmlrewriter-to-extend-ghost-pro/\">Extending a Ghost blog</a></li><li><a href=\"https://community.cloudflare.com/t/2020-6-18-workers-runtime-release-notes/183460/2\">Prefetching and embedding Google fonts</a></li></ul><p>If you’re interested in using HTMLRewriter, check out our <a href=\"https://developers.cloudflare.com/workers/runtime-apis/html-rewriter\">documentation</a>. Also be sure to share any creations you’ve made with <a href=\"https://twitter.com/CloudflareDev\">@CloudflareDev</a>, we love looking at the awesome projects you build.</p>","descriptionType":"html","publishedDate":"Fri, 28 Aug 2020 11:00:00 +0000","feedId":1732,"bgimg":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image3-10.png","linkMd5":"2c68d6c7d28f581bf9d2922bd506dee4","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn98@2020_3/2020/08/31/05-31-58-249_3deca6be69e1b05b.webp","destWidth":1600,"destHeight":820,"sourceBytes":223063,"destBytes":52662,"author":"Ashcon Partovi","articleImgCdnMap":{"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image3-10.png":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn98@2020_3/2020/08/31/05-31-58-249_3deca6be69e1b05b.webp","https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image3-9.png":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn90@2020_5/2020/08/31/05-32-00-109_18070dd0a73f7fe7.webp","https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image1-18.png":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn46@2020_3/2020/08/31/05-32-00-073_37d12607499546ec.webp","https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image2-9.png":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn85@2020_3/2020/08/31/05-32-00-120_2032e8d1c40fcf60.webp","https://deploy.workers.cloudflare.com/button":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn81@2020_6/2020/08/31/05-32-00-070_915877f2de30fc98.svg"},"publishedOrCreatedDate":1598851917899},{"createdTime":"2020-08-31 13:31:57","updatedTime":"2020-08-31 13:31:57","title":"Announcing wrangler dev — the Edge on localhost","link":"https://blog.cloudflare.com/announcing-wrangler-dev-the-edge-on-localhost/","description":"<img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/Screen-Shot-2020-08-26-at-12.02.54.png\" alt=\"Announcing wrangler dev — the Edge on localhost\"><p>Cloudflare Workers — our serverless platform — allows developers around the world to run their applications from our network of 200 datacenters, as close as possible to their users. </p><p>A few weeks ago <a href=\"https://blog.cloudflare.com/making-magic-reimagining-developer-experiences-for-the-world-of-serverless/\">we announced</a> a release candidate for <code>wrangler dev</code> — today, we're excited to take <code>wrangler dev</code>, the world’s first edge-based development environment, to GA with the release of <a href=\"https://github.com/cloudflare/wrangler/releases/tag/v1.11.0\">wrangler 1.11</a>.</p><h3 id=\"think-locally-develop-globally\">Think locally, develop globally</h3><p>It was once assumed that to successfully run an application on the web, one had to go and acquire a server, set it up (in a data center that hopefully you had access to), and then maintain it on an ongoing basis. Luckily for most of us, that assumption was challenged with the emergence of the cloud. The cloud was always assumed to be centralized — large data centers in a single region (“us-east-1”), reserved for compute. The edge? That was for caching static content. </p><p>Again, assumptions are being challenged. </p><p>Cloudflare Workers is about moving compute from a centralized location to the edge. And it makes sense: if users are distributed all over the globe, why should all of them be routed to us-east-1, on the opposite side of the world, causing latency and degrading user experience? </p><p>But challenging one assumption caused others to come into view. One of the most obvious ones was: would a <em>local</em> development environment actually provide the best experience for someone looking to test their Worker code? Trying to fit the entire Cloudflare edge, with all its dependencies onto a developer’s machine didn’t seem to be the best approach. Especially given that the place the developer was going to run that code in production was mere milliseconds away from the computer they were running on.</p><p>When I was in college, getting started with programming, one of the biggest barriers to entry was installing all the dependencies required to run a single library. I would go as far as to say that the third, and often forgotten hardest problem in computer science is dependency management. </p><p>We’re not the first to try and unify development environments across machines — tools such as Docker aim to solve this exact problem by providing a prepackaged development environment.</p><p>Yet, packaging up the Workers runtime is not quite so simple. </p><p>Beyond the Workers runtime, there are many components that make up Cloudflare’s edge, including DNS resolution, the Cloudflare cache — all of those parts are what makes Cloudflare Workers so powerful. That means that without those components, a standalone runtime is insufficient to represent the behavior of Worker request handling. The reason to develop locally first is to have the opportunity to experiment without affecting production. Thus, having a local development environment that truly reflects production is a requirement.</p><h2 id=\"wrangler-dev\"><code>wrangler dev</code></h2><p><code>wrangler dev</code> provides all the convenience of a local development environment, without the headache of trying to reproduce the reality of production locally — and then having to keep the two environments in sync. </p><p>By running at the edge, it provides a high fidelity, consistent experience for all developers, without sacrificing the speedy feedback loop of a local development environment. </p><h3 id=\"live-reloading\">Live reloading</h3><figure class=\"kg-card kg-image-card\"><img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/Announcing--wrangler-dev----the-Edge-on-localhost1.gif\" class=\"kg-image\" alt=\"Announcing wrangler dev — the Edge on localhost\"></figure><p>As you update your code, <code>wrangler dev</code> will detect changes, and push the new version of your code to the edge. </p><h3 id=\"console-log-at-your-fingertips\">console.log() at your fingertips</h3><figure class=\"kg-card kg-image-card\"><img src=\"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/Announcing--wrangler-dev----the-Edge-on-localhost2.gif\" class=\"kg-image\" alt=\"Announcing wrangler dev — the Edge on localhost\"></figure><p>Previously to extract your console logs from the Workers runtime, you had to have the Workers Preview open in a browser window at all times. With <code>wrangler dev</code>, you can receive your own logs, directly to your terminal of choice. </p><h3 id=\"cache-api-kv-and-more-\">Cache API, KV, and more!</h3><p>Since <code>wrangler dev</code> runs on the edge, you can now easily test the state of a cache.put(), without having to deploy your Worker to production. </p><p><code>wrangler dev</code> will spin up a new KV namespace for development, so you don’t have to worry about affecting your production data. </p><p>And if you’re looking to test out some of the features provided on <a href=\"https://developers.cloudflare.com/workers/runtime-apis/request#incomingrequestcfproperties\"><code>request.cf</code></a> that provide rich information about the request such as geo-location — they will all be provided from the Cloudflare data center.</p><h3 id=\"get-started\">Get started</h3><p><code>wrangler dev</code> is now available in the latest version of Wrangler, the official Cloudflare Workers CLI. </p><p>To get started, follow our installation instructions <a href=\"https://developers.cloudflare.com/workers/cli-wrangler/install-update#update\">here</a>.</p><h3 id=\"what-s-next\">What’s next?</h3><p><code>wrangler dev</code> is just our first foray into giving our developers more visibility and agility with their development process. </p><p>We recognize that we have a lot more work to do to meet our developers needs, including providing an easy testing framework for Workers, and allowing our customers to observe their Workers’ behavior in production.</p><p>Just as <code>wrangler dev</code> provides a quick feedback loop between our developers and their code, we love to have a tight feedback loop between our developers and our product. We love to hear what you’re building, how you’re building it, and how we can help you build it better.</p>","descriptionType":"html","publishedDate":"Wed, 26 Aug 2020 11:00:00 +0000","feedId":1732,"bgimg":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/Screen-Shot-2020-08-26-at-12.02.54.png","linkMd5":"47f97c4060b25faf6a638ac1ec118129","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn10@2020_5/2020/08/31/05-31-58-261_de9fd4bd3edcdcac.webp","destWidth":1334,"destHeight":750,"sourceBytes":1028663,"destBytes":51830,"author":"Rita Kozlov","articleImgCdnMap":{"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/Screen-Shot-2020-08-26-at-12.02.54.png":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn10@2020_5/2020/08/31/05-31-58-261_de9fd4bd3edcdcac.webp","https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/Announcing--wrangler-dev----the-Edge-on-localhost1.gif":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn66@2020_5/2020/08/31/05-33-48-958_f52a6409623a02c3.webp","https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/Announcing--wrangler-dev----the-Edge-on-localhost2.gif":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn29@2020_6/2020/08/31/05-33-25-700_549c4c3f34e7b0a2.webp"},"publishedOrCreatedDate":1598851917899}],"record":{"createdTime":"2020-08-31 13:31:57","updatedTime":"2020-08-31 13:31:57","feedId":1732,"fetchDate":"Mon, 31 Aug 2020 05:31:57 +0000","fetchMs":57,"handleMs":18,"totalMs":112755,"newArticles":0,"totalArticles":15,"status":1,"type":0,"ip":"d28287f36c8b0815640352f152cc1c11","hostName":"us-021*","requestId":"c60dd31b74984525b10803d3d1ab3b54_1732","contentType":"text/xml; charset=utf-8","totalBytes":11492450,"bgimgsTotal":5,"bgimgsGithubTotal":5,"articlesImgsTotal":24,"articlesImgsGithubTotal":23,"successGithubMap":{"myreaderx8":1,"myreaderx25":1,"myreaderx7":1,"myreaderx15":1,"myreaderx6":1,"myreaderx27":1,"myreaderx16":1,"myreaderx4":1,"myreaderx10":1,"myreaderx21":1,"myreaderx32":1,"myreaderx3":1,"myreaderx22":1,"myreaderx2":1,"myreaderx24":1,"myreaderx13":1,"myreaderx1":1,"myreaderx30":1,"myreaderx31":1,"myreaderx5oss":1,"myreaderx29":1,"myreaderx18":1,"myreaderx19":1},"failGithubMap":{"myreaderx23":1}},"feed":{"createdTime":"2020-08-24 21:31:32","updatedTime":"2020-08-24 22:51:20","id":1732,"name":"The Cloudflare Blog","url":"https://blog.cloudflare.com/rss/","subscriber":null,"website":null,"icon":"https://blog.cloudflare.com/favicon.png","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx62/cdn27@2020_6/2020/08/24/14-37-52-508_4122b61ca3c042fb.png","description":"The Cloudflare Blog","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2020-08-31 13:33:50","updatedTime":"2020-08-31 13:33:50","id":null,"feedId":1732,"linkMd5":"5efb2a9fb80d6e738b63c42dbe85ff7b"}],"tmpCommonImgCdnBytes":172048,"tmpBodyImgCdnBytes":11320402,"tmpBgImgCdnBytes":0,"extra4":{"start":1598851917822,"total":0,"statList":[{"spend":60,"msg":"获取xml内容"},{"spend":18,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":1,"msg":"修正封面图上传失败重新上传"},{"spend":110700,"msg":"正文链接上传到cdn"}]},"extra5":24,"extra6":24,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image4-7.png","sourceStatusCode":200,"destWidth":1999,"destHeight":1378,"sourceBytes":347983,"destBytes":92980,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":729,"convertSpendMs":152,"createdTime":"2020-08-31 13:31:59","host":"us-001*","referer":"https://blog.cloudflare.com/how-argo-tunnel-engineering-uses-argo-tunnel/","linkMd5ListStr":"5efb2a9fb80d6e738b63c42dbe85ff7b","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx23/cdn74/contents/2020/08/31/05-32-00-314_d495c896917659b8.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 69189253.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Mon, 31 Aug 2020 05:32:00 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["BB38:3FA1:1A0BD74:3B97431:5F4C8B4F"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, read:packages, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1598853387"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx23/cdn74/contents/2020/08/31/05-32-00-314_d495c896917659b8.webp","historyStatusCode":[],"spendMs":54},"base64UserPassword":null,"token":"df0b9******************************93a6e"},"githubUser":"myreaderx23","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"339.8 KB","destSize":"90.8 KB","compressRate":"26.7%"},{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image4-7.png","sourceStatusCode":200,"destWidth":1999,"destHeight":1378,"sourceBytes":347983,"destBytes":92980,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":484,"convertSpendMs":187,"createdTime":"2020-08-31 13:32:00","host":"us-001*","referer":"https://blog.cloudflare.com/how-argo-tunnel-engineering-uses-argo-tunnel/","linkMd5ListStr":"5efb2a9fb80d6e738b63c42dbe85ff7b","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx23/cdn74/contents/2020/08/31/05-32-00-845_d495c896917659b8.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 69189253.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Mon, 31 Aug 2020 05:32:00 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["BB2C:5E00:1B37AF4:3EBC5C6:5F4C8B50"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, read:packages, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1598853387"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx23/cdn74/contents/2020/08/31/05-32-00-845_d495c896917659b8.webp","historyStatusCode":[],"spendMs":41},"base64UserPassword":null,"token":"df0b9******************************93a6e"},"githubUser":"myreaderx23","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"339.8 KB","destSize":"90.8 KB","compressRate":"26.7%"},null,null],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://us-013.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-56.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe68.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-034.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-005.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-022.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-030.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-009.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-60.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-52.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-026.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-038.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-001.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-017.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://europe64.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-22.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-029.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/4-1.png","sourceStatusCode":200,"destWidth":1428,"destHeight":880,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn5@2020_5/2020/08/31/05-31-58-014_30fd90dd32e1fb70.webp","sourceBytes":93570,"destBytes":21614,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":903,"convertSpendMs":43,"createdTime":"2020-08-31 13:31:57","host":"us-013*","referer":"https://blog.cloudflare.com/analysis-of-todays-centurylink-level-3-outage/","linkMd5ListStr":"0518962a9a2f87ce392d7aeef7536f01,0518962a9a2f87ce392d7aeef7536f01","githubUser":"myreaderx31","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"91.4 KB","destSize":"21.1 KB","compressRate":"23.1%"},{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image3-10.png","sourceStatusCode":200,"destWidth":1600,"destHeight":820,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn98@2020_3/2020/08/31/05-31-58-249_3deca6be69e1b05b.webp","sourceBytes":223063,"destBytes":52662,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":1172,"convertSpendMs":41,"createdTime":"2020-08-31 13:31:57","host":"us-025*","referer":"https://blog.cloudflare.com/asynchronous-htmlrewriter-for-cloudflare-workers/","linkMd5ListStr":"2c68d6c7d28f581bf9d2922bd506dee4,2c68d6c7d28f581bf9d2922bd506dee4","githubUser":"myreaderx4","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"217.8 KB","destSize":"51.4 KB","compressRate":"23.6%"},{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/Screen-Shot-2020-08-26-at-12.02.54.png","sourceStatusCode":200,"destWidth":1334,"destHeight":750,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn10@2020_5/2020/08/31/05-31-58-261_de9fd4bd3edcdcac.webp","sourceBytes":1028663,"destBytes":51830,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":1285,"convertSpendMs":96,"createdTime":"2020-08-31 13:31:57","host":"us-001*","referer":"https://blog.cloudflare.com/announcing-wrangler-dev-the-edge-on-localhost/","linkMd5ListStr":"47f97c4060b25faf6a638ac1ec118129,47f97c4060b25faf6a638ac1ec118129","githubUser":"myreaderx2","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1,004.6 KB","destSize":"50.6 KB","compressRate":"5%"},{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/GNI-2017Artboard-1@2x.png","sourceStatusCode":200,"destWidth":1200,"destHeight":736,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn100@2020_2/2020/08/31/05-31-58-289_5de8dad821c9207f.webp","sourceBytes":211827,"destBytes":26146,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":1268,"convertSpendMs":170,"createdTime":"2020-08-31 13:31:57","host":"us-026*","referer":"https://blog.cloudflare.com/cloudflare-and-human-rights-joining-the-global-network-initiative-gni/","linkMd5ListStr":"a12a25b9017f38f1ff29861415e0ba4d,a12a25b9017f38f1ff29861415e0ba4d","githubUser":"myreaderx19","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"206.9 KB","destSize":"25.5 KB","compressRate":"12.3%"},{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/How-Argo-Tunnel-engineering-uses-Argo-Tunnel-thumb.png","sourceStatusCode":200,"destWidth":1200,"destHeight":628,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn13@2020_5/2020/08/31/05-31-58-794_09efabd4d65ffdb6.webp","sourceBytes":65325,"destBytes":19796,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":1783,"convertSpendMs":25,"createdTime":"2020-08-31 13:31:58","host":"europe64*","referer":"https://blog.cloudflare.com/how-argo-tunnel-engineering-uses-argo-tunnel/","linkMd5ListStr":"5efb2a9fb80d6e738b63c42dbe85ff7b,5efb2a9fb80d6e738b63c42dbe85ff7b","githubUser":"myreaderx29","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"63.8 KB","destSize":"19.3 KB","compressRate":"30.3%"},{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/Web-Top-copy-2-1.png","sourceStatusCode":200,"destWidth":300,"destHeight":141,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn69@2020_4/2020/08/31/05-31-59-930_1c01315b44fefac0.webp","sourceBytes":31691,"destBytes":7122,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":860,"convertSpendMs":7,"createdTime":"2020-08-31 13:31:59","host":"us-013*","referer":"https://blog.cloudflare.com/cloudflare-and-human-rights-joining-the-global-network-initiative-gni/","linkMd5ListStr":"a12a25b9017f38f1ff29861415e0ba4d","githubUser":"myreaderx1","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"30.9 KB","destSize":"7 KB","compressRate":"22.5%"},{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/3-2.png","sourceStatusCode":200,"destWidth":1510,"destHeight":319,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx25/cdn61@2020_5/2020/08/31/05-31-59-991_9fa9f59f7b7612ec.webp","sourceBytes":27847,"destBytes":24282,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":913,"convertSpendMs":38,"createdTime":"2020-08-31 13:31:59","host":"us-038*","referer":"https://blog.cloudflare.com/analysis-of-todays-centurylink-level-3-outage/","linkMd5ListStr":"0518962a9a2f87ce392d7aeef7536f01","githubUser":"myreaderx25","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"27.2 KB","destSize":"23.7 KB","compressRate":"87.2%"},{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/7-1.png","sourceStatusCode":200,"destWidth":1540,"destHeight":312,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx32/cdn41@2020_6/2020/08/31/05-31-59-968_d237dc4046274a60.webp","sourceBytes":73258,"destBytes":68226,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":973,"convertSpendMs":24,"createdTime":"2020-08-31 13:31:59","host":"us-034*","referer":"https://blog.cloudflare.com/analysis-of-todays-centurylink-level-3-outage/","linkMd5ListStr":"0518962a9a2f87ce392d7aeef7536f01","githubUser":"myreaderx32","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"71.5 KB","destSize":"66.6 KB","compressRate":"93.1%"},{"code":1,"isDone":false,"source":"https://deploy.workers.cloudflare.com/button","sourceStatusCode":200,"destWidth":0,"destHeight":0,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn81@2020_6/2020/08/31/05-32-00-070_915877f2de30fc98.svg","sourceBytes":9056,"destBytes":9056,"feedId":1732,"totalSpendMs":974,"convertSpendMs":0,"createdTime":"2020-08-31 13:31:59","host":"us-52*","referer":"https://blog.cloudflare.com/asynchronous-htmlrewriter-for-cloudflare-workers/","linkMd5ListStr":"2c68d6c7d28f581bf9d2922bd506dee4","githubUser":"myreaderx18","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"8.8 KB","destSize":"8.8 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image1-18.png","sourceStatusCode":200,"destWidth":1586,"destHeight":348,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn46@2020_3/2020/08/31/05-32-00-073_37d12607499546ec.webp","sourceBytes":50110,"destBytes":38990,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":1061,"convertSpendMs":24,"createdTime":"2020-08-31 13:31:59","host":"us-022*","referer":"https://blog.cloudflare.com/asynchronous-htmlrewriter-for-cloudflare-workers/","linkMd5ListStr":"2c68d6c7d28f581bf9d2922bd506dee4","githubUser":"myreaderx3","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"48.9 KB","destSize":"38.1 KB","compressRate":"77.8%"},{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/6-1.png","sourceStatusCode":200,"destWidth":734,"destHeight":312,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn17@2020_3/2020/08/31/05-31-59-977_9b7bdd0a2eaa3242.webp","sourceBytes":49906,"destBytes":47840,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":1131,"convertSpendMs":23,"createdTime":"2020-08-31 13:31:59","host":"us-029*","referer":"https://blog.cloudflare.com/analysis-of-todays-centurylink-level-3-outage/","linkMd5ListStr":"0518962a9a2f87ce392d7aeef7536f01","githubUser":"myreaderx5oss","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"48.7 KB","destSize":"46.7 KB","compressRate":"95.9%"},{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image3-9.png","sourceStatusCode":200,"destWidth":1600,"destHeight":820,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn90@2020_5/2020/08/31/05-32-00-109_18070dd0a73f7fe7.webp","sourceBytes":223063,"destBytes":52662,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":1192,"convertSpendMs":55,"createdTime":"2020-08-31 13:31:59","host":"us-017*","referer":"https://blog.cloudflare.com/asynchronous-htmlrewriter-for-cloudflare-workers/","linkMd5ListStr":"2c68d6c7d28f581bf9d2922bd506dee4","githubUser":"myreaderx16","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"217.8 KB","destSize":"51.4 KB","compressRate":"23.6%"},{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image2-9.png","sourceStatusCode":200,"destWidth":1982,"destHeight":684,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn85@2020_3/2020/08/31/05-32-00-120_2032e8d1c40fcf60.webp","sourceBytes":130199,"destBytes":86462,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":1233,"convertSpendMs":67,"createdTime":"2020-08-31 13:31:59","host":"us-030*","referer":"https://blog.cloudflare.com/asynchronous-htmlrewriter-for-cloudflare-workers/","linkMd5ListStr":"2c68d6c7d28f581bf9d2922bd506dee4","githubUser":"myreaderx22","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"127.1 KB","destSize":"84.4 KB","compressRate":"66.4%"},{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/2-1.png","sourceStatusCode":200,"destWidth":1600,"destHeight":1174,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn19@2020_6/2020/08/31/05-32-00-077_faf22a3f1ada809d.webp","sourceBytes":530901,"destBytes":144878,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":1266,"convertSpendMs":106,"createdTime":"2020-08-31 13:31:59","host":"us-030*","referer":"https://blog.cloudflare.com/analysis-of-todays-centurylink-level-3-outage/","linkMd5ListStr":"0518962a9a2f87ce392d7aeef7536f01","githubUser":"myreaderx6","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"518.5 KB","destSize":"141.5 KB","compressRate":"27.3%"},{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image1-17.png","sourceStatusCode":200,"destWidth":1999,"destHeight":959,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn50@2020_1/2020/08/31/05-32-00-291_b4d3eb8933517759.webp","sourceBytes":809759,"destBytes":201238,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":1447,"convertSpendMs":139,"createdTime":"2020-08-31 13:31:59","host":"us-009*","referer":"https://blog.cloudflare.com/how-argo-tunnel-engineering-uses-argo-tunnel/","linkMd5ListStr":"5efb2a9fb80d6e738b63c42dbe85ff7b","githubUser":"myreaderx30","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"790.8 KB","destSize":"196.5 KB","compressRate":"24.9%"},{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/4-2.png","sourceStatusCode":200,"destWidth":1428,"destHeight":880,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn58@2020_2/2020/08/31/05-32-00-233_4088fec2e8489c52.webp","sourceBytes":93570,"destBytes":21614,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":1390,"convertSpendMs":38,"createdTime":"2020-08-31 13:31:59","host":"europe-60*","referer":"https://blog.cloudflare.com/analysis-of-todays-centurylink-level-3-outage/","linkMd5ListStr":"0518962a9a2f87ce392d7aeef7536f01","githubUser":"myreaderx21","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"91.4 KB","destSize":"21.1 KB","compressRate":"23.1%"},{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image5-3.png","sourceStatusCode":200,"destWidth":1001,"destHeight":261,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn33@2020_4/2020/08/31/05-32-00-428_18ae8e6e38111f00.webp","sourceBytes":21035,"destBytes":11812,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":1424,"convertSpendMs":12,"createdTime":"2020-08-31 13:32:00","host":"europe68*","referer":"https://blog.cloudflare.com/how-argo-tunnel-engineering-uses-argo-tunnel/","linkMd5ListStr":"5efb2a9fb80d6e738b63c42dbe85ff7b","githubUser":"myreaderx27","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"20.5 KB","destSize":"11.5 KB","compressRate":"56.2%"},{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image3-7.png","sourceStatusCode":200,"destWidth":1999,"destHeight":1263,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn54@2020_4/2020/08/31/05-32-00-400_5db46e2609e23d90.webp","sourceBytes":206456,"destBytes":63478,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":1636,"convertSpendMs":64,"createdTime":"2020-08-31 13:31:59","host":"europe-22*","referer":"https://blog.cloudflare.com/how-argo-tunnel-engineering-uses-argo-tunnel/","linkMd5ListStr":"5efb2a9fb80d6e738b63c42dbe85ff7b","githubUser":"myreaderx10","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"201.6 KB","destSize":"62 KB","compressRate":"30.7%"},{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image-3.png","sourceStatusCode":200,"destWidth":1426,"destHeight":1406,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn37@2020_2/2020/08/31/05-32-00-151_f2bdae37da6cf106.webp","sourceBytes":416222,"destBytes":248840,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":1735,"convertSpendMs":96,"createdTime":"2020-08-31 13:31:59","host":"europe-56*","referer":"https://blog.cloudflare.com/analysis-of-todays-centurylink-level-3-outage/","linkMd5ListStr":"0518962a9a2f87ce392d7aeef7536f01","githubUser":"myreaderx24","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"406.5 KB","destSize":"243 KB","compressRate":"59.8%"},{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/image2-8.png","sourceStatusCode":200,"destWidth":1758,"destHeight":494,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn77@2020_4/2020/08/31/05-32-01-165_10eb3f0745f76e3d.webp","sourceBytes":415180,"destBytes":95218,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":2676,"convertSpendMs":43,"createdTime":"2020-08-31 13:31:59","host":"europe64*","referer":"https://blog.cloudflare.com/how-argo-tunnel-engineering-uses-argo-tunnel/","linkMd5ListStr":"5efb2a9fb80d6e738b63c42dbe85ff7b","githubUser":"myreaderx8","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"405.4 KB","destSize":"93 KB","compressRate":"22.9%"},{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/1-3.png","sourceStatusCode":200,"destWidth":1462,"destHeight":936,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx15/cdn25@2020_1/2020/08/31/05-32-01-352_ab758dc56f310ef6.webp","sourceBytes":194076,"destBytes":112572,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":1415,"convertSpendMs":55,"createdTime":"2020-08-31 13:32:01","host":"us-017*","referer":"https://blog.cloudflare.com/analysis-of-todays-centurylink-level-3-outage/","linkMd5ListStr":"0518962a9a2f87ce392d7aeef7536f01","githubUser":"myreaderx15","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"189.5 KB","destSize":"109.9 KB","compressRate":"58%"},{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/Announcing--wrangler-dev----the-Edge-on-localhost2.gif","sourceStatusCode":200,"destWidth":1600,"destHeight":901,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn29@2020_6/2020/08/31/05-33-25-700_549c4c3f34e7b0a2.webp","sourceBytes":4482617,"destBytes":7124156,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":28629,"convertSpendMs":23517,"createdTime":"2020-08-31 13:33:00","host":"europe-60*","referer":"https://blog.cloudflare.com/announcing-wrangler-dev-the-edge-on-localhost/","linkMd5ListStr":"47f97c4060b25faf6a638ac1ec118129","githubUser":"myreaderx13","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"4.3 MB","destSize":"6.8 MB","compressRate":"158.9%"},{"code":1,"isDone":false,"source":"https://blog-cloudflare-com-assets.storage.googleapis.com/2020/08/Announcing--wrangler-dev----the-Edge-on-localhost1.gif","sourceStatusCode":200,"destWidth":1600,"destHeight":901,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn66@2020_5/2020/08/31/05-33-48-958_f52a6409623a02c3.webp","sourceBytes":2492843,"destBytes":2961956,"targetWebpQuality":75,"feedId":1732,"totalSpendMs":20449,"convertSpendMs":18394,"createdTime":"2020-08-31 13:33:30","host":"us-52*","referer":"https://blog.cloudflare.com/announcing-wrangler-dev-the-edge-on-localhost/","linkMd5ListStr":"47f97c4060b25faf6a638ac1ec118129","githubUser":"myreaderx7","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"2.4 MB","destSize":"2.8 MB","compressRate":"118.8%"}],"successGithubMap":{"myreaderx8":1,"myreaderx25":1,"myreaderx7":1,"myreaderx15":1,"myreaderx6":1,"myreaderx27":1,"myreaderx16":1,"myreaderx4":1,"myreaderx10":1,"myreaderx21":1,"myreaderx32":1,"myreaderx3":1,"myreaderx22":1,"myreaderx2":1,"myreaderx24":1,"myreaderx13":1,"myreaderx1":1,"myreaderx30":1,"myreaderx31":1,"myreaderx5oss":1,"myreaderx29":1,"myreaderx18":1,"myreaderx19":1},"failGithubMap":{"myreaderx23":1}}