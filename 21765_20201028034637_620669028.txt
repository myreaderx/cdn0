{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-28 11:46:18","updatedTime":"2020-10-28 11:46:18","title":"FirePadで書いてScrapboxに保存する方法","link":"https://wineroses.hatenadiary.org/entry/20180806/p1","description":"<p>猛暑のさなか図書館通いになっています。抜き書きにメモする場面でKindleFireが活躍。さて、書くは良いとして、どこに蓄えようか。これが悩みどころで、読書そのものの本質に関わるけれど、とりあえず<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Scrapbox\">Scrapbox</a>に移す作戦にしました。</p><br />\n<p><h4 id=\"firepad\">FirePad</h4><div style=\"color:gray;background:white;border:1px solid lightgray;padding:10px;border-radius:5px;\"><a href=\"http://d.hatena.ne.jp/wineroses/20180722/p1\" target=\"_blank\" style=\"color:darkblue;text-decoration:none;font-weight:bold;\"><img align=\"right\" src=\"http://capture.heartrails.com/100x100/?http://d.hatena.ne.jp/wineroses/20180722/p1\" style=\"border-radius:5px;margin:5px;box-shadow:1px 2px 3px gray;\">iOS/Android兼用のモブログ・エディタ FirePad を作ってみた</a><br><span style=\"font-size:80%;\"><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Android\">Android</a>は使いにくい。なぜ使いにくいかというと、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/iPhone\">iPhone</a>の<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%E2%A5%D6%A5%ED%A5%B0\">モブログ</a>環境と比較するからです。<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/iPhone\">iPhone</a>には便利なツールが揃っています。でも初めから用意されていたのではありません。ユーザーが必...</span><br style=\"clear:both;\"><a href=\"http://b.hatena.ne.jp/entry/http://d.hatena.ne.jp/wineroses/20180722/p1\" target=\"_blank\"><img src=\"http://b.hatena.ne.jp/entry/image/http://d.hatena.ne.jp/wineroses/20180722/p1\"></a></div></p><p>自作のオンライン・エディタ。行単位で編集する機能も備えています。<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/GitHub\">GitHub</a>のソースをそのまま抜き出し、KindleFireのローカルファイルにもできる。ソース内の書き換えは要るけれどオフラインでも動かせるので、これがFire<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%BF%A5%D6%A5%EC%A5%C3%A5%C8\">タブレット</a>の利点になります。</p><br />\n<p><h4 id=\"scrapbox-\"><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Scrapbox\">Scrapbox</a>に書く</h4><img width=\"280\" src=\"https://i.gyazo.com/95ac71c72d34866a120c52c17f398bff.jpg\"></p><p><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Scrapbox\">Scrapbox</a>に転送するための<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%D6%A5%C3%A5%AF%A5%DE%A1%BC%A5%AF%A5%EC%A5%C3%A5%C8\">ブックマークレット</a>です。FirePadで起動すると<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Scrapbox\">Scrapbox</a>に切り替わります。ソース内の変数<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Scrapbox\">Scrapbox</a>をご自分のURLアドレスに書き換えてください。</p><p><pre><code>javascript:<br />\nScrapbox=\"https://scrapbox.io/PROJECT\";<br />\nFirePad=\"https://wineroses.github.io/fire/pad.html\";<br />\nurl=location.href;<br />\nif(url.indexOf(FirePad)&gt;=0){<br />\ns=fire.value;t=s.split(\"\\n\")[0];b=s.substr(t.length);<br />\nlocation=Scrapbox+\"/\"+encodeURIComponent(t)+\"?body=\"+encodeURIComponent(b);<br />\n}else{<br />\nif(url.indexOf(Scrapbox)&gt;=0){<br />\ns=scrapbox.Page.lines.map((x) =&gt; x.text).join(\"\\n\");<br />\n}else{<br />\nif(url.indexOf(\"youtube.com\")&gt;=0){<br />\nid=url.split(\"v=\")[1].split(\"&amp;\")[0];<br />\ns=\"&lt;iframe width='350' height='200' src=\\\"https://www.youtube.com/embed/\"+id+\"\\\"&gt;&lt;/iframe&gt;\\n\";<br />\n}else{<br />\ns=\"&lt;a href=\"+url+\"&gt;\"+document.title+\"&lt;/a&gt;\\n\";<br />\n}}<br />\nlocation=FirePad+\"?\"+encodeURIComponent(s);<br />\n}</code></pre></p><br />\n<p><h4 id=\"scrapbox-\"><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Scrapbox\">Scrapbox</a>から戻す</h4><img width=\"280\" src=\"https://i.gyazo.com/2ae1fc799d8d5be9ce823b6392bf08fc.jpg\"></p><p>上記<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%EA%A5%D7%A5%C8\">スクリプト</a>を<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Scrapbox\">Scrapbox</a>で起動すると、FirePadに追記します。相互にやり取りできる。Scrspbox用の<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Android\">Android</a>アプリがないので、FirePadで代用するイメージです。</p><br />\n<p><h4 id=\"-\">おまけ</h4><iframe width=\"350\" height=\"200\" src=\"https://www.youtube.com/embed/8UpQSKsxhCc\" frameborder=0></iframe></p><p><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/YouTube\">YouTube</a>でこの<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%EA%A5%D7%A5%C8\">スクリプト</a>を起動するとFirePadに動画を貼り付けます。プレビューで動画の再生もできます。それ以外のサイトだと通常のリンクが埋め込まれます。</p><p>（ありゃ。<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/YouTube\">YouTube</a>の動画ってFirefoxFocusに弾かれてしまうんですね。ブロッカーを外してこのページを見てください。<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%C8%A5%A5%A1%BC%A5%C4%A1%A6%A5%B7%A1%BC%A5%EB%A5%DE%A5%F3%A5%B9\">トゥーツ・シールマンス</a>のImagineが視聴できます。）</p><br />\n<p><h4 id=\"-\">仕様の変更</h4>FirePadでのプレビューを三本指でのタップに変更しました。二本指でタップだとカード・モードになります。カード・モードも行単位から段落単位に変更しました。空行に挟まれた範囲を「段落」とするので、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%BE%F0%CA%F3%A5%AB%A1%BC%A5%C9\">情報カード</a>っぽく扱えます。</p><p>つまり、タップする指の数で、文字編集→段落編集→プレビューと移行する仕様です。</p><br />\n<p><h4 id=\"-\">まとめ</h4>Fire7で<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Scrapbox\">Scrapbox</a>を活用する<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%D6%A5%C3%A5%AF%A5%DE%A1%BC%A5%AF%A5%EC%A5%C3%A5%C8\">ブックマークレット</a>ですが、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/iPhone\">iPhone</a>でも利用できます。<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Scrapbox\">Scrapbox</a>をブラウザで見るなら、その延長でFirePadを立ち上げると入力に集中しやすい。</p><p>FirePadの一行目が<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Scrapbox\">Scrapbox</a>でのタイトルになります。同じタイトルのページがあると追記になります。日本語変換で「きょう」と打つとタイムスタンプが現れるので、それを一行目にしておくと日毎にまとめられ、ア<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A4%A5%C7%A5%A2\">イデア</a>メモらしい使い方になります。</p><p><li><a href=\"http://d.hatena.ne.jp/wineroses/20180811/p1\">スマホで書くならこんなエディタがいいんじゃないかな FirePad</a></li></p>\n","descriptionType":"html","publishedDate":"Sun, 05 Aug 2018 15:00:00 +0000","feedId":21765,"bgimg":"http://capture.heartrails.com/100x100/?http://d.hatena.ne.jp/wineroses/20180722/p1","linkMd5":"ae780fa0d850f1603e311d921b7492e9","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn74@2020_6/2020/10/28/03-46-34-565_e01bb76f220bab40.webp","destWidth":100,"destHeight":100,"sourceBytes":1004,"destBytes":456,"author":"wineroses","enclosureType":"","enclosureUrl":"http://capture.heartrails.com/100x100/?http://d.hatena.ne.jp/wineroses/20180722/p1","articleImgCdnMap":{"http://capture.heartrails.com/100x100/?http://d.hatena.ne.jp/wineroses/20180722/p1":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn74@2020_6/2020/10/28/03-46-34-565_e01bb76f220bab40.webp","http://b.hatena.ne.jp/entry/image/http://d.hatena.ne.jp/wineroses/20180722/p1":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn81@2020_6/2020/10/28/03-46-36-253_ecf169c65f6768b5.webp","https://i.gyazo.com/95ac71c72d34866a120c52c17f398bff.jpg":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn78@2020_1/2020/10/28/03-46-35-696_b1e2744fac46a753.webp","https://i.gyazo.com/2ae1fc799d8d5be9ce823b6392bf08fc.jpg":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn85@2020_1/2020/10/28/03-46-35-937_cb1f70a24c85c000.webp"},"publishedOrCreatedDate":1603856778757}],"record":{"createdTime":"2020-10-28 11:46:18","updatedTime":"2020-10-28 11:46:18","feedId":21765,"fetchDate":"Wed, 28 Oct 2020 03:46:18 +0000","fetchMs":2781,"handleMs":5699,"totalMs":27238,"newArticles":0,"totalArticles":30,"status":1,"type":0,"ip":"f6db38fc16ee9e62fc92cadc75f25f6b","hostName":"us-029*","requestId":"6031a7c26e5c48ee9fd8a0886cf35740_21765","contentType":"application/atom+xml; charset=utf-8","totalBytes":138676,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":4,"articlesImgsGithubTotal":4,"successGithubMap":{"myreaderx22":1,"myreaderx12":1,"myreaderx1":1,"myreaderx29":1},"failGithubMap":{}},"feed":{"createdTime":"2020-09-07 02:25:54","updatedTime":"2020-09-07 02:25:54","id":21765,"name":"W&R : Jazzと読書の日々","url":"http://d.hatena.ne.jp/wineroses/rss","subscriber":152,"website":null,"icon":"https://wineroses.hatenadiary.org/favicon.ico","icon_jsdelivr":null,"description":"","weekly":null,"link":"https://wineroses.hatenadiary.org"},"noPictureArticleList":[],"tmpCommonImgCdnBytes":456,"tmpBodyImgCdnBytes":138220,"tmpBgImgCdnBytes":0,"extra4":{"start":1603856770096,"total":0,"statList":[{"spend":2962,"msg":"获取xml内容"},{"spend":5699,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":2,"msg":"修正封面图上传失败重新上传"},{"spend":1958,"msg":"正文链接上传到cdn"}]},"extra5":4,"extra6":4,"extra7ImgCdnFailResultVector":[],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://us-007.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-58.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe70.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"http://capture.heartrails.com/100x100/?http://d.hatena.ne.jp/wineroses/20180722/p1","sourceStatusCode":200,"destWidth":100,"destHeight":100,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn74@2020_6/2020/10/28/03-46-34-565_e01bb76f220bab40.webp","sourceBytes":1004,"destBytes":456,"targetWebpQuality":75,"feedId":21765,"totalSpendMs":16584,"convertSpendMs":2,"createdTime":"2020-10-28 11:46:18","host":"us-019*","referer":"https://wineroses.hatenadiary.org/entry/20180806/p1","linkMd5ListStr":"ae780fa0d850f1603e311d921b7492e9,ae780fa0d850f1603e311d921b7492e9","githubUser":"myreaderx1","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1,004 B","destSize":"456 B","compressRate":"45.4%"},{"code":1,"isDone":false,"source":"https://i.gyazo.com/95ac71c72d34866a120c52c17f398bff.jpg","sourceStatusCode":200,"destWidth":600,"destHeight":1024,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn78@2020_1/2020/10/28/03-46-35-696_b1e2744fac46a753.webp","sourceBytes":47891,"destBytes":73314,"targetWebpQuality":75,"feedId":21765,"totalSpendMs":1253,"convertSpendMs":26,"createdTime":"2020-10-28 11:46:35","host":"us-007*","referer":"https://wineroses.hatenadiary.org/entry/20180806/p1","linkMd5ListStr":"ae780fa0d850f1603e311d921b7492e9","githubUser":"myreaderx22","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"46.8 KB","destSize":"71.6 KB","compressRate":"153.1%"},{"code":1,"isDone":false,"source":"https://i.gyazo.com/2ae1fc799d8d5be9ce823b6392bf08fc.jpg","sourceStatusCode":200,"destWidth":600,"destHeight":1024,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn85@2020_1/2020/10/28/03-46-35-937_cb1f70a24c85c000.webp","sourceBytes":40949,"destBytes":64604,"targetWebpQuality":75,"feedId":21765,"totalSpendMs":1625,"convertSpendMs":69,"createdTime":"2020-10-28 11:46:35","host":"europe-58*","referer":"https://wineroses.hatenadiary.org/entry/20180806/p1","linkMd5ListStr":"ae780fa0d850f1603e311d921b7492e9","githubUser":"myreaderx29","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"40 KB","destSize":"63.1 KB","compressRate":"157.8%"},{"code":1,"isDone":false,"source":"http://b.hatena.ne.jp/entry/image/http://d.hatena.ne.jp/wineroses/20180722/p1","sourceStatusCode":200,"destWidth":35,"destHeight":13,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn81@2020_6/2020/10/28/03-46-36-253_ecf169c65f6768b5.webp","sourceBytes":116,"destBytes":302,"targetWebpQuality":75,"feedId":21765,"totalSpendMs":1784,"convertSpendMs":2,"createdTime":"2020-10-28 11:46:35","host":"europe70*","referer":"https://wineroses.hatenadiary.org/entry/20180806/p1","linkMd5ListStr":"ae780fa0d850f1603e311d921b7492e9","githubUser":"myreaderx12","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"116 B","destSize":"302 B","compressRate":"260.3%"}],"successGithubMap":{"myreaderx22":1,"myreaderx12":1,"myreaderx1":1,"myreaderx29":1},"failGithubMap":{}}