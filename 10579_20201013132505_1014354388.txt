{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-13 21:23:57","updatedTime":"2020-10-13 21:23:57","title":"Mermaid，就像用 Markdown 码字一样，高效制作简易流图","link":"https://sspai.com/post/63055","description":"<div class=\"articleWidth-content\" data-v-b5fe1ab0><div class=\"content wangEditor-txt minHeight\" data-v-b5fe1ab0><h2 style=\"margin-left:0px;\">「码图」而不是「画图」？</h2><p style=\"margin-left:0px;\">许多工作者的日常工作中，除了写字记录，有时还会需要画一些简单的「示意图」，这些示意图会让我们的文档或报告变得形象生动，便于理解，例如下面这些图：</p><ul><li>流程图</li><li>结构关系图</li><li>进度图或甘特图</li><li>业务序列图</li></ul><p>如果我们恰好同时对 markdown 的「标记式」记录方法高度认可的话，那么有没有想过使用类似 markdown 形式的语言，快速<strong>「写」一个「流图」</strong>出来？</p><p style=\"margin-left:0px;\">说到 markdown， 可能已经是很多朋友熟悉的一种记录语言了。在互联网时代，markdown 被广泛普及运用。很多人用 markdown 写博客，写日志，写备忘，网上也有一堆支持 markdown 的写作工具，例如：熊掌记（bear），ia Writer， Ulysses， Day One，甚至 印象笔记 也在近几年开始支持 markdown 语法。对于不少追求效率的朋友来说，markdown 是近来文字记录领域中难以忽视的方案。</p><p style=\"margin-left:0px;\">那么在「绘制流图」的领域当中，也有类似 markdown 的方案呢？</p><p style=\"margin-left:0px;\">细细想来，流图或关系图，主要强调的是 拓扑关系，流向，节点内容，而不是一些花哨的排版。 这点和 markdown 秉承的「<strong>重内容，重结构，轻排版</strong>」的思路有不谋而合之处。 所以，火箭君这次想介绍的就是，「流图界」的 markdown 语言，也被称之为 Mermaid 语言。</p><p style=\"margin-left:0px;\">本文的目的，就在于给大家一个入门的介绍，帮助大家认识到 Mermaid 的威力以及上手融入工作的方法。</p><p style=\"margin-left:0px;\">Mermaid 的具体文档和范例都有专门的官方网站介绍，文章最后会列出参考出处，需要深入了解的话可以细细挖掘，惊喜不断。</p><h2><strong>Mermaid 的好处</strong></h2><h3><strong>易于编辑和生成图画</strong></h3><p style=\"margin-left:0px;\">通过 Mermaid，我们不用专门的流图工具（例如：微软的Visio），我们需要编辑的只是文本，因此不少现成的Markdown 编辑器都可以用上，如果不看渲染结果，仅作编辑的话，普通文本编辑器都能胜任。</p><p style=\"margin-left:0px;\">一个简单的例子，短短几行就能生成一个流图：</p><p style=\"margin-left:0px;\">graph TD;</p><p style=\"margin-left:0px;\"> A-->B;</p><p style=\"margin-left:0px;\"> A-->C; </p><p style=\"margin-left:0px;\">B-->D;</p><p style=\"margin-left:0px;\"> C-->D;</p><figure class=\"image ss-img-wrapper\"><img src=\"https://cdn.sspai.com//2020/10/09/91be3fc3afd1db6183681ea9766f39c5.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1\" data-original=\"https://cdn.sspai.com//2020/10/09/91be3fc3afd1db6183681ea9766f39c5.png\" referrerpolicy=\"no-referrer\"><figcaption>一个简单流图的渲染结果</figcaption></figure><p style=\"margin-left:0px;\"> </p><h3><strong>符合火箭君主张的「开放文件理念」</strong></h3><p style=\"margin-left:0px;\">Mermaid 和 markdown 一样，都是纯文本格式存储的语言。纯文本文件打破了很多软件封闭格式的限制，更加利于用户掌握自己的内容。也易于我们 存储，解析，发送文件内容，而不是受制于特定应用的软件或网站平台。</p><p style=\"margin-left:0px;\">如果我们有过某些领域下载文献的经验就会看到，许多宝贵的 paper 都被加工成 一些特定加密格式的文件，只有 XX阅读器可以浏览。 XX阅读器可能会打广告可能会要求我们续费，然而即使这样，我们的资料仍旧对我们不透明，哪天XX阅读器不高兴的话，我们下载的资料就是乌有。 连「有和无」都成问题， 更谈不上信息利用分析和检索了。 这也是有感而发，前两天刚有小伙伴咨询有无办法将这种格式 批量转换成 PDF（PDF 是一种开放标准格式，几乎对所有人透明）。</p><h3><strong>天然的 Web友好特性</strong></h3><p style=\"margin-left:0px;\">Mermaid 的核心是一个基于JS 的解析库，这意味着我们可以把 Mermaid 文本，直接嵌入网页中，而访问者就能<strong>直接看到</strong>渲染后的流图了。</p><p style=\"margin-left:0px;\">顺便说一下，Mermaid 的 JS解析库，被评为 2019年 JS Open Source Awards 「The most exciting use of technology」分类下的大奖。</p><figure class=\"image ss-img-wrapper image_resized\" style=\"width:320px;\"><img src=\"https://cdn.sspai.com//2020/10/09/81602c4695a644a2ab3cac6dadd9acd8.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1\" data-original=\"https://cdn.sspai.com//2020/10/09/81602c4695a644a2ab3cac6dadd9acd8.png\" referrerpolicy=\"no-referrer\"></figure><p style=\"margin-left:0px;\"> </p><p style=\"margin-left:0px;\">以后，只要页面略作调整，就能在 公司官网，在线创作平台，在线文档，在线笔记 之类的网页里嵌入流图了。而以往我们需要这样做：</p><ol><li>通过画图软件生成图片</li><li>截图编辑</li><li>上传贴图到图床或云存储</li><li>将图片引用地址嵌入网页或文档</li></ol><p style=\"margin-left:0px;\">而现在，利用 Mermaid 只要一步（编辑 Mermaid 代码）就可以了。</p><h2><strong>Mermaid 登场及用法</strong></h2><h3><strong>我们在哪里能写 Mermaid？</strong></h3><p style=\"margin-left:0px;\">我们已经知道，Mermaid 本质是一种标记语言，借由一个解析库 将文本 「翻译渲染」成「图画」。</p><p style=\"margin-left:0px;\">虽然通过一个纯文本编辑器，例如：写字板，我们可以撰写 Mermaid 文本，但显然不能指望这样就可以「渲染」出「绘图」来。这和 Markdown 的原理是一样的，渲染需要专门的编辑器。 好消息是，Mermaid 已经被很多 Markdown 编辑器直接或间接支持。 也就是说直接用现有的 markdown 编辑器就可以上手一试了，几乎没有额外负担。</p><p style=\"margin-left:0px;\">这里是部分支持 Mermaid 的编辑器</p><ul><li>印象笔记 Markdown 笔记</li><li>有道云笔记（未实测，希望大家补充纠正）</li><li>Typora （火箭君推荐）</li><li>MWeb（未实测，希望大家补充纠正）</li><li>VSCode + Mermaid 插件</li><li>Atom + Mermaid 插件</li><li>MermaidJS 官方网页版 编辑器 （后文有参考链接）</li></ul><p style=\"margin-left:0px;\">需要注意的是，由于Mermaid本身还在发展，并非所有特性都能被所有 Markdown 编辑器支持。不过，常见的流图编辑模式已经比较成熟，大多被支持。至于具体渲染效果如何，我们还是要以编辑器的实际输出为准。</p><figure class=\"image ss-img-wrapper\"><img src=\"https://cdn.sspai.com//2020/10/09/0556b8fb4337858dcee7419aa1e46a14.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1\" data-original=\"https://cdn.sspai.com//2020/10/09/0556b8fb4337858dcee7419aa1e46a14.png\" referrerpolicy=\"no-referrer\"><figcaption>印象笔记 在Markdown笔记中 生成的 Mermaid 图</figcaption></figure><h3><strong>Mermaid 支持哪些图？</strong></h3><p style=\"margin-left:0px;\">目前这个 Mermaid 主要可支持的「绘图」有：</p><ul><li>流图 （Flow）</li><li>序列图 （Sequence）</li><li>甘特图（Gantt）</li><li>类图（Class）</li><li>状态迁移图（State）</li><li>饼分图（Pie）</li></ul><p style=\"margin-left:0px;\">由于Mermaid 本身也在逐步发展，后续还会有各种各样的图被引入进来。 例如：时间轴日记（User Journey），类图（Class），实体映射图（数据词典定义时常用）</p><figure class=\"image ss-img-wrapper image_resized\" style=\"width:441px;\"><img src=\"https://cdn.sspai.com//2020/10/09/8eaa95fcef4840f848abeaa39c3b1449.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1\" data-original=\"https://cdn.sspai.com//2020/10/09/8eaa95fcef4840f848abeaa39c3b1449.png\" referrerpolicy=\"no-referrer\"><figcaption>MermaidJS 官网的展示例子</figcaption></figure><p style=\"margin-left:0px;\">还是要再次提请注意，不是所有的 markdown 编辑器都支持所有的绘图类型。即使编辑器支持渲染，渲染出的效果也各不相同。这点就像早期不同的浏览器会选择性支持部分的HTML网页标准一样。目前来看，主流的 markdown 编辑器，至少会支持 「流图」和「序列图」，至于其它类型就要看运气了。</p><p style=\"margin-left:0px;\">上文提到的「Mermaid 官方网页版 编辑器 」是一个不错的参考，从这个在线编辑器里，我们可以看到目前 Mermaid 全部支持的类型，以及目前处于「实验室」阶段的类型。</p><h3><strong>如何「码」第一个图？</strong></h3><p style=\"margin-left:0px;\">首先，我们要打开一个支持Mermaid 的 markdown 编辑器。，这里以 火箭君目前最爱的 Typora 编辑器为例。</p><p style=\"margin-left:0px;\">我们知道 markdown 语法能支持 代码块，所谓代码块就是一种特殊段落，其中的文字，会按照特殊的语法进行处理显示。</p><p style=\"margin-left:0px;\">一般来说，例如 网页标记语言，编程语言之类代码块，都会按照语法高亮显示。</p><figure class=\"image ss-img-wrapper\"><img src=\"https://cdn.sspai.com//2020/10/09/b5f2b7bd8d9dc7f16e4d5a2efdfb838b.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1\" data-original=\"https://cdn.sspai.com//2020/10/09/b5f2b7bd8d9dc7f16e4d5a2efdfb838b.png\" referrerpolicy=\"no-referrer\"><figcaption>普通 markdown「代码块」的显示效果</figcaption></figure><p style=\"margin-left:0px;\">Mermaid 也采用了 代码块进行展现和渲染。</p><p style=\"margin-left:0px;\">因此，我们首先需要在编辑器里单独一行内输入 ``` Mermaid ，表示以下是 Mermaid语言 专属的 代码块。</p><p style=\"margin-left:0px;\">然后，在``` 这行下面按照语法，就可以撰写 绘图的脚本了。</p><p style=\"margin-left:0px;\">我们用「序列图」来描述一个银行存钱的过程，里面有三个角色：</p><ul><li>客户</li><li>银行柜员</li><li>银行后台</li></ul><p style=\"margin-left:0px;\">通过序列图，我们可以把存钱的过程如下描述出来：</p><p style=\"margin-left:0px;\"><code>sequenceDiagram </code></p><p style=\"margin-left:0px;\"><code>客户->>银行柜台: 我要存钱 </code></p><p style=\"margin-left:0px;\"><code>银行柜台->>后台: 改一下这个账户数字哦 </code></p><p style=\"margin-left:0px;\"><code>后台->>银行柜台: 账户的数字改完了，明天起息 </code></p><p style=\"margin-left:0px;\"><code>银行柜台->>客户: 好了，给你回单 ，下一位</code></p><p style=\"margin-left:0px;\">我们注意到， 只要通过 ->> 和冒号 这种简单的文本标记，就能把各种关系和方向清晰的表达出来了。</p><p style=\"margin-left:0px;\">Mermaid 的渲染结果如下：</p><figure class=\"image ss-img-wrapper\"><img src=\"https://cdn.sspai.com//2020/10/09/711037d48723f768300738853c298b60.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1\" data-original=\"https://cdn.sspai.com//2020/10/09/711037d48723f768300738853c298b60.png\" referrerpolicy=\"no-referrer\"></figure><p style=\"margin-left:0px;\"> </p><p style=\"margin-left:0px;\">同理，我们再看看，如何画一个简单的「流图」。</p><p style=\"margin-left:0px;\">首先还是从输入 ``` Mermaid 开始</p><p style=\"margin-left:0px;\">然后输入：</p><p><code>graph TD</code></p><p><code>A(起床) --> B[洗漱]</code></p><p><code>B --> C{扔硬币}</code></p><p><code>C -->|正面朝上| D[喝牛奶]</code></p><p><code>C -->|反面朝上| E[喝果汁]</code></p><p style=\"margin-left:0px;\">我们注意到， 只要也是通过纯文本的箭头符号和括号就能把一段逻辑描述清楚了。</p><p style=\"margin-left:0px;\">Mermaid 的渲染结果如下：</p><figure class=\"image ss-img-wrapper image_resized\" style=\"width:161px;\"><img src=\"https://cdn.sspai.com//2020/10/09/5f2d6f87fb95c60d038a6c4836789d77.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1\" data-original=\"https://cdn.sspai.com//2020/10/09/5f2d6f87fb95c60d038a6c4836789d77.png\" referrerpolicy=\"no-referrer\"></figure><p style=\"margin-left:0px;\"> </p><p style=\"margin-left:0px;\">如果有兴趣的话，我们还可以在上面的例子里自行修改，这样就能轻易扩充出更加复杂的逻辑关系。</p><h2><strong>哪里有更多的参考？</strong></h2><p style=\"margin-left:0px;\">Mermaid 支持更复杂的玩法，远不止上面列出的这些，但都非常容易被理解，一般不外乎就是各种符号的组合，这点就充分继承了 markdown 类语言的精髓 。火箭君更喜欢称之为「文字游戏」，通过文字的组合可以表达正文内容以外，更复杂的含义，或者说某种「元信息」（meta info）。</p><h4 style=\"margin-left:0px;\">语法参考</h4><p style=\"margin-left:0px;\">Mermaid 详细语法参考可以 参见 Github 上 MermaidJS 项目的文档：</p><p style=\"margin-left:0px;\"><a href=\"https://mermaid-js.github.io/mermaid/diagrams-and-syntax-and-examples/n00b-syntaxReference.html\">https://mermaid-js.github.io/mermaid/diagrams-and-syntax-and-examples/n00b-syntaxReference.html</a></p><h4 style=\"margin-left:0px;\">渲染主题</h4><p style=\"margin-left:0px;\">除了描述逻辑关系的语法，Memraid 还提供 了简单的「换皮主题」的语法，</p><p style=\"margin-left:0px;\">通过这套「换皮」语法，我们可以给每个类型的元素更换主题色，例如箭头颜色，例如流程块的背景色…… 特别适合，对绘图的颜值有要求，而且有折腾精神的用户使用。参考语法如下：</p><p style=\"margin-left:0px;\"><a href=\"https://mermaid-js.github.io/mermaid/getting-started/theming.html\">https://mermaid-js.github.io/mermaid/getting-started/theming.html</a></p><figure class=\"image ss-img-wrapper\"><img src=\"https://cdn.sspai.com//2020/10/09/08160a1554b12e4c4de92385c01b663c.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1\" data-original=\"https://cdn.sspai.com//2020/10/09/08160a1554b12e4c4de92385c01b663c.png\" referrerpolicy=\"no-referrer\"><figcaption>可以自定义各种颜色和效果</figcaption></figure><h4 style=\"margin-left:0px;\">在线练手网站</h4><p style=\"margin-left:0px;\">看到这里，如果想立刻上手试试看的话，可以用 MermaidJS 官方网页版 编辑器 立刻行动（相当于一个代码 playground）</p><p style=\"margin-left:0px;\">在线编辑器，本身就是一个很好的教程，里面已经分门别类列好了各种图的类型，供我们选择。 而且每种图下面都有 Sample 代码，新手上去改改就能看到结果。</p><p style=\"margin-left:0px;\"><a href=\"https://mermaid-js.github.io/mermaid-live-editor\">https://mermaid-js.github.io/mermaid-live-editor</a></p><h2><strong>最后</strong></h2><p style=\"margin-left:0px;\">火箭君相信，需要绘制流图之类的小伙伴们，一般都会有很强的生产力需求，而不太会是仅仅出于「自嗨」，例如：我们需要用一个 「序列图」来描述一段 运营工作流程时，往往希望这个 图能够被讨论，被迭代，最终被分发到 运营人员手上，而不是画出来仅供自我欣赏。</p><p style=\"margin-left:0px;\">在以往，分享这种专业流图，往往需要用到截图，但是这样难于被编辑。也可以用 Visio专业软件，当然费用不菲。或者通过云端绘图站点分享，不过需要注册账号，接入 互联网，而且文档难以归档保存在本地。 这些问题，就和当年 markdown 流行之前，「文字格式排版」遇到的情况很接近。 我们现在也看到了，随着 markdown 的普及，很多问题迎刃而解，现在markdown 是火箭君这里内部文档的标准格式，对外才会用到 Word/PDF 之类（而且部分也是 markdown 渲染生成出来的）。</p><p style=\"margin-left:0px;\">额外值得一提的是，Mermaid 有一个在线渲染的服务，我们可以把一段 Mermaid代码 转换为 URL 网址。这样，我们就可以将URL 嵌入各种文档，阅读文档时，在线网址将URL翻译成图像展现出来。 和普通图片上传的区别是，这个URL只是提供 Mermaid 代码，并没有真的上传图像到服务器上，因此也不依赖服务器是否实际存储或删除了我们的图像。这也意味着URL可以被其它 Mermaid 渲染服务网站接手从而产生图像。</p><p style=\"margin-left:0px;\">更简单的做法是，用户双方都使用同种类型的MD编辑器，例如 Typora，印象笔记，那么大家交流的效率就会更高。几十采用不同的编辑器，也只是渲染效果不同，语义逻辑应该还是一致的。</p><p style=\"margin-left:0px;\">总之，Mermaid 作为一个 新兴的标记语言，像极了当年 的 markdown。假以时日，希望 Mermaid 会变得更加成熟，在有专业需求的领域里，变得更加普及，成为一种「约定俗成」的高效率标准。</p></div><!----></div><div style=\"border:1px solid transparent;\" data-v-b5fe1ab0></div><div class=\"article-side sideTop\" style=\"display:none;left:0;\" data-v-07c7ec79 data-v-b5fe1ab0><div class=\"charge-btn\" data-v-07c7ec79><i class=\"icon icon-charge\" data-v-07c7ec79></i></div><span class=\"count\" data-v-07c7ec79>0</span><div class=\"item\" data-v-07c7ec79><i class=\"icon icon-article_side_comment\" data-v-07c7ec79></i></div><span class=\"count\" data-v-07c7ec79>0</span><div class=\"item\" data-v-07c7ec79><span data-v-07c7ec79><div role=\"tooltip\" id=\"el-popover-3315\" aria-hidden=\"true\" class=\"el-popover el-popper popper-share right ss-popper-dark-border\" style=\"width:undefinedpx;display:none;\"><!----><div class=\"article-side-share-btn\"><a href=\"https://service.weibo.com/share/share.php?url=null?ref=weibo&title=%E3%80%90Mermaid%2C%20%E5%B0%B1%E5%83%8F%E7%94%A8%20markdown%20%E7%A0%81%E5%AD%97%E4%B8%80%E6%A0%B7%EF%BC%8C%E9%AB%98%E6%95%88%E5%88%B6%E4%BD%9C%E7%AE%80%E6%98%93%E6%B5%81%E5%9B%BE%E3%80%91%E3%80%8C%E7%A0%81%E5%9B%BE%E3%80%8D%E8%80%8C%E4%B8%8D%E6%98%AF%E3%80%8C%E7%94%BB%E5%9B%BE%E3%80%8D%EF%BC%9F%E8%AE%B8%E5%A4%9A%E5%B7%A5%E4%BD%9C%E8%80%85%E7%9A%84%E6%97%A5%E5%B8%B8%E5%B7%A5%E4%BD%9C%E4%B8%AD%EF%BC%8C%E9%99%A4%E4%BA%86%E5%86%99%E5%AD%97%E8%AE%B0%E5%BD%95%EF%BC%8C%E6%9C%89%E6%97%B6%E8%BF%98%E4%BC%9A%E9%9C%80%E8%A6%81%E7%94%BB%E4%B8%80%E4%BA%9B%E7%AE%80%E5%8D%95%E7%9A%84%E3%80%8C%E7%A4%BA%E6%84%8F%E5%9B%BE%E3%80%8D%EF%BC%8C%E8%BF%99%E4%BA%9B%E7%A4%BA%E6%84%8F%E5%9B%BE%E4%BC%9A%E8%AE%A9%E6%88%91%E4%BB%AC%E7%9A%84%E6%96%87%E6%A1%A3%E6%88%96%E6%8A%A5%E5%91%8A%E5%8F%98%E5%BE%97%E5%BD%A2%E8%B1%A1%E7%94%9F%E5%8A%A8%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&pic=https%3A%2F%2Fcdn.sspai.com%2F2020%2F10%2F09%2Fccbe300b8e332eba466160c7fa396ae1.png%3FimageMogr2%2Fauto-orient%2Fquality%2F95%2Fthumbnail%2F!1420x708r%2Fgravity%2FCenter%2Fcrop%2F1420x708%2Finterlace%2F1&appkey=3196502474#\" target=\"_blank\"><i class=\"icon icon-article_weibo right-16\"></i></a><span><div role=\"tooltip\" id=\"el-popover-2421\" aria-hidden=\"true\" class=\"el-popover el-popper\" style=\"width:undefinedpx;display:none;\"><!----><div style=\"text-align:center;\"><div id=\"qr-code\"></div><small class=\"qr-small\">扫码分享</small></div></div><i class=\"icon icon-article_weixin right-16\"></i></span><a href=\"https://twitter.com/share?text=%E3%80%90Mermaid%2C%20%E5%B0%B1%E5%83%8F%E7%94%A8%20markdown%20%E7%A0%81%E5%AD%97%E4%B8%80%E6%A0%B7%EF%BC%8C%E9%AB%98%E6%95%88%E5%88%B6%E4%BD%9C%E7%AE%80%E6%98%93%E6%B5%81%E5%9B%BE%E3%80%91%E3%80%8C%E7%A0%81%E5%9B%BE%E3%80%8D%E8%80%8C%E4%B8%8D%E6%98%AF%E3%80%8C%E7%94%BB%E5%9B%BE%E3%80%8D%EF%BC%9F%E8%AE%B8%E5%A4%9A%E5%B7%A5%E4%BD%9C%E8%80%85%E7%9A%84%E6%97%A5%E5%B8%B8%E5%B7%A5%E4%BD%9C%E4%B8%AD%EF%BC%8C%E9%99%A4%E4%BA%86%E5%86%99%E5%AD%97%E8%AE%B0%E5%BD%95%EF%BC%8C%E6%9C%89%E6%97%B6%E8%BF%98%E4%BC%9A%E9%9C%80%E8%A6%81%E7%94%BB%E4%B8%80%E4%BA%9B%E7%AE%80%E5%8D%95%E7%9A%84%E3%80%8C%E7%A4%BA%E6%84%8F%E5%9B%BE%E3%80%8D%EF%BC%8C%E8%BF%99%E4%BA%9B%E7%A4%BA%E6%84%8F%E5%9B%BE%E4%BC%9A%E8%AE%A9%E6%88%91%E4%BB%AC%E7%9A%84%E6%96%87%E6%A1%A3%E6%88%96%E6%8A%A5%E5%91%8A%E5%8F%98%E5%BE%97%E5%BD%A2%E8%B1%A1%E7%94%9F%E5%8A%A8%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&url=null\" target=\"_blank\" class=\"twitter\"><i class=\"icon icon-article_twitter right-16\"></i></a></div></div><i class=\"icon icon-article_side_share\" data-v-07c7ec79></i></span></div><div class=\"item\" data-v-07c7ec79><i class=\"icon icon-article_side_collection\" data-v-07c7ec79></i></div><!----></div><!---->","descriptionType":"text/html","publishedDate":"Fri, 09 Oct 2020 07:22:05 +0000","feedId":10579,"bgimg":"https://cdn.sspai.com//2020/10/09/91be3fc3afd1db6183681ea9766f39c5.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1","linkMd5":"af2a63517cc282e583374512a023fb59","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn79@2020_6/2020/10/13/13-23-59-513_4c9153abccdfc7dc.webp","destWidth":181,"destHeight":306,"sourceBytes":2781,"destBytes":3282,"author":"火箭君CC","articleImgCdnMap":{"https://cdn.sspai.com//2020/10/09/91be3fc3afd1db6183681ea9766f39c5.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn79@2020_6/2020/10/13/13-23-59-513_4c9153abccdfc7dc.webp","https://cdn.sspai.com//2020/10/09/81602c4695a644a2ab3cac6dadd9acd8.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn98@2020_3/2020/10/13/13-24-03-218_a990d699639ed6db.webp","https://cdn.sspai.com//2020/10/09/0556b8fb4337858dcee7419aa1e46a14.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn1@2020_3/2020/10/13/13-25-04-773_a60389ac62d7776c.webp","https://cdn.sspai.com//2020/10/09/8eaa95fcef4840f848abeaa39c3b1449.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn7@2020_2/2020/10/13/13-24-04-239_7a7db37011498df2.webp","https://cdn.sspai.com//2020/10/09/b5f2b7bd8d9dc7f16e4d5a2efdfb838b.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn88@2020_6/2020/10/13/13-24-04-822_41e1b7a63934c205.webp","https://cdn.sspai.com//2020/10/09/711037d48723f768300738853c298b60.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn84@2020_5/2020/10/13/13-24-06-888_b90c8756d445b6c3.webp","https://cdn.sspai.com//2020/10/09/5f2d6f87fb95c60d038a6c4836789d77.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn94@2020_5/2020/10/13/13-24-03-451_6de7d97475e8d33a.webp","https://cdn.sspai.com//2020/10/09/08160a1554b12e4c4de92385c01b663c.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn86@2020_3/2020/10/13/13-24-02-094_4d79af49653e5d3d.webp"},"publishedOrCreatedDate":1602595437842}],"record":{"createdTime":"2020-10-13 21:23:57","updatedTime":"2020-10-13 21:23:57","feedId":10579,"fetchDate":"Tue, 13 Oct 2020 13:23:57 +0000","fetchMs":442,"handleMs":11837,"totalMs":80111,"newArticles":0,"totalArticles":20,"status":1,"type":0,"ip":"9128a42e23caa7de0e7439c434c47fc1","hostName":"europe66*","requestId":"f2b686ba013f4b988996ed5e5332db42_10579","contentType":"application/xml; charset=utf-8","totalBytes":118314,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":8,"articlesImgsGithubTotal":8,"successGithubMap":{"myreaderx8":1,"myreaderx16":1,"myreaderx21":1,"myreaderx10":1,"myreaderx22":1,"myreaderx12":1,"myreaderx13":1,"myreaderx18":1},"failGithubMap":{}},"feed":{"createdTime":"2020-08-25 04:36:01","updatedTime":"2020-08-25 09:03:47","id":10579,"name":"少数派 -- Matrix","url":"https://rsshub.app/sspai/matrix","subscriber":291,"website":null,"icon":"https://sspai.com/favicon.ico","icon_jsdelivr":null,"description":"少数派 -- Matrix - Made with love by RSSHub(https://github.com/DIYgod/RSSHub)","weekly":null,"link":"https://sspai.com"},"noPictureArticleList":[],"tmpCommonImgCdnBytes":3282,"tmpBodyImgCdnBytes":115032,"tmpBgImgCdnBytes":0,"extra4":{"start":1602595425555,"total":0,"statList":[{"spend":450,"msg":"获取xml内容"},{"spend":11837,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":65207,"msg":"正文链接上传到cdn"}]},"extra5":8,"extra6":8,"extra7ImgCdnFailResultVector":[null],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://us-013.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-025.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-001.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-037.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-036.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-002.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://europe64.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://cdn.sspai.com//2020/10/09/91be3fc3afd1db6183681ea9766f39c5.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1","sourceStatusCode":200,"destWidth":181,"destHeight":306,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn79@2020_6/2020/10/13/13-23-59-513_4c9153abccdfc7dc.webp","sourceBytes":2781,"destBytes":3282,"targetWebpQuality":75,"feedId":10579,"totalSpendMs":2396,"convertSpendMs":15,"createdTime":"2020-10-13 21:23:58","host":"us-010*","referer":"https://sspai.com/post/63055","linkMd5ListStr":"af2a63517cc282e583374512a023fb59,af2a63517cc282e583374512a023fb59","githubUser":"myreaderx22","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"2.7 KB","destSize":"3.2 KB","compressRate":"118%"},{"code":1,"isDone":false,"source":"https://cdn.sspai.com//2020/10/09/08160a1554b12e4c4de92385c01b663c.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1","sourceStatusCode":200,"destWidth":1120,"destHeight":217,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn86@2020_3/2020/10/13/13-24-02-094_4d79af49653e5d3d.webp","sourceBytes":60236,"destBytes":11408,"targetWebpQuality":75,"feedId":10579,"totalSpendMs":2393,"convertSpendMs":16,"createdTime":"2020-10-13 21:24:00","host":"us-036*","referer":"https://sspai.com/post/63055","linkMd5ListStr":"af2a63517cc282e583374512a023fb59","githubUser":"myreaderx8","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"58.8 KB","destSize":"11.1 KB","compressRate":"18.9%"},{"code":1,"isDone":false,"source":"https://cdn.sspai.com//2020/10/09/81602c4695a644a2ab3cac6dadd9acd8.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1","sourceStatusCode":200,"destWidth":343,"destHeight":116,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx16/cdn98@2020_3/2020/10/13/13-24-03-218_a990d699639ed6db.webp","sourceBytes":15398,"destBytes":6698,"targetWebpQuality":75,"feedId":10579,"totalSpendMs":3446,"convertSpendMs":5,"createdTime":"2020-10-13 21:24:00","host":"us-001*","referer":"https://sspai.com/post/63055","linkMd5ListStr":"af2a63517cc282e583374512a023fb59","githubUser":"myreaderx16","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"15 KB","destSize":"6.5 KB","compressRate":"43.5%"},{"code":1,"isDone":false,"source":"https://cdn.sspai.com//2020/10/09/5f2d6f87fb95c60d038a6c4836789d77.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1","sourceStatusCode":200,"destWidth":275,"destHeight":523,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx12/cdn94@2020_5/2020/10/13/13-24-03-451_6de7d97475e8d33a.webp","sourceBytes":14452,"destBytes":8320,"targetWebpQuality":75,"feedId":10579,"totalSpendMs":3654,"convertSpendMs":16,"createdTime":"2020-10-13 21:24:00","host":"us-013*","referer":"https://sspai.com/post/63055","linkMd5ListStr":"af2a63517cc282e583374512a023fb59","githubUser":"myreaderx12","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"14.1 KB","destSize":"8.1 KB","compressRate":"57.6%"},{"code":1,"isDone":false,"source":"https://cdn.sspai.com//2020/10/09/8eaa95fcef4840f848abeaa39c3b1449.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1","sourceStatusCode":200,"destWidth":865,"destHeight":478,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn7@2020_2/2020/10/13/13-24-04-239_7a7db37011498df2.webp","sourceBytes":344640,"destBytes":40884,"targetWebpQuality":75,"feedId":10579,"totalSpendMs":4859,"convertSpendMs":27,"createdTime":"2020-10-13 21:24:00","host":"europe64*","referer":"https://sspai.com/post/63055","linkMd5ListStr":"af2a63517cc282e583374512a023fb59","githubUser":"myreaderx18","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"336.6 KB","destSize":"39.9 KB","compressRate":"11.9%"},{"code":1,"isDone":false,"source":"https://cdn.sspai.com//2020/10/09/b5f2b7bd8d9dc7f16e4d5a2efdfb838b.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1","sourceStatusCode":200,"destWidth":887,"destHeight":93,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn88@2020_6/2020/10/13/13-24-04-822_41e1b7a63934c205.webp","sourceBytes":2327,"destBytes":3214,"targetWebpQuality":75,"feedId":10579,"totalSpendMs":5382,"convertSpendMs":5,"createdTime":"2020-10-13 21:24:00","host":"us-025*","referer":"https://sspai.com/post/63055","linkMd5ListStr":"af2a63517cc282e583374512a023fb59","githubUser":"myreaderx13","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"2.3 KB","destSize":"3.1 KB","compressRate":"138.1%"},{"code":1,"isDone":false,"source":"https://cdn.sspai.com//2020/10/09/711037d48723f768300738853c298b60.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1","sourceStatusCode":200,"destWidth":835,"destHeight":378,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn84@2020_5/2020/10/13/13-24-06-888_b90c8756d445b6c3.webp","sourceBytes":8627,"destBytes":11764,"targetWebpQuality":75,"feedId":10579,"totalSpendMs":7045,"convertSpendMs":28,"createdTime":"2020-10-13 21:24:00","host":"us-037*","referer":"https://sspai.com/post/63055","linkMd5ListStr":"af2a63517cc282e583374512a023fb59","githubUser":"myreaderx21","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"8.4 KB","destSize":"11.5 KB","compressRate":"136.4%"},{"code":1,"isDone":false,"source":"https://cdn.sspai.com//2020/10/09/0556b8fb4337858dcee7419aa1e46a14.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1","sourceStatusCode":200,"destWidth":1120,"destHeight":470,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn1@2020_3/2020/10/13/13-25-04-773_a60389ac62d7776c.webp","sourceBytes":134732,"destBytes":32744,"targetWebpQuality":75,"feedId":10579,"totalSpendMs":3583,"convertSpendMs":72,"createdTime":"2020-10-13 21:25:02","host":"us-025*","referer":"https://sspai.com/post/63055","linkMd5ListStr":"af2a63517cc282e583374512a023fb59","githubUser":"myreaderx10","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"131.6 KB","destSize":"32 KB","compressRate":"24.3%"}],"successGithubMap":{"myreaderx8":1,"myreaderx16":1,"myreaderx21":1,"myreaderx10":1,"myreaderx22":1,"myreaderx12":1,"myreaderx13":1,"myreaderx18":1},"failGithubMap":{}}