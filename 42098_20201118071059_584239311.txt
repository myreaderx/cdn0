{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-11-18 15:10:56","updatedTime":"2020-11-18 15:10:56","title":"[extension] nadar/yii-rest-client","link":"https://www.yiiframework.com/extension/nadar/yii-rest-client","description":"<div class=\"markdown\">\n <h3>Yii Framework REST Client <span id=\"yii-framework-rest-client\"></span><a href=\"https://www.yiiframework.com/extension/nadar/yii-rest-client#yii-framework-rest-client\" class=\"hashlink\">¶</a></h3> \n <ol>\n  <li><a href=\"https://www.yiiframework.com/extension/nadar/yii-rest-client#installation\">Installation</a></li> \n  <li><a href=\"https://www.yiiframework.com/extension/nadar/yii-rest-client#usage-amp-dokumentation\">Usage &amp; Dokumentation</a></li>\n </ol> \n <p>A Yii Framework Component in order to work with the LUYA headless REST Client. The LUYA REST Client is an Active Record similar solution for APIs.</p> \n <p>It works with Yii Framework out of the box, therefore those things are included:</p> \n <ul>\n  <li>Use <code>fields</code> in your requests</li> \n  <li>Use <code>sort</code> in your requests</li> \n  <li>Working with <code>expand</code></li> \n  <li>Caching</li> \n  <li>CRUD (Create new records, Read records, Update records, Delete records) API operations</li> \n  <li>Similar to Yii Framework Active Query and Active Record</li> \n </ul>\n <p><img src=\"https://user-content.yiiframework.com/img/_KlsWeeX2jDHV8AywHitaA/https/github.com/nadar/yii-rest-client/workflows/Tests/badge.svg\" alt=\"Tests\" /><a href=\"https://codeclimate.com/github/nadar/yii-rest-client/maintainability\"><img src=\"https://user-content.yiiframework.com/img/_5c8_tp6FrZ4hxuByXKl0g/https/api.codeclimate.com/v1/badges/8c712b4f0d9dde1f0383/maintainability\" alt=\"Maintainability\" /></a> <a href=\"https://codeclimate.com/github/nadar/yii-rest-client/test_coverage\"><img src=\"https://user-content.yiiframework.com/img/2PqIN0NJZwpZQ9F8b4I2Dg/https/api.codeclimate.com/v1/badges/8c712b4f0d9dde1f0383/test_coverage\" alt=\"Test Coverage\" /></a></p> \n <h4>Installation <span id=\"installation\"></span><a href=\"https://www.yiiframework.com/extension/nadar/yii-rest-client#installation\" class=\"hashlink\">¶</a></h4>\n <p>Installation via composer</p> \n <pre><code class=\"hljs bash language-sh\">composer require nadar/yii-rest-client\n</code></pre> \n <h4>Usage &amp; Dokumentation <span id=\"usage-amp-dokumentation\"></span><a href=\"https://www.yiiframework.com/extension/nadar/yii-rest-client#usage-amp-dokumentation\" class=\"hashlink\">¶</a></h4>\n <p>Configure your API Client:</p> \n <pre><code class=\"hljs php language-php\"><span class=\"hljs-string\">'components'</span> =&gt; [\n    <span class=\"hljs-string\">'api'</span> =&gt; [\n        <span class=\"hljs-string\">'class'</span> =&gt; <span class=\"hljs-string\">'Nadar\\YiiRestClient\\Api'</span>,\n        <span class=\"hljs-string\">'server'</span> =&gt; <span class=\"hljs-string\">'https://myapi.com'</span>,\n        <span class=\"hljs-string\">'accessToken'</span> =&gt; <span class=\"hljs-string\">'...'</span>,\n    ]\n]\n</code></pre> \n <blockquote>\n  <p><strong>To see all LUYA Headless functions see the <a href=\"https://github.com/luyadev/luya-headless\">LUYA Headless Documentation</a></strong></p> \n </blockquote> \n <p>Now add your Rest Model (Active Endpoint), this represents the Model on the client side. It provides basic getter and setter methods same as Yii Framework.</p> \n <pre><code class=\"hljs php language-php\"><span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">ApiCars</span> <span class=\"hljs-keyword\">extends</span> \\<span class=\"hljs-title\">luya</span>\\<span class=\"hljs-title\">headless</span>\\<span class=\"hljs-title\">ActiveEdnpoint</span>\n</span>{\n    <span class=\"hljs-keyword\">public</span> $id;\n    <span class=\"hljs-keyword\">public</span> $name;\n    <span class=\"hljs-keyword\">public</span> $year;\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getEndpointName</span><span class=\"hljs-params\">()</span>\n    </span>{\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">'{{%cars}}'</span>;\n    }\n}\n</code></pre> \n <p>The above example assumes the full endpoint is <code>https://myapi.com/cars</code>.</p> \n <p>Working with the Model to make CRUD operations like list, edit, save.</p> \n <p>Foreach Data (Will make a GET request):</p> \n <pre><code class=\"hljs php language-php\"><span class=\"hljs-keyword\">foreach</span> (ApiCars::find()-&gt;all(Yii::$app-&gt;api-&gt;client)-&gt;getModels() <span class=\"hljs-keyword\">as</span> $car) {\n\n    var_dump($car-&gt;name);\n}\n</code></pre> \n <p>View One and Update the record (Will make a PUT request):</p> \n <pre><code class=\"hljs php language-php\">$car = ApiCars::viewOne(<span class=\"hljs-number\">1</span>, Yii::$app-&gt;api-&gt;client);\n<span class=\"hljs-keyword\">echo</span> $car-&gt;name; <span class=\"hljs-comment\">// f.e BMW</span>\n$car-&gt;name = <span class=\"hljs-string\">'Mercedes'</span>;\n$car-&gt;save(Yii::$app-&gt;api-&gt;client);\n</code></pre> \n <p>Add new entry (will make a POST request):</p> \n <pre><code class=\"hljs php language-php\">$car = <span class=\"hljs-keyword\">new</span> ApiCars();\n$car-&gt;name = <span class=\"hljs-string\">'Honda'</span>;\n$car-&gt;save(Yii::$app-&gt;api-&gt;client);\n</code></pre> \n <blockquote>\n  <p><strong>To see all LUYA Headless functions see the <a href=\"https://github.com/luyadev/luya-headless\">LUYA Headless Documentation</a></strong></p> \n </blockquote> \n</div>","descriptionType":"html","publishedDate":"Wed, 18 Nov 2020 07:10:43 +0000","feedId":42098,"bgimg":"https://user-content.yiiframework.com/img/_KlsWeeX2jDHV8AywHitaA/https/github.com/nadar/yii-rest-client/workflows/Tests/badge.svg","linkMd5":"03dd715fde887c70e66594f14eceea6c","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn24@2020_4/2020/11/18/07-10-57-018_f8eb2edcbd62b2f6.jpg","destWidth":0,"destHeight":0,"sourceBytes":2202,"destBytes":2202,"author":"nadario","articleImgCdnMap":{"https://user-content.yiiframework.com/img/_KlsWeeX2jDHV8AywHitaA/https/github.com/nadar/yii-rest-client/workflows/Tests/badge.svg":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn24@2020_4/2020/11/18/07-10-57-018_f8eb2edcbd62b2f6.jpg","https://user-content.yiiframework.com/img/_5c8_tp6FrZ4hxuByXKl0g/https/api.codeclimate.com/v1/badges/8c712b4f0d9dde1f0383/maintainability":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn29@2020_4/2020/11/18/07-10-58-625_3726f53d2eb74648.svg","https://user-content.yiiframework.com/img/2PqIN0NJZwpZQ9F8b4I2Dg/https/api.codeclimate.com/v1/badges/8c712b4f0d9dde1f0383/test_coverage":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn28@2020_6/2020/11/18/07-10-58-619_c6a6a4d205ebad94.svg"},"publishedOrCreatedDate":1605683456106}],"record":{"createdTime":"2020-11-18 15:10:56","updatedTime":"2020-11-18 15:10:56","feedId":42098,"fetchDate":"Wed, 18 Nov 2020 07:10:56 +0000","fetchMs":42772,"handleMs":78,"totalMs":46630,"newArticles":0,"totalArticles":60,"status":1,"type":0,"ip":"7be5a6429a423a68cef7abf798e66509","hostName":"us-039*","requestId":"ae7c7201f4b44575aba469acb0b2b23e_42098","contentType":"text/html; charset=UTF-8","totalBytes":36082,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":3,"articlesImgsGithubTotal":3,"successGithubMap":{"myreaderx4":1,"myreaderx3":1,"myreaderx31":1},"failGithubMap":{}},"feed":{"createdTime":"2020-09-07 03:26:22","updatedTime":"2020-09-07 05:43:33","id":42098,"name":"Live News for Yii Framework","url":"http://www.yiiframework.com/rss.xml/","subscriber":76,"website":null,"icon":"https://www.yiiframework.com/favico/apple-touch-icon.png","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx64/cdn19@2020_4/2020/09/06/21-43-33-416_34a7a3d1515a04b1.png","description":"News, fresh extensions and wiki articles about Yii framework.","weekly":null,"link":null},"noPictureArticleList":[],"tmpCommonImgCdnBytes":2202,"tmpBodyImgCdnBytes":33880,"tmpBgImgCdnBytes":0,"extra4":{"start":1605683413080,"total":0,"statList":[{"spend":42948,"msg":"获取xml内容"},{"spend":78,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":1913,"msg":"正文链接上传到cdn"}]},"extra5":3,"extra6":3,"extra7ImgCdnFailResultVector":[],"extra10_invalidATagHrefValue":{"https://www.yiiframework.com/extension/nadar/yii-rest-client_#yii-framework-rest-client":"https://www.yiiframework.com/extension/nadar/yii-rest-client#yii-framework-rest-client","https://www.yiiframework.com/extension/nadar/yii-rest-client_#installation":"https://www.yiiframework.com/extension/nadar/yii-rest-client#installation","https://www.yiiframework.com/extension/nadar/yii-rest-client_#usage-amp-dokumentation":"https://www.yiiframework.com/extension/nadar/yii-rest-client#usage-amp-dokumentation"},"extra111_proxyServerAndStatMap":{"http://europe61.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe-60.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://user-content.yiiframework.com/img/_KlsWeeX2jDHV8AywHitaA/https/github.com/nadar/yii-rest-client/workflows/Tests/badge.svg","sourceStatusCode":200,"destWidth":0,"destHeight":0,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn24@2020_4/2020/11/18/07-10-57-018_f8eb2edcbd62b2f6.jpg","sourceBytes":2202,"destBytes":2202,"feedId":42098,"totalSpendMs":1668,"convertSpendMs":7,"createdTime":"2020-11-18 15:10:56","host":"us-010*","referer":"https://www.yiiframework.com/extension/nadar/yii-rest-client","linkMd5ListStr":"03dd715fde887c70e66594f14eceea6c,03dd715fde887c70e66594f14eceea6c","githubUser":"myreaderx31","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"2.2 KB","destSize":"2.2 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://user-content.yiiframework.com/img/2PqIN0NJZwpZQ9F8b4I2Dg/https/api.codeclimate.com/v1/badges/8c712b4f0d9dde1f0383/test_coverage","sourceStatusCode":200,"destWidth":0,"destHeight":0,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn28@2020_6/2020/11/18/07-10-58-619_c6a6a4d205ebad94.svg","sourceBytes":18688,"destBytes":18688,"feedId":42098,"totalSpendMs":1700,"convertSpendMs":0,"createdTime":"2020-11-18 15:10:57","host":"europe-60*","referer":"https://www.yiiframework.com/extension/nadar/yii-rest-client","linkMd5ListStr":"03dd715fde887c70e66594f14eceea6c","githubUser":"myreaderx3","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"18.2 KB","destSize":"18.2 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://user-content.yiiframework.com/img/_5c8_tp6FrZ4hxuByXKl0g/https/api.codeclimate.com/v1/badges/8c712b4f0d9dde1f0383/maintainability","sourceStatusCode":200,"destWidth":0,"destHeight":0,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn29@2020_4/2020/11/18/07-10-58-625_3726f53d2eb74648.svg","sourceBytes":15192,"destBytes":15192,"feedId":42098,"totalSpendMs":1753,"convertSpendMs":0,"createdTime":"2020-11-18 15:10:57","host":"europe61*","referer":"https://www.yiiframework.com/extension/nadar/yii-rest-client","linkMd5ListStr":"03dd715fde887c70e66594f14eceea6c","githubUser":"myreaderx4","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"14.8 KB","destSize":"14.8 KB","compressRate":"100%"}],"successGithubMap":{"myreaderx4":1,"myreaderx3":1,"myreaderx31":1},"failGithubMap":{}}