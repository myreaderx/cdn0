{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2021-04-27 01:45:24","updatedTime":"2021-04-27 01:45:24","title":"一次压测引出的线上Full GC排查","link":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E4%B8%80%E6%AC%A1%E5%8E%8B%E6%B5%8B%E5%BC%95%E5%87%BA%E7%9A%84%E7%BA%BF%E4%B8%8AFull%20GC%E6%8E%92%E6%9F%A5","description":"<div><div><div id=\"media\" class=\"rich_media_thumb_wrp\">\n\n            <img class=\"rich_media_thumb\" src=\"http://content.sov5.cn/mmbiz_jpg/eZzl4LXykQxfHPNOkI3dRNys6LehDQqhsBsgA9l1dDycmHkb7lTaVPaTHbiccfOibZNzRg3iaE84sKRlejAouLsOA?imageView2/1/w/600\">\n        </div>\n    \n\n    \n\n    <div class=\"rich_media_content\" id=\"js_content\">\n                    \n\n                    \n                    \n                    \n                    <section style=\"display:none;\" data-tools=\"新媒体管家\" data-label=\"powered by xmt.cn\"><br></section><p style=\"text-align: center;\"><span style=\"font-size: 14px;letter-spacing: 0.5440000295639038px;text-align: center;max-width: 100%;color: rgb(255, 41, 65);line-height: 22.4px;\">（给</span><span style=\"font-size: 14px;letter-spacing: 0.5440000295639038px;text-align: center;max-width: 100%;line-height: 22.4px;color: rgb(0, 128, 255);\">ImportNew</span><span style=\"font-size: 14px;letter-spacing: 0.5440000295639038px;text-align: center;max-width: 100%;color: rgb(255, 41, 65);line-height: 22.4px;\">加星标，提高Java技能）</span></p><p><br></p><p><span style=\"font-size: 14px;color: rgb(255, 0, 0);\"></span></p><p style=\"text-align: left;\"><span style=\"font-size: 15px;\">这个 Full GC 问题是去年双 12 压测的时候触发的，中间排查的过程和踩的坑给大家借鉴一下。<br></span></p><p style=\"text-align: left;\"><br></p><h3 data-tool=\"mdnice编辑器\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">线上问题</span></strong></span></h3><p><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\"><br></span></strong></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">双 12 之前压测的时候起了很小的量，直接触发了 Full GC，吓尿了，因为马上双 12 大促预热就要开始了，这搞不好妥妥的 3.25 啦。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;color: rgb(0, 0, 0);font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, \" pingfang sc cambria cochin georgia times new roman serif center normal rgb><img data-ratio=\"0.3042121684867395\" data-type=\"png\" data-w=\"1282\" style=\"box-sizing: border-box !important; width: 500px; visibility: visible !important; height: 152px; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/SoGf97KLurBAMBy6fEeQ13KsabVDpkiaiaJHe0GkukiccvZ863giaRU0Z3XFBzn0eREJMHRgQ0tmbRZTp7sTwHvH5g/640?wx_fmt=png\"></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><br></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">赶紧拉群，把相关同学拉在一起排查问题。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;color: rgb(0, 0, 0);font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, \" pingfang sc cambria cochin georgia times new roman serif center normal rgb><img data-ratio=\"0.36128048780487804\" data-type=\"png\" data-w=\"1312\" style=\"box-sizing: border-box !important; width: 505px; visibility: visible !important; height: 182px; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/SoGf97KLurBAMBy6fEeQ13KsabVDpkiaiaibAmLpeRvEkIRPRIdcwlghtbmkBohSE8emPEbxOGmlNwD7XrvZ61CDQ/640?wx_fmt=png\"></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><br></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">第一时间查看GC日志：</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><section class=\"code-snippet__fix code-snippet__js\"><ul class=\"code-snippet__line-index code-snippet__js\"><li></ul><pre class=\"code-snippet__js\" data-lang=\"cs\"><code><span class=\"code-snippet_outer\"><span class=\"code-snippet__number\">2020</span><span class=\"code-snippet__number\">-11</span><span class=\"code-snippet__number\">-29</span>T21:<span class=\"code-snippet__number\">11</span>:<span class=\"code-snippet__number\">11.887</span>+<span class=\"code-snippet__number\">0800</span>: [<span class=\"code-snippet__function\">Full <span class=\"code-snippet__title\">GC</span> (<span class=\"code-snippet__params\">Metadata GC Threshold</span>) 2020-11-29T21:11:11.88+880: [CMS: 2401176K-&gt;675327<span class=\"code-snippet__title\">K</span>(<span class=\"code-snippet__params\"><span class=\"code-snippet__number\">3584000</span>k</span>), 2.9603365 secs] 3246233K-675327<span class=\"code-snippet__title\">K</span> (<span class=\"code-snippet__params\"><span class=\"code-snippet__number\">5519368</span>K</span>), (<span class=\"code-snippet__params\">Metaspace: <span class=\"code-snippet__number\">243832</span>K-&gt;<span class=\"code-snippet__number\">231459</span>K (<span class=\"code-snippet__number\">1275984</span>K</span>)), 2.965466 secs) [Times: user</span>=<span class=\"code-snippet__number\">2.94</span> sys=<span class=\"code-snippet__number\">8.84</span>, real<span class=\"code-snippet__number\">-2.96</span> secs)</span></code></pre></section><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><br></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">可以看到原因是超过了 Metadata GC 的阈值，触发了 Full GC。Metaspace 从 243M  回收到 231M，基本没怎么回收掉。所以稍微再来点量，很容易再次触发 Metaspace 的回收。</span><br></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><h3 data-tool=\"mdnice编辑器\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">知识储备</span></strong></span></h3><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><br></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">GC 问题排查需要很多储备知识，最主要是 JVM 相关的，之前文章已经讲过一些了，这里主要讲 Metaspace 是什么？后面讲怎么做的 GC 问题的排查。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;color: rgb(0, 0, 0);font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, \" pingfang sc cambria cochin georgia times new roman serif left normal rgb><img data-ratio=\"0.4895833333333333\" data-type=\"png\" data-w=\"1344\" style=\"box-sizing: border-box !important; width: 677px !important; visibility: visible !important; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/SoGf97KLurBAMBy6fEeQ13KsabVDpkiaiaTrfjib4F7tNG76kLliaAZmbg5k2tsfTJdWcUoE7XytgLicArRALguWgyQ/640?wx_fmt=png\"></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">这里有两个知识点：</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><ul data-tool=\"mdnice编辑器\" class=\"list-paddingleft-2\" style=\"text-align: left;\"><li style=\"text-align: left;\"><section style=\"text-align: left;\"><span style=\"font-size: 15px;\"><span style=\"font-size: 15px;text-align: left;\">Me</span><span style=\"font-size: 15px;text-align: left;\">t</span><span style=\"font-size: 15px;text-align: left;\">a</span><span style=\"font-size: 15px;text-align: left;\">space</span>（元空间）是什么？在 JVM 中扮演什么角色，也就是存放什么的？</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\"><span style=\"font-size: 15px;\">Full GC 跟 <span style=\"font-size: 15px;text-align: left;\">Me</span><span style=\"font-size: 15px;text-align: left;\">t</span><span style=\"font-size: 15px;text-align: left;\">a</span><span style=\"font-size: 15px;text-align: left;\">space</span> 大小设置有什么关系？</span></section></li></ul><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><br></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><span style=\"font-size: 15px;text-align: left;\">Me</span><span style=\"font-size: 15px;text-align: left;\">t</span><span style=\"font-size: 15px;text-align: left;\">a</span><span style=\"font-size: 15px;text-align: left;\">space</span> 叫做元空间。从JDK 8开始，永久代（PermGen）的概念被废弃掉了，取而代之的是一个称为 Metaspace 的存储空间。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">Metaspace 用来存放 class 文件在 JVM 里的运行时数据结构，以及存储 Klass 相关的其他的内容，比如 Method，ConstantPool 等。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">Metaspace 使用的是本地内存，而不是堆内存。也就是说在默认情况下 Metaspace 的大小只与本地内存大小有关。但是很容易有个误区：<span style=\"font-size: 15px;text-align: left;\">Me</span><span style=\"font-size: 15px;text-align: left;\">t</span><span style=\"font-size: 15px;text-align: left;\">a</span><span style=\"font-size: 15px;text-align: left;\">space</span> 可以随便用，不管使用多少，只要不超本地内存就不会触发 GC，<strong>这是错误</strong><strong>的</strong>。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><br></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><span style=\"font-size: 15px;text-align: left;\">Me</span><span style=\"font-size: 15px;text-align: left;\">t</span><span style=\"font-size: 15px;text-align: left;\">a</span><span style=\"font-size: 15px;text-align: left;\">space</span> 的设置方式是：<strong>-XX: MetaspaceSize=**M</strong>。这个 JVM 参数的作用是让<span style=\"font-size: 15px;text-align: left;\">Me</span><span style=\"font-size: 15px;text-align: left;\">t</span><span style=\"font-size: 15px;text-align: left;\">a</span><span style=\"font-size: 15px;text-align: left;\">space </span>达到 MetaspaceSize 时触发 Full GC。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">如果不设置 <span style=\"font-size: 15px;text-align: left;\">Me</span><span style=\"font-size: 15px;text-align: left;\">t</span><span style=\"font-size: 15px;text-align: left;\">a</span><span style=\"font-size: 15px;text-align: left;\">space</span>, 默认值很小，也就 20M 左右（不同系统会有一点差别）。如果程序 Load Class 比较多，很容易触发 Full GC。</span><span style=\"font-size: 15px;\">这里要明白的是 Class 信息和加载 Class 的 ClassLoader 都存放在 Metaspace。我们知道一个类是由这个类的类加载器加上全限定名（由包名&amp;类名组成）确定唯一性的。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">所以大家可以检查一下自己应用 JVM Metaspace 的设置大小。如果没有做设置，可以通过 <strong>-XX:+PrintFlagsInitial</strong> 查看一下默认值。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><h3 data-tool=\"mdnice编辑器\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">问题排查</span></strong></span></h3><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><br></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">刚开始看到 Full GC 频繁，查看日志是由于Metaspace 空间不够造成的，第一反应是调整 Metaspace 大小，把 MetaspaceSize 从 256M 提高到了 512M。但是发现 Metaspace 引发的 Full GC 还是没有消除。</span></p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;color: rgb(0, 0, 0);font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, \" pingfang sc cambria cochin georgia times new roman serif left normal rgb><img data-ratio=\"0.5699797160243407\" data-type=\"png\" data-w=\"986\" style=\"box-sizing: border-box !important; width: 677px !important; visibility: visible !important; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/SoGf97KLurBAMBy6fEeQ13KsabVDpkiaianj4u1qbpFN7ibZ01lzJjpeGT17WMdmCj4fW2x9Kia9XZDuJW3AR6zKVQ/640?wx_fmt=png\"></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><br></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">立即 dump 了两台机器的日志。第一次分析GC 日志文件，没发现异常，这里有个注意的地方，大家 <strong>dump 文件时机很重要</strong>。有时候 dump 的 GC 日志没问题是因为刚好  Full GC 完成之后 dump 的，内存回收的干干净净。有些<strong>内存缓慢增加的问题一定要</strong><strong>在 Full GC 前 dump</strong>。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">期间，我们还发现缓存相关的对象占用内存较高。但是经过分析，缓存对象生命周期本身就比较长，所以常驻在堆上，没有问题。继续看。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">排查发现 Metaspace 内存占用是随着双 12 新接口压测流量的增长而增长，所以可以确定是新接口代码引入。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;color: rgb(0, 0, 0);font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, \" pingfang sc cambria cochin georgia times new roman serif left normal rgb><img data-ratio=\"0.1695616211745244\" data-type=\"png\" data-w=\"2418\" style=\"box-sizing: border-box !important; width: 677px !important; visibility: visible !important; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/SoGf97KLurBAMBy6fEeQ13KsabVDpkiaiaFVic1b5VibQ8I7dcMgYswgPLYn6KF5Osee7wuaFO8PloxbGMh40zsiaUA/640?wx_fmt=png\"></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><br></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">分析 GC dump 日志发现可疑点：<strong>同一个 ClassCloader 加载了接近 3000 个</strong>，如下图所示。前面我们说过，ClassCloader 信息保存在 Metaspace 区域。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"padding-top: 8px;padding-bottom: 8px;color: rgb(0, 0, 0);font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, \" pingfang sc cambria cochin georgia times new roman serif left normal rgb><img data-ratio=\"0.18976897689768976\" data-type=\"png\" data-w=\"2424\" style=\"box-sizing: border-box !important; width: 677px !important; visibility: visible !important; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/SoGf97KLurBAMBy6fEeQ13KsabVDpkiaiaGC0dEbC7RJYZL552V99HCTHicBB8L9ybDicG2T4dtrF95WOVUzicRicRSg/640?wx_fmt=png\"></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">破案了，<strong>fastjson 使用不当引入了 ASM Serializer 的坑</strong>。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><h3 data-tool=\"mdnice编辑器\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">故障定位与修复</span></strong></span></h3><p><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">FastJson 之所以快，原因就是使用 asm 字节码增强替代了反射。所以肯定是代码中应用了 fastjson 的 ASM 处理数据时造成的频繁加载同一个类。基本问题清楚了，那就是撸代码了，很快就定位了问题代码。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><br></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">因为保密原因，不方便放原始代码，安琪拉撸了个类似逻辑的代码：</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><section class=\"code-snippet__fix code-snippet__js\"><ul class=\"code-snippet__line-index code-snippet__js\"><li><li><li><li><li></ul><pre class=\"code-snippet__js\" data-lang=\"javascript\"><code><span class=\"code-snippet_outer\"><span class=\"code-snippet__keyword\">for</span>(Item item -&gt; arrays) {</span></code><code><span class=\"code-snippet_outer\">  SerializeConfig serializeConfig = <span class=\"code-snippet__keyword\">new</span> SerializeConfig();</span></code><code><span class=\"code-snippet_outer\">   serializeConfig.put(Custom.class, <span class=\"code-snippet__keyword\">new</span> CustomSerializer());</span></code><code><span class=\"code-snippet_outer\">   jsonString = <span class=\"code-snippet__built_in\">JSON</span>.toJSONString(item, serializeConfig);</span></code><code><span class=\"code-snippet_outer\">}</span></code></pre></section><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">这段代码是自定义了一个序列化实现类 CustomSerializer，在进行序列化时进行了一个类似 AOP 的切面处理，对所有 Custom 类型的字段进行统一自定义序列化（使用CustomSerializer）。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">实现原理是，对需要序列化的 Class 使用 asm 动态生成了代理类，在这里就是 Item 类。使用 SerializeConfig 配置动态生成字节码代理类：com.alibaba.fastjson.serializer.ASMSerializer_1_Item。但是每次 new SerializeConfig 对象（内存地址不一样），FastJson 会当作每次代理的是不一样的<span style=\"font-size: 15px;text-align: left;\">目</span><span style=\"font-size: 15px;text-align: left;\">标</span>。导致每次会使用一个新的类加载器 ASMClassLoader，所以 Metaspace 很快就满了，触发了频繁Full GC。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">如果希望深入研究可以看下 FastJson 源码：com.alibaba.fastjson.serializer.SerializeConfig#createASMSerializer。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><strong><span style=\"font-size: 15px;\">问题修复</span></strong><span style=\"font-size: 15px;\"></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">注册 ObjectSerializer，让 ObjectSerializer 成为全局唯一的，相当于是单例的。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><section class=\"code-snippet__fix code-snippet__js\"><ul class=\"code-snippet__line-index code-snippet__js\"><li></ul><pre class=\"code-snippet__js\" data-lang=\"css\"><code><span class=\"code-snippet_outer\"><span class=\"code-snippet__selector-tag\">SerializeConfig</span><span class=\"code-snippet__selector-class\">.getGlobalInstance</span>()<span class=\"code-snippet__selector-class\">.put</span>(<span class=\"code-snippet__selector-tag\">Character</span><span class=\"code-snippet__selector-class\">.class</span>, <span class=\"code-snippet__selector-tag\">new</span> <span class=\"code-snippet__selector-tag\">CharacterSerializer</span>());</span></code></pre></section><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><br></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">SerializeConfig 改成单例的后，每次序列化不用重复加载。</span></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\"><br></span></p><h3 data-tool=\"mdnice编辑器\"><span style=\"color: rgb(171, 25, 66);\"><strong><span style=\"color: rgb(171, 25, 66);font-size: 15px;text-align: left;\">类似问题排查与调优</span></strong></span></h3><p><span style=\"font-size: 15px;\"><br></span></p><ol data-tool=\"mdnice编辑器\" class=\"list-paddingleft-2\" style=\"text-align: left;\"><li style=\"text-align: left;\"><section style=\"text-align: left;\"><span style=\"font-size: 15px;\">如果 dump 日志发现很多 classloader 名称前缀相同，排查是否有这种动态代理技术的使用，可能在不断生成代理对象；</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\"><span style=\"font-size: 15px;\">发现内存缓慢增长 GC 回收不掉，dump GC 日志，查看是否有类被重复加载；</span></section></li><li style=\"text-align: left;\"><section style=\"text-align: left;\"><span style=\"font-size: 15px;\">Metaspace 调优，比如我们现在生产环境 Metaspace 基本会设置 256M 或者 512M，可以根据应用的类型和机器内存配置来决定。取决于两个因素：是否会加载比较多的类；机器内存允许, 可以适当调大 Metaspace。</span></section></li></ol><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><br></p><p data-tool=\"mdnice编辑器\" style=\"text-align: left;\"><span style=\"font-size: 15px;\">以上就是双 12 压测 GC 问题完整的排查方法论、详细过程和解决方案。</span></p><p><span style=\"font-size: 15px;text-align: left;\"></span></p><p style=\"white-space: normal;text-align: center;\"><span style=\"font-size: 15px;color: rgb(136, 136, 136);\">- EOF -</span></p><section donone=\"shifuMouseDownCard('shifu_c_030')\" label=\"Copyright Reserved by PLAYHUDONG.\" style=\"margin-top: 1em;margin-bottom: 1em;white-space: normal;text-align: start;max-width: 100%;caret-color: rgb(0, 0, 0);color: rgb(0, 0, 0);border-width: 0px;border-style: initial;border-color: initial;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><section style=\"margin-left: 1em;max-width: 100%;line-height: 1.4;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"padding: 3px 8px;max-width: 100%;border-radius: 4px;color: rgb(255, 255, 255);background-color: rgb(255, 105, 31);font-family: inherit;text-align: inherit;text-decoration: inherit;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;\">推荐阅读</span>  <span style=\"margin-left: 4px;padding: 3px 8px;max-width: 100%;border-radius: 1.2em;color: rgb(255, 255, 255);line-height: 1.2;background-color: rgb(204, 204, 204);font-family: inherit;text-align: inherit;text-decoration: inherit;border-color: rgb(249, 110, 87);font-size: 12px;box-sizing: border-box !important;overflow-wrap: break-word !important;\">点击标题可跳转</span></section><section style=\"margin-top: -11px;padding: 22px 16px 16px;max-width: 100%;border-width: 1px;border-style: solid;border-color: rgb(255, 105, 31);color: rgb(51, 51, 51);font-size: 1em;font-family: inherit;text-align: inherit;text-decoration: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"text-decoration: underline;font-size: 13px;\">1、<a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;mid=2651489176&amp;idx=1&amp;sn=372225b68021cd8e19380527dfc985c8&amp;chksm=bd25efe78a5266f156f6235d221c674ad13e6c49e6133869806a283a7760bbe427a8a0273525&amp;scene=21#wechat_redirect\" data-itemshowtype=\"11\" tab=\"innerlink\" data-linktype=\"2\">线程池运用不当的一次线上事故</a></span></p><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"text-decoration: underline;font-size: 13px;\">2、<a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;mid=2651494167&amp;idx=1&amp;sn=633954b74100635c90ea62b5e56b2213&amp;chksm=bd25fb688a52727ec92718aca2edaa9a72c0d69360df227e328644c9e225c1b87235a28317d5&amp;scene=21#wechat_redirect\" data-itemshowtype=\"11\" tab=\"innerlink\" data-linktype=\"2\">百分百面试题:遇到过线上问题没有？</a></span></p><p style=\"max-width: 100%;min-height: 1em;line-height: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><span style=\"text-decoration: underline;font-size: 13px;\">3、<a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;mid=2651489951&amp;idx=2&amp;sn=27bd28409c14282108a8bbfa5521e6de&amp;chksm=bd25eae08a5263f66ca1fb8db183a85e444dfa02d4d6a74f6e80bece03568e22b9005d330814&amp;scene=21#wechat_redirect\" data-itemshowtype=\"0\" tab=\"innerlink\" data-linktype=\"2\">JAVA 线上故障排查完整套路，从 CPU、磁盘、内存、网络、GC 一条龙！</a></span></p></section></section><p style=\"white-space: normal;caret-color: rgb(0, 0, 0);color: rgb(0, 0, 0);text-align: start;max-width: 100%;min-height: 1em;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><br></p><p style=\"text-align: center;\"><span style=\"max-width: 100%;font-size: 14px;color: rgb(255, 169, 0);box-sizing: border-box !important;overflow-wrap: break-word !important;\">看完本文有收获？请转发分享给更多人</span><br></p><p style=\"white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);text-align: center;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><strong style=\"max-width: 100%;color: rgb(255, 169, 0);box-sizing: border-box !important;overflow-wrap: break-word !important;\">关注「ImportNew」，提升Java技能</strong></p><p style=\"white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);text-align: center;box-sizing: border-box !important;overflow-wrap: break-word !important;\"><img data-ratio=\"0.9166666666666666\" data-s=\"300,640\" data-type=\"jpeg\" data-w=\"600\" style=\"box-sizing: border-box !important; overflow-wrap: break-word !important; visibility: visible !important; width: 600px !important; max-width: 600px\" width=\"auto\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/2A8tXicCG8ylbWIGfdoDED35IRRySQZTXUkJ1eop9MHApzFibKnOo0diboXpl0rmS5mH78YJhsWQv0dhv718A6kUA/640?wx_fmt=jpeg\"></p><p style=\"text-align: right;\"><span style=\"font-size: 14px;text-align: right;\"></span><span style=\"max-width: 100%;font-family: -apple-system-font, system-ui, \" helvetica neue sc sans gb yahei ui arial sans-serif center break-word border-box>点赞和在看就是最大的支持</span><span style=\"max-width: 100%;font-family: -apple-system-font, system-ui, \" helvetica neue sc sans gb yahei ui arial sans-serif center break-word border-box>❤️</span></p>\n                </div>\n\n    \n    <br>\n\n    \n        <a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;mid=2651494789&amp;idx=2&amp;sn=623ac5a02a856107c08e74da84e9429b&amp;chksm=bd25f5fa8a527cec10ca00f19105aed54748f8d343082029ea5506860f6592639e14935dc5e3&amp;scene=0#rd\" style=\"color: blue\" class=\"media_tool_meta meta_primary\">原文</a>\n        <br>\n    \n\n    \n\n    <img alt=\"\" width=\"1px\" height=\"1px\" class=\"\" style=\"width:1px;height:1px;display:none\" src=\"http://www.jintiankansha.me/rss_static/54540/4LvB2Qkvm8\"></div></div>","descriptionType":"html","publishedDate":"Sun, 25 Apr 2021 03:30:00 +0000","feedId":2521,"bgimg":"http://content.sov5.cn/mmbiz_jpg/eZzl4LXykQxfHPNOkI3dRNys6LehDQqhsBsgA9l1dDycmHkb7lTaVPaTHbiccfOibZNzRg3iaE84sKRlejAouLsOA?imageView2/1/w/600","linkMd5":"5055d961f85d6e0a84fbd95990272519","destWidth":600,"destHeight":449,"sourceBytes":30058,"destBytes":22954,"author":"","articleImgCdnMap":{"http://content.sov5.cn/mmbiz_jpg/eZzl4LXykQxfHPNOkI3dRNys6LehDQqhsBsgA9l1dDycmHkb7lTaVPaTHbiccfOibZNzRg3iaE84sKRlejAouLsOA?imageView2/1/w/600":null,"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/SoGf97KLurBAMBy6fEeQ13KsabVDpkiaiaJHe0GkukiccvZ863giaRU0Z3XFBzn0eREJMHRgQ0tmbRZTp7sTwHvH5g/640?wx_fmt=png":null,"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/SoGf97KLurBAMBy6fEeQ13KsabVDpkiaiaibAmLpeRvEkIRPRIdcwlghtbmkBohSE8emPEbxOGmlNwD7XrvZ61CDQ/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn45@2020_3/2021/04/26/17-46-50-274_c220c7f96ccf837c.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/SoGf97KLurBAMBy6fEeQ13KsabVDpkiaiaTrfjib4F7tNG76kLliaAZmbg5k2tsfTJdWcUoE7XytgLicArRALguWgyQ/640?wx_fmt=png":null,"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/SoGf97KLurBAMBy6fEeQ13KsabVDpkiaianj4u1qbpFN7ibZ01lzJjpeGT17WMdmCj4fW2x9Kia9XZDuJW3AR6zKVQ/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn51@2020_2/2021/04/26/17-48-42-780_c0c5b498a11ec6d9.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/SoGf97KLurBAMBy6fEeQ13KsabVDpkiaiaFVic1b5VibQ8I7dcMgYswgPLYn6KF5Osee7wuaFO8PloxbGMh40zsiaUA/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn56@2020_5/2021/04/26/17-45-48-761_26db962a70be3e50.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/SoGf97KLurBAMBy6fEeQ13KsabVDpkiaiaGC0dEbC7RJYZL552V99HCTHicBB8L9ybDicG2T4dtrF95WOVUzicRicRSg/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn31@2020_6/2021/04/26/17-45-47-249_2b5748ce3f8ac5db.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/2A8tXicCG8ylbWIGfdoDED35IRRySQZTXUkJ1eop9MHApzFibKnOo0diboXpl0rmS5mH78YJhsWQv0dhv718A6kUA/640?wx_fmt=jpeg":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn41@2020_2/2021/04/26/17-45-35-960_f93d0239d4369c75.webp","http://www.jintiankansha.me/rss_static/54540/4LvB2Qkvm8":null},"publishedOrCreatedDate":1619459124950}],"record":{"createdTime":"2021-04-27 01:45:24","updatedTime":"2021-04-27 01:45:24","feedId":2521,"fetchDate":"Mon, 26 Apr 2021 17:45:24 +0000","fetchMs":262,"handleMs":13,"totalMs":198742,"newArticles":0,"totalArticles":5,"status":1,"type":0,"ip":"79b59b7ab14b8d981e3d8a220e20848a","hostName":"us-031*","requestId":"992924d3a74245208bb9fc68407fa601_2521","contentType":"application/rss+xml","totalBytes":102724,"bgimgsTotal":1,"bgimgsGithubTotal":0,"articlesImgsTotal":9,"articlesImgsGithubTotal":5,"successGithubMap":{"myreaderx4":1,"myreaderx10":1,"myreaderx2":1,"myreaderx30":1,"myreaderx18":1},"failGithubMap":{"myreaderx14":1}},"feed":{"createdTime":"2020-08-24 21:31:41","updatedTime":"2020-09-01 10:09:47","id":2521,"name":"ImportNew","url":"http://feedmaker.kindle4rss.com/feeds/importnew.weixin.xml","subscriber":null,"website":null,"icon":"http://www.sogou.com/images/logo/new/favicon.ico?v=4","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx63/cdn9@2020_3/2020/09/01/02-08-31-388_d24121c9beed1de6.ico","description":"伯乐在线旗下账号，专注Java技术分享，包括Java基础技术、进阶技能、架构设计和Java技术领域动态等。","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2021-04-27 01:48:43","updatedTime":"2021-04-27 01:48:43","id":null,"feedId":2521,"linkMd5":"5055d961f85d6e0a84fbd95990272519"}],"tmpCommonImgCdnBytes":0,"tmpBodyImgCdnBytes":102724,"tmpBgImgCdnBytes":0,"extra4":{"start":1619459124538,"total":0,"statList":[{"spend":399,"msg":"获取xml内容"},{"spend":13,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":195674,"msg":"正文链接上传到cdn"}]},"extra5":9,"extra6":7,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"http://content.sov5.cn/mmbiz_jpg/eZzl4LXykQxfHPNOkI3dRNys6LehDQqhsBsgA9l1dDycmHkb7lTaVPaTHbiccfOibZNzRg3iaE84sKRlejAouLsOA?imageView2/1/w/600","sourceStatusCode":200,"destWidth":600,"destHeight":449,"sourceBytes":30058,"destBytes":22954,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":1977,"convertSpendMs":10,"createdTime":"2021-04-27 01:45:24","host":"us-040*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E4%B8%80%E6%AC%A1%E5%8E%8B%E6%B5%8B%E5%BC%95%E5%87%BA%E7%9A%84%E7%BA%BF%E4%B8%8AFull%20GC%E6%8E%92%E6%9F%A5","linkMd5ListStr":"5055d961f85d6e0a84fbd95990272519,5055d961f85d6e0a84fbd95990272519","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn21/contents/2021/04/26/17-45-26-908_2311ad51123d5902.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Mon, 26 Apr 2021 17:45:26 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["9FE8:6C98:1668E71:2974C66:6086FC36"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1619461487"],"x-ratelimit-used":["60"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn21/contents/2021/04/26/17-45-26-908_2311ad51123d5902.webp","historyStatusCode":[],"spendMs":29},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"29.4 KB","destSize":"22.4 KB","compressRate":"76.4%"},{"code":1,"isDone":false,"source":"http://content.sov5.cn/mmbiz_jpg/eZzl4LXykQxfHPNOkI3dRNys6LehDQqhsBsgA9l1dDycmHkb7lTaVPaTHbiccfOibZNzRg3iaE84sKRlejAouLsOA?imageView2/1/w/600","sourceStatusCode":200,"destWidth":600,"destHeight":449,"sourceBytes":30058,"destBytes":22954,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":656,"convertSpendMs":10,"createdTime":"2021-04-27 01:45:26","host":"us-040*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E4%B8%80%E6%AC%A1%E5%8E%8B%E6%B5%8B%E5%BC%95%E5%87%BA%E7%9A%84%E7%BA%BF%E4%B8%8AFull%20GC%E6%8E%92%E6%9F%A5","linkMd5ListStr":"5055d961f85d6e0a84fbd95990272519,5055d961f85d6e0a84fbd95990272519","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn21/contents/2021/04/26/17-45-27-571_2311ad51123d5902.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Mon, 26 Apr 2021 17:45:27 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["9FE8:6C98:1668ECC:2974D13:6086FC37"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1619461487"],"x-ratelimit-used":["60"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn21/contents/2021/04/26/17-45-27-571_2311ad51123d5902.webp","historyStatusCode":[],"spendMs":30},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"29.4 KB","destSize":"22.4 KB","compressRate":"76.4%"},{"code":1,"isDone":false,"source":"http://www.jintiankansha.me/rss_static/54540/4LvB2Qkvm8","sourceStatusCode":405,"sourceBytes":0,"destBytes":0,"feedId":2521,"totalSpendMs":548,"convertSpendMs":0,"createdTime":"2021-04-27 01:45:27","host":"europe64*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E4%B8%80%E6%AC%A1%E5%8E%8B%E6%B5%8B%E5%BC%95%E5%87%BA%E7%9A%84%E7%BA%BF%E4%B8%8AFull%20GC%E6%8E%92%E6%9F%A5","linkMd5ListStr":"5055d961f85d6e0a84fbd95990272519","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[405],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"http://www.jintiankansha.me/rss_static/54540/4LvB2Qkvm8","sourceStatusCode":405,"sourceBytes":0,"destBytes":0,"feedId":2521,"totalSpendMs":676,"convertSpendMs":0,"createdTime":"2021-04-27 01:45:28","host":"us-015*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E4%B8%80%E6%AC%A1%E5%8E%8B%E6%B5%8B%E5%BC%95%E5%87%BA%E7%9A%84%E7%BA%BF%E4%B8%8AFull%20GC%E6%8E%92%E6%9F%A5","linkMd5ListStr":"5055d961f85d6e0a84fbd95990272519","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[405],"sourceSize":"0","destSize":"0"},null,null,null,{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/SoGf97KLurBAMBy6fEeQ13KsabVDpkiaianj4u1qbpFN7ibZ01lzJjpeGT17WMdmCj4fW2x9Kia9XZDuJW3AR6zKVQ/640?wx_fmt=png","sourceStatusCode":403,"sourceBytes":0,"destBytes":0,"feedId":2521,"totalSpendMs":1096,"convertSpendMs":0,"createdTime":"2021-04-27 01:46:27","host":"europe66*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E4%B8%80%E6%AC%A1%E5%8E%8B%E6%B5%8B%E5%BC%95%E5%87%BA%E7%9A%84%E7%BA%BF%E4%B8%8AFull%20GC%E6%8E%92%E6%9F%A5","linkMd5ListStr":"5055d961f85d6e0a84fbd95990272519","extra22GetBytesInfo":"2、Referer字段 ： http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E4%B8%80%E6%AC%A1%E5%8E%8B%E6%B5%8B%E5%BC%95%E5%87%BA%E7%9A%84%E7%BA%BF%E4%B8%8AFull%20GC%E6%8E%92%E6%9F%A5","extra23historyStatusCode":[403,403],"sourceSize":"0","destSize":"0"},null,null,{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/SoGf97KLurBAMBy6fEeQ13KsabVDpkiaianj4u1qbpFN7ibZ01lzJjpeGT17WMdmCj4fW2x9Kia9XZDuJW3AR6zKVQ/640?wx_fmt=png","sourceStatusCode":403,"sourceBytes":0,"destBytes":0,"feedId":2521,"totalSpendMs":1096,"convertSpendMs":0,"createdTime":"2021-04-27 01:46:27","host":"europe66*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E4%B8%80%E6%AC%A1%E5%8E%8B%E6%B5%8B%E5%BC%95%E5%87%BA%E7%9A%84%E7%BA%BF%E4%B8%8AFull%20GC%E6%8E%92%E6%9F%A5","linkMd5ListStr":"5055d961f85d6e0a84fbd95990272519","extra22GetBytesInfo":"2、Referer字段 ： http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E4%B8%80%E6%AC%A1%E5%8E%8B%E6%B5%8B%E5%BC%95%E5%87%BA%E7%9A%84%E7%BA%BF%E4%B8%8AFull%20GC%E6%8E%92%E6%9F%A5","extra23historyStatusCode":[403,403],"sourceSize":"0","destSize":"0"},null,{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/SoGf97KLurBAMBy6fEeQ13KsabVDpkiaianj4u1qbpFN7ibZ01lzJjpeGT17WMdmCj4fW2x9Kia9XZDuJW3AR6zKVQ/640?wx_fmt=png","sourceStatusCode":403,"sourceBytes":0,"destBytes":0,"feedId":2521,"totalSpendMs":1096,"convertSpendMs":0,"createdTime":"2021-04-27 01:46:27","host":"europe66*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E4%B8%80%E6%AC%A1%E5%8E%8B%E6%B5%8B%E5%BC%95%E5%87%BA%E7%9A%84%E7%BA%BF%E4%B8%8AFull%20GC%E6%8E%92%E6%9F%A5","linkMd5ListStr":"5055d961f85d6e0a84fbd95990272519","extra22GetBytesInfo":"2、Referer字段 ： http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E4%B8%80%E6%AC%A1%E5%8E%8B%E6%B5%8B%E5%BC%95%E5%87%BA%E7%9A%84%E7%BA%BF%E4%B8%8AFull%20GC%E6%8E%92%E6%9F%A5","extra23historyStatusCode":[403,403],"sourceSize":"0","destSize":"0"}],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://us-032.herokuapp.com/":{"failCount":2,"successCount":2,"resultList":[200,200,null,403]},"http://us-020.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-54.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://europe-24.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe65.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-033.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://europe64.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[405]},"http://europe66.herokuapp.com/":{"failCount":1,"successCount":1,"resultList":[200,403]},"http://us-015.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[405]},"http://us-008.herokuapp.com/":{"failCount":2,"successCount":1,"resultList":[200,null,403]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/2A8tXicCG8ylbWIGfdoDED35IRRySQZTXUkJ1eop9MHApzFibKnOo0diboXpl0rmS5mH78YJhsWQv0dhv718A6kUA/640?wx_fmt=jpeg","sourceStatusCode":200,"destWidth":600,"destHeight":550,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn41@2020_2/2021/04/26/17-45-35-960_f93d0239d4369c75.webp","sourceBytes":37143,"destBytes":31608,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":8628,"convertSpendMs":11,"createdTime":"2021-04-27 01:45:27","host":"us-032*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E4%B8%80%E6%AC%A1%E5%8E%8B%E6%B5%8B%E5%BC%95%E5%87%BA%E7%9A%84%E7%BA%BF%E4%B8%8AFull%20GC%E6%8E%92%E6%9F%A5","linkMd5ListStr":"5055d961f85d6e0a84fbd95990272519","githubUser":"myreaderx2","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"36.3 KB","destSize":"30.9 KB","compressRate":"85.1%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/SoGf97KLurBAMBy6fEeQ13KsabVDpkiaiaGC0dEbC7RJYZL552V99HCTHicBB8L9ybDicG2T4dtrF95WOVUzicRicRSg/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":205,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx10/cdn31@2020_6/2021/04/26/17-45-47-249_2b5748ce3f8ac5db.webp","sourceBytes":155505,"destBytes":20472,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":20174,"convertSpendMs":12,"createdTime":"2021-04-27 01:45:27","host":"europe66*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E4%B8%80%E6%AC%A1%E5%8E%8B%E6%B5%8B%E5%BC%95%E5%87%BA%E7%9A%84%E7%BA%BF%E4%B8%8AFull%20GC%E6%8E%92%E6%9F%A5","linkMd5ListStr":"5055d961f85d6e0a84fbd95990272519","githubUser":"myreaderx10","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"151.9 KB","destSize":"20 KB","compressRate":"13.2%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/SoGf97KLurBAMBy6fEeQ13KsabVDpkiaiaFVic1b5VibQ8I7dcMgYswgPLYn6KF5Osee7wuaFO8PloxbGMh40zsiaUA/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":183,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn56@2020_5/2021/04/26/17-45-48-761_26db962a70be3e50.webp","sourceBytes":51365,"destBytes":6624,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":21393,"convertSpendMs":9,"createdTime":"2021-04-27 01:45:27","host":"us-008*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E4%B8%80%E6%AC%A1%E5%8E%8B%E6%B5%8B%E5%BC%95%E5%87%BA%E7%9A%84%E7%BA%BF%E4%B8%8AFull%20GC%E6%8E%92%E6%9F%A5","linkMd5ListStr":"5055d961f85d6e0a84fbd95990272519","githubUser":"myreaderx4","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"50.2 KB","destSize":"6.5 KB","compressRate":"12.9%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/SoGf97KLurBAMBy6fEeQ13KsabVDpkiaiaibAmLpeRvEkIRPRIdcwlghtbmkBohSE8emPEbxOGmlNwD7XrvZ61CDQ/640?wx_fmt=png","sourceStatusCode":200,"destWidth":1080,"destHeight":390,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn45@2020_3/2021/04/26/17-46-50-274_c220c7f96ccf837c.webp","sourceBytes":110550,"destBytes":17164,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":22852,"convertSpendMs":22,"createdTime":"2021-04-27 01:46:27","host":"us-032*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E4%B8%80%E6%AC%A1%E5%8E%8B%E6%B5%8B%E5%BC%95%E5%87%BA%E7%9A%84%E7%BA%BF%E4%B8%8AFull%20GC%E6%8E%92%E6%9F%A5","linkMd5ListStr":"5055d961f85d6e0a84fbd95990272519","githubUser":"myreaderx18","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"108 KB","destSize":"16.8 KB","compressRate":"15.5%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/SoGf97KLurBAMBy6fEeQ13KsabVDpkiaianj4u1qbpFN7ibZ01lzJjpeGT17WMdmCj4fW2x9Kia9XZDuJW3AR6zKVQ/640?wx_fmt=png","sourceStatusCode":200,"destWidth":986,"destHeight":562,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn51@2020_2/2021/04/26/17-48-42-780_c0c5b498a11ec6d9.webp","sourceBytes":201415,"destBytes":26856,"targetWebpQuality":75,"feedId":2521,"totalSpendMs":14073,"convertSpendMs":22,"createdTime":"2021-04-27 01:48:29","host":"europe-24*","referer":"http://weixin.sogou.com/weixin?type=2&query=ImportNew+%E4%B8%80%E6%AC%A1%E5%8E%8B%E6%B5%8B%E5%BC%95%E5%87%BA%E7%9A%84%E7%BA%BF%E4%B8%8AFull%20GC%E6%8E%92%E6%9F%A5","linkMd5ListStr":"5055d961f85d6e0a84fbd95990272519","githubUser":"myreaderx30","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"196.7 KB","destSize":"26.2 KB","compressRate":"13.3%"}],"successGithubMap":{"myreaderx4":1,"myreaderx10":1,"myreaderx2":1,"myreaderx30":1,"myreaderx18":1},"failGithubMap":{"myreaderx14":1}}