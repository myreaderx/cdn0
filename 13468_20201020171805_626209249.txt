{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-21 01:17:04","updatedTime":"2020-10-21 01:17:04","title":"高次圏を考慮した指標の書き方","link":"https://m-hiyama.hatenablog.com/entry/2020/09/14/135050","description":"<p>多相関数の話はもうしません（一段落ついた）。ですが、「<a href=\"https://m-hiyama.hatenablog.com/entry/2020/09/10/121121#id2020_signature-as-usual\">多相関数と型クラス // 指標：いつもの事例で</a>」で、指標の例を出したので、指標の話を続けようかな。高次<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%B7%F7%CF%C0\">圏論</a>を考慮して指標の構文を決めるとどうなるか、という話です。</p>\n<p><b>内容：</b></p> \n<ul class=\"table-of-contents\"> \n <li><a href=\"https://m-hiyama.hatenablog.com/entry/2020/09/14/135050#指標いつもとチョットだけ違う事例\">指標：いつもとチョットだけ違う事例</a></li> \n <li><a href=\"https://m-hiyama.hatenablog.com/entry/2020/09/14/135050#指標内のキーワードを変える\">指標内のキーワードを変える</a></li> \n <li><a href=\"https://m-hiyama.hatenablog.com/entry/2020/09/14/135050#n-指標とターゲットn-圏\">n-指標とターゲットn-圏</a></li> \n <li><a href=\"https://m-hiyama.hatenablog.com/entry/2020/09/14/135050#指標のメタ指標とusing\">指標のメタ指標とusing</a></li> \n <li><a href=\"https://m-hiyama.hatenablog.com/entry/2020/09/14/135050#他の指標の利用とimport\">他の指標の利用とimport</a></li> \n <li><a href=\"https://m-hiyama.hatenablog.com/entry/2020/09/14/135050#おわりに\">おわりに</a></li> \n</ul>\n<p><h4 id=\"指標いつもとチョットだけ違う事例\">指標：いつもとチョットだけ違う事例</h4></p>\n<p>「<a href=\"https://m-hiyama.hatenablog.com/entry/2020/09/10/121121\">多相関数と型クラス</a>」にて： </p> \n<blockquote> \n <p>毎度毎度同じ事例で恐縮ですが、モノイドの例を使います。<br /> ...[snip]...<br /> 等式的法則として、左単位律だけ書いてあって、右単位律と結合律は省略しています。面倒だからです。</p> \n</blockquote> \n<p>今回は、「省略はしませんがモノイドではない事例」を使います。次の例です。</p> \n<pre>signature LUnitalPointedMagma in <b>Set</b> {\n  <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/type%20U\">type U</a>\n  function m:U×U -&gt; U\n  function e:<b>1</b> -&gt; U\n\n  equation lunit :: (λ<sub>U</sub>)<sup>-1</sup>;(e×id<sub>U</sub>);m = id<sub>U</sub>\n  /* 省略はしてない。これでオシマイ */\n}\n</pre>\n<p>この指標内に登場する記号 <b>1</b>, ×, λ<sub>U</sub>, (λ<sub>U</sub>)<sup>-1</sup> の意味は「<a href=\"https://m-hiyama.hatenablog.com/entry/2020/09/10/121121#id2020_signature-as-usual\">多相関数と型クラス // 指標：いつもの事例で</a>」を見てください。</p>\n<p>この指標で定義される代数構造は<strong style=\"color:crimson\">左単位的付点マグマ</strong>〈left unital pointed magma〉と呼びましょう。マグマ → 付点マグマ → 左単位的マグマ の順でだんだん複雑になります。<strong style=\"color:crimson\">マグマ</strong>〈magma〉と<strong style=\"color:crimson\">付点マグマ</strong>〈pointed magma〉の指標も再掲しておくと：</p> \n<pre>signature Magma in <b>Set</b> {\n  <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/type%20U\">type U</a>\n  function m:U×U -&gt; U\n}\n\nsignature PointedMagma in <b>Set</b> {\n  <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/type%20U\">type U</a>\n  function m:U×U -&gt; U\n  function e:<b>1</b> -&gt; U\n}\n</pre>\n<p>指標のモデルの圏は Model[-] と書くことにします。ブラケット内には指標名か、指標そのものを書きます。例えば：</p> \n<ul> \n <li>Model[PointedMagma]</li> \n <li>Model[signature {<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/type%20U\">type U</a> function m:U×U -&gt; U}]</li> \n</ul>\n<p>二番目は Model[Magma] と同じです。ごく短い指標以外は、指標名を使うのが普通です。</p>\n<p>指標のモデルの圏は、指標名を太字にした名前にするというルールを使います（別に破ってもいいルールですが）。</p> \n<ul> \n <li><b>Magma</b> := Model[Magma]</li> \n <li><b>PointedMagma</b> := Model[PointedMagma]</li> \n <li><b>LUnitalPointedMagma</b> := Model[LUnitalPointedMagma]</li> \n</ul>\n<p>モデルの圏の射〈<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%BD%E0%C6%B1%B7%BF%BC%CC%C1%FC\">準同型写像</a>〉の定義は、指標から自動的に決まります。それを説明するためには、記法の約束が必要です。Xが指標PointedMagmaのモデル（つまり、<b>PointedMagma</b>の対象）だとして：</p> \n<ul> \n <li>Xの台集合は、X.U と書く。</li> \n <li>Xの二項演算は、X.m と書く。</li> \n <li>Xの特定要素をポイントする<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%BC%CC%C1%FC\">写像</a>は、X.e と書く。</li> \n</ul>\n<p>より詳しくは「<a href=\"https://m-hiyama.hatenablog.com/entry/2019/11/07/131337\">構造とその素材の書き表し方</a>」参照。</p>\n<p>この約束で、モデルの圏<b>PointedMagma</b>の射〈<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%BD%E0%C6%B1%B7%BF%BC%CC%C1%FC\">準同型写像</a>〉f:X → Y in <b>PointedMagma</b> は、次の図式を可換にするような台集合のあいだの<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%BC%CC%C1%FC\">写像</a> f:X.U → Y.U in <b>Set</b> のことです。</p>\n<p><img src=\"https://chart.apis.google.com/chart?cht=tx&amp;chl=%5Crequire%7BAMScd%7D%0A%5Cbegin%7BCD%7D%0AX.U%5Ctimes%20X.U%20%20%40%3E%7BX.a%7D%3E%3E%20X.U%20%5C%5C%0A%40V%7Bf%5Ctimes%20f%7DVV%20%20%20%20%20%20%20%20%20%20%40VV%7Bf%7DV%20%5C%5C%0AY.U%5Ctimes%20Y.U%20%20%40%3E%7BY.a%7D%3E%3E%20Y.U%0A%5Cend%7BCD%7D%20%5C%5C%0A%5C%3A%5C%5C%0A%5Cbegin%7BCD%7D%0A%7B%5Cbf%201%7D%20%40%3E%7BX.e%7D%3E%3E%20%20X.U%20%5C%5C%0A%40%7C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%40VV%7Bf%7DV%20%5C%5C%0A%7B%5Cbf%201%7D%20%40%3E%7BY.e%7D%3E%3E%20%20Y.U%0A%5Cend%7BCD%7D%5C%5C%0A%5C%3A%5C%5C%0A%5Cmbox%7Bcommutative%20in%20%7D%7B%5Cbf%20Set%7D%0A\" alt=\"\\require{AMScd}\n\\begin{CD}\nX.U\\times X.U  @>{X.a}>> X.U \\\\\n@V{f\\times f}VV          @VV{f}V \\\\\nY.U\\times Y.U  @>{Y.a}>> Y.U\n\\end{CD} \\\\\n\\:\\\\\n\\begin{CD}\n{\\bf 1} @>{X.e}>>  X.U \\\\\n@|                 @VV{f}V \\\\\n{\\bf 1} @>{Y.e}>>  Y.U\n\\end{CD}\\\\\n\\:\\\\\n\\mbox{commutative in }{\\bf Set}\n\" /></p>\n<p>圏<b>LUnitalPointedMagma</b>の射の定義も同じです。左単位的付点マグマを特徴づける左単位律（の等式）は、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%BD%E0%C6%B1%B7%BF%BC%CC%C1%FC\">準同型写像</a>の定義には影響を与えません。また、圏<b>Magma</b>の射は、一番目の図式の可換性だけを要求します。</p>\n<p>インスティチューション理論（そういう理論がある）では、左単位律のような条件〈公理〉は指標とは切り離しますが、「何を条件として切り離すか？」の基準がハッキリしないので（「<a href=\"http://m-hiyama.hatenablog.com/entry/2019/08/21/175255\">指標と仕様</a>」参照）、ここでは<em style=\"text-decoration:underline\">条件〈公理〉も指標内に記述</em>します<a href=\"https://m-hiyama.hatenablog.com/entry/2020/09/14/135050#f-fb05a844\" name=\"fn-fb05a844\" title=\"構成素と条件の境界線が恣意的になってしまう気がします。必然的な境界線が存在するのでしょうか？ わかりません。\">*1</a>。</p>\n<p><h4 id=\"指標内のキーワードを変える\">指標内のキーワードを変える</h4></p>\n<p>「<a href=\"https://m-hiyama.hatenablog.com/entry/2020/09/08/142116\">多相関数の「パラメトリック性 vs 満足性」</a>」にて：</p> \n<blockquote> \n <p>標準的なキーワードは、type, function ではなくて、sort, operation ですが、キーワードに違和感を持つ人が多いので type, function にします。</p> \n</blockquote> \n<p>というわけで、より伝統的なキーワードに戻せば：</p> \n<pre>signature LUnitalPointedMagma in <b>Set</b> {\n  sort U\n  operation m:U×U -&gt; U\n  operation e:<b>1</b> -&gt; U\n\n  equation lunit :: (λ<sub>U</sub>)<sup>-1</sup>;(e×id<sub>U</sub>);m = id<sub>U</sub>\n}\n</pre>\n<p>キーワードがどうであれ、Uは集合圏<b>Set</b>の対象で、m, e は集合圏<b>Set</b>の射です。<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%B7%F7%CF%C0\">圏論</a>用語をキーワードに使うならば：</p> \n<pre>signature LUnitalPointedMagma in <b>Set</b> {\n  object U\n  morphism m:U×U -&gt; U\n  morphism e:<b>1</b> -&gt; U\n\n  equation lunit :: (λ<sub>U</sub>)<sup>-1</sup>;(e×id<sub>U</sub>);m = id<sub>U</sub>\n}\n</pre>\n<p>さらに一歩進めて、高次<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%B7%F7%CF%C0\">圏論</a>〈n-<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%B7%F7%CF%C0\">圏論</a>〉の用語をキーワードにしてしまいましょう。高次圏〈n-圏〉入門には次の記事があります。</p> \n<ul> \n <li><a href=\"https://m-hiyama.hatenablog.com/entry/20080422/1208858789\">n-圏とは何だろう</a>（2008年）</li> \n</ul>\n<p>過去記事の冒頭に注記がありますが、当時と今とでは記法が変わっています。現在僕が使っている記法については次の記事を。</p> \n<ul> \n <li><a href=\"https://m-hiyama.hatenablog.com/entry/20160427/1461740039\">関手と自然変換の計算に出てくる演算子記号とか</a></li> \n</ul>\n<p>さて、高次圏フレンドリーにした指標の構文は：</p> \n<pre>signature LUnitalPointedMagma in <b>Set</b> {\n  0-morphism U\n  1-morphism m:U×U -&gt; U\n  1-morphism e:<b>1</b> -&gt; U\n\n  2-morphism lunit :: (λ<sub>U</sub>)<sup>-1</sup>;(e×id<sub>U</sub>);m =&gt; id<sub>U</sub>\n}\n</pre>\n<p>対象は0-射（0次元の射）で、通常の射は1-射（1次元の射）です。等式が2-射になってますが、これはどういうことでしょう？ 集合圏<b>Set</b>は1-圏、つまり、0-射と1-射を持つ圏ですが、実は2-射も（それどころか、任意のk-射を）持つのです。集合圏の2-射とは、1-射のあいだの恒等2-射です。恒等2-射は、1-射のあいだのイコールと同じことです。1-圏における2次元以上の射はすべて恒等射（イコール）になってしまうのです。</p> \n<ul> \n <li>1-圏において、k ＞ 1 であるk-射は、すべて恒等k-射（(k - 1)-射のあいだのイコール）である。</li> \n <li>一般のn-圏において、k ＞ n であるk-射は、すべて恒等k-射（(k - 1)-射のあいだのイコール）である。</li> \n</ul>\n<p>したがって、1-指標の equation を 2-morphism とするのは理にかなっています。2-射（射のあいだのイコール）の宣言を丁寧に書くと次のようです。</p> \n<ul> \n <li>2-morphism lunit :: (λ<sub>U</sub>)<sup>-1</sup>;(e×id<sub>U</sub>);m =&gt; id<sub>U</sub>:U -&gt; U</li> \n</ul>\n<p>一般に、k-射の宣言〈プロファイル宣言〉は次のパターンになります。◯の所には名前や式が入ります。</p> \n<ul> \n <li>0-射の宣言 0-morphism ◯</li> \n <li>1-射の宣言 1-morphism ◯:◯ -&gt; ◯</li> \n <li>2-射の宣言 2-morphism ◯::◯ =&gt; ◯:◯ -&gt; ◯</li> \n <li>3-射の宣言 3-morphism ◯:::◯ ≡&gt; ◯::◯ =&gt; ◯:◯ -&gt; ◯</li> \n</ul>\n<p>より一般的で詳しい話は：</p> \n<ul> \n <li><a href=\"https://m-hiyama.hatenablog.com/entry/20171226/1514279453#id2017_profile-notation\">圏論的宇宙と反転原理と次元付きの記法 // プロファイル記法</a></li> \n <li><a href=\"https://m-hiyama.hatenablog.com/entry/20180905/1536140128#id2018_profiling-innotation\">前層の圏における記法と計算 // プロファイリングとin記法</a></li> \n</ul>\n<p><h4 id=\"n-指標とターゲットn-圏\">n-指標とターゲットn-圏</h4></p>\n<p>今まで出てきた指標は、通常の圏、つまり1-圏で解釈する前提です。実際、指標を解釈する圏は集合圏<b>Set</b>だとしてきました。1-圏での解釈が前提の指標を<strong style=\"color:crimson\">1-指標</strong>〈1-signature〉と呼びます。1-指標の解釈の場となる1-圏を（その指標の）<strong style=\"color:crimson\">ターゲット1-圏</strong>〈target 1-category〉と呼びます。集合圏とは限らない圏<i>C</i>をターゲット1-圏とする1-指標は次の書式になります。</p> \n<pre>1-signature ◯◯◯ in <i>C</i> {\n  /* 0-射、1-射、2-射のプロファイル宣言 */\n}\n</pre>\n<p>我々の事例である 1-signature LUnitalPointedMagma が任意の圏<i>C</i>で解釈できるかというと、そうはいきません。LUnitalPointedMagma には次の記号が含まれました。</p> \n<ul> \n <li><b>1</b></li> \n <li>×</li> \n <li>λ</li> \n</ul>\n<p>集合圏ではこれらの記号を解釈できますが、どんな圏でも意味を持つ記号では<em style=\"text-decoration:underline\">ありません</em>。だからといって、集合圏<b>Set</b>以外では絶対に解釈できない<em style=\"text-decoration:underline\">わけでもありません</em>。'<b>1</b>'を1次元ベクトル空間とみなした<b>R</b>、'×'をベクトル空間の<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%C6%A5%F3%A5%BD%A5%EB\">テンソル</a>積、λを<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%C6%A5%F3%A5%BD%A5%EB\">テンソル</a>積の左単位律子〈left unitor〉とみなせば、実係数ベクトル空間の圏<b>Vect</b><sub><b>R</b></sub>内の左単位的付点マグマを考えることができます。</p>\n<p>それらしくなるように、'<b>1</b>'を'I'に、'×'を'⊗'に置き換えて、<b>Vect</b><sub><b>R</b></sub>内の左単位的付点マグマの指標を書くと：</p> \n<pre>1-signature LUnitalPointedMagma in <b>Vect</b><sub><b>R</b></sub> {\n  0-morphism U\n  1-morphism m:U⊗U -&gt; U\n  1-morphism e:I -&gt; U\n\n  2-morphism lunit :: (λ<sub>U</sub>)<sup>-1</sup>;(e⊗id<sub>U</sub>);m =&gt; id<sub>U</sub>\n}\n</pre>\n<p>それらしいかどうかは<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%BF%B4%CD%FD%C5%AA\">心理的</a>な問題で、まったく本質的ではないので、もちろん元の記号でもかまいません。</p> \n<pre>1-signature LUnitalPointedMagma in <b>Vect</b><sub><b>R</b></sub> {\n  0-morphism U\n  1-morphism m:U×U -&gt; U\n  1-morphism e:<b>1</b> -&gt; U\n\n  2-morphism lunit :: (λ<sub>U</sub>)<sup>-1</sup>;(e×id<sub>U</sub>);m =&gt; id<sub>U</sub>\n}\n</pre>\n<p>記号は決まっていれば<em style=\"text-decoration:underline\">何でもいい</em>ですが、LUnitalPointedMagmaの1-指標は、モノイド圏で解釈する必要はあります。集合圏<b>Set</b>もベクトル空間の圏<b>Vect</b><sub><b>R</b></sub>も、モノイド圏だからLUnitalPointedMagmaのターゲット圏となり得るのです。</p>\n<p>モノイド圏を定義する指標は2-指標となります。次のような形をしているでしょう。</p> \n<pre>2-signature MonCAT in <b>CAT</b> {\n  /* なにやらかにやら */\n}\n</pre>\n<p>「なにやらかにやら」の部分を実際に書き下そうと思うと、なかなかに難しい問題にぶち当たります。それについては：</p> \n<ul> \n <li><a href=\"http://m-hiyama.hatenablog.com/entry/20180919/1537329676\">デカルト構造の無限タワー： 怖がらずに登れ</a></li> \n <li><a href=\"https://m-hiyama.hatenablog.com/entry/2020/01/27/125113\">デカルト・タワーを求めて</a></li> \n</ul>\n<p>とりあえずは難しいことは考えないことにして、次のような2-指標が存在すると信じましょう。</p> \n<ol> \n <li>2-signature MonCAT in <b>CAT</b> ： モノイド圏を定義する2-指標</li> \n <li>2-signature SymMonCAT in <b>CAT</b> ： 対称モノイド圏を定義する2-指標</li> \n <li>2-signature CartMonCAT in <b>CAT</b> ： <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%C7%A5%AB%A5%EB%A5%C8\">デカルト</a>モノイド圏を定義する2-指標</li> \n</ol>\n<p>これらの指標のなかで、各種の圏を構成する関手や自然変換を表す記号が定義されます。使う記号に強い標準はありませんが<em style=\"text-decoration:underline\">目安として</em>は：</p> \n<ol> \n <li>'⊗', '×' ： モノイド圏のモノイド積、'×'は<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%C7%A5%AB%A5%EB%A5%C8\">デカルト</a>積</li> \n <li>I, <b>1</b> ： モノイド圏のモノイド単位、'<b>1</b>'はモノイド単位兼終対象</li> \n <li>α, λ, ρ ： モノイド積の結合律子〈associator〉、左単位律子〈left unitor〉、右単位律子〈right unitor〉</li> \n <li>σ ： 対称モノイド圏の対称</li> \n <li>Δ ： <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%C7%A5%AB%A5%EB%A5%C8\">デカルト</a>モノイド圏の対角</li> \n <li>! ： <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%C7%A5%AB%A5%EB%A5%C8\">デカルト</a>モノイド圏の終射（終対象への唯一の射）</li> \n <li>π<sup>1</sup>, π<sup>2</sup> ： <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%C7%A5%AB%A5%EB%A5%C8\">デカルト</a>モノイド圏の射影</li> \n</ol>\n<p>これらの記号は、適切な2-指標で定義されているとします。射の結合記号';'、恒等射を表す記号'id'、逆射を表す記号'<sup>-1</sup>'は、2-指標で定義されるのではなくて組み込み〈builtin〉の記号だとします。</p>\n<p>1-指標、2-指標があるなら、0-指標もあるのか？ あります。例を出せば：</p> \n<pre>0-signature abc in X {\n  0-morphism a\n  0-morphism b\n  0-morphism c\n\n  1-morphism bc_eq : b -&gt; c\n}\n</pre>\n<p>0-指標は、0-圏、つまり集合をターゲットとします。ターゲットXは集合です。0-圏〈集合〉の0-射とは要素です。したがって、指標で3つの要素 a, b, c を宣言しています。ここまでなら、集合Xの3つの要素を意味する指標です。が、0-指標に1-射が出来ています。これは、0-圏の1-射、つまり集合の要素のイコールです。bとcは等しいことを意味します。</p>\n<p>それらしいキーワードで書き直すならば：</p> \n<pre>0-signature abc in X {\n  element a\n  element b\n  element c\n\n  equation bc_eq : b -&gt; c\n}\n</pre>\n<p>0-指標はあまり面白いものではありません。しかし、もう少し複雑な構文を許すと、0-指標もけっこう面白いものになります（今日は述べない）。</p>\n<p>ここで、n-指標のk-射を宣言する“それらしいキーワード”をまとめておきましょう。確かに“それらしい”のですが、ゴチャゴチャとして統一性を欠き、俯瞰的な理解を阻害している要因だとも言えます。</p> \n<table> \n <tr> \n  <td> </td> \n  <td> 0-指標 </td> \n  <td> 1-指標 </td> \n  <td> 2-指標 </td> \n </tr> \n <tr> \n  <td> 0-射 </td> \n  <td> element </td> \n  <td> sort, type, object</td> \n  <td>sort, kind, object </td> \n </tr> \n <tr> \n  <td> 1-射 </td> \n  <td> equation</td> \n  <td> operation, function, morphism</td> \n  <td>operation, morphism </td> \n </tr> \n <tr> \n  <td> 2-射 </td> \n  <td> </td> \n  <td> equation </td> \n  <td> 2-operation, 2-morphism </td> \n </tr> \n <tr> \n  <td> 3-射 </td> \n  <td> </td> \n  <td> </td> \n  <td> equation </td> \n </tr> \n</table>\n<p><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%BF%B4%CD%FD%C5%AA\">心理的</a>な“それらしさ”を取るか、理論的な整合的性を取るか？ 一概には判断できませんが、統一的・俯瞰的な理解を目指すなら、“それらしさ”は犠牲にするしかありません -- キーワードは味気ない番号（次元）で区別することになります。</p>\n<p><h4 id=\"指標のメタ指標とusing\">指標のメタ指標とusing</h4></p>\n<p>1-指標のなかで、0-射〈対象〉Xに対する恒等射 id<sub>X</sub> と、2つの射〈1-射〉 f, g の結合 f;g は自由に使ってかまいません。なぜなら、1-指標のターゲットは1-圏〈通常圏〉なので、恒等射も射の結合も備えているからです。しかし、モノイド積（双関手）やモノイド単位、なにか特別な対象（例：始対象、終対象）、なにか特別な自然変換（例：対角や射影）を使いたいときは、それらの関手や自然変換を表す記号がどこかで宣言されている必要があります。</p>\n<p>関手や自然変換を表す記号を宣言するのが2-指標です。具体的には、2-signature MonCAT in <b>CAT</b>, 2-signature SymMonCAT in <b>CAT</b>, 2-signature CartMonCAT in <b>CAT</b> などです。1-指標を書くときは、その1-指標の親玉となる2-指標を選択する必要があります。1-指標の<strong style=\"color:crimson\">メタ指標</strong>〈meta signature〉と言ってもいいでしょう。</p>\n<p>メタ指標の指定には using というキーワードを使うことにします。</p> \n<pre>using 2-signature CartMonCAT\n1-signature LUnitalPointedMagma {\n  0-morphism U\n  1-morphism m:U×U -&gt; U\n  1-morphism e:<b>1</b> -&gt; U\n\n  2-morphism lunit :: (λ<sub>U</sub>)<sup>-1</sup>;(e×id<sub>U</sub>);m =&gt; id<sub>U</sub>\n}\n</pre>\n<p>この1-指標で使われている名前・記号を色分けしてみます。</p> \n<ul> \n <li>任意の圏で使える組み込みの記号は赤色</li> \n <li>メタ指標で宣言されている記号はオレンジ色（メタ指標の名前もオレンジ色）</li> \n <li>この指標で宣言されている記号は水色（この指標の名前も水色）</li> \n</ul> \n<pre>using 2-signature <span style=\"color:orange\">CartMonCAT</span>\n1-signature <span style=\"color:skyblue\">LUnitalPointedMagma</span> {\n  0-morphism <span style=\"color:skyblue\">U</span>\n  1-morphism <span style=\"color:skyblue\">m</span>:<span style=\"color:skyblue\">U</span><span style=\"color:orange\">×</span><span style=\"color:skyblue\">U</span> -&gt; <span style=\"color:skyblue\">U</span>\n  1-morphism <span style=\"color:skyblue\">e</span>:<span style=\"color:orange\"><b>1</b></span> -&gt; <span style=\"color:skyblue\">U</span>\n\n  2-morphism <span style=\"color:skyblue\">lunit</span> :: (<span style=\"color:orange\">λ</span><sub><span style=\"color:skyblue\">U</span></sub>)<sup><span style=\"color:red\">-1</span></sup><span style=\"color:red\">;</span>(<span style=\"color:skyblue\">e</span><span style=\"color:orange\">×</span><span style=\"color:red\">id</span><sub><span style=\"color:skyblue\">U</span></sub>)<span style=\"color:red\">;</span><span style=\"color:skyblue\">m</span> =&gt; <span style=\"color:red\">id</span><sub><span style=\"color:skyblue\">U</span></sub>\n}\n</pre>\n<p>こうして見ると、出現しているすべての名前・記号は、どこかで宣言されていることが分かります。組み込みの記号か、メタ指標で宣言済みか、当該の指標で宣言されているかです。正体不明の記号はありません。正体不明の記号をなくすことで、指標による記述の精密さを担保したいのです。</p>\n<p>この 1-signature LUnitalPointedMagma には、ターゲット1-圏が指定されていません。指標にターゲット圏が指定されてないときは、モデルの圏を作るときにターゲット圏を指定します。Model[LUnitalPointedMagma, <b>Set</b>] のように。ここで、ターゲット圏は何でもいいわけではありません。指標（1-指標）のメタ指標（2-指標）のモデルである圏に限られます。今の例では、1-signature LUnitalPointedMagma のメタ指標は 2-signature CartMonCAT なので、ターゲット圏は<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%C7%A5%AB%A5%EB%A5%C8\">デカルト</a>モノイド圏である必要があります。</p>\n<p>1-指標のメタ指標である2-指標は、1-指標で使う記号を提供するだけではなく、1-指標のターゲット圏の種類も規定します。メタ指標（である2-指標）は、1-指標と、それに関連する構文論／意味論のすべての部分に影響します。2-指標を<strong style=\"color:crimson\">ドクトリン</strong>〈doctrine〉と呼ぶこともあります。実際、2-指標＝ドクトリンは、構文論と意味論が絡み合った組織体を統制する教義〈基本原理〉になっています。</p>\n<p><h4 id=\"他の指標の利用とimport\">他の指標の利用とimport</h4></p>\n<p>指標（単に指標と言えば1-指標）を書くときに、既にある他の指標を利用したいことがあります。例えば、1-signature LUnitalPointedMagma は、1-signature PointedMagma に等式〈2-射の宣言〉を付け加えただけです。付け加える差分だけ記述できれば便利です（いわゆる“継承”のような書き方）。</p>\n<p>他の指標を利用可能とするためのキーワードは import にします。次が import の使用例です。</p> \n<pre>using 2-signature CartMonCAT\n\n1-signature PointedMagma {\n  0-morphism U\n  1-morphism m:U×U -&gt; U\n  1-morphism e:<b>1</b> -&gt; U\n}\n\n1-signature LUnitalPointedMagma {\n  import 1-signature PointedMagma\n\n  2-morphism lunit :: (λ<sub>U</sub>)<sup>-1</sup>;(e×id<sub>U</sub>);m =&gt; id<sub>U</sub>\n}\n</pre>\n<p>import 1-signature PointedMagma の部分に、1-signature PointedMagma の内部がそのまま展開されると思えばいいです。複数の指標をインポートするときは、名前のバッティングの問題を処理する必要がありますが、今日は触れません。</p>\n<p><h4 id=\"おわりに\">おわりに</h4></p>\n<p>高次圏を考慮した指標の書き方を紹介しました。実際のところ、指標について調べるには、高次圏は避けられないでしょう。1-指標の構文と、意味論のためのターゲット1-圏は、メタ指標である2-指標によって支配されます。その2-指標の構文と、意味論のためのターゲット2-圏は、さらにメタ指標でである3-指標により支配されます。その3-指標の‥‥ 無限に続きます。</p>\n<p>この無限に続く構文論・意味論のタワーは、僕をずっと悩ませてきました。精神安定のために、有限階で安定的に循環するのだ、と信じています（例えば「<a href=\"https://m-hiyama.hatenablog.com/entry/2020/01/27/125113\">デカルト・タワーを求めて</a>」参照）。有限階を考えれば十分だと保証できれば、安心できます。</p>\n<p>特に、2-指標と2-圏まで考えれば十分な状況が作れれば、特定の2-指標をメタ指標として固定して、そのメタ指標で支配される1-指標達の議論ができます。無限タワーの2階までを自由に使いこなせれば、それだけでも、かなりの程度の構文論・意味論が展開できます。そのとっかかりは「指標とは何か？」をハッキリさせることです。</p> \n<div class=\"footnote\"> \n <p class=\"footnote\"><a href=\"https://m-hiyama.hatenablog.com/entry/2020/09/14/135050#fn-fb05a844\" name=\"f-fb05a844\" class=\"footnote-number\">*1</a><span class=\"footnote-delimiter\">:</span><span class=\"footnote-text\">構成素と条件の境界線が恣意的になってしまう気がします。必然的な境界線が存在するのでしょうか？ わかりません。</span></p> \n</div>","descriptionType":"html","publishedDate":"Mon, 14 Sep 2020 04:50:50 +0000","feedId":13468,"bgimg":"https://cdn.blog.st-hatena.com/images/theme/og-image-1500.png","linkMd5":"189d65b7cabe1b4e727f2e2996eaa854","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn15@2020_4/2020/10/20/17-17-05-298_826ddd244d633277.webp","destWidth":1500,"destHeight":1051,"sourceBytes":70050,"destBytes":47840,"author":"m-hiyama","enclosureType":"image/png","enclosureUrl":"https://cdn.blog.st-hatena.com/images/theme/og-image-1500.png","articleImgCdnMap":{"https://chart.apis.google.com/chart?cht=tx&chl=%5Crequire%7BAMScd%7D%0A%5Cbegin%7BCD%7D%0AX.U%5Ctimes%20X.U%20%20%40%3E%7BX.a%7D%3E%3E%20X.U%20%5C%5C%0A%40V%7Bf%5Ctimes%20f%7DVV%20%20%20%20%20%20%20%20%20%20%40VV%7Bf%7DV%20%5C%5C%0AY.U%5Ctimes%20Y.U%20%20%40%3E%7BY.a%7D%3E%3E%20Y.U%0A%5Cend%7BCD%7D%20%5C%5C%0A%5C%3A%5C%5C%0A%5Cbegin%7BCD%7D%0A%7B%5Cbf%201%7D%20%40%3E%7BX.e%7D%3E%3E%20%20X.U%20%5C%5C%0A%40%7C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%40VV%7Bf%7DV%20%5C%5C%0A%7B%5Cbf%201%7D%20%40%3E%7BY.e%7D%3E%3E%20%20Y.U%0A%5Cend%7BCD%7D%5C%5C%0A%5C%3A%5C%5C%0A%5Cmbox%7Bcommutative%20in%20%7D%7B%5Cbf%20Set%7D%0A":null},"publishedOrCreatedDate":1603214224859}],"record":{"createdTime":"2020-10-21 01:17:04","updatedTime":"2020-10-21 01:17:04","feedId":13468,"fetchDate":"Tue, 20 Oct 2020 17:17:04 +0000","fetchMs":3195,"handleMs":6354,"totalMs":70523,"newArticles":0,"totalArticles":30,"status":1,"type":0,"ip":"9cbb04c3765788b25b4e06d741683fd2","hostName":"europe70*","requestId":"7fde001151b14069bc17ed26369cdcf7_13468","contentType":"application/atom+xml; charset=utf-8","totalBytes":0,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":1,"articlesImgsGithubTotal":0,"successGithubMap":{"myreaderx22":1},"failGithubMap":{}},"feed":{"createdTime":"2020-08-25 04:38:35","updatedTime":"2020-09-05 16:53:36","id":13468,"name":"檜山正幸のキマイラ飼育記 (はてなBlog)","url":"http://d.hatena.ne.jp/m-hiyama/rss","subscriber":230,"website":null,"icon":"https://m-hiyama.hatenablog.com/favicon.ico","icon_jsdelivr":null,"description":"","weekly":null,"link":"https://m-hiyama.hatenablog.com"},"noPictureArticleList":[{"createdTime":"2020-10-21 01:18:05","updatedTime":"2020-10-21 01:18:05","id":null,"feedId":13468,"linkMd5":"189d65b7cabe1b4e727f2e2996eaa854"}],"tmpCommonImgCdnBytes":0,"tmpBodyImgCdnBytes":0,"tmpBgImgCdnBytes":0,"extra4":{"start":1603214214902,"total":0,"statList":[{"spend":3603,"msg":"获取xml内容"},{"spend":6354,"msg":"解释文章"},{"spend":1673,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":60563,"msg":"正文链接上传到cdn"}]},"extra5":1,"extra6":1,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"https://chart.apis.google.com/chart?cht=tx&chl=%5Crequire%7BAMScd%7D%0A%5Cbegin%7BCD%7D%0AX.U%5Ctimes%20X.U%20%20%40%3E%7BX.a%7D%3E%3E%20X.U%20%5C%5C%0A%40V%7Bf%5Ctimes%20f%7DVV%20%20%20%20%20%20%20%20%20%20%40VV%7Bf%7DV%20%5C%5C%0AY.U%5Ctimes%20Y.U%20%20%40%3E%7BY.a%7D%3E%3E%20Y.U%0A%5Cend%7BCD%7D%20%5C%5C%0A%5C%3A%5C%5C%0A%5Cbegin%7BCD%7D%0A%7B%5Cbf%201%7D%20%40%3E%7BX.e%7D%3E%3E%20%20X.U%20%5C%5C%0A%40%7C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%40VV%7Bf%7DV%20%5C%5C%0A%7B%5Cbf%201%7D%20%40%3E%7BY.e%7D%3E%3E%20%20Y.U%0A%5Cend%7BCD%7D%5C%5C%0A%5C%3A%5C%5C%0A%5Cmbox%7Bcommutative%20in%20%7D%7B%5Cbf%20Set%7D%0A","sourceStatusCode":400,"sourceBytes":0,"destBytes":0,"feedId":13468,"totalSpendMs":246,"convertSpendMs":0,"createdTime":"2020-10-21 01:17:05","host":"us-54*","referer":"https://m-hiyama.hatenablog.com/entry/2020/09/14/135050","linkMd5ListStr":"189d65b7cabe1b4e727f2e2996eaa854","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[400],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"https://chart.apis.google.com/chart?cht=tx&chl=%5Crequire%7BAMScd%7D%0A%5Cbegin%7BCD%7D%0AX.U%5Ctimes%20X.U%20%20%40%3E%7BX.a%7D%3E%3E%20X.U%20%5C%5C%0A%40V%7Bf%5Ctimes%20f%7DVV%20%20%20%20%20%20%20%20%20%20%40VV%7Bf%7DV%20%5C%5C%0AY.U%5Ctimes%20Y.U%20%20%40%3E%7BY.a%7D%3E%3E%20Y.U%0A%5Cend%7BCD%7D%20%5C%5C%0A%5C%3A%5C%5C%0A%5Cbegin%7BCD%7D%0A%7B%5Cbf%201%7D%20%40%3E%7BX.e%7D%3E%3E%20%20X.U%20%5C%5C%0A%40%7C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%40VV%7Bf%7DV%20%5C%5C%0A%7B%5Cbf%201%7D%20%40%3E%7BY.e%7D%3E%3E%20%20Y.U%0A%5Cend%7BCD%7D%5C%5C%0A%5C%3A%5C%5C%0A%5Cmbox%7Bcommutative%20in%20%7D%7B%5Cbf%20Set%7D%0A","sourceStatusCode":400,"sourceBytes":0,"destBytes":0,"feedId":13468,"totalSpendMs":246,"convertSpendMs":0,"createdTime":"2020-10-21 01:17:05","host":"us-54*","referer":"https://m-hiyama.hatenablog.com/entry/2020/09/14/135050","linkMd5ListStr":"189d65b7cabe1b4e727f2e2996eaa854","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[400],"sourceSize":"0","destSize":"0"}],"extra10_invalidATagHrefValue":{"https://m-hiyama.hatenablog.com/entry/2020/09/14/135050_#指標いつもとチョットだけ違う事例":"https://m-hiyama.hatenablog.com/entry/2020/09/14/135050#指標いつもとチョットだけ違う事例","https://m-hiyama.hatenablog.com/entry/2020/09/14/135050_#fn-fb05a844":"https://m-hiyama.hatenablog.com/entry/2020/09/14/135050#fn-fb05a844","https://m-hiyama.hatenablog.com/entry/2020/09/14/135050_#他の指標の利用とimport":"https://m-hiyama.hatenablog.com/entry/2020/09/14/135050#他の指標の利用とimport","https://m-hiyama.hatenablog.com/entry/2020/09/14/135050_#n-指標とターゲットn-圏":"https://m-hiyama.hatenablog.com/entry/2020/09/14/135050#n-指標とターゲットn-圏","https://m-hiyama.hatenablog.com/entry/2020/09/14/135050_#指標のメタ指標とusing":"https://m-hiyama.hatenablog.com/entry/2020/09/14/135050#指標のメタ指標とusing","https://m-hiyama.hatenablog.com/entry/2020/09/14/135050_#おわりに":"https://m-hiyama.hatenablog.com/entry/2020/09/14/135050#おわりに","https://m-hiyama.hatenablog.com/entry/2020/09/14/135050_#f-fb05a844":"https://m-hiyama.hatenablog.com/entry/2020/09/14/135050#f-fb05a844","https://m-hiyama.hatenablog.com/entry/2020/09/14/135050_#指標内のキーワードを変える":"https://m-hiyama.hatenablog.com/entry/2020/09/14/135050#指標内のキーワードを変える"},"extra111_proxyServerAndStatMap":{"http://us-54.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[400]},"http://europe62.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[400]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://cdn.blog.st-hatena.com/images/theme/og-image-1500.png","sourceStatusCode":200,"destWidth":1500,"destHeight":1051,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx22/cdn15@2020_4/2020/10/20/17-17-05-298_826ddd244d633277.webp","sourceBytes":70050,"destBytes":47840,"targetWebpQuality":75,"feedId":13468,"totalSpendMs":1646,"convertSpendMs":156,"createdTime":"2020-10-21 01:17:04","host":"europe66*","referer":"https://m-hiyama.hatenablog.com/entry/2020/09/14/135050","linkMd5ListStr":"189d65b7cabe1b4e727f2e2996eaa854","githubUser":"myreaderx22","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"68.4 KB","destSize":"46.7 KB","compressRate":"68.3%"}],"successGithubMap":{"myreaderx22":1},"failGithubMap":{}}