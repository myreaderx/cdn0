{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2021-05-27 23:41:36","updatedTime":"2021-05-27 23:41:36","title":"在浏览器中本地运行Node.js","link":"https://segmentfault.com/a/1190000040050241","description":"<h4>一切要从收到一封邮件开始</h4>\n<p><img src=\"https://segmentfault.com/img/remote/1460000040050243\" alt=\"\" title=\"\" /></p>\n<blockquote>\n 大早上，我收到一封邮件，StackBlitz说正在与Next.js和Google的团队合作开发一项新技术\n</blockquote>\n<ul>\n <li>几年前，<code>StackBlitz</code>意识到网络正朝着关键的拐点发展。WebAssembly和新功能API的出现使编写基于WebAssembly的操作系统似乎变得可能，该操作系统功能强大到可以完全在浏览器中运行Node.js。我们设想了一个比本地环境更快，更安全和一致的高级开发环境，以实现无缝的代码协作而无需设置本地环境</li>\n</ul>\n<h4>技术名为:<code>WebContainers</code></h4>\n<ul>\n <li>WebContainers允许您创建完整的Node.js环境，这些环境可以在毫秒内启动，并且一键即可立即联机和链接共享。该环境具有VS Code强大的编辑经验，完整的终端，npm等功能。它还可以完全在您的浏览器中运行，从而带来一些关键的好处：</li>\n <li>比本地环境快。与yarn / npm相比，构建速度最多可提高20％，而卷装安装速度则可快5倍以上。</li>\n <li>浏览器中的Node.js调试。与Chrome DevTools的无缝集成可实现本机后端调试，无需安装或扩展。</li>\n <li>默认为安全。所有代码执行都发生在浏览器的安全沙箱中，而不是在远程VM或本地二进制文件上。</li>\n <li><p>同样，这些环境不在远程服务器上运行。而是，每个环境都完全包含在您的Web浏览器中。没错：Node.js运行时本身第一次在浏览器中本机运行。</p>\n  <blockquote>\n   从现在开始，WebContainers现在处于公开测试阶段。当前支持包括Next.js，GraphQL和Vanilla Node.js，我们正在与其他开源项目合作以扩展支持\n  </blockquote></li>\n</ul>\n<h4>为什么会有<code>WebContainers</code></h4>\n<h5>安全</h5>\n<ul>\n <li>StackBlitz通过利用浏览器中数十年来的速度和安全性创新来解决这些问题。StackBlitz中的所有计算都会在浏览器安全沙箱中立即发生，并且无法爆发到您的本地计算机上。该模型还释放了一些关键的开发和调试优势（在几秒钟内便会提供更多优势）。</li>\n</ul>\n<p><img src=\"https://segmentfault.com/img/remote/1460000040050244\" alt=\"\" title=\"\" /></p>\n<h5>释放浏览器的功能</h5>\n<ul>\n <li><p>使用Chrome DevTools无缝进行Node.js调试</p>\n  <ul>\n   <li>事实证明，浏览器确实非常擅长调试Javascript。我知道，这令人震惊；）通过在浏览器中执行Node.js，与Chrome DevTools的集成即开即用。无需安装，无需扩展，仅在浏览器中进行本机后端调试即可</li>\n  </ul></li>\n</ul>\n<p><img src=\"https://segmentfault.com/img/remote/1460000040050245\" alt=\"\" title=\"\" /></p>\n<h5>运行服务器,在你的浏览器中</h5>\n<ul>\n <li>实际上。WebContainers包含一个虚拟的TCP网络堆栈，该网络堆栈已映射到浏览器的ServiceWorker API，使您可以即时创建实时Node.js服务器，即使您处于脱机状态也可以继续工作。因为它完全在浏览器安全沙箱中运行，所以服务器响应的延迟比本地主机（！）少，并且可以保护您的Web服务器免受本地主机抓取攻击</li>\n <li>毫秒级启动时间</li>\n <li><p>每个页面加载时都有一个全新的环境</p>\n  <ul>\n   <li>再见rm -rf node_modules！WebContainer的内置npm客户端是如此之快，以至于它在每次页面加载时都运行全新的安装，从而确保您每次都能获得一个干净的环境。如果您的环境确实出现问题，则可以像处理其他任何Web应用程序一样恢复到干净的状态：单击“刷新”按钮</li>\n  </ul></li>\n <li>借助StackBlitz，无论您是在火车上，在飞机上还是在雨中后座时，都可以在没有互联网连接的情况下继续工作</li>\n</ul>\n<blockquote>\n 使用StackBlitz新颖的计算模型，100％的代码执行发生在浏览器安全沙箱中。与本地相比，这导致了更快，更少限制的开发环境，同时又提供了更高的安全性，这是非常罕见的组合。\n</blockquote>\n<ul>\n <li>实际上，默认的安全状况是如此稳固，以至于我们的嵌入式软件包管理器是第一个可公开获得的工具，可以解决五年多来未解决的Sam Saccone长期未解决的npm漏洞</li>\n <li><p>同样，这些环境不在远程服务器上运行。而是，每个环境都完全包含在您的Web浏览器中。没错：Node.js运行时本身第一次在浏览器中本机运行</p><h4>写在最后</h4></li>\n <li><code>WebAssembly</code>强大到足以编写操作系统，但是这次<code>WebContainers</code>把这个技术使用方向放在了<code>Node.js</code>上，我觉得是有划时代意义的</li>\n <li>在我看来，这个技术在未来最主要应用方向是，可以使世界范围内的软件在以前无法运行的地方运行，以后电脑上可能只需要安装一个谷歌浏览器</li>\n</ul>\n<p><img src=\"https://segmentfault.com/img/remote/1460000040050246\" alt=\"\" title=\"\" /></p>","descriptionType":"html","publishedDate":"Sun, 23 May 2021 10:29:57 +0000","feedId":6615,"bgimg":"https://segmentfault.com/img/remote/1460000040050243","linkMd5":"55b3df50b3c128d9160573626f026af3","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn32@2020_3/2021/05/27/15-41-45-176_04a37633dfd047d6.webp","destWidth":732,"destHeight":378,"sourceBytes":24450,"destBytes":24450,"author":"Peter谭老师","articleImgCdnMap":{"https://segmentfault.com/img/remote/1460000040050243":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn32@2020_3/2021/05/27/15-41-45-176_04a37633dfd047d6.webp","https://segmentfault.com/img/remote/1460000040050244":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn93@2020_1/2021/05/27/15-41-47-750_bd7df837ffb6d300.webp","https://segmentfault.com/img/remote/1460000040050245":null,"https://segmentfault.com/img/remote/1460000040050246":null},"publishedOrCreatedDate":1622130096852}],"record":{"createdTime":"2021-05-27 23:41:36","updatedTime":"2021-05-27 23:41:36","feedId":6615,"fetchDate":"Thu, 27 May 2021 15:41:36 +0000","fetchMs":3951,"handleMs":36,"totalMs":25891,"newArticles":0,"totalArticles":50,"status":1,"type":0,"ip":"245d88d7b2d8f26704713c23b090d029","hostName":"us-039*","requestId":"4266b2e55cbe460e8332849f6e5ef5c4_6615","contentType":"application/atom+xml; charset=UTF-8","totalBytes":39800,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":4,"articlesImgsGithubTotal":2,"successGithubMap":{"myreaderx4":1,"myreaderx3":1},"failGithubMap":{"myreaderx14":1,"myreaderx31":1}},"feed":{"createdTime":"2020-08-25 04:33:08","updatedTime":"2021-04-03 14:32:14","id":6615,"name":"SegmentFault 最新的文章","url":"http://segmentfault.com/feeds/blogs","subscriber":null,"website":null,"icon":"https://segmentfault.com/favicon.ico","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx63/cdn75@2020_2/2021/04/03/06-32-08-760_eb238dca7c8e9f0e.jpg","description":"","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2021-05-27 23:41:50","updatedTime":"2021-05-27 23:41:50","id":null,"feedId":6615,"linkMd5":"55b3df50b3c128d9160573626f026af3"}],"tmpCommonImgCdnBytes":24450,"tmpBodyImgCdnBytes":15350,"tmpBgImgCdnBytes":0,"extra4":{"start":1622130084881,"total":0,"statList":[{"spend":11935,"msg":"获取xml内容"},{"spend":36,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":5216,"msg":"正文链接上传到cdn"}]},"extra5":4,"extra6":4,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"https://segmentfault.com/img/remote/1460000040050245","sourceStatusCode":200,"destWidth":732,"destHeight":291,"sourceBytes":23696,"destBytes":23696,"feedId":6615,"totalSpendMs":2737,"convertSpendMs":0,"createdTime":"2021-05-27 23:41:45","host":"europe-58*","referer":"https://segmentfault.com/a/1190000040050241","linkMd5ListStr":"55b3df50b3c128d9160573626f026af3","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx31/cdn89/contents/2021/05/27/15-41-48-244_7878f921248cf64d.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 69855631.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Thu, 27 May 2021 15:41:48 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["80A4:312E:14114:15B35:60AFBDBC"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1622132930"],"x-ratelimit-resource":["core"],"x-ratelimit-used":["61"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx31/cdn89/contents/2021/05/27/15-41-48-244_7878f921248cf64d.webp","historyStatusCode":[],"spendMs":156},"base64UserPassword":null,"token":"da243******************************d9e47"},"githubUser":"myreaderx31","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"23.1 KB","destSize":"23.1 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://segmentfault.com/img/remote/1460000040050246","sourceStatusCode":200,"destWidth":732,"destHeight":449,"sourceBytes":56392,"destBytes":56392,"feedId":6615,"totalSpendMs":3132,"convertSpendMs":0,"createdTime":"2021-05-27 23:41:45","host":"europe-56*","referer":"https://segmentfault.com/a/1190000040050241","linkMd5ListStr":"55b3df50b3c128d9160573626f026af3","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn92/contents/2021/05/27/15-41-48-578_afb20a0385bf1718.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Thu, 27 May 2021 15:41:48 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["C99E:DC51:A0B0D:A38C2:60AFBDBC"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1622132921"],"x-ratelimit-resource":["core"],"x-ratelimit-used":["61"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn92/contents/2021/05/27/15-41-48-578_afb20a0385bf1718.webp","historyStatusCode":[],"spendMs":218},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"55.1 KB","destSize":"55.1 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://segmentfault.com/img/remote/1460000040050245","sourceStatusCode":200,"destWidth":732,"destHeight":291,"sourceBytes":23696,"destBytes":23696,"feedId":6615,"totalSpendMs":1277,"convertSpendMs":0,"createdTime":"2021-05-27 23:41:48","host":"europe-57*","referer":"https://segmentfault.com/a/1190000040050241","linkMd5ListStr":"55b3df50b3c128d9160573626f026af3","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx31/cdn89/contents/2021/05/27/15-41-49-594_7878f921248cf64d.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 69855631.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Thu, 27 May 2021 15:41:49 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["AC1C:6D28:596DF:5BBF0:60AFBDBD"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1622132930"],"x-ratelimit-resource":["core"],"x-ratelimit-used":["61"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx31/cdn89/contents/2021/05/27/15-41-49-594_7878f921248cf64d.webp","historyStatusCode":[],"spendMs":159},"base64UserPassword":null,"token":"da243******************************d9e47"},"githubUser":"myreaderx31","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"23.1 KB","destSize":"23.1 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://segmentfault.com/img/remote/1460000040050246","sourceStatusCode":200,"destWidth":732,"destHeight":449,"sourceBytes":56392,"destBytes":56392,"feedId":6615,"totalSpendMs":1860,"convertSpendMs":0,"createdTime":"2021-05-27 23:41:48","host":"europe-56*","referer":"https://segmentfault.com/a/1190000040050241","linkMd5ListStr":"55b3df50b3c128d9160573626f026af3","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn92/contents/2021/05/27/15-41-50-496_afb20a0385bf1718.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Thu, 27 May 2021 15:41:50 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["C99E:DC51:A0E28:A3BF0:60AFBDBE"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1622132921"],"x-ratelimit-resource":["core"],"x-ratelimit-used":["61"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn92/contents/2021/05/27/15-41-50-496_afb20a0385bf1718.webp","historyStatusCode":[],"spendMs":232},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"55.1 KB","destSize":"55.1 KB","compressRate":"100%"}],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://europe-56.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://europe-57.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://europe-58.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://segmentfault.com/img/remote/1460000040050243","sourceStatusCode":200,"destWidth":732,"destHeight":378,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn32@2020_3/2021/05/27/15-41-45-176_04a37633dfd047d6.webp","sourceBytes":24450,"destBytes":24450,"feedId":6615,"totalSpendMs":4782,"convertSpendMs":0,"createdTime":"2021-05-27 23:41:40","host":"europe-57*","referer":"https://segmentfault.com/a/1190000040050241","linkMd5ListStr":"55b3df50b3c128d9160573626f026af3,55b3df50b3c128d9160573626f026af3","githubUser":"myreaderx4","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"23.9 KB","destSize":"23.9 KB","compressRate":"100%"},{"code":1,"isDone":false,"source":"https://segmentfault.com/img/remote/1460000040050244","sourceStatusCode":200,"destWidth":732,"destHeight":231,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn93@2020_1/2021/05/27/15-41-47-750_bd7df837ffb6d300.webp","sourceBytes":15350,"destBytes":15350,"feedId":6615,"totalSpendMs":2530,"convertSpendMs":0,"createdTime":"2021-05-27 23:41:45","host":"europe-57*","referer":"https://segmentfault.com/a/1190000040050241","linkMd5ListStr":"55b3df50b3c128d9160573626f026af3","githubUser":"myreaderx3","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"15 KB","destSize":"15 KB","compressRate":"100%"}],"successGithubMap":{"myreaderx4":1,"myreaderx3":1},"failGithubMap":{"myreaderx14":1,"myreaderx31":1}}