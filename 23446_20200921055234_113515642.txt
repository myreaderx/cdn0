{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-09-21 13:52:07","updatedTime":"2020-09-21 13:52:07","title":"CSS overflow-anchor属性与滚动锚定","link":"https://www.zhangxinxu.com/wordpress/?p=9544","description":"<p>by <a href=\"https://www.zhangxinxu.com/\">zhangxinxu</a> from <a href=\"https://www.zhangxinxu.com/wordpress/?p=9544\">https://www.zhangxinxu.com/wordpress/?p=9544</a><br /> 本文欢迎分享与聚合，全文转载就不必了，尊重版权，圈子就这么大，若急用可以联系授权。</p> \n<p><script>window.wxShareImgUrl = 'https://www.zhangxinxu.com/study/image/share/202004-love.png';</script></p> \n<h3>一、滚动锚定是什么？</h3> \n<p>大家可能有过这样的浏览体验，就是图片很多的时候，例如漫画网站，尤其是条漫，在手机端，垂直布局这种，如果上方的图片加载慢，那么下方的图片看着看着就会被推下来，然后自己又要重新去滚动定位。</p> \n<p>这是一个不太友好的浏览器体验行为。</p> \n<p>于是，Chrome 56（2017年）和Firefox 66（2019年）开始最浏览器原来的这些滚动行为进行了优化，实现了一种“滚动锚定”的交互行为。</p> \n<p>具体描述为：当前视区上面的内容突然出现的时候，浏览器自动改变滚动高度，让视区窗口区域内容固定，就像滚动效果被锚定一样。</p> \n<p>因此，在PC端，在Chrome浏览器下和Firefox浏览器下，当你阅读文章或者看条漫的时候，是感觉不到页面跳动的，就是滚动锚定在其作用。</p> \n<h3>二、overflow-anchor属性出现的背景</h3> \n<p>但是，浏览器自认为正确的事情对于用户而言并一定是想要的。</p> \n<p>例如点击下方的一个按钮，会在上方append一些数据，此时，用户希望的是append的数据内容吧下方的按钮推开，优先展示内容，此时，滚动锚定反而拖了后腿，禁止滚动锚定反而是更好的做法。</p> \n<p>如何禁止呢？</p> \n<p>就是使用CSS <code>overflow-anchor</code>属性。</p> \n<h4>语法</h4> \n<p>CSS <code>overflow-anchor</code>属性语法比较简单：</p> \n<pre>overflow-anchor: auto | none</pre> \n<p>其中<code>overflow-anchor:auto</code>是初始声明，表示浏览器自己决定滚动锚定的行为，通常表现为执行滚动锚定；<code>overflow-anchor:none</code>则表示禁止滚动锚定的行为。</p> \n<h4>案例</h4> \n<p>这个案例是实时效果，大家可以直接滚动操作，左边是默认的<code>overflow-anchor:auto</code>，右边设置的是<code>overflow-anchor:none</code>。</p> \n<p><span class=\"s\">//zxx:如果看不到效果，多盗版文章，请前往原文 <a href=\"https://www.zhangxinxu.com/wordpress/?p=9544\" class=\"clip\" style=\"position:absolute;clip:rect(0 0 0 0);left:0;\">https://www.zhangxinxu.com/wordpress/?p=9544</a> 进行体验。</span></p> \n<p><iframe width=\"300\" height=\"400\" src=\"https://www.zhangxinxu.com/study/202008/scroll-anchor.php\" frameborder=\"0\"></iframe> <iframe width=\"300\" height=\"400\" src=\"https://www.zhangxinxu.com/study/202008/scroll-anchor.php?none=true\" frameborder=\"0\"></iframe></p> \n<p>可以看到，左侧的内容滚动后，append了很多div，但是视窗内容纹丝不动，就滚动条的位置变了下；而右侧的内容滚动后，append的内容出现在了视野，滚动条位置保持不变。</p> \n<p>这就是<code>overflow-anchor</code>属性的应用场景示意。</p> \n<h3>三、结语而已</h3> \n<p>通常滚动锚定行为是我们需要的，而<code>overflow-anchor</code>属性的默认值就表现为滚动锚定，因此，<code>overflow-anchor</code>属性平常需要使用的场景比较少，还是那句话，类似<code>overflow-anchor</code>这样的属性，平时觉得没什么，但是一旦遇到合适的场景，那用起来的感觉就是爽歪歪了，这个世界，没有没有用的CSS，只有你不知道的或者不会用的CSS。</p> \n<p>最后，<code>overflow-anchor</code>属性Safari浏览器并不支持，因为，iPhone浏览器下，上面案例两个滚动效果是一样的。</p> \n<p>兼容性如下图所示。</p> \n<p><img src=\"https://image.zhangxinxu.com/image/blog/202008/2020-08-12_232028.png\" width=\"644\" height=\"227\" alt=\"overflow-anchor属性的兼容性\" class=\"alignnone size-medium\" /></p> \n<p>以上就是本文内容，感谢阅读，欢迎分享！</p> \n<p><img src=\"https://image.zhangxinxu.com/image/emtion/emoji/1f618.svg\" width=\"20\" height=\"20\" align=\"absmiddle\" /></p> \n<p>本文为原创文章，欢迎分享，勿全文转载，如果实在喜欢，可收藏，永不过期，且会及时更新知识点及修正错误，阅读体验也更好。<br /> 本文地址：<a href=\"https://www.zhangxinxu.com/wordpress/?p=9544\">https://www.zhangxinxu.com/wordpress/?p=9544</a></p> \n<p>（本篇完）</p>","descriptionType":"html","publishedDate":"Wed, 12 Aug 2020 15:27:50 +0000","feedId":23446,"bgimg":"https://image.zhangxinxu.com/image/blog/202008/2020-08-12_232028.png","linkMd5":"386caa369389b1c55d34165b1a694a2b","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn78@2020_1/2020/09/21/05-52-21-014_6f293f14aaea3472.webp","destWidth":644,"destHeight":227,"sourceBytes":7991,"destBytes":19584,"author":"张 鑫旭","articleImgCdnMap":{"https://image.zhangxinxu.com/image/blog/202008/2020-08-12_232028.png":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn78@2020_1/2020/09/21/05-52-21-014_6f293f14aaea3472.webp","https://image.zhangxinxu.com/image/emtion/emoji/1f618.svg":"https://cdn.jsdelivr.net/gh/myreaderx15/cdn82@2020_1/2020/09/21/05-52-33-562_ab0051cdab5c9258.svg"},"publishedOrCreatedDate":1600667527803}],"record":{"createdTime":"2020-09-21 13:52:07","updatedTime":"2020-09-21 13:52:07","feedId":23446,"fetchDate":"Mon, 21 Sep 2020 05:52:07 +0000","fetchMs":2277,"handleMs":9,"totalMs":29285,"newArticles":0,"totalArticles":10,"status":1,"type":0,"ip":"c89ef3265ed2f1111f3f460c951aedc9","hostName":"us-004*","requestId":"297c13d6121d4722b9c7ece571b9ef91_23446","contentType":"application/rss+xml; charset=UTF-8","totalBytes":21604,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":2,"articlesImgsGithubTotal":2,"successGithubMap":{"myreaderx15":1,"myreaderx13":1},"failGithubMap":{}},"feed":{"createdTime":"2020-09-07 02:30:26","updatedTime":"2020-09-07 04:23:12","id":23446,"name":"张鑫旭-鑫空间-鑫生活","url":"https://www.zhangxinxu.com/wordpress/feed/","subscriber":140,"website":null,"icon":"https://www.zhangxinxu.com/favicon.ico","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx65/cdn55@2020_5/2020/09/06/20-23-07-457_9a339309f46b07b8.ico","description":"提高前端技术，先从使用谷歌搜索做起","weekly":null,"link":null},"noPictureArticleList":[],"tmpCommonImgCdnBytes":19584,"tmpBodyImgCdnBytes":2020,"tmpBgImgCdnBytes":0,"extra4":{"start":1600667525055,"total":0,"statList":[{"spend":2740,"msg":"获取xml内容"},{"spend":9,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":12489,"msg":"正文链接上传到cdn"}]},"extra5":2,"extra6":2,"extra7ImgCdnFailResultVector":[],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://us-020.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/blog/202008/2020-08-12_232028.png","sourceStatusCode":200,"destWidth":644,"destHeight":227,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn78@2020_1/2020/09/21/05-52-21-014_6f293f14aaea3472.webp","sourceBytes":7991,"destBytes":19584,"targetWebpQuality":75,"feedId":23446,"totalSpendMs":1522,"convertSpendMs":10,"createdTime":"2020-09-21 13:52:20","host":"us-032*","referer":"https://www.zhangxinxu.com/wordpress/?p=9544","linkMd5ListStr":"386caa369389b1c55d34165b1a694a2b,386caa369389b1c55d34165b1a694a2b","githubUser":"myreaderx13","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"7.8 KB","destSize":"19.1 KB","compressRate":"245.1%"},{"code":1,"isDone":false,"source":"https://image.zhangxinxu.com/image/emtion/emoji/1f618.svg","sourceStatusCode":200,"destWidth":0,"destHeight":0,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx15/cdn82@2020_1/2020/09/21/05-52-33-562_ab0051cdab5c9258.svg","sourceBytes":2020,"destBytes":2020,"feedId":23446,"totalSpendMs":12456,"convertSpendMs":0,"createdTime":"2020-09-21 13:52:21","host":"us-020*","referer":"https://www.zhangxinxu.com/wordpress/?p=9544","linkMd5ListStr":"386caa369389b1c55d34165b1a694a2b","githubUser":"myreaderx15","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"2 KB","destSize":"2 KB","compressRate":"100%"}],"successGithubMap":{"myreaderx15":1,"myreaderx13":1},"failGithubMap":{}}