{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-19 10:10:31","updatedTime":"2020-10-19 10:10:31","title":"对微前端的11个错误认识","link":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E5%AF%B9%E5%BE%AE%E5%89%8D%E7%AB%AF%E7%9A%8411%E4%B8%AA%E9%94%99%E8%AF%AF%E8%AE%A4%E8%AF%86","description":"<div><div><div id=\"media\" class=\"rich_media_thumb_wrp\">\n\n            <img class=\"rich_media_thumb\" src=\"http://img.100weidu.com/mmbiz_jpg/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6rwFmcy9D33o9bEicPXfSgM1TppWsFvPrDIVImwVIhZ6ZGUKPwR4dnNw?imageView2/1/w/600\">\n        </div>\n    \n\n    \n\n    <div class=\"rich_media_content\" id=\"js_content\">\n                    \n\n                    \n\n                    \n                    \n                    <section style=\"color: rgb(63, 63, 63);font-size: 16px;font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;\" data-mpa-powered-by=\"yiban.io\"><section style=\"text-align: left;\">\n\t\t<img data-ratio=\"0.665625\" data-type=\"jpeg\" data-w=\"1920\" style=\"width: 100%; border-radius: 4px; margin-bottom: 25px; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6LO4HkLs2yubibpRPlLHgtO6IRH8xxTj6Vf8MKsHaU19fpbtLVTAAibtw/640?wx_fmt=jpeg\">\n\t</section><section style=\"font-size: 14px;color: rgb(145, 145, 145);text-align: left;line-height: 1em;margin-top: 13px;padding-left: 14px;\">\n\t\t作者 | Florian Rappl\t</section><section style=\"font-size: 14px;color: rgb(145, 145, 145);text-align: left;line-height: 1em;margin-top: 13px;padding-left: 14px;\">\n\t\t译者 | 平川\t</section><section style=\"font-size: 14px;color: rgb(145, 145, 145);text-align: left;line-height: 1em;margin-top: 13px;padding-left: 14px;\">\n\t\t策划 | 万佳\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><span style=\"font-size: 14px;color: rgb(136, 136, 136);\">本文最初发布于 Bits and Pieces 博客，经原作者授权由 InfoQ 中文站翻译并分享。</span></p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">微前端是一个可以追溯到多年前的新趋势。随着新方法的出现以及各种挑战被克服，它们正在慢慢地进入主流。但遗憾的是，许多非常明显的认识误区，让许多人很难理解微前端到底是什么。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">简而言之，微前端就是将微服务的一些好处引入前端。除此之外，我们不应该忘记，微服务也不是什么“银弹”。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><strong style=\"text-align: left;\">提示</strong>：要在微前端或任何其他项目之间共享 React/Angular/Vue 组件，可以使用像 Bit 这样的工具。它允许你从任何代码库中“harvest”组件，并将它们共享到 bit.dev 的一个集合中。它让团队可以在任何存储库中使用你的组件。使用它可以优化协作、加速开发和保持 UI 一致性。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: center;\"><img class=\"rich_pages\" data-ratio=\"0.5266457680250783\" data-type=\"gif\" data-w=\"638\" style=\"text-align: center; color: rgb(63, 63, 63); max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_gif/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6cKibMwufpJmBKXMbvYbTVSBk2biaTahrDXg8hNQpDFFiajYkNO5j9G8tA/640?wx_fmt=gif\"><span style=\"color: rgb(136, 136, 136);font-size: 14px;\">示例：在 bit.dev 中查找共享 React 组件</span></p><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>认识误区</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">我想列一下在过去几个月中，我最常听到的关于微前端的误解。先从从一个明显的例子开始。</p><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>微前端需要 JavaScript</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">目前，许多微前端解决方案都是 JavaScript 框架。这怎么可能错呢？JavaScript 不再是可选的。每个人都想要高度交互的体验，而 JS 在提供这些体验中发挥着至关重要的作用。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">除了加载速度快、可访问 Web 应用的优点外，还有其他因素应该考虑。因此，许多 JavaScript 框架都提供了 isomorphic 渲染能力。最终，这让它们不仅能够在客户端进行拼接（stitch），还能在服务器上准备好一切。如果有性能要求（如第一次有意义渲染的初始时间），这个选项听起来很不错。</p><blockquote style=\"margin-top: 0px;margin-bottom: 0px;padding-top: 0px;padding-left: 0px;border-left: none;\"><p style=\"font-size: 16px;white-space: pre-line;line-height: 1.75em;margin-top: 27px;padding-right: 20px;padding-left: 20px;color: rgb(91, 172, 235);\">请记住，isomorphic 渲染有其自身的挑战。</p><span style=\"display: block;clear: both;\"></span></blockquote><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">然而，即使一个 JavaScript 解决方案没有提供 isomorphic 呈现，这也没什么问题。如果不想在构建微前端时使用 JavaScript，我们当然可以这样做。有许多模式，其中很多根本不需要 JavaScript。</p><section style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;margin-bottom: 15px;\">考虑一种“比较旧的”模式：使用<code><frameset></frameset></code>。我听见你笑了？好吧，有一些现如今人们试图做的分割，它以前就支持了（下文有更详细的讨论）。一个页面（可能由另一个服务渲染）负责菜单，而另一个页面负责标题。<br mpa-from-tpl=\"t\"></section><section data-mpa-preserve-tpl-color=\"t\" data-mpa-template=\"t\" mpa-preserve=\"t\" mpa-from-tpl=\"t\"><pre style=\"margin:0;padding:0;border-radius:none;background:none;\"><code style=\"border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;\"><span style=\"color: rgb(171, 178, 191);background: rgba(0, 0, 0, 0);display: inline;width: 195px;text-decoration: none solid rgb(171, 178, 191);font-weight: 400;font-style: normal;\">&lt;<span style=\"color: rgb(224, 108, 117);background: rgba(0, 0, 0, 0);display: inline;width: 58px;text-decoration: none solid rgb(224, 108, 117);font-weight: 400;font-style: normal;\">frameset</span> <span style=\"color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;\">cols</span>=<span style=\"color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 80px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;\">\"25%,*,25%\"</span>&gt;</span><br mpa-from-tpl=\"t\">  <span style=\"color: rgb(171, 178, 191);background: rgba(0, 0, 0, 0);display: inline;width: 166px;text-decoration: none solid rgb(171, 178, 191);font-weight: 400;font-style: normal;\">&lt;<span style=\"color: rgb(224, 108, 117);background: rgba(0, 0, 0, 0);display: inline;width: 37px;text-decoration: none solid rgb(224, 108, 117);font-weight: 400;font-style: normal;\">frame</span> <span style=\"color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 21px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;\">src</span>=<span style=\"color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 79px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;\">\"menu.html\"</span>&gt;</span><br mpa-from-tpl=\"t\">  <span style=\"color: rgb(171, 178, 191);background: rgba(0, 0, 0, 0);display: inline;width: 188px;text-decoration: none solid rgb(171, 178, 191);font-weight: 400;font-style: normal;\">&lt;<span style=\"color: rgb(224, 108, 117);background: rgba(0, 0, 0, 0);display: inline;width: 37px;text-decoration: none solid rgb(224, 108, 117);font-weight: 400;font-style: normal;\">frame</span> <span style=\"color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 21px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;\">src</span>=<span style=\"color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 101px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;\">\"content.html\"</span>&gt;</span><br mpa-from-tpl=\"t\">  <span style=\"color: rgb(171, 178, 191);background: rgba(0, 0, 0, 0);display: inline;width: 188px;text-decoration: none solid rgb(171, 178, 191);font-weight: 400;font-style: normal;\">&lt;<span style=\"color: rgb(224, 108, 117);background: rgba(0, 0, 0, 0);display: inline;width: 37px;text-decoration: none solid rgb(224, 108, 117);font-weight: 400;font-style: normal;\">frame</span> <span style=\"color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 21px;text-decoration: none solid rgb(209, 154, 102);font-weight: 400;font-style: normal;\">src</span>=<span style=\"color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 101px;text-decoration: none solid rgb(152, 195, 121);font-weight: 400;font-style: normal;\">\"sidebar.html\"</span>&gt;</span><br mpa-from-tpl=\"t\"><span style=\"color: rgb(171, 178, 191);background: rgba(0, 0, 0, 0);display: inline;width: 79px;text-decoration: none solid rgb(171, 178, 191);font-weight: 400;font-style: normal;\"><span style=\"color: rgb(224, 108, 117);background: rgba(0, 0, 0, 0);display: inline;width: 58px;text-decoration: none solid rgb(224, 108, 117);font-weight: 400;font-style: normal;\">frameset</span>&gt;</span></code></pre></section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">如今，我们使用更灵活（且仍然受到活跃支持）的<code><iframe></iframe></code>元素。它们提供了一些很好的特性——最重要的是使得不同的微前端相互隔离，但仍然可以通过<code>postMessage</code>进行通信。<br></p><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>微前端只在客户端有效</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">在 JavaScript 认识误区之后，这是下一个层次。当然，在客户端有多种技术可以实现微前端，实际上，我们甚至不需要<code><iframe></iframe></code>或任何类似的技术。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">微前端可以像服务器端“includes”一样简单。有了诸如 Edge Side Includes 之类的高级技术，这将变得更加强大。如果我们排除了在微前端功能中实现的微前端场景，那么即使是简单的链接也可以很好的工作。最终，微前端解决方案也能像小而独立的服务器端渲染器一样简单。每个渲染器可能只有一个页面那么小。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">下图展示了在反向代理中发生的更高级的拼接：</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: center;\"><img data-ratio=\"0.4178794178794179\" data-type=\"png\" data-w=\"481\" style=\"width: 100%; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6sALLFclFO28XjQNXdaHO8NA6UESWgSq3qIZDuibBIDFZWSoszJLuVHg/640?wx_fmt=png\"><span style=\"color: rgb(136, 136, 136);font-size: 14px;\">通过反向代理实现服务器端拼接</span></p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">当然，可能 JavaScript 有许多优点，但它仍然高度依赖于你试图通过微前端解决的问题。根据你的需要，服务器端解决方案可能仍然是最好的（或者至少是更好的）选择。</p><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>你应该使用多个框架</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">在几乎每一个关于微前端的教程中，不同的部分不仅由不同的团队开发，而且使用了不同的技术。这是假的。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">适当的微前端方法可能使用不同的技术，但是，这不应该是目标。我们做微服务也不只是为了在后端拼凑技术。如果我们使用多种技术，那只是因为我们获得了一个特定的好处。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">我们的目标应该始终是某种统一性。最好的方法是考虑一个新项目：我们会怎么做？如果答案是“使用单一框架”，那么我们就走上正轨了。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">长远来看，有很多原因可以解释为什么应用程序中会出现多个框架。可能是遗留的，可能为了方便，也可能是一个概念验证。无论是什么原因：能够处理这种场景还是不错的，但它绝不应该是开始就希望达到的状态。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">不管你的微前端框架多高效——使用多个框架总是要付出不可忽视的代价。不仅初始渲染会花费更长的时间，而且内存消耗也会朝着错误的方向发展。不能使用方便模型（例如，针对某个框架的模式库）。需要更多的重复。最终，程序的 Bug 数量、不一致行为和可感知的响应性都会受到影响。</p><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>按技术组件划分</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">一般来说，这没有多大意义。我还没见过微服务后端的数据处理在一个服务中而 API 在另一个服务中。通常，服务由多个层组成。虽然某些技术内容（如日志记录）肯定会引入到公共服务中，但有时也会使用诸如 Sidecar 之类的技术。此外，还需要通用服务编程技术。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">对于微前端，情况也是如此。为什么一个微前端只能做菜单？每个微前端都有相应的菜单吗？拆分应该根据业务需求来做，而不是技术决策。如果你读过一些关于领域驱动设计的书，你就会知道它是关于定义这些领域的——而这个定义与任何技术要求无关。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">考虑以下划分：</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: center;\"><img data-ratio=\"0.61\" data-type=\"png\" data-w=\"800\" style=\"width: 100%; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6icR7wxicJicVTWuk5NlU1icw4ChicxNVxq5Yk4q269QnYowEKUb3cHbEmpQ/640?wx_fmt=png\"><span style=\"color: rgb(136, 136, 136);font-size: 14px;\">按布局分解成微前端</span></p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">这些都是技术组件，和微前端无关。在一个真实的微前端应用程序中，屏幕可能看起来是这样的。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: center;\"><img data-ratio=\"0.61\" data-type=\"png\" data-w=\"800\" style=\"width: 100%; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx66T5ZfhhsvLA76nBp94IK3lJ1bAyQPn9Y5kVXUmHr2na3ibPqhdYtbTg/640?wx_fmt=png\"><span style=\"color: rgb(136, 136, 136);font-size: 14px;\">按领域分解成微前端</span></p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">的确，这里的拼接要复杂得多，但这是一个可靠的微前端应用程序应该为你提供的！</p><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>不应该共享任何东西</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">不。你应该共享那些值得共享的东西。你绝对不应该共享所有东西（见下一条）。但要做到始终如一，你至少需要共享一套原则。至于是通过共享库、共享 URL，或者只是在构建或设计应用程序时使用的文档，那就不重要了。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">对于微服务，“无共享”架构如下图所示：</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: center;\"><img data-ratio=\"0.5460251046025104\" data-type=\"png\" data-w=\"478\" style=\"width: 100%; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6sOJPnFXGPtj5VSzaR6YKIpHxQINa1BVoicp6DeJRG7WLLcIzNttSgVg/640?wx_fmt=png\"><span style=\"color: rgb(136, 136, 136);font-size: 14px;\">微服务的“无共享”架构</span></p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">在浏览器中，这将导致使用<code><iframe></iframe></code>，因为目前没有其他方法可以防止资源泄漏。使用影子 DOM，则 CSS 可能会被隔离，但脚本层面仍然能访问所有内容。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">即使想遵循无共享的架构，我们也会遇到麻烦。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">当然，共享的程度越深（例如，使用一个通过应用 shell 追加到 DOM 的共享库），就越会出问题。另一方面，共享程度越浅（例如，只是一个指定基本设计元素的文档），就会出现更多的不一致性。</p><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>应该共享一切</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">绝对不是。如果这样想，那么单体更有意义。就性能而言，这可能已经是一个问题了。什么可以延迟加载？我们能去掉一些东西吗？但真正的问题是依赖管理。什么都不能更新，因为它可能会破坏某个东西。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">共享部件的好处是一致性保证。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">现在，如果我们共享所有的东西，我们就是用复杂性来换一致性。这种一致性是不可维护的，因为复杂性会在每个角落引入 Bug。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">问题的根源在于“依赖地狱”。下图很好地说明了这一点。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><img data-ratio=\"0.30857142857142855\" data-type=\"png\" data-w=\"875\" style=\"width: 100%; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6miaLAeU31bdIwcCLicVmHkS3CKknLym8HzXDkWCU08FuRWndqXxzumJw/640?wx_fmt=png\"></p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">简而言之，如果一切都相互依赖，那么我们就会有依赖问题。仅仅更新一个方框就会影响整个系统。一致吗？确实。简单的？绝不。</p><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>微前端只是 Web 端的</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">为什么只是 Web？诚然，到目前为止，我们接触到的主要是 Web，但其概念和想法可以应用于任何类型的应用程序（移动应用、客户端应用……甚至是 CLI 工具）。在我看来，微前端只是“插件架构”的一个花哨叫法。不过，插件接口如何设计，以及运行使用插件的应用程序需要具备什么条件，这就是另外一回事了。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">下图显示了一个非常通用的插件架构，来自 Omar Elgabry：</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: center;\"><img data-ratio=\"0.624\" data-type=\"png\" data-w=\"875\" style=\"width: 100%; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6zUhyrVxYuu7dXNXjJfDLGWahIleic4qFgnFiaLkjnia3vuVUm3t4NMzLg/640?wx_fmt=png\"><span style=\"color: rgb(136, 136, 136);font-size: 14px;\">通用插件架构</span></p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">该架构并没有在哪里运行的概念。它既可以在手机上运行，也能在 Windows 上运行，甚至还能在服务器上运行。</p><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>微前端需要大型团队</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">为什么？如果解决方案超级复杂，那么我肯定会找一个简单的。有些问题需要复杂的解决方案，但好的解决方案通常是简单的。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">根据场景的不同，它甚至可能不需要一个分布式团队。拥有分布式团队是采用微前端的首要原因之一，但这不是唯一原因。另一个很好的理由是特性的粒度。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">如果从业务的角度来看微前端，那么你就会发现，拥有启用和关闭特定特性的能力是很有意义的。针对不同的市场，使用不同的微前端。回到一个简单的权限模式，这是有意义的。不需要编写代码来根据特定条件打开或关闭某些东西。所有这些都留给公共层，可以根据（可能是动态的）条件激活或停用。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">这样，不能（或不应该）使用的代码也不会被交付。虽然这不应该是一个保护层，但它肯定是一个便捷（和性能）层。用户不会感到困惑，因为他们看到的是他们能做的。他们看不到没有交付的功能，所以没有字节浪费在不可用的代码上。</p><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>微前端无法调试</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">对于任何类型的实现（或供讨论的底层架构），开发经验都可能遭到削弱。应对这种情况的唯一方法是开发人员优先。实现中的第一原则应该是：使调试和开发成为可能。采用标准的工具。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">有些微前端框架根本不接受这一点。有些需要在线连接、专用环境、多重服务……这不应该是标准，也绝不是常态。</p><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>微服务需要微前端（或反过来）</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">解耦的模块化后端可能为解耦前端打下了一个很好的基础，但通常情况下，情况并非如此。后端单体，前端模块化，也是完全可行的，例如，为简化个性化可能就要结合授权、权限和市场。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">实际上，同样，微服务后端并不能证明适合将类似的模式应用于前端。许多微服务后端都是由单用途的应用程序操作的，它们的功能没有增加，只是外观发生了改变。</p><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>微前端需要单存储库</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">我已经读到过好几次，要创建一个微前端解决方案，就需要利用单存储库，最好使用像 Lerna 这样的工具。我不认可这一点。当然，单存储库有一些优点，但也有明显的缺点。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">虽然有一些微前端框架需要联合 CI/CD 构建，但大多数都不需要。联合 CI/CD 构建通常会导致单存储库，因为其设置要简单得多。但对我来说，这是单体重新打包。如果你在单存储库上进行联合构建，那么你就失去了让微前端富有吸引力的两个非常重要的优点：</p><ol class=\"list-paddingleft-2\" style=\"list-style-type: decimal;\"><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">独立部署</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">独立开发</p></li></ol><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">不管怎样，如果你看到微前端解决方案需要单存储库：那样做就行。一个精心设计的单体系统可能会更好，它不会有分布式系统的所有问题。</p><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>    结论    </span></section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">微前端技术并不适合所有人。我不认为微前端是未来的发展趋势，但我也相信它们在未来会发挥重要作用。</p><section style=\"text-align: left;margin-top: 30px;margin-left: 8px;color: rgb(60, 112, 198);\"><span style=\"display: inline-block;width: 15px;height: 15px;margin-right: 10px;background-image: url(\" https: center no-repeat initial></span>\n\t\t延伸阅读\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><span style=\"color: rgb(136, 136, 136);font-size: 14px;\">https://blog.bitsrc.io/11-popular-misconceptions-about-micro-frontends-d5daecc92efb</span></p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><img class=\"rich_pages\" data-ratio=\"0.5546875\" data-type=\"gif\" data-w=\"640\" style=\"text-align: center; color: rgb(63, 63, 63); max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_gif/XIibZ0YbvibkUNBiaqUcdaM6cSBbJTHNBWykQ3XNMAeniaibTxUHOibdyKSIVeicW2lEcfABtC7Y3W0ms4TKKVxHWHASQ/640?wx_fmt=gif\"></p></section>\n                </div>\n\n    \n    <br>\n\n    \n        <a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MzUxMzcxMzE5Ng==&amp;mid=2247502259&amp;idx=2&amp;sn=d07dcc7a4da68b9a65a5833cc41f86f7&amp;chksm=f9527cf0ce25f5e6dca706319688c9e811626db411faa93b9a27f22212ff21685c6c40d5cfbe&amp;scene=0#rd\" style=\"color: blue\" class=\"media_tool_meta meta_primary\">原文</a>\n        <br>\n    \n\n    \n\n    <img alt=\"\" width=\"1px\" height=\"1px\" class=\"\" style=\"width:1px;height:1px;display:none\" src=\"http://www.jintiankansha.me/rss_static/19192/McajSJb4CI\"></div></div>","descriptionType":"html","publishedDate":"Wed, 14 Oct 2020 07:30:00 +0000","feedId":2775,"bgimg":"http://img.100weidu.com/mmbiz_jpg/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6rwFmcy9D33o9bEicPXfSgM1TppWsFvPrDIVImwVIhZ6ZGUKPwR4dnNw?imageView2/1/w/600","linkMd5":"1dbb4537859d1cf9116e3fcb26a1d4f4","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn3@2020_5/2020/10/19/02-10-32-468_ac2e55068d8cd203.webp","destWidth":600,"destHeight":600,"sourceBytes":37059,"destBytes":32176,"author":"","articleImgCdnMap":{"http://img.100weidu.com/mmbiz_jpg/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6rwFmcy9D33o9bEicPXfSgM1TppWsFvPrDIVImwVIhZ6ZGUKPwR4dnNw?imageView2/1/w/600":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn3@2020_5/2020/10/19/02-10-32-468_ac2e55068d8cd203.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6LO4HkLs2yubibpRPlLHgtO6IRH8xxTj6Vf8MKsHaU19fpbtLVTAAibtw/640?wx_fmt=jpeg":null,"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_gif/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6cKibMwufpJmBKXMbvYbTVSBk2biaTahrDXg8hNQpDFFiajYkNO5j9G8tA/640?wx_fmt=gif":null,"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6sALLFclFO28XjQNXdaHO8NA6UESWgSq3qIZDuibBIDFZWSoszJLuVHg/640?wx_fmt=png":null,"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6icR7wxicJicVTWuk5NlU1icw4ChicxNVxq5Yk4q269QnYowEKUb3cHbEmpQ/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn40@2020_1/2020/10/19/02-10-36-404_84ef3ba4f9e3d799.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx66T5ZfhhsvLA76nBp94IK3lJ1bAyQPn9Y5kVXUmHr2na3ibPqhdYtbTg/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn44@2020_2/2020/10/19/02-10-41-686_32239ed8a96eff05.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6sOJPnFXGPtj5VSzaR6YKIpHxQINa1BVoicp6DeJRG7WLLcIzNttSgVg/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn29@2020_5/2020/10/19/02-10-40-432_2d83262a72530bb9.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6miaLAeU31bdIwcCLicVmHkS3CKknLym8HzXDkWCU08FuRWndqXxzumJw/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx15/cdn34@2020_3/2020/10/19/02-10-54-998_8d6efa8377b971f8.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6zUhyrVxYuu7dXNXjJfDLGWahIleic4qFgnFiaLkjnia3vuVUm3t4NMzLg/640?wx_fmt=png":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn50@2020_3/2020/10/19/02-10-39-452_bf28bfb9721344eb.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_gif/XIibZ0YbvibkUNBiaqUcdaM6cSBbJTHNBWykQ3XNMAeniaibTxUHOibdyKSIVeicW2lEcfABtC7Y3W0ms4TKKVxHWHASQ/640?wx_fmt=gif":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn46@2020_3/2020/10/19/02-12-01-893_29f1e5baa2307803.webp","http://www.jintiankansha.me/rss_static/19192/McajSJb4CI":null},"publishedOrCreatedDate":1603073431052}],"record":{"createdTime":"2020-10-19 10:10:31","updatedTime":"2020-10-19 10:10:31","feedId":2775,"fetchDate":"Mon, 19 Oct 2020 02:10:31 +0000","fetchMs":340,"handleMs":19,"totalMs":125719,"newArticles":0,"totalArticles":5,"status":1,"type":0,"ip":"ac7a0c7ef634bc8118941a5bc33d39c6","hostName":"europe-58*","requestId":"e6c6581561314ad583cbd1853d7d0550_2775","contentType":"application/rss+xml","totalBytes":207554,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":11,"articlesImgsGithubTotal":7,"successGithubMap":{"myreaderx15":1,"myreaderx6":1,"myreaderx4":1,"myreaderx13":1,"myreaderx18":1,"myreaderx29":1,"myreaderx19":1},"failGithubMap":{"myreaderx14":1,"myreaderx23":1}},"feed":{"createdTime":"2020-08-24 21:31:44","updatedTime":"2020-09-01 10:14:55","id":2775,"name":"前端之巅","url":"http://feedmaker.kindle4rss.com/feeds/frontshow.weixin.xml","subscriber":null,"website":null,"icon":"http://www.sogou.com/images/logo/new/favicon.ico?v=4","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx63/cdn48@2020_6/2020/09/01/02-14-41-796_d24121c9beed1de6.ico","description":"InfoQ大前端技术社群：囊括前端、移动、Node全栈一线技术，紧跟业界发展步伐。","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2020-10-19 10:12:36","updatedTime":"2020-10-19 10:12:36","id":null,"feedId":2775,"linkMd5":"1dbb4537859d1cf9116e3fcb26a1d4f4"}],"tmpCommonImgCdnBytes":32176,"tmpBodyImgCdnBytes":175378,"tmpBgImgCdnBytes":0,"extra4":{"start":1603073430394,"total":0,"statList":[{"spend":639,"msg":"获取xml内容"},{"spend":19,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":122821,"msg":"正文链接上传到cdn"}]},"extra5":11,"extra6":10,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"http://www.jintiankansha.me/rss_static/19192/McajSJb4CI","sourceStatusCode":405,"sourceBytes":0,"destBytes":0,"feedId":2775,"totalSpendMs":427,"convertSpendMs":0,"createdTime":"2020-10-19 10:10:33","host":"us-027*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E5%AF%B9%E5%BE%AE%E5%89%8D%E7%AB%AF%E7%9A%8411%E4%B8%AA%E9%94%99%E8%AF%AF%E8%AE%A4%E8%AF%86","linkMd5ListStr":"1dbb4537859d1cf9116e3fcb26a1d4f4","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[405],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"http://www.jintiankansha.me/rss_static/19192/McajSJb4CI","sourceStatusCode":405,"sourceBytes":0,"destBytes":0,"feedId":2775,"totalSpendMs":483,"convertSpendMs":0,"createdTime":"2020-10-19 10:10:33","host":"europe-22*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E5%AF%B9%E5%BE%AE%E5%89%8D%E7%AB%AF%E7%9A%8411%E4%B8%AA%E9%94%99%E8%AF%AF%E8%AE%A4%E8%AF%86","linkMd5ListStr":"1dbb4537859d1cf9116e3fcb26a1d4f4","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[405],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6sOJPnFXGPtj5VSzaR6YKIpHxQINa1BVoicp6DeJRG7WLLcIzNttSgVg/640?wx_fmt=png","sourceStatusCode":403,"sourceBytes":0,"destBytes":0,"feedId":2775,"totalSpendMs":1077,"convertSpendMs":0,"createdTime":"2020-10-19 10:10:33","host":"europe66*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E5%AF%B9%E5%BE%AE%E5%89%8D%E7%AB%AF%E7%9A%8411%E4%B8%AA%E9%94%99%E8%AF%AF%E8%AE%A4%E8%AF%86","linkMd5ListStr":"1dbb4537859d1cf9116e3fcb26a1d4f4","extra22GetBytesInfo":"2、Referer字段 ： http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E5%AF%B9%E5%BE%AE%E5%89%8D%E7%AB%AF%E7%9A%8411%E4%B8%AA%E9%94%99%E8%AF%AF%E8%AE%A4%E8%AF%86","extra23historyStatusCode":[403,403],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6sALLFclFO28XjQNXdaHO8NA6UESWgSq3qIZDuibBIDFZWSoszJLuVHg/640?wx_fmt=png","sourceStatusCode":200,"destWidth":481,"destHeight":201,"sourceBytes":7604,"destBytes":4414,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":8593,"convertSpendMs":19,"createdTime":"2020-10-19 10:10:33","host":"us-003*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E5%AF%B9%E5%BE%AE%E5%89%8D%E7%AB%AF%E7%9A%8411%E4%B8%AA%E9%94%99%E8%AF%AF%E8%AE%A4%E8%AF%86","linkMd5ListStr":"1dbb4537859d1cf9116e3fcb26a1d4f4","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn26/contents/2020/10/19/02-10-41-957_40cf9592b327ae36.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Mon, 19 Oct 2020 02:10:42 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["BB18:48DF:121DBA0:28F8BC1:5F8CF59C"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, read:packages, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1603076641"],"x-ratelimit-used":["60"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn26/contents/2020/10/19/02-10-41-957_40cf9592b327ae36.webp","historyStatusCode":[],"spendMs":54},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"7.4 KB","destSize":"4.3 KB","compressRate":"58%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6sALLFclFO28XjQNXdaHO8NA6UESWgSq3qIZDuibBIDFZWSoszJLuVHg/640?wx_fmt=png","sourceStatusCode":200,"destWidth":481,"destHeight":201,"sourceBytes":7604,"destBytes":4414,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":1665,"convertSpendMs":9,"createdTime":"2020-10-19 10:10:42","host":"us-008*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E5%AF%B9%E5%BE%AE%E5%89%8D%E7%AB%AF%E7%9A%8411%E4%B8%AA%E9%94%99%E8%AF%AF%E8%AE%A4%E8%AF%86","linkMd5ListStr":"1dbb4537859d1cf9116e3fcb26a1d4f4","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn26/contents/2020/10/19/02-10-43-717_40cf9592b327ae36.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Mon, 19 Oct 2020 02:10:43 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["BDC6:2E9F:6A2D1E0:B5558B5:5F8CF5A2"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, read:packages, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1603076641"],"x-ratelimit-used":["60"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn26/contents/2020/10/19/02-10-43-717_40cf9592b327ae36.webp","historyStatusCode":[],"spendMs":42},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"7.4 KB","destSize":"4.3 KB","compressRate":"58%"},null,null,null,{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6LO4HkLs2yubibpRPlLHgtO6IRH8xxTj6Vf8MKsHaU19fpbtLVTAAibtw/640?wx_fmt=jpeg","sourceStatusCode":200,"destWidth":1080,"destHeight":719,"sourceBytes":67213,"destBytes":49658,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":22059,"convertSpendMs":41,"createdTime":"2020-10-19 10:11:34","host":"us-019*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E5%AF%B9%E5%BE%AE%E5%89%8D%E7%AB%AF%E7%9A%8411%E4%B8%AA%E9%94%99%E8%AF%AF%E8%AE%A4%E8%AF%86","linkMd5ListStr":"1dbb4537859d1cf9116e3fcb26a1d4f4","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx23/cdn20/contents/2020/10/19/02-11-56-888_36be10dda8fa1f7e.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 69189253.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Mon, 19 Oct 2020 02:11:56 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["9F84:6CDE:377320A:5C3E6E8:5F8CF5DF"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, read:packages, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1603076645"],"x-ratelimit-used":["60"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx23/cdn20/contents/2020/10/19/02-11-56-888_36be10dda8fa1f7e.webp","historyStatusCode":[],"spendMs":52},"base64UserPassword":null,"token":"df0b9******************************93a6e"},"githubUser":"myreaderx23","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"65.6 KB","destSize":"48.5 KB","compressRate":"73.9%"},null],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://us-53.herokuapp.com/":{"failCount":1,"successCount":1,"resultList":[200,null]},"http://us-007.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://europe66.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[403]},"http://us-015.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-026.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-54.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-019.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-003.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe67.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-008.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://europe-22.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[405]},"http://us-027.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[405]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"http://img.100weidu.com/mmbiz_jpg/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6rwFmcy9D33o9bEicPXfSgM1TppWsFvPrDIVImwVIhZ6ZGUKPwR4dnNw?imageView2/1/w/600","sourceStatusCode":200,"destWidth":600,"destHeight":600,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn3@2020_5/2020/10/19/02-10-32-468_ac2e55068d8cd203.webp","sourceBytes":37059,"destBytes":32176,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":2054,"convertSpendMs":22,"createdTime":"2020-10-19 10:10:31","host":"us-024*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E5%AF%B9%E5%BE%AE%E5%89%8D%E7%AB%AF%E7%9A%8411%E4%B8%AA%E9%94%99%E8%AF%AF%E8%AE%A4%E8%AF%86","linkMd5ListStr":"1dbb4537859d1cf9116e3fcb26a1d4f4,1dbb4537859d1cf9116e3fcb26a1d4f4","githubUser":"myreaderx13","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"36.2 KB","destSize":"31.4 KB","compressRate":"86.8%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6icR7wxicJicVTWuk5NlU1icw4ChicxNVxq5Yk4q269QnYowEKUb3cHbEmpQ/640?wx_fmt=png","sourceStatusCode":200,"destWidth":800,"destHeight":488,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx4/cdn40@2020_1/2020/10/19/02-10-36-404_84ef3ba4f9e3d799.webp","sourceBytes":9792,"destBytes":4438,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":3776,"convertSpendMs":18,"createdTime":"2020-10-19 10:10:33","host":"us-54*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E5%AF%B9%E5%BE%AE%E5%89%8D%E7%AB%AF%E7%9A%8411%E4%B8%AA%E9%94%99%E8%AF%AF%E8%AE%A4%E8%AF%86","linkMd5ListStr":"1dbb4537859d1cf9116e3fcb26a1d4f4","githubUser":"myreaderx4","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"9.6 KB","destSize":"4.3 KB","compressRate":"45.3%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6zUhyrVxYuu7dXNXjJfDLGWahIleic4qFgnFiaLkjnia3vuVUm3t4NMzLg/640?wx_fmt=png","sourceStatusCode":200,"destWidth":875,"destHeight":546,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn50@2020_3/2020/10/19/02-10-39-452_bf28bfb9721344eb.webp","sourceBytes":30873,"destBytes":11668,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":6848,"convertSpendMs":29,"createdTime":"2020-10-19 10:10:33","host":"us-008*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E5%AF%B9%E5%BE%AE%E5%89%8D%E7%AB%AF%E7%9A%8411%E4%B8%AA%E9%94%99%E8%AF%AF%E8%AE%A4%E8%AF%86","linkMd5ListStr":"1dbb4537859d1cf9116e3fcb26a1d4f4","githubUser":"myreaderx18","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"30.1 KB","destSize":"11.4 KB","compressRate":"37.8%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6sOJPnFXGPtj5VSzaR6YKIpHxQINa1BVoicp6DeJRG7WLLcIzNttSgVg/640?wx_fmt=png","sourceStatusCode":200,"destWidth":478,"destHeight":261,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn29@2020_5/2020/10/19/02-10-40-432_2d83262a72530bb9.webp","sourceBytes":29132,"destBytes":17534,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":6778,"convertSpendMs":17,"createdTime":"2020-10-19 10:10:34","host":"us-53*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E5%AF%B9%E5%BE%AE%E5%89%8D%E7%AB%AF%E7%9A%8411%E4%B8%AA%E9%94%99%E8%AF%AF%E8%AE%A4%E8%AF%86","linkMd5ListStr":"1dbb4537859d1cf9116e3fcb26a1d4f4","githubUser":"myreaderx6","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"28.4 KB","destSize":"17.1 KB","compressRate":"60.2%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx66T5ZfhhsvLA76nBp94IK3lJ1bAyQPn9Y5kVXUmHr2na3ibPqhdYtbTg/640?wx_fmt=png","sourceStatusCode":200,"destWidth":800,"destHeight":488,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx29/cdn44@2020_2/2020/10/19/02-10-41-686_32239ed8a96eff05.webp","sourceBytes":25095,"destBytes":9426,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":9108,"convertSpendMs":49,"createdTime":"2020-10-19 10:10:33","host":"us-019*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E5%AF%B9%E5%BE%AE%E5%89%8D%E7%AB%AF%E7%9A%8411%E4%B8%AA%E9%94%99%E8%AF%AF%E8%AE%A4%E8%AF%86","linkMd5ListStr":"1dbb4537859d1cf9116e3fcb26a1d4f4","githubUser":"myreaderx29","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"24.5 KB","destSize":"9.2 KB","compressRate":"37.6%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkXXiblWHSpiaN2KmR0L6gSyx6miaLAeU31bdIwcCLicVmHkS3CKknLym8HzXDkWCU08FuRWndqXxzumJw/640?wx_fmt=png","sourceStatusCode":200,"destWidth":875,"destHeight":270,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx15/cdn34@2020_3/2020/10/19/02-10-54-998_8d6efa8377b971f8.webp","sourceBytes":104196,"destBytes":39122,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":22983,"convertSpendMs":14,"createdTime":"2020-10-19 10:10:33","host":"europe67*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E5%AF%B9%E5%BE%AE%E5%89%8D%E7%AB%AF%E7%9A%8411%E4%B8%AA%E9%94%99%E8%AF%AF%E8%AE%A4%E8%AF%86","linkMd5ListStr":"1dbb4537859d1cf9116e3fcb26a1d4f4","githubUser":"myreaderx15","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"101.8 KB","destSize":"38.2 KB","compressRate":"37.5%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_gif/XIibZ0YbvibkUNBiaqUcdaM6cSBbJTHNBWykQ3XNMAeniaibTxUHOibdyKSIVeicW2lEcfABtC7Y3W0ms4TKKVxHWHASQ/640?wx_fmt=gif","sourceStatusCode":200,"destWidth":640,"destHeight":355,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn46@2020_3/2020/10/19/02-12-01-893_29f1e5baa2307803.webp","sourceBytes":151828,"destBytes":93190,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":28094,"convertSpendMs":663,"createdTime":"2020-10-19 10:11:34","host":"us-54*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E5%AF%B9%E5%BE%AE%E5%89%8D%E7%AB%AF%E7%9A%8411%E4%B8%AA%E9%94%99%E8%AF%AF%E8%AE%A4%E8%AF%86","linkMd5ListStr":"1dbb4537859d1cf9116e3fcb26a1d4f4","githubUser":"myreaderx19","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"148.3 KB","destSize":"91 KB","compressRate":"61.4%"}],"successGithubMap":{"myreaderx15":1,"myreaderx6":1,"myreaderx4":1,"myreaderx13":1,"myreaderx18":1,"myreaderx29":1,"myreaderx19":1},"failGithubMap":{"myreaderx14":1,"myreaderx23":1}}