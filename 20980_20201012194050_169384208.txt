{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-13 03:40:50","updatedTime":"2020-10-13 03:40:50","title":"暂停页面资源占用","link":"http://www.aoao.org.cn/?p=169","description":"<p>“暂停页面资源占用”其实是个function，javascript也是可以用中文来写滴</p>\n<pre class=\"code\"><code>function 暂停页面资源占用(){\n\t幻灯广告2.暂停();\n\t文字滚动5.暂停();\n\t啥啥啥动画.暂停();\n\t定时更新长链接.低迷模式();\n}</code></pre>\n<p>为什么要这样做呢？ 装厚道，把资源让给别人，有些情况下还可以省自己服务器的资源。</p>\n<p>那什么时候调用他呢？ <code>onblur</code>，那怎样变回正常呢？再写一个对应滴。</p>\n<p>但是这样看起来不是特别高级，怎样更高级呢？自定义事件 我记得好久好久前写过个task 让那些爱动的元素玩上 <code>onElementShow</code> <code>onElementHide</code> 这样的事件，然后就把上面的 function 分开了，让元素看不到时就可以开始暂停。</p>\n<p>其实还不够高级，我们还可以把 元素看不到 、页面 blur、窗口最小化 做进一步细分，不同阶段做不同深度的事。</p>\n<p>附窗口最小化检查</p>\n<pre class=\"code\"><code>function isMinStatus() { \n\tvar isMin = false; \n\tif(window.outerWidth != undefined){ \n\t\tisMin = window.outerWidth <= 160 &#038;&#038; window.outerHeight <= 27; \n\t}else{ \n\t\tisMin = window.screenTop < -30000 &#038;&#038; window.screenLeft < -30000; \n\t} \n\treturn isMin; \n} </code></pre>\n<p>这代码也不是我发明的。。很久前找到的，忘记出处了。win下基本都能用。mac 研究了发现没啥好办法发现最小化，最后用了个很土的办法，键盘控有效。囧rz</p>\n<pre class=\"code\"><code>event.metaKey && event.keyCode =='77' //&#x2318;command + m</code></pre>\n<p>大家有其他好办法没？</p>\n<p>update<br />\n小光说的Page Visibility <a href=\"http://www.samdutton.com/pageVisibility/\" title=\"Using the Page Visibility API\">测试地址</a> <a href=\"http://ie.microsoft.com/testdrive/Performance/PageVisibility/Default.html\" title=\"Page Visibility API\">M$测试地址</a>，ie10 Chrome ff10+ 都支持， ff在mac支持得比较好，最小化算，但command+h 也不算，不知道为什么，突然在想显示桌面(F11/fn+F11) 要不要算。</p>\n<p>相关资料 </p>\n<ul>\n<li><a href=\"http://www.w3.org/TR/page-visibility/\">w3c:Page Visibility</a></li>\n<li> <a href=\"http://blogs.msdn.com/b/ie/archive/2011/07/08/using-pc-hardware-more-efficiently-in-html5-new-web-performance-apis-part-2.aspx\">Using PC Hardware more efficiently in HTML5: New Web Performance APIs</a></li>\n</ul>\n<p>btw: 这内容是很久很久前写的，那时是想写个前端长篇小说，但后来不知道怎样没了，今天碰巧跟同学聊到这事，我整理整理发出来</p>\n","descriptionType":"html","publishedDate":"Thu, 12 Jan 2012 16:05:04 +0000","feedId":20980,"bgimg":"","linkMd5":"a80856b89890b73280468a2600f8a23c","bgimgJsdelivr":"","metaImg":"","author":"aoao","publishedOrCreatedDate":1602531650246}],"record":{"createdTime":"2020-10-13 03:40:50","updatedTime":"2020-10-13 03:40:50","feedId":20980,"fetchDate":"Mon, 12 Oct 2020 19:40:50 +0000","fetchMs":107,"handleMs":181525,"totalMs":181635,"newArticles":0,"totalArticles":20,"status":1,"type":0,"ip":"cf9af02d3e458080dedc42d3da41bbb4","hostName":"us-028*","requestId":"af23de42d960496981b999fd013cee43_20980","contentType":"application/rss+xml; charset=UTF-8","totalBytes":0,"bgimgsTotal":0,"bgimgsGithubTotal":0,"articlesImgsTotal":0,"articlesImgsGithubTotal":0,"successGithubMap":{},"failGithubMap":{}},"feed":{"createdTime":"2020-09-07 02:23:51","updatedTime":"2020-09-07 04:15:08","id":20980,"name":"样式之美","url":"http://feeds.feedburner.com/aoao","subscriber":158,"website":null,"icon":"http://www.aoao.org.cn/favicon.ico","icon_jsdelivr":null,"description":"没落的角落","weekly":null,"link":"http://www.aoao.org.cn"},"noPictureArticleList":[],"tmpCommonImgCdnBytes":0,"tmpBodyImgCdnBytes":0,"tmpBgImgCdnBytes":0,"extra4":{"start":1602531468613,"total":0,"statList":[{"spend":109,"msg":"获取xml内容"},{"spend":181525,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":0,"msg":"正文链接上传到cdn"}]},"extra5":0,"extra6":0,"extra7ImgCdnFailResultVector":[],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{},"extra12ImgCdnSuccessResultVector":[],"successGithubMap":{},"failGithubMap":{}}