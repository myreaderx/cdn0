{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-20 19:49:59","updatedTime":"2020-10-20 19:49:59","title":"DeDeCMS的channel标签支持limit(属性)功能","link":"http://www.bloghuman.com/dedecms-channel-support-limit/","description":"\n \n\t<p>修改步骤:</p><p>找到标签文件include&#92;taglib&#92;channel.lib.php，大概在36行，找到</p><div class=\"codeText\"><div class=\"codeHead\">XML/HTML代码</div><ol start=\"1\" class=\"dp-xml\">&#160;&#160;&#160;&#160;<li class=\"alt\"><span><span>$</span><span class=\"attribute\">attlist</span><span> = </span><span class=\"attribute-value\">&#34;typeid&#124;0,reid&#124;0,row&#124;100,col&#124;1,type&#124;son,currentstyle&#124;,cacheid&#124;&#34;</span><span>;&#160;&#160;</span></span></li></ol></div><p>替换为</p><div class=\"codeText\"><div class=\"codeHead\">XML/HTML代码</div><ol start=\"1\" class=\"dp-xml\">&#160;&#160;&#160;&#160;<li class=\"alt\"><span><span>$</span><span class=\"attribute\">attlist</span><span> =</span><span class=\"attribute-value\">&#34;typeid&#124;0,reid&#124;0,row&#124;100,col&#124;1,type&#124;son,currentstyle&#124;,cacheid&#124;,limit&#124;&#34;</span><span>;&#160;&#160;</span></span></li></ol></div><p>大概在40行，找到</p><div class=\"codeText\"><div class=\"codeHead\">XML/HTML代码</div><ol start=\"1\" class=\"dp-xml\">&#160;&#160;&#160;&#160;<li class=\"alt\"><span><span>$</span><span class=\"attribute\">line</span><span> = </span><span class=\"attribute-value\">empty</span><span>($row) ? 100 : $row;&#160;&#160;</span></span></li></ol></div><p>在下边增加一行</p><div class=\"codeText\"><div class=\"codeHead\">XML/HTML代码</div><ol start=\"1\" class=\"dp-xml\">&#160;&#160;&#160;&#160;<li class=\"alt\"><span><span>$limit = trim(eregi_replace('limit','',$limit));<br />&#160;&#160;&#160;&#160;if($limit!='')&#123;<br />&#160;&#160;&#160;&#160;&#160;&#160; $limit = &#34; limit $limit &#34;;<br />&#160;&#160;&#160;&#160;&#125;else&#123;<br />&#160;&#160;&#160;&#160;&#160;&#160; $limit = &#34; limit 0,$line &#34;;<br />&#160;&#160;&#160;&#160;&#125;</span></span></li></ol></div><p>然后批量查找<span style=\"padding: 0px; margin: 0px 3px; color: rgb(229, 51, 51);\">limit 0, $line</span>，替换为<span style=\"padding: 0px; margin: 0px 3px; color: rgb(229, 51, 51);\">$limit</span>（下方会有4条sql语句中<strong>）</strong></p><p>模版中调用方法：</p><div class=\"codeText\"><div class=\"codeHead\">XML/HTML代码</div><ol start=\"1\" class=\"dp-xml\">&#160;&#160;&#160;&#160;<li class=\"alt\"><span><span>&#123;dede:channel </span><span class=\"attribute\">typeid</span><span>=</span><span class=\"attribute-value\">'1'</span><span> </span><span class=\"attribute\">type</span><span>='son' </span><span class=\"attribute-value\">limit</span><span>='起始条数' </span><span class=\"attribute\">row</span><span>=</span><span class=\"attribute-value\">'总共输出的条数'</span><span>&#125;&#160;&#160;</span></span></li></ol></div><p><strong>也就是从 第 limit条记录开始输出,一共输出row条结果</strong></p><p>为什么要同时使用limit 跟row 呢？这是为了在不影响row功能的情况下使用limit</p><p>&#160;</p><br/>Tags - <a href=\"http://www.bloghuman.com/tags/dedecms/\" rel=\"tag\">dedecms</a> , <a href=\"http://www.bloghuman.com/tags/channel/\" rel=\"tag\">channel</a> , <a href=\"http://www.bloghuman.com/tags/limit/\" rel=\"tag\">limit</a>\n\n","descriptionType":"text/html","publishedDate":"Fri, 05 Jan 2018 09:41:06 +0000","feedId":28939,"bgimg":"","linkMd5":"1eec6b999ef27493de9fd87228f6426e","bgimgJsdelivr":"","metaImg":"","author":"郝聪 <bloghuman@gmail.com>","publishedOrCreatedDate":1603194599895}],"record":{"createdTime":"2020-10-20 19:49:59","updatedTime":"2020-10-20 19:49:59","feedId":28939,"fetchDate":"Tue, 20 Oct 2020 11:49:59 +0000","fetchMs":1314,"handleMs":94,"totalMs":45711,"newArticles":0,"totalArticles":50,"status":1,"type":0,"ip":"ec8e5bf04681effb26c67cecccdf7deb","hostName":"europe69*","requestId":"7e48af9bc20543eaa0db3dabdbd575ef_28939","contentType":"application/xml","totalBytes":0,"bgimgsTotal":0,"bgimgsGithubTotal":0,"articlesImgsTotal":0,"articlesImgsGithubTotal":0,"successGithubMap":{},"failGithubMap":{}},"feed":{"createdTime":"2020-09-07 02:45:32","updatedTime":"2020-09-07 04:49:42","id":28939,"name":"郝聪SEO博客：十年SEO顾问服务_北京网站优化公司","url":"http://www.bloghuman.com/feed.php","subscriber":112,"website":null,"icon":"http://www.bloghuman.com/favicon.ico","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx64/cdn96@2020_3/2020/09/06/20-49-41-729_650dab6b35e2ffd3.png","description":"搜索引擎优化原创技术博客，关注整合网络营销，分享各类网站SEO策略与优化成功案例，曾任多家商业网站的SEO顾问！为商业网站制定整体SEO战略，创造庞大搜索流量，为企业网站提升关键词排名，带动产品销售。为发展助力，成就你我！","weekly":null,"link":null},"noPictureArticleList":[],"tmpCommonImgCdnBytes":0,"tmpBodyImgCdnBytes":0,"tmpBgImgCdnBytes":0,"extra4":{"start":1603194554186,"total":0,"statList":[{"spend":45616,"msg":"获取xml内容"},{"spend":94,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"正文链接上传到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"}]},"extra5":0,"extra6":0,"extra7ImgCdnFailResultVector":[],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{},"extra12ImgCdnSuccessResultVector":[],"successGithubMap":{},"failGithubMap":{}}