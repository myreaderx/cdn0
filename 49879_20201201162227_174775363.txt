{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-12-02 00:22:00","updatedTime":"2020-12-02 00:22:00","title":"A Method to Anonymize Business Metrics to Publishing Implicit Feedback Datasets (Recsys 2020) 読んだ","link":"https://repose.hatenadiary.jp/entry/2020/11/23/223909","description":"<p><a href=\"https://github.com/gunosy/publishing-dataset-recsys20/blob/master/paper/paper.pdf\">論文</a></p>\n\n<p><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Gunosy\">Gunosy</a> と<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%CD%FD%B8%A6\">理研</a>AIPの論文．</p>\n\n<p>企業が持つ implicit feedback のデータを公開するためには</p>\n\n<ul>\n<li>アクティブユーザ数や収益や平均クリック数といった business metric を隠したい</li>\n<li>公平性を担保したい</li>\n<li>Population Bias を減らしたい</li>\n</ul>\n\n\n<p>という三つの気持ちがある．</p>\n\n<p>今回はログ中のユーザをサンプリングして公開用データを構築するわけですが，ユーザごとにサンプリング時の重み <code>w</code> を推定する問題として定式化する．</p>\n\n<p>この時</p>\n\n<ul>\n<li>business metric を隠すために，サンプリング後のクリック数の分布と特定の分布 (zipf など) との Wasserstein distance を取る <img src=\"https://chart.apis.google.com/chart?cht=tx&chl=L_%7B%5Cmathrm%7Bclick%7D%7D%28w%29\" alt=\"L_{\\mathrm{click}}(w)\"/></li>\n<li>公平性のためにサンプリング後のユーザの属性の分布と uniform distribution との KL divergence <img src=\"https://chart.apis.google.com/chart?cht=tx&chl=L_%7B%5Cmathrm%7Battribute%7D%7D%28w%29\" alt=\"L_{\\mathrm{attribute}}(w)\"/></li>\n<li>Population Bias 対策でサンプリング後の記事のカテゴリ分布と uniform distribution との KL divergence <img src=\"https://chart.apis.google.com/chart?cht=tx&chl=L_%7B%5Cmathrm%7Bcategory%7D%7D%28w%29\" alt=\"L_{\\mathrm{category}}(w)\"/>\n\n<ul>\n<li>ここで uniform するのが fairness っぽい研究の匂いがする</li>\n</ul>\n</li>\n</ul>\n\n\n<p>の3つを重みのハイパーパラメタをかけた線形和を最小にするように <img src=\"https://chart.apis.google.com/chart?cht=tx&chl=w\" alt=\"w\"/> を推定する．以上．</p>\n\n<h2>よくわからなかったところ</h2>\n\n<ul>\n<li>数学力が低すぎて 3.4 を読んだだけではどうやって <code>w</code> を推定していいか全く分からなかった．一番ナイーブな方法は <code>w</code> をただの user の重みとみなして適当にやることですがきっとそういうわけではないだろう．5.4 で <a href=\"https://arxiv.org/abs/1901.08291\">Faking Fairness via Stealthily Biased Sampling (AAAI 2020)</a>が言及されていますが査読で何か言われなかったのだろうか</li>\n<li>サンプリングの方針としてユーザを選ぶ <code>sampling user</code> とユーザの行動ログをサンプリングする <code>sampling behavior log</code> の二つがあって本論文では前者が採用されている．後者を採用しない理由は時系列つきのログでよくやる「次に登場するアイテムは何か?」というタスクに対応できないからだと言われているが一部が欠けていても (よほど強烈な<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%DE%A5%EB%A5%B3%A5%D5%C0%AD\">マルコフ性</a>などが存在しない限り) できなくはないのではないかと思った</li>\n<li>Table 1 の最下段は <code>2CC</code> の <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/typo\">typo</a> だと思う</li>\n<li>4.2.4 にて Zipf(1) における Population Bias を考慮した結果が考慮していない結果とあまり差がない (これは本当に悲しい) 理由がよくわからなかった</li>\n<li>4.3 で述べられている timestamp の分布が近いみたいな話，いい話ではあるのだけど狙っていないのにどうしてこうなったのかがよくわかっていない</li>\n<li>そもそも「企業が持つデー<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%BF%A5%BB%A5%C3%A5%C8\">タセット</a>が有用である」とは一体どういう事なのかを考え始めるとよくわからなくなってきた\n\n<ul>\n<li>思いついたひとつに「公開デー<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%BF%A5%BB%A5%C3%A5%C8\">タセット</a>で得られた知見は未公開のデー<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%BF%A5%BB%A5%C3%A5%C8\">タセット</a>においても有用である (だからこそ公開デー<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%BF%A5%BB%A5%C3%A5%C8\">タセット</a>での精度改善には意味がある)」というのがありそうだけど，これは一体どうやって検証したものだろうか</li>\n<li>十分に検討された疑似データと実デー<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%BF%A5%BB%A5%C3%A5%C8\">タセット</a>の差とは何か，実デー<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%BF%A5%BB%A5%C3%A5%C8\">タセット</a>だとどのような価値があるのだろうか．「実デー<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%BF%A5%BB%A5%C3%A5%C8\">タセット</a>を用いた検証の結果〜」とは論文の abstract に死ぬほど登場する言葉ではあるが，それは一体どういう価値があるのか考え直したい気持ちがある (<a href=\"https://archive.ics.uci.edu/ml/datasets/iris\">Iris</a> や <a href=\"https://archive.ics.uci.edu/ml/datasets/mushroom\">Mushroom</a> だって実デー<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%BF%A5%BB%A5%C3%A5%C8\">タセット</a>だ)</li>\n</ul>\n</li>\n</ul>\n\n","descriptionType":"html","publishedDate":"Mon, 23 Nov 2020 13:39:09 +0000","feedId":49879,"bgimg":"https://cdn.blog.st-hatena.com/images/theme/og-image-1500.png","linkMd5":"bd580930c818416196b26733e552935b","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn51@2020_2/2020/12/01/16-22-01-119_826ddd244d633277.webp","destWidth":1500,"destHeight":1051,"sourceBytes":70050,"destBytes":47840,"author":"repose","enclosureType":"image/png","enclosureUrl":"https://cdn.blog.st-hatena.com/images/theme/og-image-1500.png","articleImgCdnMap":{"https://chart.apis.google.com/chart?cht=tx&chl=L_%7B%5Cmathrm%7Bclick%7D%7D%28w%29":null,"https://chart.apis.google.com/chart?cht=tx&chl=L_%7B%5Cmathrm%7Battribute%7D%7D%28w%29":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn64@2020_1/2020/12/01/16-22-11-833_0a497e9bd9169074.webp","https://chart.apis.google.com/chart?cht=tx&chl=L_%7B%5Cmathrm%7Bcategory%7D%7D%28w%29":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn58@2020_2/2020/12/01/16-22-01-076_a7349335b9fc6307.webp","https://chart.apis.google.com/chart?cht=tx&chl=w":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn53@2020_5/2020/12/01/16-22-01-060_ba92f785c3c48232.webp"},"publishedOrCreatedDate":1606839720921}],"record":{"createdTime":"2020-12-02 00:22:00","updatedTime":"2020-12-02 00:22:00","feedId":49879,"fetchDate":"Tue, 01 Dec 2020 16:22:00 +0000","fetchMs":3383,"handleMs":5718,"totalMs":35445,"newArticles":0,"totalArticles":30,"status":1,"type":0,"ip":"05b50c64cd16569d0e135aedb1e28ee2","hostName":"us-022*","requestId":"a1db5eecd82c4b0f896485b073497f67_49879","contentType":"application/atom+xml; charset=utf-8","totalBytes":1968,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":4,"articlesImgsGithubTotal":3,"successGithubMap":{"myreaderx21":1,"myreaderx3":1,"myreaderx1":1,"myreaderx19":1},"failGithubMap":{"myreaderx14":1}},"feed":{"createdTime":"2020-09-07 03:54:31","updatedTime":"2020-11-16 18:38:01","id":49879,"name":"糞糞糞ネット弁慶","url":"http://d.hatena.ne.jp/repose/rss","subscriber":64,"website":null,"icon":"https://repose.hatenadiary.jp/favicon.ico","icon_jsdelivr":null,"description":"読んだ論文についてメモを書きます．趣味の話は http://repose.hatenablog.com","weekly":null,"link":"https://repose.hatenadiary.jp"},"noPictureArticleList":[{"createdTime":"2020-12-02 00:22:27","updatedTime":"2020-12-02 00:22:27","id":null,"feedId":49879,"linkMd5":"bd580930c818416196b26733e552935b"}],"tmpCommonImgCdnBytes":0,"tmpBodyImgCdnBytes":1968,"tmpBgImgCdnBytes":0,"extra4":{"start":1606839711645,"total":0,"statList":[{"spend":3557,"msg":"获取xml内容"},{"spend":5719,"msg":"解释文章"},{"spend":1190,"msg":"上传封面图到cdn"},{"spend":1,"msg":"修正封面图上传失败重新上传"},{"spend":26163,"msg":"正文链接上传到cdn"}]},"extra5":4,"extra6":4,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"https://chart.apis.google.com/chart?cht=tx&chl=L_%7B%5Cmathrm%7Bclick%7D%7D%28w%29","sourceStatusCode":200,"destWidth":66,"destHeight":19,"sourceBytes":1454,"destBytes":752,"targetWebpQuality":75,"feedId":49879,"totalSpendMs":25763,"convertSpendMs":2,"createdTime":"2020-12-02 00:22:01","host":"europe63*","referer":"https://repose.hatenadiary.jp/entry/2020/11/23/223909","linkMd5ListStr":"bd580930c818416196b26733e552935b","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn67/contents/2020/12/01/16-22-26-668_4e52f5ecc2ce9625.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Tue, 01 Dec 2020 16:22:26 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["BD70:B780:1ADBB3E:1EFE8B5:5FC66DC2"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1606840035"],"x-ratelimit-used":["60"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn67/contents/2020/12/01/16-22-26-668_4e52f5ecc2ce9625.webp","historyStatusCode":[],"spendMs":137},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.4 KB","destSize":"752 B","compressRate":"51.7%"},{"code":1,"isDone":false,"source":"https://chart.apis.google.com/chart?cht=tx&chl=L_%7B%5Cmathrm%7Bclick%7D%7D%28w%29","sourceStatusCode":200,"destWidth":66,"destHeight":19,"sourceBytes":1454,"destBytes":752,"targetWebpQuality":75,"feedId":49879,"totalSpendMs":169,"convertSpendMs":2,"createdTime":"2020-12-02 00:22:26","host":"europe63*","referer":"https://repose.hatenadiary.jp/entry/2020/11/23/223909","linkMd5ListStr":"bd580930c818416196b26733e552935b","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn67/contents/2020/12/01/16-22-26-898_4e52f5ecc2ce9625.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Tue, 01 Dec 2020 16:22:27 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"status":["403 Forbidden"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["BD70:B780:1ADBB9F:1EFE932:5FC66DC2"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1606840035"],"x-ratelimit-used":["60"],"x-xss-protection":["1; mode=block"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn67/contents/2020/12/01/16-22-26-898_4e52f5ecc2ce9625.webp","historyStatusCode":[],"spendMs":155},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.4 KB","destSize":"752 B","compressRate":"51.7%"}],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://europe-25.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe63.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://us-011.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-012.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://chart.apis.google.com/chart?cht=tx&chl=w","sourceStatusCode":200,"destWidth":13,"destHeight":10,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn53@2020_5/2020/12/01/16-22-01-060_ba92f785c3c48232.webp","sourceBytes":391,"destBytes":202,"targetWebpQuality":75,"feedId":49879,"totalSpendMs":911,"convertSpendMs":3,"createdTime":"2020-12-02 00:22:00","host":"us-011*","referer":"https://repose.hatenadiary.jp/entry/2020/11/23/223909","linkMd5ListStr":"bd580930c818416196b26733e552935b","githubUser":"myreaderx3","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"391 B","destSize":"202 B","compressRate":"51.7%"},{"code":1,"isDone":false,"source":"https://chart.apis.google.com/chart?cht=tx&chl=L_%7B%5Cmathrm%7Bcategory%7D%7D%28w%29","sourceStatusCode":200,"destWidth":90,"destHeight":19,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn58@2020_2/2020/12/01/16-22-01-076_a7349335b9fc6307.webp","sourceBytes":1985,"destBytes":874,"targetWebpQuality":75,"feedId":49879,"totalSpendMs":1032,"convertSpendMs":7,"createdTime":"2020-12-02 00:22:00","host":"us-012*","referer":"https://repose.hatenadiary.jp/entry/2020/11/23/223909","linkMd5ListStr":"bd580930c818416196b26733e552935b","githubUser":"myreaderx1","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.9 KB","destSize":"874 B","compressRate":"44%"},{"code":1,"isDone":false,"source":"https://cdn.blog.st-hatena.com/images/theme/og-image-1500.png","sourceStatusCode":200,"destWidth":1500,"destHeight":1051,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx21/cdn51@2020_2/2020/12/01/16-22-01-119_826ddd244d633277.webp","sourceBytes":70050,"destBytes":47840,"targetWebpQuality":75,"feedId":49879,"totalSpendMs":1169,"convertSpendMs":125,"createdTime":"2020-12-02 00:22:00","host":"us-024*","referer":"https://repose.hatenadiary.jp/entry/2020/11/23/223909","linkMd5ListStr":"bd580930c818416196b26733e552935b","githubUser":"myreaderx21","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"68.4 KB","destSize":"46.7 KB","compressRate":"68.3%"},{"code":1,"isDone":false,"source":"https://chart.apis.google.com/chart?cht=tx&chl=L_%7B%5Cmathrm%7Battribute%7D%7D%28w%29","sourceStatusCode":200,"destWidth":92,"destHeight":19,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx19/cdn64@2020_1/2020/12/01/16-22-11-833_0a497e9bd9169074.webp","sourceBytes":1913,"destBytes":892,"targetWebpQuality":75,"feedId":49879,"totalSpendMs":12409,"convertSpendMs":2,"createdTime":"2020-12-02 00:22:01","host":"europe-25*","referer":"https://repose.hatenadiary.jp/entry/2020/11/23/223909","linkMd5ListStr":"bd580930c818416196b26733e552935b","githubUser":"myreaderx19","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.9 KB","destSize":"892 B","compressRate":"46.6%"}],"successGithubMap":{"myreaderx21":1,"myreaderx3":1,"myreaderx1":1,"myreaderx19":1},"failGithubMap":{"myreaderx14":1}}