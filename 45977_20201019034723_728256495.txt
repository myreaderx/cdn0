{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-19 11:45:19","updatedTime":"2020-10-19 11:45:19","title":"Getting started with Lens","link":"https://www.mirantis.com/?p=673952","description":"<p>The post <a rel=\"nofollow\" href=\"https://www.mirantis.com/blog/getting-started-with-lens/\">Getting started with Lens</a> appeared first on <a rel=\"nofollow\" href=\"https://www.mirantis.com\">Mirantis | Pure Play Open Cloud</a>.</p>\n<span style=\"font-weight: 400;\">It&#8217;s easy to get going with Lens on virtually any computer with a graphical desktop environment (Linux, Mac, or Windows). The only real requirement is that you need one or more pre-existing Kubernetes clusters for Lens to look at. (Otherwise, what&#8217;s the point?)</span>\n\n<span style=\"font-weight: 400;\">Specifically, Lens talks to the Kubernetes API via <strong>kubectl</strong>, so you&#8217;ll need connectivity to your cluster(s) from the computer on which you want to install Lens to port 6443 of the cluster controller using <strong>https</strong>. As long as you have the <strong>kubeconfig</strong> for your cluster stored locally (and Lens can help you find that), you should be good to go.</span>\n\n<span style=\"font-weight: 400;\">The cluster itself can be pretty-much anywhere and derive from any source. You can use Lens to control local clusters (such as Docker Kubernetes Service clusters running on your laptop), or remote clusters on bare metal, private, or public clouds. Lens adapts automatically to manage different recent versions of Kubernetes, so dealing with multiple generations of Kubernetes cluster is no problem.</span>\n\n<span style=\"font-weight: 400;\">Don&#8217;t have a cluster yet? Happily, that&#8217;s easy too, because you can install a Docker Enterprise cluster quickly, using </span><a href=\"https://github.com/Mirantis/launchpad\"><span style=\"font-weight: 400;\">Launchpad</span></a><span style=\"font-weight: 400;\">. In fact, Launchpad and Lens companion very well, since Launchpad is available for Linux, Mac, and Windows, too.</span>\n<h3><span style=\"font-weight: 400;\">Installing Lens</span></h3>\n<span style=\"font-weight: 400;\">Basic docs can be found at the </span><a href=\"https://github.com/lensapp/lens\"><span style=\"font-weight: 400;\">Lens repository on GitHub</span></a><span style=\"font-weight: 400;\">. Downloadables are available on the </span><a href=\"https://github.com/lensapp/lens/releases\"><span style=\"font-weight: 400;\">releases</span></a><span style=\"font-weight: 400;\"> page. Installation on Windows (via .exe) and Mac (via .dmg) is easy; just download those files to the local machine and run them. </span>\n\n<span style=\"font-weight: 400;\">On Mac, you can also:</span>\n<pre><span style=\"font-weight: 400;\">brew cask install lens</span></pre>\n<span style=\"font-weight: 400;\">to get the latest version.</span>\n\n<span style=\"font-weight: 400;\">For Linux, Lens is available via snap or packaged as an AppImage, which we recommend for its convenience. If you haven&#8217;t encountered </span><a href=\"https://appimage.org/\"><span style=\"font-weight: 400;\">AppImages</span></a><span style=\"font-weight: 400;\"> before (plenty of frequent Linux users haven&#8217;t &#8211; don&#8217;t feel bad), AppImage tech provides a way of packaging application dependencies together in executable binaries that will run on pretty much any Linux machine.</span>\n\n<span style=\"font-weight: 400;\">To use the AppImage, just download the release binary to a safe place on your system, make it executable, and run it from the command line or your desktop&#8217;s application browser. Because Lens is a desktop application, you don&#8217;t even need to be particularly concerned about making sure to save the Lens binary somewhere on your CLI execution path, because the first time it runs, it inserts an icon in your &#8216;Favorites&#8217; bar that you can pin there to make subsequent execution easy.</span>\n\n<span style=\"font-weight: 400;\">Using a standard browser, this is pretty simple, but you can also do it from the command line. To do so, right-click on the link to the AppImage on the Releases page and select </span><strong><i>Copy link address</i></strong><span style=\"font-weight: 400;\">, then:</span>\n<ul>\n \t<li style=\"font-weight: 400;\"><span style=\"font-weight: 400;\">Make a <strong>lens</strong> directory</span></li>\n \t<li style=\"font-weight: 400;\"><span style=\"font-weight: 400;\"><strong>cd</strong> into it</span></li>\n \t<li style=\"font-weight: 400;\"><span style=\"font-weight: 400;\">download the binary there using <strong>wget</strong>, <strong>curl</strong>, or another tool</span></li>\n \t<li style=\"font-weight: 400;\"><span style=\"font-weight: 400;\">make the binary executable, and</span></li>\n \t<li style=\"font-weight: 400;\"><span style=\"font-weight: 400;\">run it, prefixing the file name with <strong>./</strong> to tell bash that it needs to look in the local directory instead of elsewhere on your execution path.</span></li>\n</ul>\nFor example:\n<pre><span style=\"font-weight: 400;\">mkdir lens</span>\n<span style=\"font-weight: 400;\">cd lens</span>\n<span style=\"font-weight: 400;\">wget </span><a href=\"https://github.com/lensapp/lens/releases/download/v3.5.2/Lens-3.5.2.AppImage\"><span style=\"font-weight: 400;\">https://github.com/lensapp/lens/releases/download/v3.5.2/Lens-3.5.2.AppImage</span></a>\n<span style=\"font-weight: 400;\">chmod +x </span><a href=\"https://github.com/lensapp/lens/releases/download/v3.5.2/Lens-3.5.2.AppImage\"><span style=\"font-weight: 400;\">Lens-3.5.2.AppImage</span></a>\n<span style=\"font-weight: 400;\">./</span><a href=\"https://github.com/lensapp/lens/releases/download/v3.5.2/Lens-3.5.2.AppImage\"><span style=\"font-weight: 400;\">Lens-3.5.2.AppImage</span></a></pre>\n<span style=\"font-weight: 400;\">Lens checks for updates, then opens on your desktop. Right-click on its icon in your <strong>Favorites</strong> bar and click <strong>Add to Favorites</strong> to make it more easily accessible.</span>\n\n<span style=\"font-weight: 400;\">When launching Lens from a <strong>Favorites</strong> icon, be sure to just click once for each instance of Lens you want to run. Especially on slowish virtual machines, Lens takes a few moments to start up (check for updates, load contexts, and so on), so it&#8217;s easy to get half a dozen instances launching at once if you get impatient and click multiple times. </span>\n<h3><span style=\"font-weight: 400;\">Configuring Lens to work with your cluster(s)</span></h3>\n<span style=\"font-weight: 400;\">Lens makes configuration very simple. Click <strong>Add Cluster</strong> in the <strong>File</strong> menu, and Lens pops up a list of all the kubeconfigs it&#8217;s found on your local system. Pick one, and Lens self-configures &#8212; creating a context for that cluster so it can manage (for example) the particular version of Kubernetes API it uses, and other details.</span><a href=\"https://www.mirantis.com/wp-content/uploads/2020/08/add_cluster.png\"><img class=\"aligncenter size-full wp-image-673953\" src=\"https://www.mirantis.com/wp-content/uploads/2020/08/add_cluster.png\" alt=\"\" width=\"1921\" height=\"777\" srcset=\"https://www.mirantis.com/wp-content/uploads/2020/08/add_cluster.png 1921w, https://www.mirantis.com/wp-content/uploads/2020/08/add_cluster-300x121.png 300w, https://www.mirantis.com/wp-content/uploads/2020/08/add_cluster-768x311.png 768w, https://www.mirantis.com/wp-content/uploads/2020/08/add_cluster-1024x414.png 1024w\" sizes=\"(max-width: 1921px) 100vw, 1921px\" /></a>\n\n<span style=\"font-weight: 400;\">If you can&#8217;t find your desired kubeconfig in the list, it may be that you haven&#8217;t yet downloaded an authentication bundle for that cluster. (Perhaps it was recently deployed, or you deployed it on a public cloud service). For Docker Enterprise clusters, just browse the Universal Control Plane webUI, click on <strong>Admin&#62;My Profile&#62;Client Bundles</strong>, generate and download a new client bundle, unzip it, and find the <strong>kube.yml</strong> file; that&#8217;s the one Lens needs.</span>\n\n<a href=\"https://www.mirantis.com/wp-content/uploads/2020/08/generate_client_bundle_ucp.png\"><img class=\"aligncenter size-full wp-image-673954\" src=\"https://www.mirantis.com/wp-content/uploads/2020/08/generate_client_bundle_ucp.png\" alt=\"\" width=\"1851\" height=\"941\" srcset=\"https://www.mirantis.com/wp-content/uploads/2020/08/generate_client_bundle_ucp.png 1851w, https://www.mirantis.com/wp-content/uploads/2020/08/generate_client_bundle_ucp-300x153.png 300w, https://www.mirantis.com/wp-content/uploads/2020/08/generate_client_bundle_ucp-768x390.png 768w, https://www.mirantis.com/wp-content/uploads/2020/08/generate_client_bundle_ucp-1024x521.png 1024w\" sizes=\"(max-width: 1851px) 100vw, 1851px\" /></a>\n\n<span style=\"font-weight: 400;\">Before manually adding the cluster, it makes sense to use <strong>kubectl</strong> to make sure the config is working and you can reach the cluster. For Docker Enterprise, this is easy &#8212; just source the <strong>env.sh</strong> from the client bundle, to authenticate:</span>\n<pre><span style=\"font-weight: 400;\">source env.sh</span></pre>\n<span style=\"font-weight: 400;\">Then run any <strong>kubectl</strong> command, such as:</span>\n<pre><span style=\"font-weight: 400;\">kubectl get pods --all-namespaces</span></pre>\n<span style=\"font-weight: 400;\">You can then list and copy the <strong>kube.yml</strong>. In Lens, click on <strong>Custom</strong> in the <strong>kubeconfig</strong> pick list, then just paste the YAML into the window and click <strong>Add Cluster</strong>.</span>\n\n<a href=\"https://www.mirantis.com/wp-content/uploads/2020/08/add_custom_cluster_lens.gif\"><img class=\"aligncenter size-full wp-image-673955\" src=\"https://www.mirantis.com/wp-content/uploads/2020/08/add_custom_cluster_lens.gif\" alt=\"\" width=\"1439\" height=\"929\" /></a>\n\n<span style=\"font-weight: 400;\">In moments, Lens will populate its context, add your cluster, and show its details in the main window. The only thing you won&#8217;t see, at first, is cluster metrics, which is the next thing we&#8217;ll set up.</span>\n<h3><span style=\"font-weight: 400;\">Enabling Lens metrics</span></h3>\n<span style=\"font-weight: 400;\">Lens can run a small Prometheus instance in your cluster, giving you metrics for nodes visible to you according to RBAC permissions on your account. Admins, of course, will be able to see metrics for everything.</span>\n\n<span style=\"font-weight: 400;\">(If you&#8217;re already running Prometheus, you can export metrics from this instance to Lens; full instructions are accessible from within the application.)</span>\n\n<span style=\"font-weight: 400;\">To set up the internal Prometheus instance, right click on the cluster icon in Lens&#8217; left-hand menu and select <strong>Settings,</strong> then scroll down to where it says <strong>Prometheus</strong> to connect an existing Prometheus instance, or a little further, under <strong>Features/Metrics</strong>, where you can just click <strong>Install</strong> to have Lens create an instance for you.</span>\n\n<span style=\"font-weight: 400;\">Either way, Lens connects to your Prometheus, and cluster metrics automagically appear on your cluster dashboard.</span>\n\n<a href=\"https://www.mirantis.com/wp-content/uploads/2020/08/lens_metrics.png\"><img class=\"aligncenter size-full wp-image-673957\" src=\"https://www.mirantis.com/wp-content/uploads/2020/08/lens_metrics.png\" alt=\"\" width=\"1453\" height=\"929\" srcset=\"https://www.mirantis.com/wp-content/uploads/2020/08/lens_metrics.png 1453w, https://www.mirantis.com/wp-content/uploads/2020/08/lens_metrics-300x192.png 300w, https://www.mirantis.com/wp-content/uploads/2020/08/lens_metrics-768x491.png 768w, https://www.mirantis.com/wp-content/uploads/2020/08/lens_metrics-1024x655.png 1024w\" sizes=\"(max-width: 1453px) 100vw, 1453px\" /></a>\n<h3><span style=\"font-weight: 400;\">Basic LensOps</span></h3>\n<span style=\"font-weight: 400;\">Lens makes all the objects and abstractions in each cluster instantly accessible to you. Take a look at the left-hand menu, and try clicking on <strong>Workloads</strong>. You get a highly browsable submenu (and an alternative, tabbed display) of everything, including handy, color-coded summary graphics that will clue you to any issues.</span>\n\n<a href=\"https://www.mirantis.com/wp-content/uploads/2020/08/lens_sees_everything.png\"><img class=\"aligncenter size-full wp-image-673958\" src=\"https://www.mirantis.com/wp-content/uploads/2020/08/lens_sees_everything.png\" alt=\"\" width=\"1441\" height=\"923\" srcset=\"https://www.mirantis.com/wp-content/uploads/2020/08/lens_sees_everything.png 1441w, https://www.mirantis.com/wp-content/uploads/2020/08/lens_sees_everything-300x192.png 300w, https://www.mirantis.com/wp-content/uploads/2020/08/lens_sees_everything-768x492.png 768w, https://www.mirantis.com/wp-content/uploads/2020/08/lens_sees_everything-1024x656.png 1024w\" sizes=\"(max-width: 1441px) 100vw, 1441px\" /></a>\n\n<span style=\"font-weight: 400;\">Drill down anywhere, right-click on the submenu associated with any line-item, and you can edit its YAML in Lens&#8217; built-in editor, then <strong>Save</strong> to reapply it. Devs working with private clusters can quickly iterate live changes and check results. Drilling in further, Lens lets you access terminals inside running containers, and retrieves container and pod logs directly, with one click, for easy review.</span>\n\n<span style=\"font-weight: 400;\">If you&#8217;re working on a more infra-as-code basis, Lens also lets you open any number of terminals, letting you quickly browse a local repo for files you need, for example, then push changes to git, issue docker commands, or pop files into VScode or ATOM (or whatever IDE or editor you prefer) for editing, versioning, and careful reapplication.</span>\n<h3><span style=\"font-weight: 400;\">Where to go from here</span></h3>\n<span style=\"font-weight: 400;\">The best place to go for inspiration on more advanced use of Lens is the community slack channel (</span><a href=\"https://k8slens.slack.com\"><span style=\"font-weight: 400;\">https://k8slens.slack.com</span></a><span style=\"font-weight: 400;\">), a link to which is provided in the About menu in Lens itself.</span>\n\n<span style=\"font-weight: 400;\">Please try Lens, let us know what you think, and what you&#8217;d like to see covered in upcoming Lens tutorials. We&#8217;re here for you!</span><p>The post <a rel=\"nofollow\" href=\"https://www.mirantis.com/blog/getting-started-with-lens/\">Getting started with Lens</a> appeared first on <a rel=\"nofollow\" href=\"https://www.mirantis.com\">Mirantis | Pure Play Open Cloud</a>.</p>\n","descriptionType":"html","publishedDate":"Thu, 13 Aug 2020 16:00:45 +0000","feedId":45977,"bgimg":"https://www.mirantis.com/wp-content/uploads/2020/08/add_cluster.png","linkMd5":"6a88a44f9256a1c2f6f97bf9bb7938a9","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn28@2020_2/2020/10/19/03-45-20-066_1a258c801df0b322.webp","destWidth":1921,"destHeight":777,"sourceBytes":82604,"destBytes":88008,"author":"Nick Chase","articleImgCdnMap":{"https://www.mirantis.com/wp-content/uploads/2020/08/add_cluster.png":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn28@2020_2/2020/10/19/03-45-20-066_1a258c801df0b322.webp","https://www.mirantis.com/wp-content/uploads/2020/08/generate_client_bundle_ucp.png":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn39@2020_5/2020/10/19/03-45-22-433_8871a42e15d9e9d7.webp","https://www.mirantis.com/wp-content/uploads/2020/08/add_custom_cluster_lens.gif":null,"https://www.mirantis.com/wp-content/uploads/2020/08/lens_metrics.png":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn36@2020_1/2020/10/19/03-45-21-842_26cef64da63cf2f4.webp","https://www.mirantis.com/wp-content/uploads/2020/08/lens_sees_everything.png":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn32@2020_3/2020/10/19/03-45-23-845_920ede0d63dac906.webp"},"publishedOrCreatedDate":1603079119238}],"record":{"createdTime":"2020-10-19 11:45:19","updatedTime":"2020-10-19 11:45:19","feedId":45977,"fetchDate":"Mon, 19 Oct 2020 03:45:19 +0000","fetchMs":114,"handleMs":9,"totalMs":124679,"newArticles":0,"totalArticles":10,"status":1,"type":0,"ip":"d01126ad4678a8e169f9117eff8589f2","hostName":"us-004*","requestId":"95a8fa9c6dde47fab402b4c12ed52c84_45977","contentType":"application/rss+xml; charset=UTF-8","totalBytes":226172,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":5,"articlesImgsGithubTotal":4,"successGithubMap":{"myreaderx3":1,"myreaderx24":1,"myreaderx5oss":1,"myreaderx18":1},"failGithubMap":{}},"feed":{"createdTime":"2020-09-07 03:40:09","updatedTime":"2020-09-07 05:58:19","id":45977,"name":"Mirantis | Pure Play Open Cloud","url":"http://www.mirantis.com/feed/","subscriber":69,"website":null,"icon":"https://www.mirantis.com/apple-touch-icon.png","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx64/cdn9@2020_3/2020/09/06/21-58-18-860_4cbcfd9c76765cd3.png","description":"Pure Play Open Cloud","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2020-10-19 11:47:23","updatedTime":"2020-10-19 11:47:23","id":null,"feedId":45977,"linkMd5":"6a88a44f9256a1c2f6f97bf9bb7938a9"}],"tmpCommonImgCdnBytes":88008,"tmpBodyImgCdnBytes":138164,"tmpBgImgCdnBytes":0,"extra4":{"start":1603079119106,"total":0,"statList":[{"spend":123,"msg":"获取xml内容"},{"spend":9,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":122095,"msg":"正文链接上传到cdn"}]},"extra5":5,"extra6":4,"extra7ImgCdnFailResultVector":[null,null],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://europe-23.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-035.herokuapp.com/":{"failCount":1,"successCount":1,"resultList":[200,null]},"http://europe-22.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-023.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://www.mirantis.com/wp-content/uploads/2020/08/add_cluster.png","sourceStatusCode":200,"destWidth":1921,"destHeight":777,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx5oss/cdn28@2020_2/2020/10/19/03-45-20-066_1a258c801df0b322.webp","sourceBytes":82604,"destBytes":88008,"targetWebpQuality":75,"feedId":45977,"totalSpendMs":2298,"convertSpendMs":42,"createdTime":"2020-10-19 11:45:19","host":"europe-57*","referer":"https://www.mirantis.com/?p=673952","linkMd5ListStr":"6a88a44f9256a1c2f6f97bf9bb7938a9,6a88a44f9256a1c2f6f97bf9bb7938a9","githubUser":"myreaderx5oss","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"85.9 KB","compressRate":"106.5%","sourceSize":"80.7 KB"},{"code":1,"isDone":false,"source":"https://www.mirantis.com/wp-content/uploads/2020/08/lens_metrics.png","sourceStatusCode":200,"destWidth":1453,"destHeight":929,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn36@2020_1/2020/10/19/03-45-21-842_26cef64da63cf2f4.webp","sourceBytes":37487,"destBytes":38408,"targetWebpQuality":75,"feedId":45977,"totalSpendMs":1026,"convertSpendMs":53,"createdTime":"2020-10-19 11:45:21","host":"us-023*","referer":"https://www.mirantis.com/?p=673952","linkMd5ListStr":"6a88a44f9256a1c2f6f97bf9bb7938a9","githubUser":"myreaderx3","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"37.5 KB","compressRate":"102.5%","sourceSize":"36.6 KB"},{"code":1,"isDone":false,"source":"https://www.mirantis.com/wp-content/uploads/2020/08/generate_client_bundle_ucp.png","sourceStatusCode":200,"destWidth":1851,"destHeight":941,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn39@2020_5/2020/10/19/03-45-22-433_8871a42e15d9e9d7.webp","sourceBytes":25365,"destBytes":37564,"targetWebpQuality":75,"feedId":45977,"totalSpendMs":1879,"convertSpendMs":59,"createdTime":"2020-10-19 11:45:21","host":"europe-22*","referer":"https://www.mirantis.com/?p=673952","linkMd5ListStr":"6a88a44f9256a1c2f6f97bf9bb7938a9","githubUser":"myreaderx18","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"36.7 KB","compressRate":"148.1%","sourceSize":"24.8 KB"},{"code":1,"isDone":false,"source":"https://www.mirantis.com/wp-content/uploads/2020/08/lens_sees_everything.png","sourceStatusCode":200,"destWidth":1441,"destHeight":923,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn32@2020_3/2020/10/19/03-45-23-845_920ede0d63dac906.webp","sourceBytes":53829,"destBytes":62192,"targetWebpQuality":75,"feedId":45977,"totalSpendMs":1052,"convertSpendMs":52,"createdTime":"2020-10-19 11:45:23","host":"us-035*","referer":"https://www.mirantis.com/?p=673952","linkMd5ListStr":"6a88a44f9256a1c2f6f97bf9bb7938a9","githubUser":"myreaderx24","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"60.7 KB","compressRate":"115.5%","sourceSize":"52.6 KB"}],"successGithubMap":{"myreaderx3":1,"myreaderx24":1,"myreaderx5oss":1,"myreaderx18":1},"failGithubMap":{}}