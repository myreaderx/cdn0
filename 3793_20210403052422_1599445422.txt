{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2021-04-03 13:23:55","updatedTime":"2021-04-03 13:23:55","title":"Constructing Transformers For Longer Sequences with Sparse Attention Methods","link":"http://feedproxy.google.com/~r/blogspot/gJZg/~3/tKWDvZF4Xbo/constructing-transformers-for-longer.html","description":"<span class=\"byline-author\">Posted by Avinava Dubey, Research Scientist, Google Research</span> <p><a href=\"https://en.wikipedia.org/wiki/Natural_language_processing\">Natural language processing</a> (NLP) models based on <a href=\"https://ai.googleblog.com/2017/08/transformer-novel-neural-network.html\">Transformers</a>, such as <a href=\"https://ai.googleblog.com/2018/11/open-sourcing-bert-state-of-art-pre.html\">BERT</a>, <a href=\"https://arxiv.org/pdf/1907.11692\">RoBERTa</a>, <a href=\"https://ai.googleblog.com/2020/02/exploring-transfer-learning-with-t5.html\">T5</a>, or <a href=\"https://arxiv.org/abs/2005.14165\">GPT3</a>, are successful for a wide variety of tasks and a mainstay of modern NLP research. The versatility and robustness of Transformers are the primary drivers behind their wide-scale adoption, leading them to be easily adapted for a diverse range of sequence-based tasks — as a <a href=\"https://en.wikipedia.org/wiki/Seq2seq\">seq2seq</a> model for <a href=\"https://ai.googleblog.com/2019/10/exploring-massively-multilingual.html\">translation</a>, <a href=\"https://arxiv.org/pdf/1906.04165\">summarization</a>, <a href=\"https://arxiv.org/pdf/1911.03829\">generation</a>, and others, or as a standalone encoder for <a href=\"https://arxiv.org/pdf/1903.09588\">sentiment analysis</a>, <a href=\"https://arxiv.org/pdf/1911.03894\">POS tagging</a>, <a href=\"https://arxiv.org/pdf/1908.08167\">machine reading comprehension</a>, etc.  The key innovation in Transformers is the introduction of a self-attention mechanism, which computes similarity scores for all pairs of positions in an input sequence, and can be evaluated in parallel for each token of the input sequence, avoiding the sequential dependency of recurrent neural networks, and enabling Transformers to vastly outperform previous sequence models like <a href=\"http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.676.4320&amp;rep=rep1&amp;type=pdf\">LSTM</a>. </p><p>A limitation of existing Transformer models and their derivatives, however, is that the full <a href=\"https://lilianweng.github.io/lil-log/2018/06/24/attention-attention.html\">self-attention mechanism</a> has computational and memory requirements that are quadratic with the input sequence length. With commonly available current hardware and model sizes, this typically limits the input sequence to roughly 512 tokens, and prevents Transformers from being directly applicable to tasks that require larger context, like <a href=\"http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.90.7842&amp;rep=rep1&amp;type=pdf\">question answering</a>, <a href=\"https://arxiv.org/pdf/1804.05685\">document summarization</a> or <a href=\"https://www.biorxiv.org/content/10.1101/353474v3.full\">genome fragment classification</a>. Two natural questions arise: 1) Can we achieve the empirical benefits of quadratic full Transformers using sparse models with computational and memory requirements that scale linearly with the input sequence length? 2) Is it possible to show theoretically that these linear Transformers preserve the expressivity and flexibility of the quadratic full Transformers? </p><p>We address both of these questions in a recent pair of papers. In “<a href=\"https://arxiv.org/abs/2004.08483\">ETC: Encoding Long and Structured Inputs in Transformers</a>”, presented at <a href=\"https://2020.emnlp.org/\">EMNLP 2020</a>, we present the Extended Transformer Construction (ETC), which is a novel method for sparse attention, in which one uses structural information to limit the number of computed pairs of similarity scores. This reduces the quadratic dependency on input length to linear and yields strong empirical results in the NLP domain. Then, in “<a href=\"https://arxiv.org/abs/2007.14062\">Big Bird: Transformers for Longer Sequences</a>”, presented at <a href=\"https://nips.cc/Conferences/2020\">NeurIPS 2020</a>, we introduce another sparse attention method, called  BigBird that extends ETC to more generic scenarios where prerequisite domain knowledge about structure present in the source data may be unavailable. Moreover, we also show that theoretically our proposed sparse attention mechanism preserves the expressivity and flexibility of the quadratic full Transformers. Our proposed methods achieve a new state of the art on challenging long-sequence tasks, including <a href=\"https://en.wikipedia.org/wiki/Question_answering\">question answering</a>, <a href=\"https://en.wikipedia.org/wiki/Automatic_summarization\">document summarization</a> and <a href=\"https://www.biorxiv.org/content/10.1101/353474v3.full\">genome fragment classification</a>. </p><p><b>Attention as a Graph</b><br />The attention module used in Transformer models computes similarity scores for all pairs of positions in an input sequence. It is useful to think of the attention mechanism as a directed <a href=\"https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)\">graph</a>, with tokens represented by nodes and the similarity score computed between a pair of tokens represented by an edge. In this view, the full attention model is a <a href=\"https://en.wikipedia.org/wiki/Complete_graph\">complete graph</a>. The core idea behind our approach is to carefully design sparse graphs, such that one only computes a linear number of similarity scores.  </p> <table align=\"center\" cellpadding=\"0\" cellspacing=\"0\" class=\"tr-caption-container\" style=\"margin-left: auto; margin-right: auto;\"><tbody><tr><td style=\"text-align: center;\"><a href=\"https://1.bp.blogspot.com/-14Q0jUR7WJs/YFzbcnN5uAI/AAAAAAAAHW4/xeHY7wzVqWgl_CUzpz1nGLn1M8AscdyXgCLcBGAsYHQ/s1999/image5.png\" style=\"margin-left: auto; margin-right: auto;\"><img border=\"0\" data-original-height=\"766\" data-original-width=\"1999\" height=\"246\" src=\"https://1.bp.blogspot.com/-14Q0jUR7WJs/YFzbcnN5uAI/AAAAAAAAHW4/xeHY7wzVqWgl_CUzpz1nGLn1M8AscdyXgCLcBGAsYHQ/w640-h246/image5.png\" width=\"640\" /></a></td></tr><tr><td class=\"tr-caption\" style=\"text-align: center;\">Full attention can be viewed as a complete graph.</td></tr></tbody></table> <p><b>Extended Transformer Construction (ETC)</b><br />On NLP tasks that require long and structured inputs, we propose a structured sparse attention mechanism, which we call <a href=\"https://arxiv.org/abs/2004.08483\">Extended Transformer Construction</a> (ETC). To achieve structured sparsification of self attention, we developed the <em>global-local attention </em>mechanism. Here the input to the Transformer is split into two parts: a <em>global input</em> where tokens have unrestricted attention, and a <em>long input</em> where tokens can only attend to either the global input or to a local neighborhood. This achieves linear scaling of attention, which allows ETC to significantly scale input length. </p><p>In order to further exploit the structure of long documents, ETC combines additional ideas: representing the positional information of the tokens in a <a href=\"https://arxiv.org/abs/1803.02155\">relative way</a>, rather than using their absolute position in the sequence; using an additional training objective beyond the usual <a href=\"https://ai.googleblog.com/2018/11/open-sourcing-bert-state-of-art-pre.html\">masked language model (MLM) used in models like BERT</a>; and flexible masking of tokens to control which tokens can attend to which other tokens. For example, given a long selection of text, a global token is applied to each sentence, which connects to all tokens within the sentence, and a global token is also applied to each paragraph, which connects to all tokens within the same paragraph. </p> <table align=\"center\" cellpadding=\"0\" cellspacing=\"0\" class=\"tr-caption-container\" style=\"margin-left: auto; margin-right: auto;\"><tbody><tr><td style=\"text-align: center;\"><a href=\"https://1.bp.blogspot.com/-Byc8ml0X7E8/YFzbxUfSSpI/AAAAAAAAHXA/YOjKMYV2eN83QcsqOxMZi8DupgdlEkGmwCLcBGAsYHQ/s1280/image2.gif\" style=\"margin-left: auto; margin-right: auto;\"><img border=\"0\" data-original-height=\"720\" data-original-width=\"1280\" height=\"360\" src=\"https://1.bp.blogspot.com/-Byc8ml0X7E8/YFzbxUfSSpI/AAAAAAAAHXA/YOjKMYV2eN83QcsqOxMZi8DupgdlEkGmwCLcBGAsYHQ/w640-h360/image2.gif\" width=\"640\" /></a></td></tr><tr><td class=\"tr-caption\" style=\"text-align: center;\">An example of document structure based sparse attention of ETC model. The global variables are denoted by C (in blue) for paragraph, S (yellow) for sentence while the local variables are denoted by X (grey) for tokens corresponding to the long input.</td></tr></tbody></table> <p>With this approach, we report state-of-the-art results in five challenging NLP datasets requiring long or structured inputs: <a href=\"https://nlp.cs.washington.edu/triviaqa/\">TriviaQA</a>, <em><a href=\"https://www.mitpressjournals.org/doi/full/10.1162/tacl_a_00276\">Natural Questions (NQ)</a></em>, <em><a href=\"https://arxiv.org/pdf/1809.09600\">HotpotQA</a></em>, <em><a href=\"https://www.mitpressjournals.org/doi/pdf/10.1162/tacl_a_00021\">WikiHop</a></em>, and <em><a href=\"https://arxiv.org/pdf/1911.02671\">OpenKP</a></em>. </p> <table align=\"center\" cellpadding=\"0\" cellspacing=\"0\" class=\"tr-caption-container\" style=\"margin-left: auto; margin-right: auto;\"><tbody><tr><td style=\"text-align: center;\"><a href=\"https://1.bp.blogspot.com/-yJYUlHCk4dU/YFzn_dm31SI/AAAAAAAAHXs/73zBpgAJE_AJxk2bkPRZefKRjuPRjlKwACLcBGAsYHQ/s600/image6.jpg\" style=\"margin-left: auto; margin-right: auto;\"><img border=\"0\" data-original-height=\"450\" data-original-width=\"600\" height=\"240\" src=\"https://1.bp.blogspot.com/-yJYUlHCk4dU/YFzn_dm31SI/AAAAAAAAHXs/73zBpgAJE_AJxk2bkPRZefKRjuPRjlKwACLcBGAsYHQ/w320-h240/image6.jpg\" width=\"320\" /></a></td></tr><tr><td class=\"tr-caption\" style=\"text-align: center;\">Test set <a href=\"https://en.wikipedia.org/wiki/F-score\">result</a> on Question Answering. For both verified TriviaQA and WikiHop, using ETC achieved a new state of the art.</td></tr></tbody></table> <p><b>BigBird</b><br />Extending the work of ETC,  we propose <a href=\"https://arxiv.org/abs/2007.14062\">BigBird</a> — a sparse attention mechanism that is also linear in the number of tokens and is a generic replacement for the attention mechanism used in Transformers. In contrast to ETC, BigBird doesn’t require any prerequisite knowledge about structure present in the source data. Sparse attention in the BigBird model consists of three main parts: </p><ul> <li>A set of global tokens attending to all parts of the input sequence  </li><li>All tokens attending to a set of local neighboring tokens  </li><li>All tokens attending to a set of random tokens </li></ul> <table align=\"center\" cellpadding=\"0\" cellspacing=\"0\" class=\"tr-caption-container\" style=\"margin-left: auto; margin-right: auto;\"><tbody><tr><td style=\"text-align: center;\"><a href=\"https://1.bp.blogspot.com/-a3OytXXOIQk/YFzckMQ-5TI/AAAAAAAAHXQ/nC_okT-GGCg2Rkhy4jIqh_csvUNd-NjYQCLcBGAsYHQ/s1999/image4.png\" style=\"margin-left: auto; margin-right: auto;\"><img border=\"0\" data-original-height=\"867\" data-original-width=\"1999\" height=\"278\" src=\"https://1.bp.blogspot.com/-a3OytXXOIQk/YFzckMQ-5TI/AAAAAAAAHXQ/nC_okT-GGCg2Rkhy4jIqh_csvUNd-NjYQCLcBGAsYHQ/w640-h278/image4.png\" width=\"640\" /></a></td></tr><tr><td class=\"tr-caption\" style=\"text-align: center;\">BigBird sparse attention can be seen as adding few global tokens on <a href=\"https://en.wikipedia.org/wiki/Watts%E2%80%93Strogatz_model\">Watts-Strogatz graph</a>.</td></tr></tbody></table> <p>In the <a href=\"https://arxiv.org/abs/2007.14062\">BigBird paper</a>, we explain why sparse attention is sufficient to approximate quadratic attention, partially explaining why ETC was successful. A crucial observation is that there is an inherent tension between how few similarity scores one computes and the flow of information between different nodes (i.e., the ability of one token to influence each other). Global tokens serve as a conduit for information flow and we prove that sparse attention mechanisms with global tokens can be as powerful as the full attention model. In particular, we show that BigBird is as expressive as the original Transformer, is <a href=\"https://en.wikipedia.org/wiki/Turing_completeness\">computationally universal</a> (following the work of <a href=\"https://arxiv.org/pdf/1912.10077\">Yun et al.</a> and <a href=\"https://arxiv.org/pdf/1901.03429\">Perez et al.</a>), and is a <a href=\"https://en.wikipedia.org/wiki/Universal_approximation_theorem\">universal approximator</a> of continuous functions. Furthermore, our proof suggests that the use of random graphs can further help ease the flow of information — motivating the use of the random attention component. </p><p>This design scales to much longer sequence lengths for both structured and unstructured tasks. Further scaling can be achieved by using <a href=\"https://arxiv.org/abs/1604.06174\">gradient checkpointing</a> by trading off training time for sequence length. This lets us extend our efficient sparse transformers to include generative tasks that require an encoder and a decoder, such as long document summarization, on which we achieve a new state of the art.</p> <table align=\"center\" cellpadding=\"0\" cellspacing=\"0\" class=\"tr-caption-container\" style=\"margin-left: auto; margin-right: auto;\"><tbody><tr><td style=\"text-align: center;\"><a href=\"https://1.bp.blogspot.com/-OhCeqryWQN4/YFzpjTviyxI/AAAAAAAAHYE/wP7TM7GAxsMxx1AAJXFWybW5u54Yhb1vwCLcBGAsYHQ/s600/image7.jpg\" imageanchor=\"1\" style=\"margin-left: auto; margin-right: auto;\"><img border=\"0\" data-original-height=\"450\" data-original-width=\"600\" src=\"https://1.bp.blogspot.com/-OhCeqryWQN4/YFzpjTviyxI/AAAAAAAAHYE/wP7TM7GAxsMxx1AAJXFWybW5u54Yhb1vwCLcBGAsYHQ/s320/image7.jpg\" width=\"320\" /></a></td></tr><tr><td class=\"tr-caption\" style=\"text-align: center;\">Summarization <a href=\"https://en.wikipedia.org/wiki/ROUGE_(metric)\">ROUGE</a> score for long documents. Both for <a href=\"https://arxiv.org/abs/1906.03741\">BigPatent</a> and <a href=\"https://arxiv.org/abs/1804.05685\">ArXiv</a> datasets, we achieve a new state of the art result.</td></tr></tbody></table> <p>Moreover, the fact that BigBird is a generic replacement also allows it to be extended to new domains without pre-existing domain knowledge. In particular, we introduce a novel application of Transformer-based models where long contexts are beneficial — extracting contextual representations of genomic sequences (DNA). With longer masked language model pre-training, BigBird achieves state-of-the-art performance on downstream tasks, such as <a href=\"https://www.frontiersin.org/articles/10.3389/fgene.2019.00286/full\">promoter-region prediction</a> and <a href=\"https://www.nature.com/articles/nmeth.3547\">chromatin profile prediction</a>.</p> <table align=\"center\" cellpadding=\"0\" cellspacing=\"0\" class=\"tr-caption-container\" style=\"margin-left: auto; margin-right: auto;\"><tbody><tr><td style=\"text-align: center;\"><a href=\"https://1.bp.blogspot.com/-ihW98UoJP1g/YFzc9pHoqWI/AAAAAAAAHXc/u2YzgB1idSEKTQ_p1Q6XfFIpWgPkjwfuwCLcBGAsYHQ/s750/image1.jpg\" style=\"margin-left: auto; margin-right: auto;\"><img border=\"0\" data-original-height=\"450\" data-original-width=\"750\" height=\"240\" src=\"https://1.bp.blogspot.com/-ihW98UoJP1g/YFzc9pHoqWI/AAAAAAAAHXc/u2YzgB1idSEKTQ_p1Q6XfFIpWgPkjwfuwCLcBGAsYHQ/w400-h240/image1.jpg\" width=\"400\" /></a></td></tr><tr><td class=\"tr-caption\" style=\"text-align: center;\">On multiple genomics tasks, such as promoter region prediction (PRP), <a href=\"https://www.nature.com/articles/nmeth.3547\">chromatin-profile prediction including transcription factors (TF), histone-mark (HM) and  DNase I hypersensitive (DHS)</a> detection, we outperform baselines. Moreover our results show that Transformer models can be applied to multiple genomics tasks that are currently underexplored.</td></tr></tbody></table> <p><b>Main Implementation Idea</b><br />One of the main impediments to the large scale adoption of sparse attention is the fact that sparse operations are quite inefficient in modern hardware. Behind both ETC and BigBird, one of our key innovations is to make an efficient implementation of the sparse attention mechanism. As modern hardware accelerators like GPUs and TPUs excel using coalesced memory operations, which load blocks of contiguous bytes at once, it is not efficient to have small sporadic look-ups caused by a sliding window (for local attention) or random element queries (random attention). Instead we transform the sparse local and random attention into dense tensor operations to take full advantage of modern <a href=\"https://en.wikipedia.org/wiki/SIMD\">single instruction, multiple data</a> (SIMD) hardware.  </p><p>To do this, we first “blockify” the attention mechanism to better leverage GPUs/TPUs, which are designed to operate on blocks. Then we convert the sparse attention mechanism computation into a dense tensor product through a series of simple matrix operations such as reshape, roll, and gather, as illustrated in the animation below.  </p> <table align=\"center\" cellpadding=\"0\" cellspacing=\"0\" class=\"tr-caption-container\" style=\"margin-left: auto; margin-right: auto;\"><tbody><tr><td style=\"text-align: center;\"><a href=\"https://1.bp.blogspot.com/-TWivCEosIHM/YFzddBSXvCI/AAAAAAAAHXk/GZE_4ZOhNusaC-h-SAS944CK4YAc-jF3QCLcBGAsYHQ/s720/image3.gif\" style=\"margin-left: auto; margin-right: auto;\"><img border=\"0\" data-original-height=\"720\" data-original-width=\"720\" height=\"320\" src=\"https://1.bp.blogspot.com/-TWivCEosIHM/YFzddBSXvCI/AAAAAAAAHXk/GZE_4ZOhNusaC-h-SAS944CK4YAc-jF3QCLcBGAsYHQ/s320/image3.gif\" /></a></td></tr><tr><td class=\"tr-caption\" style=\"text-align: center;\">Illustration of how sparse window attention is efficiently computed using roll and reshape, and without small sporadic look-ups.</td></tr></tbody></table> <p>Recently, “<a href=\"https://arxiv.org/abs/2011.04006\">Long Range Arena: A Benchmark for Efficient Transformers</a>“ provided a benchmark of six tasks that require longer context, and performed experiments to benchmark all existing long range transformers. <a href=\"https://github.com/google-research/bigbird/blob/master/README.md#comparisons\">The results</a> show that the BigBird model, unlike its counterparts, clearly reduces memory consumption without sacrificing performance. </p><p><b>Conclusion</b><br />We show that carefully designed sparse attention can be as expressive and flexible as the original full attention model. Along with theoretical guarantees, we provide a very efficient implementation which allows us to scale to much longer inputs. As a consequence, we achieve state-of-the-art results for question answering, document summarization and genome fragment classification. Given the generic nature of our sparse attention, the approach should be applicable to many other tasks like <a href=\"https://blog.tensorflow.org/2020/08/introducing-tensorflow-coder-tool.html\">program synthesis</a> and <a href=\"https://ai.googleblog.com/2021/03/progress-and-challenges-in-long-form.html\">long form open domain question answering</a>. We have open sourced the code for both <a href=\"http://goo.gle/research-etc-model\">ETC (github)</a> and <a href=\"https://github.com/google-research/bigbird\">BigBird (github)</a>, both of which run efficiently for long sequences on both GPUs and TPUs.  </p><p><b>Acknowledgements</b><br /><em>This research resulted as a collaboration with Amr Ahmed, Joshua Ainslie, Chris Alberti, Vaclav Cvicek, Avinava Dubey, Zachary Fisher, Guru Guruganesh, Santiago Ontañón, Philip Pham, Anirudh Ravula, Sumit Sanghai, Qifan Wang, Li Yang, Manzil Zaheer, who co-authored EMNLP and NeurIPS papers.</em></p><div class=\"feedflare\">\n<a href=\"http://feeds.feedburner.com/~ff/blogspot/gJZg?a=tKWDvZF4Xbo:jdpHznfyM9o:yIl2AUoC8zA\"><img src=\"http://feeds.feedburner.com/~ff/blogspot/gJZg?d=yIl2AUoC8zA\" border=\"0\"></img></a>\n</div><img src=\"http://feeds.feedburner.com/~r/blogspot/gJZg/~4/tKWDvZF4Xbo\" height=\"1\" width=\"1\" alt=\"\"/>","descriptionType":"html","publishedDate":"Thu, 25 Mar 2021 19:57:00 +0000","feedId":3793,"bgimg":"https://1.bp.blogspot.com/-14Q0jUR7WJs/YFzbcnN5uAI/AAAAAAAAHW4/xeHY7wzVqWgl_CUzpz1nGLn1M8AscdyXgCLcBGAsYHQ/w640-h246/image5.png","linkMd5":"a33045739e82198e3c7900c11d369dd9","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn40@2020_5/2021/04/03/05-23-55-935_c836a652a96eba4e.webp","destWidth":640,"destHeight":245,"sourceBytes":72097,"destBytes":21702,"author":"Google AI","articleImgCdnMap":{"https://1.bp.blogspot.com/-14Q0jUR7WJs/YFzbcnN5uAI/AAAAAAAAHW4/xeHY7wzVqWgl_CUzpz1nGLn1M8AscdyXgCLcBGAsYHQ/w640-h246/image5.png":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn40@2020_5/2021/04/03/05-23-55-935_c836a652a96eba4e.webp","https://1.bp.blogspot.com/-Byc8ml0X7E8/YFzbxUfSSpI/AAAAAAAAHXA/YOjKMYV2eN83QcsqOxMZi8DupgdlEkGmwCLcBGAsYHQ/w640-h360/image2.gif":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn61@2020_6/2021/04/03/05-24-20-876_97369f92084995e2.webp","https://1.bp.blogspot.com/-yJYUlHCk4dU/YFzn_dm31SI/AAAAAAAAHXs/73zBpgAJE_AJxk2bkPRZefKRjuPRjlKwACLcBGAsYHQ/w320-h240/image6.jpg":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn60@2020_3/2021/04/03/05-23-56-334_0ff644edf3dd830b.webp","https://1.bp.blogspot.com/-a3OytXXOIQk/YFzckMQ-5TI/AAAAAAAAHXQ/nC_okT-GGCg2Rkhy4jIqh_csvUNd-NjYQCLcBGAsYHQ/w640-h278/image4.png":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn49@2020_5/2021/04/03/05-23-56-365_bcf4903619239e37.webp","https://1.bp.blogspot.com/-OhCeqryWQN4/YFzpjTviyxI/AAAAAAAAHYE/wP7TM7GAxsMxx1AAJXFWybW5u54Yhb1vwCLcBGAsYHQ/s320/image7.jpg":null,"https://1.bp.blogspot.com/-ihW98UoJP1g/YFzc9pHoqWI/AAAAAAAAHXc/u2YzgB1idSEKTQ_p1Q6XfFIpWgPkjwfuwCLcBGAsYHQ/w400-h240/image1.jpg":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn68@2020_5/2021/04/03/05-23-56-386_363f57b7df0ed01c.webp","https://1.bp.blogspot.com/-TWivCEosIHM/YFzddBSXvCI/AAAAAAAAHXk/GZE_4ZOhNusaC-h-SAS944CK4YAc-jF3QCLcBGAsYHQ/s320/image3.gif":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn46@2020_2/2021/04/03/05-24-11-627_d2ff4636dbfadb37.webp","http://feeds.feedburner.com/~ff/blogspot/gJZg?d=yIl2AUoC8zA":"https://cdn.jsdelivr.net/gh/myreaderx25/cdn44@2020_2/2021/04/03/05-23-56-360_483d6fcb94af4f84.webp","http://feeds.feedburner.com/~r/blogspot/gJZg/~4/tKWDvZF4Xbo":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn71@2020_4/2021/04/03/05-23-56-254_d9fc3eb7ba6d6dc0.webp"},"publishedOrCreatedDate":1617427435750}],"record":{"createdTime":"2021-04-03 13:23:55","updatedTime":"2021-04-03 13:23:55","feedId":3793,"fetchDate":"Sat, 03 Apr 2021 05:23:55 +0000","fetchMs":20,"handleMs":162,"totalMs":26418,"newArticles":0,"totalArticles":25,"status":1,"type":0,"ip":"ae93f9d1175534295e982219dea73fae","hostName":"us-012*","requestId":"fd5069e50fb64e338eb3eef7813e583f_3793","contentType":"text/xml; charset=UTF-8","totalBytes":5936750,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":9,"articlesImgsGithubTotal":8,"successGithubMap":{"myreaderx25":1,"myreaderx27":1,"myreaderx6":1,"myreaderx3":1,"myreaderx2":1,"myreaderx1":1,"myreaderx24":1,"myreaderx30":1},"failGithubMap":{"myreaderx14":1}},"feed":{"createdTime":"2020-08-25 04:29:31","updatedTime":"2020-09-01 10:35:46","id":3793,"name":"Google AI Blog","url":"http://feeds.feedburner.com/blogspot/gJZg","subscriber":null,"website":null,"icon":"http://ai.googleblog.com/favicon.ico","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx65/cdn63@2020_3/2020/09/01/02-35-46-379_40612c2a706c05a6.ico","description":"The latest news from Google AI.","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2021-04-03 13:24:21","updatedTime":"2021-04-03 13:24:21","id":null,"feedId":3793,"linkMd5":"a33045739e82198e3c7900c11d369dd9"}],"tmpCommonImgCdnBytes":21702,"tmpBodyImgCdnBytes":5915048,"tmpBgImgCdnBytes":0,"extra4":{"start":1617427435546,"total":0,"statList":[{"spend":42,"msg":"获取xml内容"},{"spend":163,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":1,"msg":"修正封面图上传失败重新上传"},{"spend":25749,"msg":"正文链接上传到cdn"}]},"extra5":9,"extra6":9,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"https://1.bp.blogspot.com/-OhCeqryWQN4/YFzpjTviyxI/AAAAAAAAHYE/wP7TM7GAxsMxx1AAJXFWybW5u54Yhb1vwCLcBGAsYHQ/s320/image7.jpg","sourceStatusCode":200,"destWidth":320,"destHeight":240,"sourceBytes":12355,"destBytes":5526,"targetWebpQuality":75,"feedId":3793,"totalSpendMs":67,"convertSpendMs":11,"createdTime":"2021-04-03 13:23:56","host":"us-019*","referer":"http://feedproxy.google.com/~r/blogspot/gJZg/~3/tKWDvZF4Xbo/constructing-transformers-for-longer.html","linkMd5ListStr":"a33045739e82198e3c7900c11d369dd9","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn55/contents/2021/04/03/05-23-56-279_9cc1a101f8417ea8.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Sat, 03 Apr 2021 05:23:56 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["9726:779C:1326E32:2026A62:6067FBEC"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1617428942"],"x-ratelimit-used":["67"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn55/contents/2021/04/03/05-23-56-279_9cc1a101f8417ea8.webp","historyStatusCode":[],"spendMs":32},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"5.4 KB","compressRate":"44.7%","sourceSize":"12.1 KB"},{"code":1,"isDone":false,"source":"https://1.bp.blogspot.com/-OhCeqryWQN4/YFzpjTviyxI/AAAAAAAAHYE/wP7TM7GAxsMxx1AAJXFWybW5u54Yhb1vwCLcBGAsYHQ/s320/image7.jpg","sourceStatusCode":200,"destWidth":320,"destHeight":240,"sourceBytes":12355,"destBytes":5526,"targetWebpQuality":75,"feedId":3793,"totalSpendMs":93,"convertSpendMs":30,"createdTime":"2021-04-03 13:23:56","host":"us-019*","referer":"http://feedproxy.google.com/~r/blogspot/gJZg/~3/tKWDvZF4Xbo/constructing-transformers-for-longer.html","linkMd5ListStr":"a33045739e82198e3c7900c11d369dd9","rawMap":{"githubUrl":"https://api.github.com/repos/myreaderx14/cdn55/contents/2021/04/03/05-23-56-378_9cc1a101f8417ea8.webp","resp":{"code":403,"msg":"Forbidden","body":"{\n  \"message\": \"API rate limit exceeded for user ID 68584859.\",\n  \"documentation_url\": \"https://docs.github.com/rest/overview/resources-in-the-rest-api#rate-limiting\"\n}\n","headerMap":{"access-control-allow-origin":["*"],"access-control-expose-headers":["ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset"],"content-security-policy":["default-src 'none'"],"content-type":["application/json; charset=utf-8"],"date":["Sat, 03 Apr 2021 05:23:56 GMT"],"referrer-policy":["origin-when-cross-origin, strict-origin-when-cross-origin"],"server":["GitHub.com"],"strict-transport-security":["max-age=31536000; includeSubdomains; preload"],"transfer-encoding":["chunked"],"vary":["Accept-Encoding, Accept, X-Requested-With"],"x-accepted-oauth-scopes":["repo"],"x-content-type-options":["nosniff"],"x-frame-options":["deny"],"x-github-media-type":["github.v3; format=json"],"x-github-request-id":["9726:779C:1326E42:2026A7C:6067FBEC"],"x-oauth-scopes":["admin:enterprise, admin:gpg_key, admin:org, admin:org_hook, admin:public_key, admin:repo_hook, delete:packages, delete_repo, gist, notifications, repo, user, workflow, write:discussion, write:packages"],"x-ratelimit-limit":["60"],"x-ratelimit-remaining":["0"],"x-ratelimit-reset":["1617428942"],"x-ratelimit-used":["67"],"x-xss-protection":["0"]},"exceptionMsg":"Unexpected code 403,url is : https://api.github.com/repos/myreaderx14/cdn55/contents/2021/04/03/05-23-56-378_9cc1a101f8417ea8.webp","historyStatusCode":[],"spendMs":30},"base64UserPassword":null,"token":"6b67d******************************91b08"},"githubUser":"myreaderx14","githubHttpCode":403,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"5.4 KB","compressRate":"44.7%","sourceSize":"12.1 KB"}],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://europe69.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-031.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe68.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-019.herokuapp.com/":{"failCount":0,"successCount":2,"resultList":[200,200]},"http://europe-57.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-035.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-030.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-52.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://1.bp.blogspot.com/-14Q0jUR7WJs/YFzbcnN5uAI/AAAAAAAAHW4/xeHY7wzVqWgl_CUzpz1nGLn1M8AscdyXgCLcBGAsYHQ/w640-h246/image5.png","sourceStatusCode":200,"destWidth":640,"destHeight":245,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx27/cdn40@2020_5/2021/04/03/05-23-55-935_c836a652a96eba4e.webp","sourceBytes":72097,"destBytes":21702,"targetWebpQuality":75,"feedId":3793,"totalSpendMs":386,"convertSpendMs":35,"createdTime":"2021-04-03 13:23:55","host":"us-002*","referer":"http://feedproxy.google.com/~r/blogspot/gJZg/~3/tKWDvZF4Xbo/constructing-transformers-for-longer.html","linkMd5ListStr":"a33045739e82198e3c7900c11d369dd9,a33045739e82198e3c7900c11d369dd9","githubUser":"myreaderx27","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"21.2 KB","compressRate":"30.1%","sourceSize":"70.4 KB"},{"code":1,"isDone":false,"source":"http://feeds.feedburner.com/~r/blogspot/gJZg/~4/tKWDvZF4Xbo","sourceStatusCode":200,"destWidth":1,"destHeight":1,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx6/cdn71@2020_4/2021/04/03/05-23-56-254_d9fc3eb7ba6d6dc0.webp","sourceBytes":43,"destBytes":72,"targetWebpQuality":75,"feedId":3793,"totalSpendMs":355,"convertSpendMs":3,"createdTime":"2021-04-03 13:23:56","host":"us-035*","referer":"http://feedproxy.google.com/~r/blogspot/gJZg/~3/tKWDvZF4Xbo/constructing-transformers-for-longer.html","linkMd5ListStr":"a33045739e82198e3c7900c11d369dd9","githubUser":"myreaderx6","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"72 B","compressRate":"167.4%","sourceSize":"43 B"},{"code":1,"isDone":false,"source":"https://1.bp.blogspot.com/-a3OytXXOIQk/YFzckMQ-5TI/AAAAAAAAHXQ/nC_okT-GGCg2Rkhy4jIqh_csvUNd-NjYQCLcBGAsYHQ/w640-h278/image4.png","sourceStatusCode":200,"destWidth":640,"destHeight":278,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx30/cdn49@2020_5/2021/04/03/05-23-56-365_bcf4903619239e37.webp","sourceBytes":63332,"destBytes":21364,"targetWebpQuality":75,"feedId":3793,"totalSpendMs":529,"convertSpendMs":47,"createdTime":"2021-04-03 13:23:56","host":"us-030*","referer":"http://feedproxy.google.com/~r/blogspot/gJZg/~3/tKWDvZF4Xbo/constructing-transformers-for-longer.html","linkMd5ListStr":"a33045739e82198e3c7900c11d369dd9","githubUser":"myreaderx30","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"20.9 KB","compressRate":"33.7%","sourceSize":"61.8 KB"},{"code":1,"isDone":false,"source":"http://feeds.feedburner.com/~ff/blogspot/gJZg?d=yIl2AUoC8zA","sourceStatusCode":200,"destWidth":62,"destHeight":24,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx25/cdn44@2020_2/2021/04/03/05-23-56-360_483d6fcb94af4f84.webp","sourceBytes":997,"destBytes":310,"targetWebpQuality":75,"feedId":3793,"totalSpendMs":578,"convertSpendMs":22,"createdTime":"2021-04-03 13:23:56","host":"us-031*","referer":"http://feedproxy.google.com/~r/blogspot/gJZg/~3/tKWDvZF4Xbo/constructing-transformers-for-longer.html","linkMd5ListStr":"a33045739e82198e3c7900c11d369dd9","githubUser":"myreaderx25","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"310 B","compressRate":"31.1%","sourceSize":"997 B"},{"code":1,"isDone":false,"source":"https://1.bp.blogspot.com/-ihW98UoJP1g/YFzc9pHoqWI/AAAAAAAAHXc/u2YzgB1idSEKTQ_p1Q6XfFIpWgPkjwfuwCLcBGAsYHQ/w400-h240/image1.jpg","sourceStatusCode":200,"destWidth":400,"destHeight":240,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn68@2020_5/2021/04/03/05-23-56-386_363f57b7df0ed01c.webp","sourceBytes":14365,"destBytes":5576,"targetWebpQuality":75,"feedId":3793,"totalSpendMs":532,"convertSpendMs":9,"createdTime":"2021-04-03 13:23:56","host":"europe-57*","referer":"http://feedproxy.google.com/~r/blogspot/gJZg/~3/tKWDvZF4Xbo/constructing-transformers-for-longer.html","linkMd5ListStr":"a33045739e82198e3c7900c11d369dd9","githubUser":"myreaderx1","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"5.4 KB","compressRate":"38.8%","sourceSize":"14 KB"},{"code":1,"isDone":false,"source":"https://1.bp.blogspot.com/-yJYUlHCk4dU/YFzn_dm31SI/AAAAAAAAHXs/73zBpgAJE_AJxk2bkPRZefKRjuPRjlKwACLcBGAsYHQ/w320-h240/image6.jpg","sourceStatusCode":200,"destWidth":320,"destHeight":240,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx3/cdn60@2020_3/2021/04/03/05-23-56-334_0ff644edf3dd830b.webp","sourceBytes":12334,"destBytes":5856,"targetWebpQuality":75,"feedId":3793,"totalSpendMs":3566,"convertSpendMs":5,"createdTime":"2021-04-03 13:23:56","host":"europe68*","referer":"http://feedproxy.google.com/~r/blogspot/gJZg/~3/tKWDvZF4Xbo/constructing-transformers-for-longer.html","linkMd5ListStr":"a33045739e82198e3c7900c11d369dd9","githubUser":"myreaderx3","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"5.7 KB","compressRate":"47.5%","sourceSize":"12 KB"},{"code":1,"isDone":false,"source":"https://1.bp.blogspot.com/-TWivCEosIHM/YFzddBSXvCI/AAAAAAAAHXk/GZE_4ZOhNusaC-h-SAS944CK4YAc-jF3QCLcBGAsYHQ/s320/image3.gif","sourceStatusCode":200,"destWidth":320,"destHeight":320,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx24/cdn46@2020_2/2021/04/03/05-24-11-627_d2ff4636dbfadb37.webp","sourceBytes":5796644,"destBytes":2607438,"targetWebpQuality":67,"feedId":3793,"totalSpendMs":16272,"convertSpendMs":14742,"createdTime":"2021-04-03 13:23:56","host":"us-52*","referer":"http://feedproxy.google.com/~r/blogspot/gJZg/~3/tKWDvZF4Xbo/constructing-transformers-for-longer.html","linkMd5ListStr":"a33045739e82198e3c7900c11d369dd9","githubUser":"myreaderx24","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"2.5 MB","compressRate":"45%","sourceSize":"5.5 MB"},{"code":1,"isDone":false,"source":"https://1.bp.blogspot.com/-Byc8ml0X7E8/YFzbxUfSSpI/AAAAAAAAHXA/YOjKMYV2eN83QcsqOxMZi8DupgdlEkGmwCLcBGAsYHQ/w640-h360/image2.gif","sourceStatusCode":200,"destWidth":640,"destHeight":360,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx2/cdn61@2020_6/2021/04/03/05-24-20-876_97369f92084995e2.webp","sourceBytes":7636947,"destBytes":3274432,"targetWebpQuality":52,"feedId":3793,"totalSpendMs":25569,"convertSpendMs":13488,"createdTime":"2021-04-03 13:23:56","host":"europe69*","referer":"http://feedproxy.google.com/~r/blogspot/gJZg/~3/tKWDvZF4Xbo/constructing-transformers-for-longer.html","linkMd5ListStr":"a33045739e82198e3c7900c11d369dd9","githubUser":"myreaderx2","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"destSize":"3.1 MB","compressRate":"42.9%","sourceSize":"7.3 MB"}],"successGithubMap":{"myreaderx25":1,"myreaderx27":1,"myreaderx6":1,"myreaderx3":1,"myreaderx2":1,"myreaderx1":1,"myreaderx24":1,"myreaderx30":1},"failGithubMap":{"myreaderx14":1}}