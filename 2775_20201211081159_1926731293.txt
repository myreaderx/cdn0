{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-12-11 16:09:57","updatedTime":"2020-12-11 16:09:57","title":"纯 Dart 的挑战：美团外卖 Flutter 动态化实践","link":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E7%BA%AF%20Dart%20%E7%9A%84%E6%8C%91%E6%88%98%EF%BC%9A%E7%BE%8E%E5%9B%A2%E5%A4%96%E5%8D%96%20Flutter%20%E5%8A%A8%E6%80%81%E5%8C%96%E5%AE%9E%E8%B7%B5","description":"<div><div><div id=\"media\" class=\"rich_media_thumb_wrp\">\n\n            <img class=\"rich_media_thumb\" src=\"http://content.sov5.cn/mmbiz_jpg/XIibZ0YbvibkWmxSAF6ZyByedwic1pC1oP5XkeNuGibWjcdewxRz9cClQtM46OU8jAZqf37b6IR3DYWXDRSe96RYOQ?imageView2/1/w/600\">\n        </div>\n    \n\n    \n\n    <div class=\"rich_media_content\" id=\"js_content\">\n                    \n\n                    \n\n                    \n                    \n                    <section style=\"color: rgb(63, 63, 63);font-size: 16px;font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;\" data-mpa-powered-by=\"yiban.io\"><section style=\"text-align: left;\">\n\t\t<img data-ratio=\"0.5625\" data-type=\"jpeg\" data-w=\"1920\" style=\"width: 100%; border-radius: 4px; margin-bottom: 25px; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/XIibZ0YbvibkWmxSAF6ZyByedwic1pC1oP5ksXicXOguoRoT2t9RnRjUP1R7ic8iaVcbS20y1j8ib5tN5btdic96tX65xg/640?wx_fmt=jpeg\">\n\t</section><section style=\"font-size: 14px;color: rgb(145, 145, 145);text-align: left;line-height: 1em;margin-top: 13px;padding-left: 14px;\">\n\t\t作者 | 李俊辰\t</section><section style=\"font-size: 14px;color: rgb(145, 145, 145);text-align: left;line-height: 1em;margin-top: 13px;padding-left: 14px;\">\n\t\t采访嘉宾 | 董尚先\t</section><section style=\"font-size: 15px;line-height: 27px;color: rgb(89, 89, 89);background-color: rgb(239, 239, 239);padding: 19px;margin-top: 40px;margin-right: 8px;margin-left: 8px;\">\n\t\t“一套代码，多端运行”是很多开发团队的梦想，直到 2018 年 12 月 5 日，谷歌正式发布 Flutter 1.0 版本，前端开发者向这一梦想前进了一大步。Flutter 仅用了不到一年的时间就在 GitHub 和 StackOverflow 上获得了比 React Native 更高的知名度。Flutter 提供了一整套从底层渲染逻辑到上层开发语言的完整方案，有跨平台、高保真、高性能等优点。也正因为这些革命性的优点，从发布到现在，它的热度一路攀升，受到了很多开发者的热切青睐。目前各大公司的 Flutter 落地实现各有不同，此次 InfoQ 记者采访到了美团外卖的技术专家，Flap 动态化项目的负责人董尚先，为我们分享了美团外卖采用 Flutter 的实践与经验。（相关视频分享已在线上录制完毕，预计在 1 月左右放出）\t</section><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>选择技术栈要看业务特点</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">美团外卖的用户端（下文用 C 端表示）和商家端（下文用 B 端表示）分别采用了不同的技术方案，原因是两端的业务特点不尽相同。二者均有美团标准化的 web 容器，但 C 端的用户量更大，对动态性要求更高，在低 pv 页面用 React Native 来做页面级的跨端动态化较多，在高 pv 页面使用美团外卖自研的区块级动态化和触达提示，最终支撑外卖 C 端的动态性业务需求。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">相比之下，B 端的页面复杂度更高，C 端商品上的一些小标签，小按钮，在 B 端配置时有很深的层级和复杂的联动组件。此外，B 端需要关联到发配送，打印机等复杂逻辑，在实际开发时更加耗时。所以，B 端在技术选型时更看重跨平台框架的性能瓶颈与双端一致性。初期，美团外卖商家端也曾尝试过用 React Native 作为跨平台的技术方案，但过渡版本无法达到预期的要求，所以后期站队 Flutter 技术栈。</p><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>选好技术栈之后又做了哪些思考</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">Flutter 的“多端一致”和“渲染性能”上的优势让其他跨端方案很难比拟。虽然 Flutter 的成长曲线和未来前景看起来都很好，但不可否认的是，目前 Flutter 仍处在发展阶段，很多大型互联网企业都无法毫无顾虑地让全线 App 接入，而其中最主要的顾虑是包大小与动态化。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">首先是包的体积问题，有很多大厂都做过 Flutter 的产物瘦身与包体积瘦身，美团也对此进行了尝试，最终优化后 Android 的包体积降低了 95% 左右，iOS 降低了 30% 左右。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">其次是动态化，其实动态化与包体积之间是存在联系的：动态化可以带来动态性，从而可以动态下发 bundle，就可以间接地减少包的体积。目前尚未看到成熟且大范围落地的动态化方案。与此同时，美团外卖商家版的业务发展对动态化的诉求越发强烈，因此美团内部立项了 Flap 项目，目标就是支撑 Flutter 动态化能力。</p><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>为什么要用纯 Dart 的动态化方案</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">可能基于其他语言做动态化的惯性思考来看，相对方便点的实现是用 Dart 做视图 UI 部分，采用 JavaScript 处理逻辑，事件回调的时候用 callbackid 来标识， 这样的做法会带来很多限制：</p><ul class=\"list-paddingleft-2\" style=\"list-style-type: disc;\"><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">开发时要分开写；</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">将存量的 Flutter 普通页面 迁移到 动态化 成本太大 ;</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">运行时跨端通信损耗；</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">并且视图和逻辑需要完全隔离的，视图中的逻辑部分很难处理。</p></li></ul><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">美团 Flap 项目的基本目标是做一套完整的业务解决方案，支持大厂应用的复杂业务，而不是一些重展示轻交互或是 UI 与动态模板这样的方案。因此仅使用纯 Dart 语言去做，在不引入其他技术栈的情况下，攻克视图与逻辑一体化的动态化方案。这么做的好处基本就是上面列出的那些限制的反面：</p><ul class=\"list-paddingleft-2\" style=\"list-style-type: disc;\"><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: left;\">可以保持开发习惯与普通 Flutter 一致；</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: left;\">写完后的代码可以在 Flutter 动态化和 Flutter 普通（AOT）上同时运行；</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: left;\">并且在运行时没有跨端通信的损耗；</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;text-align: left;\">最大的优点是可以迁移存量页面。Flutter 已经发展了一段时间，各个大厂都有大量的 Flutter 存量页面，使用常规方案迁移至动态化就需要重写代码，使用此方式可以接近 0 成本将其迁移至动态化，不用更换语言重新开发。</p></li></ul><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>纯 Dart 所带来的挑战</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">Dart 是一种强类型、跨平台的客户端开发语言。具有专门为客户端优化、高生产力、快速高效、可移植（兼容 ARM/x86）和原生支持响应式编程（Stream &amp; Future）等优秀特性。Dart 语言既有静态语言的特性，也支持部分动态语言的特性。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">使用纯 Dart 的方式开发动态化的难点在视图逻辑一体化。相当于在 Dart 侧开发一个针对 Flutter 语言特性的解释器，需要对 Dart 整个语法特性有非常全面的认识。这里面的工作量也是很多的，我们在前期需要做很多的评估与拆解：</p><ul class=\"list-paddingleft-2\" style=\"list-style-type: disc;\"><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">需要在整体架构上区分 “准备符号”与“运行”两个阶段；</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">需要考虑到视图和逻辑两个场景；</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">需要考虑到系统类与自定义类的两种调用与加载方式；</p></li><li><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">需要用一套合理的 bundle 管理机制做好相应的隔离与约束。</p></li></ul><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">除此之外，还需要同步搭建支撑动态化的技术生态与工具，包括 IDE 语法检测插件（把问题前置到开发阶段）、代码生成工具、降级容灾系统等。对开发同学的技术储备要求较高。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">业务落地只是目标之一，更重要的是在项目的实践过程中发现框架存在的问题，完善各类语法特性支持，提高在复杂的场景下的兼容性，促进框架的完善。在不断打磨中总结出合理的调试方案、操作步骤与协作方式，不断提升开发效率与体验。完善动态化基建及工具链建设，完成动态化流程的自动化与工程化，进一步降低转换与开发成本。</p><section style=\"text-align: center;font-size: 20px;\"><span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>实际进展与开源计划</span></section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">线上有些资料因为发布时间的问题，所以消息可能有滞后，现在已经 12 月上旬了，也快年底总结了，就以现在的口径为准吧。目前外卖业务已经真实上线了 100+ Flap 页面，40+ 业务模块。目前外卖商家端的跨端与动态化覆盖度达到 90% 左右。且已经在多个业务线实行需求动态发布流程，可动态上线的需求占比 60~80%，整体也是达到了年初时的预期。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">至于开源应该到 21 年 Q2Q3。其实 sdk 很早就开发完了，之后是在通过业务落地来反哺 sdk 框架的打磨。Flap 团队之所以没有第一时间开源，是因为觉得自己业务没广泛运用就开源是在“耍流氓”，后来我们也的确是优化了挺多问题。下半年在能力和生态都建设的不错，一些边界的语法逻辑也都有了比较优雅的解决方案，接下来会在 Flutter 页面“零成本”转动态化的实施上再完善下，应该在 21 年 Q2Q3 左右开源。</p><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>Flutter 的使用体验与性能</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">在开发时，Flutter 这种累砖块的布局方式写起来“很爽”，客户端同学很好上手，大家反应写起代码来很快，在开发效率上已经有了不错的表现。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">Flutter 的双端一直性做的很好，经常很多 Android 同学开发时拿 iOS 模拟器调试（因为 Android 调试一般都需要使用真机比较麻烦），iOS 模拟器开发完需求之后，拿 Android 设备再一跑大多都没问题。Native 基本就是提供好一些端能力的桥就 ok 了。性能方面，Flutter 和 Native 也很接近，没有 bug 的情况下，帧率也都是 59 朝上，渲染成功率也都是三个 9 以上。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">在质量方面，目前外卖商家端的客户端 crash 和 Dart 异常是分开采集的。Flutter 大量覆盖之后 crash 占比中只有不到 10% 的量是由 Flutter 引起的，Dart 异常率不足千分之一。有时候上报的 Dart 异常并不会影响到用户的体验，例如有时候代码缺陷关了一个弹窗，报了一个异常，但弹窗依旧正常关闭了等等。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">总的来说，使用 Flutter 后，在效率、质量、性能三个关键点上都达到了的预期，今年年底前，美团外卖商家端应该会将 Flutter 动态化覆盖至 80% 以上。</p><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>跨平台开发更应该是百花齐放</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">从 2010 年 Android 伴随 Android 2.3 大火到 2013 年 iOS 伴随 iOS 7 进入大家的视野以来，客户端每年基本都有大新闻，2014 年 H5 的广泛应用让大量项目补充 Hybird 能力。 然后 2015、16 年 React Native 和 Weex 相继开源，大家先后投入到跨平台的开发。2017 年小程序和 PWA 先后登录，但 PWA 在 2018 年并没有达到人们期待的高度， 小程序则是稳扎稳打，移动端的流量也在逐步像小程序倾斜。但小程序的问题是巨头公司太多框架太多，谁都想做最大的平台，标准暂时统一不起来，还有一些路要走。然后 2018 年 Flutter 1.0 出台，并且逐步有后来居上的优势，优点前面讲过了，在 GitHub 上的 star 数也是逐步超过了 Weex 和 React Native。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">董尚先表示，目前 React Native 还是很强大，因为 React 互通的生态很多。但从长远目光来看，他觉得 Flutter 有成为商业 721 法则中的“7”的潜力。最大的特点 Flutter 是自渲染引擎，Flutter 的 embedder 层是非常轻薄的，同时也是目前跨端数量最多的，可以跨 6 端：</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">iOS / Android / Web / Linux / Mac / Windos  并且新系统 Fuchsia 也很大可能使用 Flutter 引擎 + Dart 语言。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">目前许多大厂在同时使用多套跨平台方案，而不是单从某些标准抛弃其他择其一。未来一段时间内基本会过渡并维持到「内嵌 web 容器 + 少量 Native（端能力相关）+  Flutter / React Native 二选一 + 小程序」这样一个组合。</p><section style=\"text-align: center;font-size: 20px;\">\n\t\t<span style=\"height: 65px;line-height: 95px;color: rgb(60, 112, 198);border-bottom: 2px solid rgb(27, 95, 160);background-image: url(\" https: no-repeat initial inline-block>致客户端同学：学习跨平台技术栈</span>\n\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">对于客户端同学，学习跨平台技术栈基本是现在 ROI 最高的事， 你需要结合自身业务的特点和自己公司的大环境，深度学习一门跨平台技术栈，可以是 Weex，可以是 Flutter，也可以是 React Native，然后先学明白一种，然后慢慢做到“一超多强”，其他的跨端也可以做到相对了解，写个 Demo 之类的。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">关于学习方式，我建议最好系统的学习，你可以找一个风格适合自己的的 Flutter 专栏或博主把他的公众号的文章顺序读一遍。当然了，极客时间也是个很好的学习平台，里面也是有很多大牛会把一门课系统的教学一遍十几个课时，Flutter 在这里也有系统的学习课程，学习之后会有比较系统的技术储备以及对应的自信。</p><section style=\"text-align: left;margin-top: 30px;margin-left: 8px;color: rgb(60, 112, 198);\"><span style=\"display: inline-block;width: 15px;height: 15px;margin-right: 10px;background-image: url(\" https: center no-repeat initial></span>\n\t\t作者介绍\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">董尚先，美团技术专家。2015 年加入美团，经历了美团外卖的多个发展阶段，先后任职于用户端和商家端。曾主导外卖用户端架构升级、无人值守的自动化流程体系等项目。致力于提升研发效率，同时也是移动端领域新技术的爱好者，负责多项新技术在业务落地中的难点攻关，目前拥有 10 余项国家发明专利。现作为 Flutter 动态化项目的负责人，探索客户端 App 的最终形态。</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><span style=\"margin-right: 10px;color: rgb(60, 112, 198);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;text-align: left;display: inline-block;width: 15px;height: 15px;background-image: url(\" https: center no-repeat initial></span><span style=\"color: rgb(60, 112, 198);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;text-align: left;\"> 今日荐文</span></p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><span style=\"color: rgb(60, 112, 198);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;font-size: 16px;text-align: left;\"><a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MzUxMzcxMzE5Ng==&amp;mid=2247504000&amp;idx=2&amp;sn=8d89cd88a16f90d399ee889323c07e02&amp;chksm=f95265c3ce25ecd5f09762ea1bd350c296b2e69dfb85d034fbe89ecfebf3d69be1f6918594b2&amp;scene=21#wechat_redirect\" data-itemshowtype=\"0\" tab=\"innerlink\" data-linktype=\"2\">前端周报：Element UI for Vue 3.0来了；Win 10 或将于明年原生支持安卓应用；GitHub 年度报告发布</a><br></span></p><section style=\"text-align: left;margin-top: 30px;margin-left: 8px;color: rgb(60, 112, 198);\"><span style=\"display: inline-block;width: 15px;height: 15px;margin-right: 10px;background-image: url(\" https: center no-repeat initial></span>\n\t\t活动推荐\t</section><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\">2020 年 12 月 19-20 日，2020 Techo Park 开发者大会将于北京 751D·Park 与您见面，本次大会以“代码传递思想，技术创造回响”为主题，汇聚全球顶尖行业专家和技术爱好者，为大家搭建了一个开放、中立、活跃的技术交流平台。30 多场技术论坛交流 ，200 多位海内外专家精彩专题演讲，和你携手共同探索全球云计算前沿技术发展趋势、技术创新和实践。扫码或点击阅读原文链接快快预约报名吧！</p><p style=\"white-space: pre-line;padding-top: 23px;padding-right: 8px;padding-left: 8px;color: rgb(74, 74, 74);line-height: 1.75em;\"><img data-ratio=\"0.5555555555555556\" data-type=\"png\" data-w=\"900\" style=\"width: 100%; max-width: 600px\" src=\"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkWmxSAF6ZyByedwic1pC1oP5y5iah8mZQib3YJjia6ElTMZtKpzInbnCEiaibmP7mCseibUz61EhQnFguSZQ/640?wx_fmt=png\"></p></section>\n                </div>\n\n    \n        <br>\n        <div id=\"js_toobar3\" class=\"rich_media_tool\">\n            <a target=\"_blank\" href=\"https://techo.cloud.tencent.com/2020/?utm_campaign=MJTG%5Cx26amp;utm_source=infoQ%5Cx26amp;utm_medium=XXLLZBanner\" id=\"js_view_source\" class=\"media_tool_meta meta_primary\">阅读原文</a>\n        </div>\n    \n    <br>\n\n    \n        <a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MzUxMzcxMzE5Ng==&amp;mid=2247504030&amp;idx=1&amp;sn=0753bcdd8d4e97ca8bfdbed79612b3a8&amp;chksm=f95265ddce25eccb9a587ae049a057532613bf1a1043bd3ae391769348aa6a4de0b60e2642fc&amp;scene=0#rd\" style=\"color: blue\" class=\"media_tool_meta meta_primary\">原文</a>\n        <br>\n    \n\n    \n\n    <img alt=\"\" width=\"1px\" height=\"1px\" class=\"\" style=\"width:1px;height:1px;display:none\" src=\"http://www.jintiankansha.me/rss_static/19192/jfMA3ismEv\"></div></div>","descriptionType":"html","publishedDate":"Mon, 07 Dec 2020 04:30:00 +0000","feedId":2775,"bgimg":"http://content.sov5.cn/mmbiz_jpg/XIibZ0YbvibkWmxSAF6ZyByedwic1pC1oP5XkeNuGibWjcdewxRz9cClQtM46OU8jAZqf37b6IR3DYWXDRSe96RYOQ?imageView2/1/w/600","linkMd5":"1af8e8519f3108ee5345d194ea88f209","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn80@2020_6/2020/12/11/08-09-58-446_f596d8fb9f4340a7.webp","destWidth":600,"destHeight":544,"sourceBytes":45239,"destBytes":37626,"author":"","articleImgCdnMap":{"http://content.sov5.cn/mmbiz_jpg/XIibZ0YbvibkWmxSAF6ZyByedwic1pC1oP5XkeNuGibWjcdewxRz9cClQtM46OU8jAZqf37b6IR3DYWXDRSe96RYOQ?imageView2/1/w/600":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn80@2020_6/2020/12/11/08-09-58-446_f596d8fb9f4340a7.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/XIibZ0YbvibkWmxSAF6ZyByedwic1pC1oP5ksXicXOguoRoT2t9RnRjUP1R7ic8iaVcbS20y1j8ib5tN5btdic96tX65xg/640?wx_fmt=jpeg":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn84@2020_6/2020/12/11/08-10-05-960_8f1b0583acc9e091.webp","http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_png/XIibZ0YbvibkWmxSAF6ZyByedwic1pC1oP5y5iah8mZQib3YJjia6ElTMZtKpzInbnCEiaibmP7mCseibUz61EhQnFguSZQ/640?wx_fmt=png":null,"http://www.jintiankansha.me/rss_static/19192/jfMA3ismEv":null},"publishedOrCreatedDate":1607674197227}],"record":{"createdTime":"2020-12-11 16:09:57","updatedTime":"2020-12-11 16:09:57","feedId":2775,"fetchDate":"Fri, 11 Dec 2020 08:09:57 +0000","fetchMs":312,"handleMs":12,"totalMs":122847,"newArticles":0,"totalArticles":5,"status":1,"type":0,"ip":"c926d06bec1ef6b88a5ed69dca2430ef","hostName":"us-031*","requestId":"d1c6908ce21a4f92aad73fe3bd5c4130_2775","contentType":"application/rss+xml","totalBytes":95812,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":4,"articlesImgsGithubTotal":2,"successGithubMap":{"myreaderx7":1,"myreaderx18":1},"failGithubMap":{}},"feed":{"createdTime":"2020-08-24 21:31:44","updatedTime":"2020-09-01 10:14:55","id":2775,"name":"前端之巅","url":"http://feedmaker.kindle4rss.com/feeds/frontshow.weixin.xml","subscriber":null,"website":null,"icon":"http://www.sogou.com/images/logo/new/favicon.ico?v=4","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx63/cdn48@2020_6/2020/09/01/02-14-41-796_d24121c9beed1de6.ico","description":"InfoQ大前端技术社群：囊括前端、移动、Node全栈一线技术，紧跟业界发展步伐。","weekly":null,"link":null},"noPictureArticleList":[{"createdTime":"2020-12-11 16:11:59","updatedTime":"2020-12-11 16:11:59","id":null,"feedId":2775,"linkMd5":"1af8e8519f3108ee5345d194ea88f209"}],"tmpCommonImgCdnBytes":37626,"tmpBodyImgCdnBytes":58186,"tmpBgImgCdnBytes":0,"extra4":{"start":1607674196812,"total":0,"statList":[{"spend":403,"msg":"获取xml内容"},{"spend":12,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":120372,"msg":"正文链接上传到cdn"}]},"extra5":4,"extra6":3,"extra7ImgCdnFailResultVector":[{"code":1,"isDone":false,"source":"http://www.jintiankansha.me/rss_static/19192/jfMA3ismEv","sourceStatusCode":405,"sourceBytes":0,"destBytes":0,"feedId":2775,"totalSpendMs":504,"convertSpendMs":0,"createdTime":"2020-12-11 16:09:59","host":"europe65*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E7%BA%AF%20Dart%20%E7%9A%84%E6%8C%91%E6%88%98%EF%BC%9A%E7%BE%8E%E5%9B%A2%E5%A4%96%E5%8D%96%20Flutter%20%E5%8A%A8%E6%80%81%E5%8C%96%E5%AE%9E%E8%B7%B5","linkMd5ListStr":"1af8e8519f3108ee5345d194ea88f209","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[405],"sourceSize":"0","destSize":"0"},{"code":1,"isDone":false,"source":"http://www.jintiankansha.me/rss_static/19192/jfMA3ismEv","sourceStatusCode":405,"sourceBytes":0,"destBytes":0,"feedId":2775,"totalSpendMs":1206,"convertSpendMs":0,"createdTime":"2020-12-11 16:09:59","host":"us-009*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E7%BA%AF%20Dart%20%E7%9A%84%E6%8C%91%E6%88%98%EF%BC%9A%E7%BE%8E%E5%9B%A2%E5%A4%96%E5%8D%96%20Flutter%20%E5%8A%A8%E6%80%81%E5%8C%96%E5%AE%9E%E8%B7%B5","linkMd5ListStr":"1af8e8519f3108ee5345d194ea88f209","extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[405],"sourceSize":"0","destSize":"0"},null,null],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://europe65.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[405]},"http://us-002.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[null]},"http://us-009.herokuapp.com/":{"failCount":1,"successCount":0,"resultList":[405]},"http://us-014.herokuapp.com/":{"failCount":1,"successCount":1,"resultList":[200,null]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"http://content.sov5.cn/mmbiz_jpg/XIibZ0YbvibkWmxSAF6ZyByedwic1pC1oP5XkeNuGibWjcdewxRz9cClQtM46OU8jAZqf37b6IR3DYWXDRSe96RYOQ?imageView2/1/w/600","sourceStatusCode":200,"destWidth":600,"destHeight":544,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn80@2020_6/2020/12/11/08-09-58-446_f596d8fb9f4340a7.webp","sourceBytes":45239,"destBytes":37626,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":2036,"convertSpendMs":21,"createdTime":"2020-12-11 16:09:57","host":"us-026*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E7%BA%AF%20Dart%20%E7%9A%84%E6%8C%91%E6%88%98%EF%BC%9A%E7%BE%8E%E5%9B%A2%E5%A4%96%E5%8D%96%20Flutter%20%E5%8A%A8%E6%80%81%E5%8C%96%E5%AE%9E%E8%B7%B5","linkMd5ListStr":"1af8e8519f3108ee5345d194ea88f209,1af8e8519f3108ee5345d194ea88f209","githubUser":"myreaderx7","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"44.2 KB","destSize":"36.7 KB","compressRate":"83.2%"},{"code":1,"isDone":false,"source":"http://img2.jintiankansha.me/get?src=http://mmbiz.qpic.cn/mmbiz_jpg/XIibZ0YbvibkWmxSAF6ZyByedwic1pC1oP5ksXicXOguoRoT2t9RnRjUP1R7ic8iaVcbS20y1j8ib5tN5btdic96tX65xg/640?wx_fmt=jpeg","sourceStatusCode":200,"destWidth":1080,"destHeight":608,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx18/cdn84@2020_6/2020/12/11/08-10-05-960_8f1b0583acc9e091.webp","sourceBytes":87191,"destBytes":58186,"targetWebpQuality":75,"feedId":2775,"totalSpendMs":7573,"convertSpendMs":31,"createdTime":"2020-12-11 16:09:59","host":"us-014*","referer":"http://weixin.sogou.com/weixin?type=2&query=%E5%89%8D%E7%AB%AF%E4%B9%8B%E5%B7%85+%E7%BA%AF%20Dart%20%E7%9A%84%E6%8C%91%E6%88%98%EF%BC%9A%E7%BE%8E%E5%9B%A2%E5%A4%96%E5%8D%96%20Flutter%20%E5%8A%A8%E6%80%81%E5%8C%96%E5%AE%9E%E8%B7%B5","linkMd5ListStr":"1af8e8519f3108ee5345d194ea88f209","githubUser":"myreaderx18","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"85.1 KB","destSize":"56.8 KB","compressRate":"66.7%"}],"successGithubMap":{"myreaderx7":1,"myreaderx18":1},"failGithubMap":{}}