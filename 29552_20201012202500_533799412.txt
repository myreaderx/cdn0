{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-10-13 04:24:27","updatedTime":"2020-10-13 04:24:27","title":"Tips for Engineering a Company Rebrand","link":"https://engineering.gusto.com/engineering-a-brand-refresh/","description":"<img src=\"https://engineering.gusto.com/content/images/2020/02/7.19-Dashboard---Vertical-Tablet.png\" alt=\"Tips for Engineering a Company Rebrand\"><p>During Gusto’s most recent brand refresh, a massive amount of engineering work was required to bring the warm and sophisticated vision our designers came up with to life. The road to our rebrand wasn’t easy: it wasn’t as simple as changing the logo and a few CSS styles. While we were ultimately able to bring this new vision of our app to life, there were many lessons we learned from our whole reskinning process. We want to share these learnings in hopes that it will help you approach your own brand reskin both smartly and safely.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://engineering.gusto.com/content/images/2020/02/2020-01-14_Happy-Payday-Email-phone-vertical-not-iphone-smaller.png\" class=\"kg-image\" alt=\"Tips for Engineering a Company Rebrand\"></figure><h3 id=\"invest-time-into-maintaining-your-style-stack-\">Invest time into maintaining your style stack. </h3><p>Anyone involved in frontend engineering knows how dramatically the technologies can change over time. Tools are constantly updated and added, and new frameworks are always popping up for engineers to clamor over. A growing organization, <a href=\"https://www.youtube.com/watch?v=YX2XR73LnRY\">once out of the explore phase</a>, needs to have a discussion about what technologies to double down on and use daily to prevent distractions.<br><br>In this regard, fine-tuning and maintaining a great “style stack” is no different. Just like in JavaScript land, how people write and manipulate CSS is an ever-changing landscape. Making sure your company is up-to-date with the most robust tools for what you need is extremely important, especially if you’re planning on reskinning your product.<br><br>One problem we had before going into the reskin was that while we had a consistent style stack, it wasn’t the most up to date. This forced us to pull a few hacky tricks, like using a webpack-level feature flag to switch between our two different versions of CSS. We were also forced to use older technologies like Legacy Context, since we were still on React 15 at the time.<br><br>Having such limitations is just part of owning a system that grows more and more every day. But a direct result of us not properly maintaining our style stack was that our velocity in reskinning the product went much slower. We constantly got distracted because we were fighting with the older technologies that governed the product. <br><br>Since finishing our reskinning efforts, we now have a dedicated team that makes sure the application infrastructure within our monolith is always up to date, for both our backend and frontend technologies. Making sure you get engineers that both really care about your style stack and maintaining it will pay dividends down the road and make reskinning more effortless in the future.</p><h3 id=\"create-and-maintain-a-great-component-library-and-make-sure-it-gets-lots-of-love-\">Create and maintain a great component library, and make sure it gets lots of love.</h3><p>Similar to maintaining a great style stack, maintaining a robust component library is also very important. A component library, generally speaking, is a library of UI components that share and reinforce a similar theme or design. Component libraries are the bread and butter of making great looking interfaces in an efficient manner, while still being consistent with the company brand. <br><br>One issue we had was that before this project, there wasn’t a clear team that owned Gusto’s component library. It was just a combination of frontend engineers who cared about our components, but whose jobs weren’t directly related to maintaining and adding new things to this library. Not having a clear maintainer for our CL affected our main codebase because everyone was just adding things that would work for their own specific situations. It made reskinning the codebase a million times harder, since everyone was using the component library in unorthodox ways. <br><br>Since starting our own reskin, we’ve started a new Design Systems team, whose job is to not only maintain the component library, but also come up with clear instructions for how to interact with the components in them. These instructions come in the form of clear APIs, concise documentation, newsletters, and office hours. Having this team is easily one of the best decisions our company has ever made.</p><h3 id=\"add-comprehensive-visual-regression-tests-to-every-part-of-the-application-\">Add comprehensive visual regression tests to every part of the application.</h3><p>Visual regression testing is a new kind of test that essentially takes a screenshot of a base build and a screenshot of a new build, and diffs the resulting pictures pixel by pixel. Visual regression testing is important because it is both framework and language agnostic: it allows you to quickly identify and locate UI bugs without having to look at the HTML, CSS, or JS that was used to build it.<br><br>For example, we used visual regression snapshots below to verify if we’ve fixed a missing set of icons in our development branch. These icons went missing while we were messing with a few things under the hood. Using a visual regression tool called <a href=\"https://percy.io/\">Percy</a>, we were able to quickly identify if our fix worked, without having to comb through our more complicated unit tests.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://lh4.googleusercontent.com/N5_4dvYV5Am7Mi1Zui-VWxtRy1UaVFijDHjZ9TEFtV7tmyR-0NozId-CVxpRMSDkm_igTJ2BsloTB5S9KldAa_XpXbEv-C7qiQ3HwloOU3DGKctxHSioV7xwgkU0MMpNoCpRMJh_\" class=\"kg-image\" alt=\"Tips for Engineering a Company Rebrand\"><figcaption><em>Visual regression testing can catch UI errors that might be imperceptible to the human eye.</em></figcaption></figure><p>While doing our own brand reskin, we just started to add visual regression testing to Gusto using Percy, but we did not nearly add enough screenshots to fully cover our application. Because of this, a few critical UI bugs like the one above slipped through the cracks and landed in production. It was only after a human noticed it did we add a new visual regression test for this page. Now, any future regressions would be caught, but we still let one bug slip out. Many times during the reskin, adding such tests for us were much like a reactive response after something slipped, rather than proactive effort to ensure future changes wouldn’t affect our app’s UI.<br><br>If you are planning on changing the brand of your company without disrupting the current experience for your users, you will absolutely benefit from adding a visual regression test suite to your app, and making sure it’s covering as much of your app as possible <em>before</em> starting your reskin. You will be able to have much more confidence that your changes are having the intended effect that you want them to have.</p><h3 id=\"spend-a-lot-of-time-and-effort-into-making-feature-specs-really-good-\">Spend a lot of time and effort into making feature specs really good.</h3><p>Feature specs (also called “request specs” in Ruby-on-Rails land) are end-to-end tests that spin up both the frontend and backend of an application and simulate user input on the application. It’s basically mimicking what a user would do and tests the result. Feature specs are usually justified because they’re the only way to ensure all of the moving cogs actually fit and work together. <br><br>However, they also have a hidden benefit: they allow a developer to quickly navigate through complicated business logic, and get to a specific view through running a simple test. For us, all we had to do was to put a binding.pry in our feature spec code, and the test would stop executing while we played around with the view we wanted to reskin.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://lh5.googleusercontent.com/XiES6jrRrkS9hh8cuzNbxzwX7RVC8H4IYujdBSKDUWVX25394WgaELkrCW7QQjImGqs0JilPENYnbAgm-1QwqhbRCTgxab0XquIMVrN480xznDQ1_obQ92DBhpXNYN64aBmX7b7A\" class=\"kg-image\" alt=\"Tips for Engineering a Company Rebrand\"><figcaption><em>Traversing complex business logic is handled by a feature spec. No human intervention needed!</em></figcaption></figure><p>While Gusto as a whole understands the complicated laws that make up the Payroll, HR and Benefits industries, understanding the business logic that makes the application tick sometimes isn’t the most straightforward thing in the world, even for the most experienced engineers at our company. Writing a feature spec that can help guide you through the app is a low cost way to help developers render a specific page without having a human help them get to it.<br><br>At Gusto, we use <a href=\"http://teamcapybara.github.io/capybara/\">Capybara</a> to write our feature specs. Similar tools in the industry right now include <a href=\"https://selenium.dev/projects/\">Selenium</a> and <a href=\"https://www.cypress.io/\">Cypress</a>. Take our word for it: making sure feature specs are added regularly will make the reskinning process that much easier for your company.</p><h3 id=\"finally-delegate-things-accordingly\">Finally, delegate things accordingly</h3><p>One thing we should’ve coordinated better on was involving other teams earlier in the process. It was easy to convince ourselves in the beginning that we should minimize the impact the rebrand would have on other OKRs by assigning a small team to take care of everything. <br><br>However, in a complex application like ours that serves hundreds of thousands of small businesses every day, this proved to be much easier said than done. Even with great feature specs and Percy coverage, some things are just inaccessible without the context a real person can provide. <br><br>A rebrand at this scale takes much longer when such people aren’t available. Making sure you can reach out to at least one person in each team for the duration of the reskin will not only speed up the process, but make everything land a little safer as well. </p><h3 id=\"never-forget-a-rebrand-is-a-company-wide-effort\">Never forget a rebrand is a company-wide effort</h3><p>While the engineering team was busy reskinning the product, there were of course many other non-engineering processes that were going on at the same time all of this was going on. Illustrators, designers, writers, marketers, you name it – all of us were involved in not only rebranding the company, but getting the company to where it is today.<br><br>While reskinning your entire web application can be incredibly complex and will have its rough moments, it is truly an all-hands-on-deck moment that can bring a company together closer than before, especially if it’s done right.</p><p><em>Thank you to Matt Blake, Quan Nguyen, and Robin Rendle for reviewing drafts of this post.</em></p>","descriptionType":"html","publishedDate":"Mon, 17 Feb 2020 18:00:00 +0000","feedId":29552,"bgimg":"https://engineering.gusto.com/content/images/2020/02/7.19-Dashboard---Vertical-Tablet.png","linkMd5":"e98ee89b1af550d088b5559d75bd4e0b","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx33/cdn15@2020_5/2020/10/12/20-24-29-851_f784e2e46b273b03.webp","destWidth":1832,"destHeight":2428,"sourceBytes":1675815,"destBytes":283712,"author":"Jesse Zhou","articleImgCdnMap":{"https://engineering.gusto.com/content/images/2020/02/7.19-Dashboard---Vertical-Tablet.png":"https://cdn.jsdelivr.net/gh/myreaderx33/cdn15@2020_5/2020/10/12/20-24-29-851_f784e2e46b273b03.webp","https://engineering.gusto.com/content/images/2020/02/2020-01-14_Happy-Payday-Email-phone-vertical-not-iphone-smaller.png":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn20@2020_2/2020/10/12/20-24-32-330_f5e6b47b1c53e0f5.webp","https://lh4.googleusercontent.com/N5_4dvYV5Am7Mi1Zui-VWxtRy1UaVFijDHjZ9TEFtV7tmyR-0NozId-CVxpRMSDkm_igTJ2BsloTB5S9KldAa_XpXbEv-C7qiQ3HwloOU3DGKctxHSioV7xwgkU0MMpNoCpRMJh_":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn24@2020_5/2020/10/12/20-24-31-679_c8620d6d45c89928.webp","https://lh5.googleusercontent.com/XiES6jrRrkS9hh8cuzNbxzwX7RVC8H4IYujdBSKDUWVX25394WgaELkrCW7QQjImGqs0JilPENYnbAgm-1QwqhbRCTgxab0XquIMVrN480xznDQ1_obQ92DBhpXNYN64aBmX7b7A":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn27@2020_3/2020/10/12/20-24-57-692_3f2171cac3fe8534.webp"},"publishedOrCreatedDate":1602534267898}],"record":{"createdTime":"2020-10-13 04:24:27","updatedTime":"2020-10-13 04:24:27","feedId":29552,"fetchDate":"Mon, 12 Oct 2020 20:24:27 +0000","fetchMs":968,"handleMs":28,"totalMs":33035,"newArticles":0,"totalArticles":15,"status":1,"type":0,"ip":"d4510fc825f54523eea4f1b6f606b860","hostName":"us-027*","requestId":"2e65913649444a0cb240f0f285e8498b_29552","contentType":"text/xml; charset=utf-8","totalBytes":2412306,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":4,"articlesImgsGithubTotal":4,"successGithubMap":{"myreaderx8":1,"myreaderx33":1,"myreaderx1":1,"myreaderx13":1},"failGithubMap":{}},"feed":{"createdTime":"2020-09-07 02:47:17","updatedTime":"2020-09-07 04:52:00","id":29552,"name":"Gusto Engineering","url":"http://engineering.zenpayroll.com/rss/","subscriber":110,"website":null,"icon":"https://engineering.gusto.com/favicon.png","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx65/cdn63@2020_2/2020/09/06/20-51-56-226_238f1cc889f446bd.png","description":"The Official Gusto Engineering Blog. We are re-imagining payroll, benefits and HR for modern companies.","weekly":null,"link":null},"noPictureArticleList":[],"tmpCommonImgCdnBytes":283712,"tmpBodyImgCdnBytes":2128594,"tmpBgImgCdnBytes":0,"extra4":{"start":1602534266898,"total":0,"statList":[{"spend":972,"msg":"获取xml内容"},{"spend":28,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":28900,"msg":"正文链接上传到cdn"}]},"extra5":4,"extra6":4,"extra7ImgCdnFailResultVector":[],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://us-020.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://europe21.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-008.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://engineering.gusto.com/content/images/2020/02/7.19-Dashboard---Vertical-Tablet.png","sourceStatusCode":200,"destWidth":1832,"destHeight":2428,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx33/cdn15@2020_5/2020/10/12/20-24-29-851_f784e2e46b273b03.webp","sourceBytes":1675815,"destBytes":283712,"targetWebpQuality":75,"feedId":29552,"totalSpendMs":3110,"convertSpendMs":1809,"createdTime":"2020-10-13 04:24:27","host":"us-033*","referer":"https://engineering.gusto.com/engineering-a-brand-refresh/","linkMd5ListStr":"e98ee89b1af550d088b5559d75bd4e0b,e98ee89b1af550d088b5559d75bd4e0b","githubUser":"myreaderx33","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"1.6 MB","destSize":"277.1 KB","compressRate":"16.9%"},{"code":1,"isDone":false,"source":"https://lh4.googleusercontent.com/N5_4dvYV5Am7Mi1Zui-VWxtRy1UaVFijDHjZ9TEFtV7tmyR-0NozId-CVxpRMSDkm_igTJ2BsloTB5S9KldAa_XpXbEv-C7qiQ3HwloOU3DGKctxHSioV7xwgkU0MMpNoCpRMJh_","sourceStatusCode":200,"destWidth":1600,"destHeight":744,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx13/cdn24@2020_5/2020/10/12/20-24-31-679_c8620d6d45c89928.webp","sourceBytes":170876,"destBytes":31074,"targetWebpQuality":75,"feedId":29552,"totalSpendMs":1480,"convertSpendMs":43,"createdTime":"2020-10-13 04:24:31","host":"us-008*","referer":"https://engineering.gusto.com/engineering-a-brand-refresh/","linkMd5ListStr":"e98ee89b1af550d088b5559d75bd4e0b","githubUser":"myreaderx13","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"166.9 KB","destSize":"30.3 KB","compressRate":"18.2%"},{"code":1,"isDone":false,"source":"https://engineering.gusto.com/content/images/2020/02/2020-01-14_Happy-Payday-Email-phone-vertical-not-iphone-smaller.png","sourceStatusCode":200,"destWidth":866,"destHeight":1404,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx8/cdn20@2020_2/2020/10/12/20-24-32-330_f5e6b47b1c53e0f5.webp","sourceBytes":591708,"destBytes":109150,"targetWebpQuality":75,"feedId":29552,"totalSpendMs":2294,"convertSpendMs":141,"createdTime":"2020-10-13 04:24:31","host":"us-020*","referer":"https://engineering.gusto.com/engineering-a-brand-refresh/","linkMd5ListStr":"e98ee89b1af550d088b5559d75bd4e0b","githubUser":"myreaderx8","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"577.8 KB","destSize":"106.6 KB","compressRate":"18.4%"},{"code":1,"isDone":false,"source":"https://lh5.googleusercontent.com/XiES6jrRrkS9hh8cuzNbxzwX7RVC8H4IYujdBSKDUWVX25394WgaELkrCW7QQjImGqs0JilPENYnbAgm-1QwqhbRCTgxab0XquIMVrN480xznDQ1_obQ92DBhpXNYN64aBmX7b7A","sourceStatusCode":200,"destWidth":1272,"destHeight":988,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx1/cdn27@2020_3/2020/10/12/20-24-57-692_3f2171cac3fe8534.webp","sourceBytes":2057652,"destBytes":1988370,"targetWebpQuality":75,"feedId":29552,"totalSpendMs":28719,"convertSpendMs":15494,"createdTime":"2020-10-13 04:24:31","host":"europe21*","referer":"https://engineering.gusto.com/engineering-a-brand-refresh/","linkMd5ListStr":"e98ee89b1af550d088b5559d75bd4e0b","githubUser":"myreaderx1","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"2 MB","destSize":"1.9 MB","compressRate":"96.6%"}],"successGithubMap":{"myreaderx8":1,"myreaderx33":1,"myreaderx1":1,"myreaderx13":1},"failGithubMap":{}}