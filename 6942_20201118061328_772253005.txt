{"code":1,"isDone":false,"toInsertArticleList":[{"createdTime":"2020-11-18 14:13:12","updatedTime":"2020-11-18 14:13:12","title":"云防火墙进化论","link":"https://www.4hou.com/posts/3OzA","description":"<p><span style=\"font-size: 20px;\"><strong>0x00、产品需求</strong></span></p><p>在安全运营数智化的今天，越来越多的新基建项目要求使用云原生的安全解决方案，同时，新基建有两个发展方向，激进一些的解决方案是直接在公有云上构建多云场景，完全使用云原生的解决方案；保守一些的解决方案通过x-stack专有云形式对用户输出。但是无论哪种解决方案，防火墙将帮助企业构建云上网络边界安全防护能力的需求也依然没有改变，只是形式发生了变化。</p><p>针对不同用户的业务场景，对防火墙的需求也有所不同，针对大型的企业集团公司的使用场景、金融云场景以及公有云中小企业用户，其业务安全诉求强度不尽相同。</p><p>@1、降低互联网暴露、内网非法下载、挖矿外联等风险，我们需要非法外联安全管控功能</p><p>@2、暴露在互联网上的服务，有新增0day漏洞时候，需要虚拟补丁防护，做到业务0中断。</p><p>@3、等保合规的业务需求，需要满足安全区域边界要求，以及日志保存180天的强监管需求。</p><p>@4、当然在易用性方面也需要改变过滤规则的设置和配置十分复杂，配置困难的难题，通过机器学习等方法帮助用户快速、准确的设置防火墙策略。</p><p><span style=\"font-size: 20px;\"><strong>0x01、技术迭代</strong></span></p><p style=\"text-align: center;\"><img src=\"https://img.4hou.com/uploads/ueditor/php/upload/image/20201115/1605374009682427.png\" title=\"1605374009682427.png\" alt=\"屏幕快照 2020-11-15 上午12.08.48.png\" width=\"731\" height=\"293\"/></p><p>大致按照部署形式，技术变革里程碑给防火墙技术发展史做了一下分类：</p><p><strong>一、在传统防火墙阶段，主要介绍一下安全组、传统包过滤和状态防火墙、以及Web防火墙的区别。</strong></p><p>@1、传统防火墙vs安全组</p><p style=\"text-align: center;\"><img src=\"https://img.4hou.com/uploads/ueditor/php/upload/image/20201115/1605374046228954.png\" title=\"1605374046228954.png\" alt=\"屏幕快照 2020-11-15 上午12.13.31.png\" width=\"853\" height=\"405\"/></p><p>其实传统的防火墙就是通过传统路由表ACL过滤+TCP状态监控，可以处理IP地址、TCP欺骗等攻击。设置阻断策略。</p><p>安全组，是在虚拟网络中，把这种传统防火墙的能力做层分布式部署方式，通过控制节点和计算节点把不同的云主机实例划分到一个安全组，实现安全域的管控。</p><p>当然为了提升效率会做DPDK改造。</p><p>@2、云防火墙vs Web应用防火墙</p><p>云防火墙产品定位：多云场景环境下的SaaS化4层状态防火墙，可统一管理互联网到业务的访问控制策略（南北向）和业务与业务之间的微隔离策略（东西向），支持全网流量可视和业务间访问关系可视。使用场景：多云场景统一防火墙策略管控、CDN、等保安全域划分。</p><p>Web应用防火墙产品定位：客户端到源站服务器南北向的流量，主要针对七层http协议。waf对APP或网页的业务请求流量进行恶意特征识别和防护，保护业务安全和核心数据安全。使用场景：Web应用安全防护。</p><p><strong>二、下一代防火墙阶段，云原生vs UTM</strong></p><p style=\"text-align: center;\"><img src=\"https://img.4hou.com/uploads/ueditor/php/upload/image/20201115/1605374093990818.png\" title=\"1605374093990818.png\" alt=\"屏幕快照 2020-11-15 上午12.33.48.png\" width=\"900\" height=\"634\"/></p><p>传统硬件防火墙，下一代防火墙里程碑进步主要要体现在可以对协议内部的数据做深度包检测（DPI），比如：能线速提取，数据包的内容，URL，包含携带的文件，这样就可以集成更强大的安全检测能力，可以对接IDPS能力；威胁情报；URL过滤；防毒墙等。当然这是伴随着NP架构升级到x86硬件能力提升的结果。</p><p>在这个阶段，云防火墙也得到不断的进化，这部分突出的技术就是在云主机层面使用微隔离技术。也是得益于云计算技术在虚拟化层面的性能提升。</p><p><strong>三、新基建防火墙发展阶段</strong></p><p>这个阶段，主要是集成平台侧和租户侧的统一管理。当然在这部分我更看好云防火墙发展态势，虽然传统硬件防火墙也在不断使用自己SDN技术做虚拟化防火墙，但是要说谁更懂网络虚拟化，那当然是公有云了，绝对不是独立的第三方安全厂商。所以云原生防火墙是最终一统形式。</p><p>当然，在此发展阶段还需要向硬件部署的下一代防火墙学习，要完善自己的DPI功能</p><p>@1、实时发现新增对外服务暴露的端口，联动扫描器，帮助用户收敛25%+的网络风险暴露面</p><p>@2、实时入侵防护，对内部外联IP与威胁情报联动，一旦发现恶意连接挖矿地址、失陷主机，要及时告警和阻断。</p><p>@3、与IPS联动，及时发现CVE扫描，特别是0day攻击，用户自定义策略阻断。</p><p>@4、访问日志审计留存，安全合规要求。</p><p><span style=\"font-size: 20px;\"><strong>0x02、展望</strong></span></p><p>在安全运营大行其道的时代，云防火墙是你的刚性安全需求；在选型的阶段，也建议多用云原生。</p>","descriptionType":"text/html","publishedDate":"Wed, 18 Nov 2020 03:00:00 +0000","feedId":6942,"bgimg":"https://img.4hou.com/uploads/ueditor/php/upload/image/20201115/1605374009682427.png","linkMd5":"0675ca3a2d6c2cf61eb21d7d15fe46de","bgimgJsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx/cdn94@2020_1/2020/11/18/06-13-22-604_bb1dc969292fc036.webp","destWidth":1376,"destHeight":556,"sourceBytes":90754,"destBytes":46222,"author":"bt0sea","articleImgCdnMap":{"https://img.4hou.com/uploads/ueditor/php/upload/image/20201115/1605374009682427.png":"https://cdn.jsdelivr.net/gh/myreaderx/cdn94@2020_1/2020/11/18/06-13-22-604_bb1dc969292fc036.webp","https://img.4hou.com/uploads/ueditor/php/upload/image/20201115/1605374046228954.png":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn16@2020_2/2020/11/18/06-13-27-190_9035daf99950daed.webp","https://img.4hou.com/uploads/ueditor/php/upload/image/20201115/1605374093990818.png":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn18@2020_2/2020/11/18/06-13-27-777_391ba71f170cda52.webp"},"publishedOrCreatedDate":1605679992344}],"record":{"createdTime":"2020-11-18 14:13:12","updatedTime":"2020-11-18 14:13:12","feedId":6942,"fetchDate":"Wed, 18 Nov 2020 06:13:12 +0000","fetchMs":8192,"handleMs":31,"totalMs":25796,"newArticles":0,"totalArticles":20,"status":1,"type":0,"ip":"bfdf66e8c15fccdb23d86275e6f5be02","hostName":"us-017*","requestId":"ebeddfb06b934bb59df6ee1b06c904b7_6942","contentType":"text/xml; charset=UTF-8","totalBytes":180276,"bgimgsTotal":1,"bgimgsGithubTotal":1,"articlesImgsTotal":3,"articlesImgsGithubTotal":3,"successGithubMap":{"myreaderx7":1,"myreaderx31":1,"myreaderx":1},"failGithubMap":{}},"feed":{"createdTime":"2020-08-25 04:33:21","updatedTime":"2020-09-05 15:32:54","id":6942,"name":"嘶吼 RoarTalk – 回归最本质的信息安全,互联网安全新媒体,4hou.com","url":"http://www.4hou.com/feed","subscriber":null,"website":null,"icon":"https://www.4hou.com/favicon.ico","icon_jsdelivr":"https://cdn.jsdelivr.net/gh/myreaderx61/cdn65@2020_4/2020/09/05/07-30-55-487_3d63d92d260693c0.jpg","description":"嘶吼是一家新兴的互联网安全新媒体，为您带来不一样的互联网安全新视界。嘶吼的出现将为信息安全领域带来更有力量的声音，我们的每一声嘶吼，都如雷贯耳；每一个步伐，都掷地有声！","weekly":null,"link":null},"noPictureArticleList":[],"tmpCommonImgCdnBytes":46222,"tmpBodyImgCdnBytes":134054,"tmpBgImgCdnBytes":0,"extra4":{"start":1605679982965,"total":0,"statList":[{"spend":9349,"msg":"获取xml内容"},{"spend":31,"msg":"解释文章"},{"spend":0,"msg":"上传封面图到cdn"},{"spend":0,"msg":"修正封面图上传失败重新上传"},{"spend":5126,"msg":"正文链接上传到cdn"}]},"extra5":3,"extra6":3,"extra7ImgCdnFailResultVector":[],"extra10_invalidATagHrefValue":{},"extra111_proxyServerAndStatMap":{"http://us-006.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]},"http://us-005.herokuapp.com/":{"failCount":0,"successCount":1,"resultList":[200]}},"extra12ImgCdnSuccessResultVector":[{"code":1,"isDone":false,"source":"https://img.4hou.com/uploads/ueditor/php/upload/image/20201115/1605374009682427.png","sourceStatusCode":200,"destWidth":1376,"destHeight":556,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx/cdn94@2020_1/2020/11/18/06-13-22-604_bb1dc969292fc036.webp","sourceBytes":90754,"destBytes":46222,"targetWebpQuality":75,"feedId":6942,"totalSpendMs":11260,"convertSpendMs":59,"createdTime":"2020-11-18 14:13:12","host":"us-013*","referer":"https://www.4hou.com/posts/3OzA","linkMd5ListStr":"0675ca3a2d6c2cf61eb21d7d15fe46de,0675ca3a2d6c2cf61eb21d7d15fe46de","githubUser":"myreaderx","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"88.6 KB","destSize":"45.1 KB","compressRate":"50.9%"},{"code":1,"isDone":false,"source":"https://img.4hou.com/uploads/ueditor/php/upload/image/20201115/1605374046228954.png","sourceStatusCode":200,"destWidth":1756,"destHeight":1061,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx7/cdn16@2020_2/2020/11/18/06-13-27-190_9035daf99950daed.webp","sourceBytes":115457,"destBytes":51832,"targetWebpQuality":75,"feedId":6942,"totalSpendMs":4489,"convertSpendMs":84,"createdTime":"2020-11-18 14:13:23","host":"us-005*","referer":"https://www.4hou.com/posts/3OzA","linkMd5ListStr":"0675ca3a2d6c2cf61eb21d7d15fe46de","githubUser":"myreaderx7","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"112.8 KB","destSize":"50.6 KB","compressRate":"44.9%"},{"code":1,"isDone":false,"source":"https://img.4hou.com/uploads/ueditor/php/upload/image/20201115/1605374093990818.png","sourceStatusCode":200,"destWidth":1539,"destHeight":1054,"fixedGithubDest":"https://cdn.jsdelivr.net/gh/myreaderx31/cdn18@2020_2/2020/11/18/06-13-27-777_391ba71f170cda52.webp","sourceBytes":148942,"destBytes":82222,"targetWebpQuality":75,"feedId":6942,"totalSpendMs":5101,"convertSpendMs":51,"createdTime":"2020-11-18 14:13:23","host":"us-006*","referer":"https://www.4hou.com/posts/3OzA","linkMd5ListStr":"0675ca3a2d6c2cf61eb21d7d15fe46de","githubUser":"myreaderx31","githubHttpCode":201,"extra22GetBytesInfo":"1、没有Referer字段","extra23historyStatusCode":[200],"sourceSize":"145.5 KB","destSize":"80.3 KB","compressRate":"55.2%"}],"successGithubMap":{"myreaderx7":1,"myreaderx31":1,"myreaderx":1},"failGithubMap":{}}